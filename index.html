<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Faction Seven</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="midnight-ui/src/styles/styles.css" />
  <link rel="stylesheet" href="midnight-ui/src/styles/title2.css" />
  <link rel="stylesheet" href="midnight-ui/src/styles/globals.css" />

</head>
<body>
  <!-- Background Overlay -->
  <div class="background"></div>

  <!-- Profile Button -->
  <div class="circle-button profile-button" onclick="togglePopup('profilePopup', event)"></div>
  <div id="profilePopup" class="popup">
    <a href="#">Profile Pic</a>
    <a href="#">Bio</a>
    <a href="#">Creator Page</a>
  </div>

  <!-- Menu Button -->
  <div class="circle-button menu-button" onclick="togglePopup('menuPopup', event)"></div>
  <div id="menuPopup" class="popup">
    <a href="#">Watch</a>
    <a href="#">Read</a>
    <a href="#">Listen</a>
    <a href="#">Play</a>
    <a href="#">Events</a>
    <a href="#">Search</a>
    <a href="#">Home</a>
  </div>

  <!-- Banner -->
  <div class="title2">Faction Seven</div>

  <!-- Slogan -->
  <div class="slogan">Your one-stop media source</div>

  <div class="main-container">
    <!-- Suggested Links (Left Sidebar) -->
    <div class="sidebar left">
      <div class="suggested">
        <img src="media1.jpg" alt="Media 1" />
        <a href="#">Urban Echoes</a>
      </div>
      <div class="suggested">
        <img src="media2.jpg" alt="Media 2" />
        <a href="#">Moonlit Strands</a>
      </div>
      <!-- Add more links as needed -->
    </div>

    <!-- Featured Showcase -->
    <div class="featured">
      <h2>Featured Content: "Just for Kicks" by <a href="https://Raszyra.github.io/Site/about.html" target="_blank">F7E</a></h2>
      <div class="youtube-embed-container">
        <iframe
          class="youtube-embed"
          src="https://www.youtube.com/embed/P0h0rO7eods?si=MMQiYKH9NEHZJ61p"
          title="YouTube video player"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen>
        </iframe>
      </div>
    </div>

    <!-- Site News (Right Sidebar) -->
    <div class="sidebar right">
      <div class="news">
        <h3>Site News</h3>
        <p>Faction Seven content platform up and running! Main page features and modules fully (mostly) functional.</p>
      </div>
    </div>

    <!-- Showcase 2 & 3 -->
    <div class="showcases">
      <div class="showcase-2">
        <img src="showcase2.jpg" />
        <h4>"Gun Control" by <a href="https://Raszyra.github.io/Site/about.html" target="_blank">F7E</a></h4>
        <div class="youtube-embed-container">
        <iframe
          class="youtube-embed"
          src="https://www.youtube.com/embed/o384VgRa6Vo"
          title="YouTube video player"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen>
        </iframe>
      </div>
      </div>

      <div class="showcase-3">
        <img src="showcase3.jpg" />
        <h4>Nevereign: Shadow Rising by <a href="https://Raszyra.github.io/Site/about.html" target="_blank">F7E</a></h4>
        <iframe
        src="https://docs.google.com/document/d/1yEb24TJz9DchfmO80x89cFe9qKe9uPGzHoAASy4KsNk/preview"
          title="Nevereign: Shadow Rising"
          width="640"
          height="480"
          allow="autoplay"
        ></iframe>
        Read the whole story <a href="https://docs.google.com/document/d/1l6EgOaClzjjrWUgBkHUzHLdfmoPaVchYW2YhF7ThyDY/edit?usp=sharing">here</a>.
      </div>
    </div>

    <!-- Media Spotlights 4-10 -->
    <div class="spotlight-list">
      <ul>
        <li><a href="#">[4] Iris.exe – Short horror game</a></li>
        <li><a href="#">[5] Selene’s Vault – Digital comic</a></li>
        <li><a href="#">[6] Synth Sketches – Concept art</a></li>
        <li><a href="#">[7] Rooftop Hymns – Poetry</a></li>
        <li><a href="#">[8] Last Light – Animated short</a></li>
        <li><a href="#">[9] Outskirts – Creator podcast</a></li>
        <li><a href="#">[10] F7 Monthly Jam Results</a></li>
      </ul>
    </div>
  </div>

  <script>
    function togglePopup(id, event) {
      const popup = document.getElementById(id);
      if (popup.style.display === 'block') {
        popup.style.display = 'none';
      } else {
        popup.style.display = 'block';
        // Default position at cursor
      let left = event.clientX;
      let top = event.clientY;

      // Get popup dimensions
      popup.style.left = '0px'; // Temporarily set for measurement
      popup.style.top = '0px';
      const popupRect = popup.getBoundingClientRect();

      // Get viewport dimensions
      const viewportWidth = window.innerWidth;
      const viewportHeight = window.innerHeight;

      // Flip horizontally if overflowing right
      if (left + popupRect.width > viewportWidth) {
        left = left - popupRect.width;
        if (left < 0) left = 0; // Prevent negative
      }

      // Flip vertically if overflowing bottom
      if (top + popupRect.height > viewportHeight) {
        top = top - popupRect.height;
        if (top < 0) top = 0; // Prevent negative
      }

      popup.style.left = left + 'px';
      popup.style.top = top + 'px';

      // Close popups when clicking outside
      document.addEventListener('mousedown', function(event) {
      const popups = document.querySelectorAll('.popup');
      popups.forEach(popup => {
        // If popup is visible and click is outside the popup and not on the button
        if (
          popup.style.display === 'block' &&
          !popup.contains(event.target) &&
          !event.target.classList.contains('circle-button')
        ) {
          popup.style.display = 'none';
        }
      });
    });
    }   }
  </script>
</body>
</html>
