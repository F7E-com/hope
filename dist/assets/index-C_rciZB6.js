(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function pg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ph={exports:{}},ea={},mh={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function T_(){if(qp)return Ie;qp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=T&&D[T]||D["@@iterator"],typeof D=="function"?D:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,H={};function b(D,Q,fe){this.props=D,this.context=Q,this.refs=H,this.updater=fe||U}b.prototype.isReactComponent={},b.prototype.setState=function(D,Q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Q,"setState")},b.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function K(){}K.prototype=b.prototype;function re(D,Q,fe){this.props=D,this.context=Q,this.refs=H,this.updater=fe||U}var ne=re.prototype=new K;ne.constructor=re,W(ne,b.prototype),ne.isPureReactComponent=!0;var _e=Array.isArray,ke=Object.prototype.hasOwnProperty,Ce={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function I(D,Q,fe){var Te,Se={},xe=null,Me=null;if(Q!=null)for(Te in Q.ref!==void 0&&(Me=Q.ref),Q.key!==void 0&&(xe=""+Q.key),Q)ke.call(Q,Te)&&!V.hasOwnProperty(Te)&&(Se[Te]=Q[Te]);var Fe=arguments.length-2;if(Fe===1)Se.children=fe;else if(1<Fe){for(var Be=Array(Fe),vt=0;vt<Fe;vt++)Be[vt]=arguments[vt+2];Se.children=Be}if(D&&D.defaultProps)for(Te in Fe=D.defaultProps,Fe)Se[Te]===void 0&&(Se[Te]=Fe[Te]);return{$$typeof:i,type:D,key:xe,ref:Me,props:Se,_owner:Ce.current}}function C(D,Q){return{$$typeof:i,type:D.type,key:Q,ref:D.ref,props:D.props,_owner:D._owner}}function k(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function N(D){var Q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(fe){return Q[fe]})}var L=/\/+/g;function R(D,Q){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):Q.toString(36)}function nt(D,Q,fe,Te,Se){var xe=typeof D;(xe==="undefined"||xe==="boolean")&&(D=null);var Me=!1;if(D===null)Me=!0;else switch(xe){case"string":case"number":Me=!0;break;case"object":switch(D.$$typeof){case i:case e:Me=!0}}if(Me)return Me=D,Se=Se(Me),D=Te===""?"."+R(Me,0):Te,_e(Se)?(fe="",D!=null&&(fe=D.replace(L,"$&/")+"/"),nt(Se,Q,fe,"",function(vt){return vt})):Se!=null&&(k(Se)&&(Se=C(Se,fe+(!Se.key||Me&&Me.key===Se.key?"":(""+Se.key).replace(L,"$&/")+"/")+D)),Q.push(Se)),1;if(Me=0,Te=Te===""?".":Te+":",_e(D))for(var Fe=0;Fe<D.length;Fe++){xe=D[Fe];var Be=Te+R(xe,Fe);Me+=nt(xe,Q,fe,Be,Se)}else if(Be=A(D),typeof Be=="function")for(D=Be.call(D),Fe=0;!(xe=D.next()).done;)xe=xe.value,Be=Te+R(xe,Fe++),Me+=nt(xe,Q,fe,Be,Se);else if(xe==="object")throw Q=String(D),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Me}function Vt(D,Q,fe){if(D==null)return D;var Te=[],Se=0;return nt(D,Te,"","",function(xe){return Q.call(fe,xe,Se++)}),Te}function Nt(D){if(D._status===-1){var Q=D._result;Q=Q(),Q.then(function(fe){(D._status===0||D._status===-1)&&(D._status=1,D._result=fe)},function(fe){(D._status===0||D._status===-1)&&(D._status=2,D._result=fe)}),D._status===-1&&(D._status=0,D._result=Q)}if(D._status===1)return D._result.default;throw D._result}var be={current:null},te={transition:null},de={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:te,ReactCurrentOwner:Ce};function se(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:Vt,forEach:function(D,Q,fe){Vt(D,function(){Q.apply(this,arguments)},fe)},count:function(D){var Q=0;return Vt(D,function(){Q++}),Q},toArray:function(D){return Vt(D,function(Q){return Q})||[]},only:function(D){if(!k(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ie.Component=b,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=re,Ie.StrictMode=s,Ie.Suspense=g,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Ie.act=se,Ie.cloneElement=function(D,Q,fe){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var Te=W({},D.props),Se=D.key,xe=D.ref,Me=D._owner;if(Q!=null){if(Q.ref!==void 0&&(xe=Q.ref,Me=Ce.current),Q.key!==void 0&&(Se=""+Q.key),D.type&&D.type.defaultProps)var Fe=D.type.defaultProps;for(Be in Q)ke.call(Q,Be)&&!V.hasOwnProperty(Be)&&(Te[Be]=Q[Be]===void 0&&Fe!==void 0?Fe[Be]:Q[Be])}var Be=arguments.length-2;if(Be===1)Te.children=fe;else if(1<Be){Fe=Array(Be);for(var vt=0;vt<Be;vt++)Fe[vt]=arguments[vt+2];Te.children=Fe}return{$$typeof:i,type:D.type,key:Se,ref:xe,props:Te,_owner:Me}},Ie.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:c,_context:D},D.Consumer=D},Ie.createElement=I,Ie.createFactory=function(D){var Q=I.bind(null,D);return Q.type=D,Q},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(D){return{$$typeof:m,render:D}},Ie.isValidElement=k,Ie.lazy=function(D){return{$$typeof:w,_payload:{_status:-1,_result:D},_init:Nt}},Ie.memo=function(D,Q){return{$$typeof:v,type:D,compare:Q===void 0?null:Q}},Ie.startTransition=function(D){var Q=te.transition;te.transition={};try{D()}finally{te.transition=Q}},Ie.unstable_act=se,Ie.useCallback=function(D,Q){return be.current.useCallback(D,Q)},Ie.useContext=function(D){return be.current.useContext(D)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(D){return be.current.useDeferredValue(D)},Ie.useEffect=function(D,Q){return be.current.useEffect(D,Q)},Ie.useId=function(){return be.current.useId()},Ie.useImperativeHandle=function(D,Q,fe){return be.current.useImperativeHandle(D,Q,fe)},Ie.useInsertionEffect=function(D,Q){return be.current.useInsertionEffect(D,Q)},Ie.useLayoutEffect=function(D,Q){return be.current.useLayoutEffect(D,Q)},Ie.useMemo=function(D,Q){return be.current.useMemo(D,Q)},Ie.useReducer=function(D,Q,fe){return be.current.useReducer(D,Q,fe)},Ie.useRef=function(D){return be.current.useRef(D)},Ie.useState=function(D){return be.current.useState(D)},Ie.useSyncExternalStore=function(D,Q,fe){return be.current.useSyncExternalStore(D,Q,fe)},Ie.useTransition=function(){return be.current.useTransition()},Ie.version="18.3.1",Ie}var Qp;function Zh(){return Qp||(Qp=1,mh.exports=T_()),mh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function S_(){if(Kp)return ea;Kp=1;var i=Zh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,v){var w,T={},A=null,U=null;v!==void 0&&(A=""+v),g.key!==void 0&&(A=""+g.key),g.ref!==void 0&&(U=g.ref);for(w in g)s.call(g,w)&&!c.hasOwnProperty(w)&&(T[w]=g[w]);if(m&&m.defaultProps)for(w in g=m.defaultProps,g)T[w]===void 0&&(T[w]=g[w]);return{$$typeof:e,type:m,key:A,ref:U,props:T,_owner:a.current}}return ea.Fragment=n,ea.jsx=h,ea.jsxs=h,ea}var Gp;function I_(){return Gp||(Gp=1,ph.exports=S_()),ph.exports}var $=I_(),B=Zh();const C_=pg(B);var Ql={},gh={exports:{}},Yt={},yh={exports:{}},vh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function R_(){return Xp||(Xp=1,function(i){function e(te,de){var se=te.length;te.push(de);e:for(;0<se;){var D=se-1>>>1,Q=te[D];if(0<a(Q,de))te[D]=de,te[se]=Q,se=D;else break e}}function n(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var de=te[0],se=te.pop();if(se!==de){te[0]=se;e:for(var D=0,Q=te.length,fe=Q>>>1;D<fe;){var Te=2*(D+1)-1,Se=te[Te],xe=Te+1,Me=te[xe];if(0>a(Se,se))xe<Q&&0>a(Me,Se)?(te[D]=Me,te[xe]=se,D=xe):(te[D]=Se,te[Te]=se,D=Te);else if(xe<Q&&0>a(Me,se))te[D]=Me,te[xe]=se,D=xe;else break e}}return de}function a(te,de){var se=te.sortIndex-de.sortIndex;return se!==0?se:te.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],v=[],w=1,T=null,A=3,U=!1,W=!1,H=!1,b=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(te){for(var de=n(v);de!==null;){if(de.callback===null)s(v);else if(de.startTime<=te)s(v),de.sortIndex=de.expirationTime,e(g,de);else break;de=n(v)}}function _e(te){if(H=!1,ne(te),!W)if(n(g)!==null)W=!0,Nt(ke);else{var de=n(v);de!==null&&be(_e,de.startTime-te)}}function ke(te,de){W=!1,H&&(H=!1,K(I),I=-1),U=!0;var se=A;try{for(ne(de),T=n(g);T!==null&&(!(T.expirationTime>de)||te&&!N());){var D=T.callback;if(typeof D=="function"){T.callback=null,A=T.priorityLevel;var Q=D(T.expirationTime<=de);de=i.unstable_now(),typeof Q=="function"?T.callback=Q:T===n(g)&&s(g),ne(de)}else s(g);T=n(g)}if(T!==null)var fe=!0;else{var Te=n(v);Te!==null&&be(_e,Te.startTime-de),fe=!1}return fe}finally{T=null,A=se,U=!1}}var Ce=!1,V=null,I=-1,C=5,k=-1;function N(){return!(i.unstable_now()-k<C)}function L(){if(V!==null){var te=i.unstable_now();k=te;var de=!0;try{de=V(!0,te)}finally{de?R():(Ce=!1,V=null)}}else Ce=!1}var R;if(typeof re=="function")R=function(){re(L)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,Vt=nt.port2;nt.port1.onmessage=L,R=function(){Vt.postMessage(null)}}else R=function(){b(L,0)};function Nt(te){V=te,Ce||(Ce=!0,R())}function be(te,de){I=b(function(){te(i.unstable_now())},de)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(te){te.callback=null},i.unstable_continueExecution=function(){W||U||(W=!0,Nt(ke))},i.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<te?Math.floor(1e3/te):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(te){switch(A){case 1:case 2:case 3:var de=3;break;default:de=A}var se=A;A=de;try{return te()}finally{A=se}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(te,de){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var se=A;A=te;try{return de()}finally{A=se}},i.unstable_scheduleCallback=function(te,de,se){var D=i.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?D+se:D):se=D,te){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=se+Q,te={id:w++,callback:de,priorityLevel:te,startTime:se,expirationTime:Q,sortIndex:-1},se>D?(te.sortIndex=se,e(v,te),n(g)===null&&te===n(v)&&(H?(K(I),I=-1):H=!0,be(_e,se-D))):(te.sortIndex=Q,e(g,te),W||U||(W=!0,Nt(ke))),te},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(te){var de=A;return function(){var se=A;A=de;try{return te.apply(this,arguments)}finally{A=se}}}}(vh)),vh}var Yp;function A_(){return Yp||(Yp=1,yh.exports=R_()),yh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function P_(){if(Jp)return Yt;Jp=1;var i=Zh(),e=A_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function A(t){return g.call(T,t)?!0:g.call(w,t)?!1:v.test(t)?T[t]=!0:(w[t]=!0,!1)}function U(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function W(t,r,o,u){if(r===null||typeof r>"u"||U(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function H(t,r,o,u,f,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){b[t]=new H(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];b[r]=new H(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){b[t]=new H(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){b[t]=new H(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){b[t]=new H(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){b[t]=new H(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){b[t]=new H(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){b[t]=new H(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){b[t]=new H(t,5,!1,t.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function re(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(K,re);b[r]=new H(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(K,re);b[r]=new H(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(K,re);b[r]=new H(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){b[t]=new H(t,1,!1,t.toLowerCase(),null,!1,!1)}),b.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){b[t]=new H(t,1,!1,t.toLowerCase(),null,!0,!0)});function ne(t,r,o,u){var f=b.hasOwnProperty(r)?b[r]:null;(f!==null?f.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(W(r,o,f,u)&&(o=null),u||f===null?A(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(r=f.attributeName,u=f.attributeNamespace,o===null?t.removeAttribute(r):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var _e=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ke=Symbol.for("react.element"),Ce=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),N=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),Vt=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),te=Symbol.iterator;function de(t){return t===null||typeof t!="object"?null:(t=te&&t[te]||t["@@iterator"],typeof t=="function"?t:null)}var se=Object.assign,D;function Q(t){if(D===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);D=r&&r[1]||""}return`
`+D+t}var fe=!1;function Te(t,r){if(!t||fe)return"";fe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(j){var u=j}Reflect.construct(t,[],r)}else{try{r.call()}catch(j){u=j}t.call(r.prototype)}else{try{throw Error()}catch(j){u=j}t()}}catch(j){if(j&&u&&typeof j.stack=="string"){for(var f=j.stack.split(`
`),p=u.stack.split(`
`),_=f.length-1,S=p.length-1;1<=_&&0<=S&&f[_]!==p[S];)S--;for(;1<=_&&0<=S;_--,S--)if(f[_]!==p[S]){if(_!==1||S!==1)do if(_--,S--,0>S||f[_]!==p[S]){var P=`
`+f[_].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=_&&0<=S);break}}}finally{fe=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?Q(t):""}function Se(t){switch(t.tag){case 5:return Q(t.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return t=Te(t.type,!1),t;case 11:return t=Te(t.type.render,!1),t;case 1:return t=Te(t.type,!0),t;default:return""}}function xe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case Ce:return"Portal";case C:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case nt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case L:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vt:return r=t.displayName||null,r!==null?r:xe(t.type)||"Memo";case Nt:r=t._payload,t=t._init;try{return xe(t(r))}catch{}}return null}function Me(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(r);case 8:return r===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Be(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function vt(t){var r=Be(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){u=""+_,p.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function rr(t){t._valueTracker||(t._valueTracker=vt(t))}function Qi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Be(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function Rr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ui(t,r){var o=r.checked;return se({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Ki(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Fe(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function so(t,r){r=r.checked,r!=null&&ne(t,"checked",r,!1)}function oo(t,r){so(t,r);var o=Fe(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Gi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Gi(t,r.type,Fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Na(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Gi(t,r,o){(r!=="number"||Rr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var ir=Array.isArray;function sr(t,r,o,u){if(t=t.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=r.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Fe(o),r=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function ao(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(ir(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Fe(o)}}function Yi(t,r){var o=Fe(r.value),u=Fe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function lo(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ct(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ht(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ct(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var or,uo=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,f){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,f)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(or=or||document.createElement("div"),or.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=or.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Ar(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var ci={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hi=["Webkit","ms","Moz","O"];Object.keys(ci).forEach(function(t){hi.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ci[r]=ci[t]})});function co(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||ci.hasOwnProperty(t)&&ci[t]?(""+r).trim():r+"px"}function ho(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,f=co(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,f):t[o]=f}}var fo=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function po(t,r){if(r){if(fo[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function mo(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fi=null;function Ji(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zi=null,an=null,On=null;function es(t){if(t=Uo(t)){if(typeof Zi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=ll(r),Zi(t.stateNode,t.type,r))}}function Mn(t){an?On?On.push(t):On=[t]:an=t}function go(){if(an){var t=an,r=On;if(On=an=null,es(t),r)for(t=0;t<r.length;t++)es(r[t])}}function di(t,r){return t(r)}function yo(){}var ar=!1;function vo(t,r,o){if(ar)return t(r,o);ar=!0;try{return di(t,r,o)}finally{ar=!1,(an!==null||On!==null)&&(yo(),go())}}function rt(t,r){var o=t.stateNode;if(o===null)return null;var u=ll(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var ts=!1;if(m)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){ts=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{ts=!1}function pi(t,r,o,u,f,p,_,S,P){var j=Array.prototype.slice.call(arguments,3);try{r.apply(o,j)}catch(Y){this.onError(Y)}}var mi=!1,ns=null,En=!1,_o=null,Bu={onError:function(t){mi=!0,ns=t}};function rs(t,r,o,u,f,p,_,S,P){mi=!1,ns=null,pi.apply(Bu,arguments)}function Da(t,r,o,u,f,p,_,S,P){if(rs.apply(this,arguments),mi){if(mi){var j=ns;mi=!1,ns=null}else throw Error(n(198));En||(En=!0,_o=j)}}function wn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function gi(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Tn(t){if(wn(t)!==t)throw Error(n(188))}function La(t){var r=t.alternate;if(!r){if(r=wn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return Tn(f),t;if(p===u)return Tn(f),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=f,u=p;else{for(var _=!1,S=f.child;S;){if(S===o){_=!0,o=f,u=p;break}if(S===u){_=!0,u=f,o=p;break}S=S.sibling}if(!_){for(S=p.child;S;){if(S===o){_=!0,o=p,u=f;break}if(S===u){_=!0,u=p,o=f;break}S=S.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function Eo(t){return t=La(t),t!==null?is(t):null}function is(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=is(t);if(r!==null)return r;t=t.sibling}return null}var ss=e.unstable_scheduleCallback,wo=e.unstable_cancelCallback,Oa=e.unstable_shouldYield,$u=e.unstable_requestPaint,$e=e.unstable_now,Ma=e.unstable_getCurrentPriorityLevel,yi=e.unstable_ImmediatePriority,Pr=e.unstable_UserBlockingPriority,ln=e.unstable_NormalPriority,To=e.unstable_LowPriority,Fa=e.unstable_IdlePriority,vi=null,Zt=null;function ja(t){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(vi,t,void 0,(t.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:ba,So=Math.log,Ua=Math.LN2;function ba(t){return t>>>=0,t===0?32:31-(So(t)/Ua|0)|0}var os=64,as=4194304;function kr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _i(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,f=t.suspendedLanes,p=t.pingedLanes,_=o&268435455;if(_!==0){var S=_&~f;S!==0?u=kr(S):(p&=_,p!==0&&(u=kr(p)))}else _=o&~f,_!==0?u=kr(_):p!==0&&(u=kr(p));if(u===0)return 0;if(r!==0&&r!==u&&(r&f)===0&&(f=u&-u,p=r&-r,f>=p||f===16&&(p&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-bt(r),f=1<<o,u|=t[o],r&=~f;return u}function Hu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lr(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes;0<p;){var _=31-bt(p),S=1<<_,P=f[_];P===-1?((S&o)===0||(S&u)!==0)&&(f[_]=Hu(S,r)):P<=r&&(t.expiredLanes|=S),p&=~S}}function en(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ei(){var t=os;return os<<=1,(os&4194240)===0&&(os=64),t}function xr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Vr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-bt(r),t[r]=o}function ze(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-bt(o),p=1<<f;r[f]=0,u[f]=-1,t[f]=-1,o&=~p}}function Nr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-bt(o),f=1<<u;f&r|t[u]&r&&(t[u]|=r),o&=~f}}var Pe=0;function Dr(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var za,ls,Ba,$a,Ha,Io=!1,Fn=[],It=null,Sn=null,In=null,Lr=new Map,un=new Map,jn=[],Wu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wa(t,r){switch(t){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":Lr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":un.delete(r.pointerId)}}function Ht(t,r,o,u,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},r!==null&&(r=Uo(r),r!==null&&ls(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function qu(t,r,o,u,f){switch(r){case"focusin":return It=Ht(It,t,r,o,u,f),!0;case"dragenter":return Sn=Ht(Sn,t,r,o,u,f),!0;case"mouseover":return In=Ht(In,t,r,o,u,f),!0;case"pointerover":var p=f.pointerId;return Lr.set(p,Ht(Lr.get(p)||null,t,r,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,un.set(p,Ht(un.get(p)||null,t,r,o,u,f)),!0}return!1}function qa(t){var r=Ci(t.target);if(r!==null){var o=wn(r);if(o!==null){if(r=o.tag,r===13){if(r=gi(o),r!==null){t.blockedOn=r,Ha(t.priority,function(){Ba(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ur(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=us(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);fi=u,o.target.dispatchEvent(u),fi=null}else return r=Uo(o),r!==null&&ls(r),t.blockedOn=o,!1;r.shift()}return!0}function wi(t,r,o){ur(t)&&o.delete(r)}function Qa(){Io=!1,It!==null&&ur(It)&&(It=null),Sn!==null&&ur(Sn)&&(Sn=null),In!==null&&ur(In)&&(In=null),Lr.forEach(wi),un.forEach(wi)}function Cn(t,r){t.blockedOn===r&&(t.blockedOn=null,Io||(Io=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qa)))}function Rn(t){function r(f){return Cn(f,t)}if(0<Fn.length){Cn(Fn[0],t);for(var o=1;o<Fn.length;o++){var u=Fn[o];u.blockedOn===t&&(u.blockedOn=null)}}for(It!==null&&Cn(It,t),Sn!==null&&Cn(Sn,t),In!==null&&Cn(In,t),Lr.forEach(r),un.forEach(r),o=0;o<jn.length;o++)u=jn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<jn.length&&(o=jn[0],o.blockedOn===null);)qa(o),o.blockedOn===null&&jn.shift()}var cr=_e.ReactCurrentBatchConfig,Or=!0;function Ge(t,r,o,u){var f=Pe,p=cr.transition;cr.transition=null;try{Pe=1,Co(t,r,o,u)}finally{Pe=f,cr.transition=p}}function Qu(t,r,o,u){var f=Pe,p=cr.transition;cr.transition=null;try{Pe=4,Co(t,r,o,u)}finally{Pe=f,cr.transition=p}}function Co(t,r,o,u){if(Or){var f=us(t,r,o,u);if(f===null)ic(t,r,u,Ti,o),Wa(t,u);else if(qu(f,t,r,o,u))u.stopPropagation();else if(Wa(t,u),r&4&&-1<Wu.indexOf(t)){for(;f!==null;){var p=Uo(f);if(p!==null&&za(p),p=us(t,r,o,u),p===null&&ic(t,r,u,Ti,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else ic(t,r,u,null,o)}}var Ti=null;function us(t,r,o,u){if(Ti=null,t=Ji(u),t=Ci(t),t!==null)if(r=wn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=gi(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Ti=t,null}function Ro(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ma()){case yi:return 1;case Pr:return 4;case ln:case To:return 16;case Fa:return 536870912;default:return 16}default:return 16}}var tn=null,cs=null,Wt=null;function Ao(){if(Wt)return Wt;var t,r=cs,o=r.length,u,f="value"in tn?tn.value:tn.textContent,p=f.length;for(t=0;t<o&&r[t]===f[t];t++);var _=o-t;for(u=1;u<=_&&r[o-u]===f[p-u];u++);return Wt=f.slice(t,1<u?1-u:void 0)}function hs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Un(){return!0}function Po(){return!1}function Ct(t){function r(o,u,f,p,_){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Un:Po,this.isPropagationStopped=Po,this}return se(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Un)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Un)},persist:function(){},isPersistent:Un}),r}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fs=Ct(An),bn=se({},An,{view:0,detail:0}),Ku=Ct(bn),ds,hr,Mr,Si=se({},bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mr&&(Mr&&t.type==="mousemove"?(ds=t.screenX-Mr.screenX,hr=t.screenY-Mr.screenY):hr=ds=0,Mr=t),ds)},movementY:function(t){return"movementY"in t?t.movementY:hr}}),ps=Ct(Si),ko=se({},Si,{dataTransfer:0}),Ka=Ct(ko),ms=se({},bn,{relatedTarget:0}),gs=Ct(ms),Ga=se({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),fr=Ct(Ga),Xa=se({},An,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ya=Ct(Xa),Ja=se({},An,{data:0}),xo=Ct(Ja),ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Za={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function el(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Za[t])?!!r[t]:!1}function zn(){return el}var l=se({},bn,{key:function(t){if(t.key){var r=ys[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=hs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zn,charCode:function(t){return t.type==="keypress"?hs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=Ct(l),y=se({},Si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Ct(y),O=se({},bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zn}),z=Ct(O),ee=se({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ue=Ct(ee),ft=se({},Si,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=Ct(ft),_t=[9,13,27,32],ot=m&&"CompositionEvent"in window,cn=null;m&&"documentMode"in document&&(cn=document.documentMode);var nn=m&&"TextEvent"in window&&!cn,Ii=m&&(!ot||cn&&8<cn&&11>=cn),vs=" ",bf=!1;function zf(t,r){switch(t){case"keyup":return _t.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _s=!1;function _v(t,r){switch(t){case"compositionend":return Bf(r);case"keypress":return r.which!==32?null:(bf=!0,vs);case"textInput":return t=r.data,t===vs&&bf?null:t;default:return null}}function Ev(t,r){if(_s)return t==="compositionend"||!ot&&zf(t,r)?(t=Ao(),Wt=cs=tn=null,_s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ii&&r.locale!=="ko"?null:r.data;default:return null}}var wv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $f(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!wv[t.type]:r==="textarea"}function Hf(t,r,o,u){Mn(u),r=sl(r,"onChange"),0<r.length&&(o=new fs("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var Vo=null,No=null;function Tv(t){ld(t,0)}function tl(t){var r=Is(t);if(Qi(r))return t}function Sv(t,r){if(t==="change")return r}var Wf=!1;if(m){var Gu;if(m){var Xu="oninput"in document;if(!Xu){var qf=document.createElement("div");qf.setAttribute("oninput","return;"),Xu=typeof qf.oninput=="function"}Gu=Xu}else Gu=!1;Wf=Gu&&(!document.documentMode||9<document.documentMode)}function Qf(){Vo&&(Vo.detachEvent("onpropertychange",Kf),No=Vo=null)}function Kf(t){if(t.propertyName==="value"&&tl(No)){var r=[];Hf(r,No,t,Ji(t)),vo(Tv,r)}}function Iv(t,r,o){t==="focusin"?(Qf(),Vo=r,No=o,Vo.attachEvent("onpropertychange",Kf)):t==="focusout"&&Qf()}function Cv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tl(No)}function Rv(t,r){if(t==="click")return tl(r)}function Av(t,r){if(t==="input"||t==="change")return tl(r)}function Pv(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Pn=typeof Object.is=="function"?Object.is:Pv;function Do(t,r){if(Pn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!g.call(r,f)||!Pn(t[f],r[f]))return!1}return!0}function Gf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xf(t,r){var o=Gf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Gf(o)}}function Yf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Yf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Jf(){for(var t=window,r=Rr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Rr(t.document)}return r}function Yu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function kv(t){var r=Jf(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Yf(o.ownerDocument.documentElement,o)){if(u!==null&&Yu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,p=Math.min(u.start,f);u=u.end===void 0?p:Math.min(u.end,f),!t.extend&&p>u&&(f=u,u=p,p=f),f=Xf(o,p);var _=Xf(o,u);f&&_&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xv=m&&"documentMode"in document&&11>=document.documentMode,Es=null,Ju=null,Lo=null,Zu=!1;function Zf(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Zu||Es==null||Es!==Rr(u)||(u=Es,"selectionStart"in u&&Yu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Lo&&Do(Lo,u)||(Lo=u,u=sl(Ju,"onSelect"),0<u.length&&(r=new fs("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=Es)))}function nl(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ws={animationend:nl("Animation","AnimationEnd"),animationiteration:nl("Animation","AnimationIteration"),animationstart:nl("Animation","AnimationStart"),transitionend:nl("Transition","TransitionEnd")},ec={},ed={};m&&(ed=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function rl(t){if(ec[t])return ec[t];if(!ws[t])return t;var r=ws[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in ed)return ec[t]=r[o];return t}var td=rl("animationend"),nd=rl("animationiteration"),rd=rl("animationstart"),id=rl("transitionend"),sd=new Map,od="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(t,r){sd.set(t,r),c(r,[t])}for(var tc=0;tc<od.length;tc++){var nc=od[tc],Vv=nc.toLowerCase(),Nv=nc[0].toUpperCase()+nc.slice(1);Fr(Vv,"on"+Nv)}Fr(td,"onAnimationEnd"),Fr(nd,"onAnimationIteration"),Fr(rd,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(id,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oo));function ad(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,Da(u,r,void 0,t),t.currentTarget=null}function ld(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],f=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var _=u.length-1;0<=_;_--){var S=u[_],P=S.instance,j=S.currentTarget;if(S=S.listener,P!==p&&f.isPropagationStopped())break e;ad(f,S,j),p=P}else for(_=0;_<u.length;_++){if(S=u[_],P=S.instance,j=S.currentTarget,S=S.listener,P!==p&&f.isPropagationStopped())break e;ad(f,S,j),p=P}}}if(En)throw t=_o,En=!1,_o=null,t}function We(t,r){var o=r[cc];o===void 0&&(o=r[cc]=new Set);var u=t+"__bubble";o.has(u)||(ud(r,t,2,!1),o.add(u))}function rc(t,r,o){var u=0;r&&(u|=4),ud(o,t,u,r)}var il="_reactListening"+Math.random().toString(36).slice(2);function Mo(t){if(!t[il]){t[il]=!0,s.forEach(function(o){o!=="selectionchange"&&(Dv.has(o)||rc(o,!1,t),rc(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[il]||(r[il]=!0,rc("selectionchange",!1,r))}}function ud(t,r,o,u){switch(Ro(r)){case 1:var f=Ge;break;case 4:f=Qu;break;default:f=Co}o=f.bind(null,r,o,t),f=void 0,!ts||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(r,o,{capture:!0,passive:f}):t.addEventListener(r,o,!0):f!==void 0?t.addEventListener(r,o,{passive:f}):t.addEventListener(r,o,!1)}function ic(t,r,o,u,f){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var S=u.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(_===4)for(_=u.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===f||P.nodeType===8&&P.parentNode===f))return;_=_.return}for(;S!==null;){if(_=Ci(S),_===null)return;if(P=_.tag,P===5||P===6){u=p=_;continue e}S=S.parentNode}}u=u.return}vo(function(){var j=p,Y=Ji(o),J=[];e:{var G=sd.get(t);if(G!==void 0){var ie=fs,le=t;switch(t){case"keypress":if(hs(o)===0)break e;case"keydown":case"keyup":ie=d;break;case"focusin":le="focus",ie=gs;break;case"focusout":le="blur",ie=gs;break;case"beforeblur":case"afterblur":ie=gs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=ps;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Ka;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=z;break;case td:case nd:case rd:ie=fr;break;case id:ie=Ue;break;case"scroll":ie=Ku;break;case"wheel":ie=Ve;break;case"copy":case"cut":case"paste":ie=Ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=E}var ue=(r&4)!==0,it=!ue&&t==="scroll",M=ue?G!==null?G+"Capture":null:G;ue=[];for(var x=j,F;x!==null;){F=x;var Z=F.stateNode;if(F.tag===5&&Z!==null&&(F=Z,M!==null&&(Z=rt(x,M),Z!=null&&ue.push(Fo(x,Z,F)))),it)break;x=x.return}0<ue.length&&(G=new ie(G,le,null,o,Y),J.push({event:G,listeners:ue}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",G&&o!==fi&&(le=o.relatedTarget||o.fromElement)&&(Ci(le)||le[dr]))break e;if((ie||G)&&(G=Y.window===Y?Y:(G=Y.ownerDocument)?G.defaultView||G.parentWindow:window,ie?(le=o.relatedTarget||o.toElement,ie=j,le=le?Ci(le):null,le!==null&&(it=wn(le),le!==it||le.tag!==5&&le.tag!==6)&&(le=null)):(ie=null,le=j),ie!==le)){if(ue=ps,Z="onMouseLeave",M="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(ue=E,Z="onPointerLeave",M="onPointerEnter",x="pointer"),it=ie==null?G:Is(ie),F=le==null?G:Is(le),G=new ue(Z,x+"leave",ie,o,Y),G.target=it,G.relatedTarget=F,Z=null,Ci(Y)===j&&(ue=new ue(M,x+"enter",le,o,Y),ue.target=F,ue.relatedTarget=it,Z=ue),it=Z,ie&&le)t:{for(ue=ie,M=le,x=0,F=ue;F;F=Ts(F))x++;for(F=0,Z=M;Z;Z=Ts(Z))F++;for(;0<x-F;)ue=Ts(ue),x--;for(;0<F-x;)M=Ts(M),F--;for(;x--;){if(ue===M||M!==null&&ue===M.alternate)break t;ue=Ts(ue),M=Ts(M)}ue=null}else ue=null;ie!==null&&cd(J,G,ie,ue,!1),le!==null&&it!==null&&cd(J,it,le,ue,!0)}}e:{if(G=j?Is(j):window,ie=G.nodeName&&G.nodeName.toLowerCase(),ie==="select"||ie==="input"&&G.type==="file")var ce=Sv;else if($f(G))if(Wf)ce=Av;else{ce=Cv;var me=Iv}else(ie=G.nodeName)&&ie.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(ce=Rv);if(ce&&(ce=ce(t,j))){Hf(J,ce,o,Y);break e}me&&me(t,G,j),t==="focusout"&&(me=G._wrapperState)&&me.controlled&&G.type==="number"&&Gi(G,"number",G.value)}switch(me=j?Is(j):window,t){case"focusin":($f(me)||me.contentEditable==="true")&&(Es=me,Ju=j,Lo=null);break;case"focusout":Lo=Ju=Es=null;break;case"mousedown":Zu=!0;break;case"contextmenu":case"mouseup":case"dragend":Zu=!1,Zf(J,o,Y);break;case"selectionchange":if(xv)break;case"keydown":case"keyup":Zf(J,o,Y)}var ge;if(ot)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else _s?zf(t,o)&&(ve="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ve="onCompositionStart");ve&&(Ii&&o.locale!=="ko"&&(_s||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&_s&&(ge=Ao()):(tn=Y,cs="value"in tn?tn.value:tn.textContent,_s=!0)),me=sl(j,ve),0<me.length&&(ve=new xo(ve,t,null,o,Y),J.push({event:ve,listeners:me}),ge?ve.data=ge:(ge=Bf(o),ge!==null&&(ve.data=ge)))),(ge=nn?_v(t,o):Ev(t,o))&&(j=sl(j,"onBeforeInput"),0<j.length&&(Y=new xo("onBeforeInput","beforeinput",null,o,Y),J.push({event:Y,listeners:j}),Y.data=ge))}ld(J,r)})}function Fo(t,r,o){return{instance:t,listener:r,currentTarget:o}}function sl(t,r){for(var o=r+"Capture",u=[];t!==null;){var f=t,p=f.stateNode;f.tag===5&&p!==null&&(f=p,p=rt(t,o),p!=null&&u.unshift(Fo(t,p,f)),p=rt(t,r),p!=null&&u.push(Fo(t,p,f))),t=t.return}return u}function Ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cd(t,r,o,u,f){for(var p=r._reactName,_=[];o!==null&&o!==u;){var S=o,P=S.alternate,j=S.stateNode;if(P!==null&&P===u)break;S.tag===5&&j!==null&&(S=j,f?(P=rt(o,p),P!=null&&_.unshift(Fo(o,P,S))):f||(P=rt(o,p),P!=null&&_.push(Fo(o,P,S)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var Lv=/\r\n?/g,Ov=/\u0000|\uFFFD/g;function hd(t){return(typeof t=="string"?t:""+t).replace(Lv,`
`).replace(Ov,"")}function ol(t,r,o){if(r=hd(r),hd(t)!==r&&o)throw Error(n(425))}function al(){}var sc=null,oc=null;function ac(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var lc=typeof setTimeout=="function"?setTimeout:void 0,Mv=typeof clearTimeout=="function"?clearTimeout:void 0,fd=typeof Promise=="function"?Promise:void 0,Fv=typeof queueMicrotask=="function"?queueMicrotask:typeof fd<"u"?function(t){return fd.resolve(null).then(t).catch(jv)}:lc;function jv(t){setTimeout(function(){throw t})}function uc(t,r){var o=r,u=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(u===0){t.removeChild(f),Rn(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=f}while(o);Rn(r)}function jr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function dd(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),Bn="__reactFiber$"+Ss,jo="__reactProps$"+Ss,dr="__reactContainer$"+Ss,cc="__reactEvents$"+Ss,Uv="__reactListeners$"+Ss,bv="__reactHandles$"+Ss;function Ci(t){var r=t[Bn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[dr]||o[Bn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=dd(t);t!==null;){if(o=t[Bn])return o;t=dd(t)}return r}t=o,o=t.parentNode}return null}function Uo(t){return t=t[Bn]||t[dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Is(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function ll(t){return t[jo]||null}var hc=[],Cs=-1;function Ur(t){return{current:t}}function qe(t){0>Cs||(t.current=hc[Cs],hc[Cs]=null,Cs--)}function He(t,r){Cs++,hc[Cs]=t.current,t.current=r}var br={},Dt=Ur(br),qt=Ur(!1),Ri=br;function Rs(t,r){var o=t.type.contextTypes;if(!o)return br;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var f={},p;for(p in o)f[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function Qt(t){return t=t.childContextTypes,t!=null}function ul(){qe(qt),qe(Dt)}function pd(t,r,o){if(Dt.current!==br)throw Error(n(168));He(Dt,r),He(qt,o)}function md(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var f in u)if(!(f in r))throw Error(n(108,Me(t)||"Unknown",f));return se({},o,u)}function cl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||br,Ri=Dt.current,He(Dt,t),He(qt,qt.current),!0}function gd(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=md(t,r,Ri),u.__reactInternalMemoizedMergedChildContext=t,qe(qt),qe(Dt),He(Dt,t)):qe(qt),He(qt,o)}var pr=null,hl=!1,fc=!1;function yd(t){pr===null?pr=[t]:pr.push(t)}function zv(t){hl=!0,yd(t)}function zr(){if(!fc&&pr!==null){fc=!0;var t=0,r=Pe;try{var o=pr;for(Pe=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}pr=null,hl=!1}catch(f){throw pr!==null&&(pr=pr.slice(t+1)),ss(yi,zr),f}finally{Pe=r,fc=!1}}return null}var As=[],Ps=0,fl=null,dl=0,hn=[],fn=0,Ai=null,mr=1,gr="";function Pi(t,r){As[Ps++]=dl,As[Ps++]=fl,fl=t,dl=r}function vd(t,r,o){hn[fn++]=mr,hn[fn++]=gr,hn[fn++]=Ai,Ai=t;var u=mr;t=gr;var f=32-bt(u)-1;u&=~(1<<f),o+=1;var p=32-bt(r)+f;if(30<p){var _=f-f%5;p=(u&(1<<_)-1).toString(32),u>>=_,f-=_,mr=1<<32-bt(r)+f|o<<f|u,gr=p+t}else mr=1<<p|o<<f|u,gr=t}function dc(t){t.return!==null&&(Pi(t,1),vd(t,1,0))}function pc(t){for(;t===fl;)fl=As[--Ps],As[Ps]=null,dl=As[--Ps],As[Ps]=null;for(;t===Ai;)Ai=hn[--fn],hn[fn]=null,gr=hn[--fn],hn[fn]=null,mr=hn[--fn],hn[fn]=null}var rn=null,sn=null,Xe=!1,kn=null;function _d(t,r){var o=gn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Ed(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,rn=t,sn=jr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,rn=t,sn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Ai!==null?{id:mr,overflow:gr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=gn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,rn=t,sn=null,!0):!1;default:return!1}}function mc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gc(t){if(Xe){var r=sn;if(r){var o=r;if(!Ed(t,r)){if(mc(t))throw Error(n(418));r=jr(o.nextSibling);var u=rn;r&&Ed(t,r)?_d(u,o):(t.flags=t.flags&-4097|2,Xe=!1,rn=t)}}else{if(mc(t))throw Error(n(418));t.flags=t.flags&-4097|2,Xe=!1,rn=t}}}function wd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function pl(t){if(t!==rn)return!1;if(!Xe)return wd(t),Xe=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!ac(t.type,t.memoizedProps)),r&&(r=sn)){if(mc(t))throw Td(),Error(n(418));for(;r;)_d(t,r),r=jr(r.nextSibling)}if(wd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){sn=jr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}sn=null}}else sn=rn?jr(t.stateNode.nextSibling):null;return!0}function Td(){for(var t=sn;t;)t=jr(t.nextSibling)}function ks(){sn=rn=null,Xe=!1}function yc(t){kn===null?kn=[t]:kn.push(t)}var Bv=_e.ReactCurrentBatchConfig;function bo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var f=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var S=f.refs;_===null?delete S[p]:S[p]=_},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function ml(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Sd(t){var r=t._init;return r(t._payload)}function Id(t){function r(M,x){if(t){var F=M.deletions;F===null?(M.deletions=[x],M.flags|=16):F.push(x)}}function o(M,x){if(!t)return null;for(;x!==null;)r(M,x),x=x.sibling;return null}function u(M,x){for(M=new Map;x!==null;)x.key!==null?M.set(x.key,x):M.set(x.index,x),x=x.sibling;return M}function f(M,x){return M=Gr(M,x),M.index=0,M.sibling=null,M}function p(M,x,F){return M.index=F,t?(F=M.alternate,F!==null?(F=F.index,F<x?(M.flags|=2,x):F):(M.flags|=2,x)):(M.flags|=1048576,x)}function _(M){return t&&M.alternate===null&&(M.flags|=2),M}function S(M,x,F,Z){return x===null||x.tag!==6?(x=lh(F,M.mode,Z),x.return=M,x):(x=f(x,F),x.return=M,x)}function P(M,x,F,Z){var ce=F.type;return ce===V?Y(M,x,F.props.children,Z,F.key):x!==null&&(x.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===Nt&&Sd(ce)===x.type)?(Z=f(x,F.props),Z.ref=bo(M,x,F),Z.return=M,Z):(Z=Ul(F.type,F.key,F.props,null,M.mode,Z),Z.ref=bo(M,x,F),Z.return=M,Z)}function j(M,x,F,Z){return x===null||x.tag!==4||x.stateNode.containerInfo!==F.containerInfo||x.stateNode.implementation!==F.implementation?(x=uh(F,M.mode,Z),x.return=M,x):(x=f(x,F.children||[]),x.return=M,x)}function Y(M,x,F,Z,ce){return x===null||x.tag!==7?(x=Mi(F,M.mode,Z,ce),x.return=M,x):(x=f(x,F),x.return=M,x)}function J(M,x,F){if(typeof x=="string"&&x!==""||typeof x=="number")return x=lh(""+x,M.mode,F),x.return=M,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ke:return F=Ul(x.type,x.key,x.props,null,M.mode,F),F.ref=bo(M,null,x),F.return=M,F;case Ce:return x=uh(x,M.mode,F),x.return=M,x;case Nt:var Z=x._init;return J(M,Z(x._payload),F)}if(ir(x)||de(x))return x=Mi(x,M.mode,F,null),x.return=M,x;ml(M,x)}return null}function G(M,x,F,Z){var ce=x!==null?x.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return ce!==null?null:S(M,x,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case ke:return F.key===ce?P(M,x,F,Z):null;case Ce:return F.key===ce?j(M,x,F,Z):null;case Nt:return ce=F._init,G(M,x,ce(F._payload),Z)}if(ir(F)||de(F))return ce!==null?null:Y(M,x,F,Z,null);ml(M,F)}return null}function ie(M,x,F,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return M=M.get(F)||null,S(x,M,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case ke:return M=M.get(Z.key===null?F:Z.key)||null,P(x,M,Z,ce);case Ce:return M=M.get(Z.key===null?F:Z.key)||null,j(x,M,Z,ce);case Nt:var me=Z._init;return ie(M,x,F,me(Z._payload),ce)}if(ir(Z)||de(Z))return M=M.get(F)||null,Y(x,M,Z,ce,null);ml(x,Z)}return null}function le(M,x,F,Z){for(var ce=null,me=null,ge=x,ve=x=0,Tt=null;ge!==null&&ve<F.length;ve++){ge.index>ve?(Tt=ge,ge=null):Tt=ge.sibling;var Oe=G(M,ge,F[ve],Z);if(Oe===null){ge===null&&(ge=Tt);break}t&&ge&&Oe.alternate===null&&r(M,ge),x=p(Oe,x,ve),me===null?ce=Oe:me.sibling=Oe,me=Oe,ge=Tt}if(ve===F.length)return o(M,ge),Xe&&Pi(M,ve),ce;if(ge===null){for(;ve<F.length;ve++)ge=J(M,F[ve],Z),ge!==null&&(x=p(ge,x,ve),me===null?ce=ge:me.sibling=ge,me=ge);return Xe&&Pi(M,ve),ce}for(ge=u(M,ge);ve<F.length;ve++)Tt=ie(ge,M,ve,F[ve],Z),Tt!==null&&(t&&Tt.alternate!==null&&ge.delete(Tt.key===null?ve:Tt.key),x=p(Tt,x,ve),me===null?ce=Tt:me.sibling=Tt,me=Tt);return t&&ge.forEach(function(Xr){return r(M,Xr)}),Xe&&Pi(M,ve),ce}function ue(M,x,F,Z){var ce=de(F);if(typeof ce!="function")throw Error(n(150));if(F=ce.call(F),F==null)throw Error(n(151));for(var me=ce=null,ge=x,ve=x=0,Tt=null,Oe=F.next();ge!==null&&!Oe.done;ve++,Oe=F.next()){ge.index>ve?(Tt=ge,ge=null):Tt=ge.sibling;var Xr=G(M,ge,Oe.value,Z);if(Xr===null){ge===null&&(ge=Tt);break}t&&ge&&Xr.alternate===null&&r(M,ge),x=p(Xr,x,ve),me===null?ce=Xr:me.sibling=Xr,me=Xr,ge=Tt}if(Oe.done)return o(M,ge),Xe&&Pi(M,ve),ce;if(ge===null){for(;!Oe.done;ve++,Oe=F.next())Oe=J(M,Oe.value,Z),Oe!==null&&(x=p(Oe,x,ve),me===null?ce=Oe:me.sibling=Oe,me=Oe);return Xe&&Pi(M,ve),ce}for(ge=u(M,ge);!Oe.done;ve++,Oe=F.next())Oe=ie(ge,M,ve,Oe.value,Z),Oe!==null&&(t&&Oe.alternate!==null&&ge.delete(Oe.key===null?ve:Oe.key),x=p(Oe,x,ve),me===null?ce=Oe:me.sibling=Oe,me=Oe);return t&&ge.forEach(function(w_){return r(M,w_)}),Xe&&Pi(M,ve),ce}function it(M,x,F,Z){if(typeof F=="object"&&F!==null&&F.type===V&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case ke:e:{for(var ce=F.key,me=x;me!==null;){if(me.key===ce){if(ce=F.type,ce===V){if(me.tag===7){o(M,me.sibling),x=f(me,F.props.children),x.return=M,M=x;break e}}else if(me.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===Nt&&Sd(ce)===me.type){o(M,me.sibling),x=f(me,F.props),x.ref=bo(M,me,F),x.return=M,M=x;break e}o(M,me);break}else r(M,me);me=me.sibling}F.type===V?(x=Mi(F.props.children,M.mode,Z,F.key),x.return=M,M=x):(Z=Ul(F.type,F.key,F.props,null,M.mode,Z),Z.ref=bo(M,x,F),Z.return=M,M=Z)}return _(M);case Ce:e:{for(me=F.key;x!==null;){if(x.key===me)if(x.tag===4&&x.stateNode.containerInfo===F.containerInfo&&x.stateNode.implementation===F.implementation){o(M,x.sibling),x=f(x,F.children||[]),x.return=M,M=x;break e}else{o(M,x);break}else r(M,x);x=x.sibling}x=uh(F,M.mode,Z),x.return=M,M=x}return _(M);case Nt:return me=F._init,it(M,x,me(F._payload),Z)}if(ir(F))return le(M,x,F,Z);if(de(F))return ue(M,x,F,Z);ml(M,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,x!==null&&x.tag===6?(o(M,x.sibling),x=f(x,F),x.return=M,M=x):(o(M,x),x=lh(F,M.mode,Z),x.return=M,M=x),_(M)):o(M,x)}return it}var xs=Id(!0),Cd=Id(!1),gl=Ur(null),yl=null,Vs=null,vc=null;function _c(){vc=Vs=yl=null}function Ec(t){var r=gl.current;qe(gl),t._currentValue=r}function wc(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Ns(t,r){yl=t,vc=Vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Kt=!0),t.firstContext=null)}function dn(t){var r=t._currentValue;if(vc!==t)if(t={context:t,memoizedValue:r,next:null},Vs===null){if(yl===null)throw Error(n(308));Vs=t,yl.dependencies={lanes:0,firstContext:t}}else Vs=Vs.next=t;return r}var ki=null;function Tc(t){ki===null?ki=[t]:ki.push(t)}function Rd(t,r,o,u){var f=r.interleaved;return f===null?(o.next=o,Tc(r)):(o.next=f.next,f.next=o),r.interleaved=o,yr(t,u)}function yr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Br=!1;function Sc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ad(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function $r(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Le&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,yr(t,o)}return f=u.interleaved,f===null?(r.next=r,Tc(u)):(r.next=f.next,f.next=r),u.interleaved=r,yr(t,o)}function vl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Nr(t,o)}}function Pd(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?f=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function _l(t,r,o,u){var f=t.updateQueue;Br=!1;var p=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var P=S,j=P.next;P.next=null,_===null?p=j:_.next=j,_=P;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==_&&(S===null?Y.firstBaseUpdate=j:S.next=j,Y.lastBaseUpdate=P))}if(p!==null){var J=f.baseState;_=0,Y=j=P=null,S=p;do{var G=S.lane,ie=S.eventTime;if((u&G)===G){Y!==null&&(Y=Y.next={eventTime:ie,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var le=t,ue=S;switch(G=r,ie=o,ue.tag){case 1:if(le=ue.payload,typeof le=="function"){J=le.call(ie,J,G);break e}J=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ue.payload,G=typeof le=="function"?le.call(ie,J,G):le,G==null)break e;J=se({},J,G);break e;case 2:Br=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,G=f.effects,G===null?f.effects=[S]:G.push(S))}else ie={eventTime:ie,lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(j=Y=ie,P=J):Y=Y.next=ie,_|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;G=S,S=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);if(Y===null&&(P=J),f.baseState=P,f.firstBaseUpdate=j,f.lastBaseUpdate=Y,r=f.shared.interleaved,r!==null){f=r;do _|=f.lane,f=f.next;while(f!==r)}else p===null&&(f.shared.lanes=0);Ni|=_,t.lanes=_,t.memoizedState=J}}function kd(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],f=u.callback;if(f!==null){if(u.callback=null,u=o,typeof f!="function")throw Error(n(191,f));f.call(u)}}}var zo={},$n=Ur(zo),Bo=Ur(zo),$o=Ur(zo);function xi(t){if(t===zo)throw Error(n(174));return t}function Ic(t,r){switch(He($o,r),He(Bo,t),He($n,zo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ht(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ht(r,t)}qe($n),He($n,r)}function Ds(){qe($n),qe(Bo),qe($o)}function xd(t){xi($o.current);var r=xi($n.current),o=ht(r,t.type);r!==o&&(He(Bo,t),He($n,o))}function Cc(t){Bo.current===t&&(qe($n),qe(Bo))}var Ye=Ur(0);function El(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Rc=[];function Ac(){for(var t=0;t<Rc.length;t++)Rc[t]._workInProgressVersionPrimary=null;Rc.length=0}var wl=_e.ReactCurrentDispatcher,Pc=_e.ReactCurrentBatchConfig,Vi=0,Je=null,dt=null,Et=null,Tl=!1,Ho=!1,Wo=0,$v=0;function Lt(){throw Error(n(321))}function kc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Pn(t[o],r[o]))return!1;return!0}function xc(t,r,o,u,f,p){if(Vi=p,Je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,wl.current=t===null||t.memoizedState===null?Qv:Kv,t=o(u,f),Ho){p=0;do{if(Ho=!1,Wo=0,25<=p)throw Error(n(301));p+=1,Et=dt=null,r.updateQueue=null,wl.current=Gv,t=o(u,f)}while(Ho)}if(wl.current=Cl,r=dt!==null&&dt.next!==null,Vi=0,Et=dt=Je=null,Tl=!1,r)throw Error(n(300));return t}function Vc(){var t=Wo!==0;return Wo=0,t}function Hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Je.memoizedState=Et=t:Et=Et.next=t,Et}function pn(){if(dt===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var r=Et===null?Je.memoizedState:Et.next;if(r!==null)Et=r,dt=t;else{if(t===null)throw Error(n(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Et===null?Je.memoizedState=Et=t:Et=Et.next=t}return Et}function qo(t,r){return typeof r=="function"?r(t):r}function Nc(t){var r=pn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=dt,f=u.baseQueue,p=o.pending;if(p!==null){if(f!==null){var _=f.next;f.next=p.next,p.next=_}u.baseQueue=f=p,o.pending=null}if(f!==null){p=f.next,u=u.baseState;var S=_=null,P=null,j=p;do{var Y=j.lane;if((Vi&Y)===Y)P!==null&&(P=P.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),u=j.hasEagerState?j.eagerState:t(u,j.action);else{var J={lane:Y,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};P===null?(S=P=J,_=u):P=P.next=J,Je.lanes|=Y,Ni|=Y}j=j.next}while(j!==null&&j!==p);P===null?_=u:P.next=S,Pn(u,r.memoizedState)||(Kt=!0),r.memoizedState=u,r.baseState=_,r.baseQueue=P,o.lastRenderedState=u}if(t=o.interleaved,t!==null){f=t;do p=f.lane,Je.lanes|=p,Ni|=p,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Dc(t){var r=pn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do p=t(p,_.action),_=_.next;while(_!==f);Pn(p,r.memoizedState)||(Kt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function Vd(){}function Nd(t,r){var o=Je,u=pn(),f=r(),p=!Pn(u.memoizedState,f);if(p&&(u.memoizedState=f,Kt=!0),u=u.queue,Lc(Od.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||Et!==null&&Et.memoizedState.tag&1){if(o.flags|=2048,Qo(9,Ld.bind(null,o,u,f,r),void 0,null),wt===null)throw Error(n(349));(Vi&30)!==0||Dd(o,r,f)}return f}function Dd(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Ld(t,r,o,u){r.value=o,r.getSnapshot=u,Md(r)&&Fd(t)}function Od(t,r,o){return o(function(){Md(r)&&Fd(t)})}function Md(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Pn(t,o)}catch{return!0}}function Fd(t){var r=yr(t,1);r!==null&&Dn(r,t,1,-1)}function jd(t){var r=Hn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:t},r.queue=t,t=t.dispatch=qv.bind(null,Je,t),[r.memoizedState,t]}function Qo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function Ud(){return pn().memoizedState}function Sl(t,r,o,u){var f=Hn();Je.flags|=t,f.memoizedState=Qo(1|r,o,void 0,u===void 0?null:u)}function Il(t,r,o,u){var f=pn();u=u===void 0?null:u;var p=void 0;if(dt!==null){var _=dt.memoizedState;if(p=_.destroy,u!==null&&kc(u,_.deps)){f.memoizedState=Qo(r,o,p,u);return}}Je.flags|=t,f.memoizedState=Qo(1|r,o,p,u)}function bd(t,r){return Sl(8390656,8,t,r)}function Lc(t,r){return Il(2048,8,t,r)}function zd(t,r){return Il(4,2,t,r)}function Bd(t,r){return Il(4,4,t,r)}function $d(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Hd(t,r,o){return o=o!=null?o.concat([t]):null,Il(4,4,$d.bind(null,r,t),o)}function Oc(){}function Wd(t,r){var o=pn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&kc(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function qd(t,r){var o=pn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&kc(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function Qd(t,r,o){return(Vi&21)===0?(t.baseState&&(t.baseState=!1,Kt=!0),t.memoizedState=o):(Pn(o,r)||(o=Ei(),Je.lanes|=o,Ni|=o,t.baseState=!0),r)}function Hv(t,r){var o=Pe;Pe=o!==0&&4>o?o:4,t(!0);var u=Pc.transition;Pc.transition={};try{t(!1),r()}finally{Pe=o,Pc.transition=u}}function Kd(){return pn().memoizedState}function Wv(t,r,o){var u=Qr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Gd(t))Xd(r,o);else if(o=Rd(t,r,o,u),o!==null){var f=$t();Dn(o,t,u,f),Yd(o,r,u)}}function qv(t,r,o){var u=Qr(t),f={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Gd(t))Xd(r,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,S=p(_,o);if(f.hasEagerState=!0,f.eagerState=S,Pn(S,_)){var P=r.interleaved;P===null?(f.next=f,Tc(r)):(f.next=P.next,P.next=f),r.interleaved=f;return}}catch{}finally{}o=Rd(t,r,f,u),o!==null&&(f=$t(),Dn(o,t,u,f),Yd(o,r,u))}}function Gd(t){var r=t.alternate;return t===Je||r!==null&&r===Je}function Xd(t,r){Ho=Tl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Yd(t,r,o){if((o&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Nr(t,o)}}var Cl={readContext:dn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},Qv={readContext:dn,useCallback:function(t,r){return Hn().memoizedState=[t,r===void 0?null:r],t},useContext:dn,useEffect:bd,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,Sl(4194308,4,$d.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Sl(4194308,4,t,r)},useInsertionEffect:function(t,r){return Sl(4,2,t,r)},useMemo:function(t,r){var o=Hn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=Hn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=Wv.bind(null,Je,t),[u.memoizedState,t]},useRef:function(t){var r=Hn();return t={current:t},r.memoizedState=t},useState:jd,useDebugValue:Oc,useDeferredValue:function(t){return Hn().memoizedState=t},useTransition:function(){var t=jd(!1),r=t[0];return t=Hv.bind(null,t[1]),Hn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Je,f=Hn();if(Xe){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),wt===null)throw Error(n(349));(Vi&30)!==0||Dd(u,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,bd(Od.bind(null,u,p,t),[t]),u.flags|=2048,Qo(9,Ld.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=Hn(),r=wt.identifierPrefix;if(Xe){var o=gr,u=mr;o=(u&~(1<<32-bt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Wo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=$v++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Kv={readContext:dn,useCallback:Wd,useContext:dn,useEffect:Lc,useImperativeHandle:Hd,useInsertionEffect:zd,useLayoutEffect:Bd,useMemo:qd,useReducer:Nc,useRef:Ud,useState:function(){return Nc(qo)},useDebugValue:Oc,useDeferredValue:function(t){var r=pn();return Qd(r,dt.memoizedState,t)},useTransition:function(){var t=Nc(qo)[0],r=pn().memoizedState;return[t,r]},useMutableSource:Vd,useSyncExternalStore:Nd,useId:Kd,unstable_isNewReconciler:!1},Gv={readContext:dn,useCallback:Wd,useContext:dn,useEffect:Lc,useImperativeHandle:Hd,useInsertionEffect:zd,useLayoutEffect:Bd,useMemo:qd,useReducer:Dc,useRef:Ud,useState:function(){return Dc(qo)},useDebugValue:Oc,useDeferredValue:function(t){var r=pn();return dt===null?r.memoizedState=t:Qd(r,dt.memoizedState,t)},useTransition:function(){var t=Dc(qo)[0],r=pn().memoizedState;return[t,r]},useMutableSource:Vd,useSyncExternalStore:Nd,useId:Kd,unstable_isNewReconciler:!1};function xn(t,r){if(t&&t.defaultProps){r=se({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Mc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:se({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Rl={isMounted:function(t){return(t=t._reactInternals)?wn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=$t(),f=Qr(t),p=vr(u,f);p.payload=r,o!=null&&(p.callback=o),r=$r(t,p,f),r!==null&&(Dn(r,t,f,u),vl(r,t,f))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=$t(),f=Qr(t),p=vr(u,f);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=$r(t,p,f),r!==null&&(Dn(r,t,f,u),vl(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=$t(),u=Qr(t),f=vr(o,u);f.tag=2,r!=null&&(f.callback=r),r=$r(t,f,u),r!==null&&(Dn(r,t,u,o),vl(r,t,u))}};function Jd(t,r,o,u,f,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,_):r.prototype&&r.prototype.isPureReactComponent?!Do(o,u)||!Do(f,p):!0}function Zd(t,r,o){var u=!1,f=br,p=r.contextType;return typeof p=="object"&&p!==null?p=dn(p):(f=Qt(r)?Ri:Dt.current,u=r.contextTypes,p=(u=u!=null)?Rs(t,f):br),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Rl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=p),r}function ep(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&Rl.enqueueReplaceState(r,r.state,null)}function Fc(t,r,o,u){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs={},Sc(t);var p=r.contextType;typeof p=="object"&&p!==null?f.context=dn(p):(p=Qt(r)?Ri:Dt.current,f.context=Rs(t,p)),f.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Mc(t,r,p,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&Rl.enqueueReplaceState(f,f.state,null),_l(t,o,f,u),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function Ls(t,r){try{var o="",u=r;do o+=Se(u),u=u.return;while(u);var f=o}catch(p){f=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:f,digest:null}}function jc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Uc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Xv=typeof WeakMap=="function"?WeakMap:Map;function tp(t,r,o){o=vr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){Dl||(Dl=!0,eh=u),Uc(t,r)},o}function np(t,r,o){o=vr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var f=r.value;o.payload=function(){return u(f)},o.callback=function(){Uc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){Uc(t,r),typeof u!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function rp(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Xv;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(f.add(o),t=c_.bind(null,t,r,o),r.then(t,t))}function ip(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function sp(t,r,o,u,f){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=vr(-1,1),r.tag=2,$r(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=f,t)}var Yv=_e.ReactCurrentOwner,Kt=!1;function Bt(t,r,o,u){r.child=t===null?Cd(r,null,o,u):xs(r,t.child,o,u)}function op(t,r,o,u,f){o=o.render;var p=r.ref;return Ns(r,f),u=xc(t,r,o,u,p,f),o=Vc(),t!==null&&!Kt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,_r(t,r,f)):(Xe&&o&&dc(r),r.flags|=1,Bt(t,r,u,f),r.child)}function ap(t,r,o,u,f){if(t===null){var p=o.type;return typeof p=="function"&&!ah(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,lp(t,r,p,u,f)):(t=Ul(o.type,null,u,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,(t.lanes&f)===0){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:Do,o(_,u)&&t.ref===r.ref)return _r(t,r,f)}return r.flags|=1,t=Gr(p,u),t.ref=r.ref,t.return=r,r.child=t}function lp(t,r,o,u,f){if(t!==null){var p=t.memoizedProps;if(Do(p,u)&&t.ref===r.ref)if(Kt=!1,r.pendingProps=u=p,(t.lanes&f)!==0)(t.flags&131072)!==0&&(Kt=!0);else return r.lanes=t.lanes,_r(t,r,f)}return bc(t,r,o,u,f)}function up(t,r,o){var u=r.pendingProps,f=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Ms,on),on|=o;else{if((o&1073741824)===0)return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,He(Ms,on),on|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,He(Ms,on),on|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,He(Ms,on),on|=u;return Bt(t,r,f,o),r.child}function cp(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function bc(t,r,o,u,f){var p=Qt(o)?Ri:Dt.current;return p=Rs(r,p),Ns(r,f),o=xc(t,r,o,u,p,f),u=Vc(),t!==null&&!Kt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,_r(t,r,f)):(Xe&&u&&dc(r),r.flags|=1,Bt(t,r,o,f),r.child)}function hp(t,r,o,u,f){if(Qt(o)){var p=!0;cl(r)}else p=!1;if(Ns(r,f),r.stateNode===null)Pl(t,r),Zd(r,o,u),Fc(r,o,u,f),u=!0;else if(t===null){var _=r.stateNode,S=r.memoizedProps;_.props=S;var P=_.context,j=o.contextType;typeof j=="object"&&j!==null?j=dn(j):(j=Qt(o)?Ri:Dt.current,j=Rs(r,j));var Y=o.getDerivedStateFromProps,J=typeof Y=="function"||typeof _.getSnapshotBeforeUpdate=="function";J||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==u||P!==j)&&ep(r,_,u,j),Br=!1;var G=r.memoizedState;_.state=G,_l(r,u,_,f),P=r.memoizedState,S!==u||G!==P||qt.current||Br?(typeof Y=="function"&&(Mc(r,o,Y,u),P=r.memoizedState),(S=Br||Jd(r,o,S,u,G,P,j))?(J||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=P),_.props=u,_.state=P,_.context=j,u=S):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,Ad(t,r),S=r.memoizedProps,j=r.type===r.elementType?S:xn(r.type,S),_.props=j,J=r.pendingProps,G=_.context,P=o.contextType,typeof P=="object"&&P!==null?P=dn(P):(P=Qt(o)?Ri:Dt.current,P=Rs(r,P));var ie=o.getDerivedStateFromProps;(Y=typeof ie=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==J||G!==P)&&ep(r,_,u,P),Br=!1,G=r.memoizedState,_.state=G,_l(r,u,_,f);var le=r.memoizedState;S!==J||G!==le||qt.current||Br?(typeof ie=="function"&&(Mc(r,o,ie,u),le=r.memoizedState),(j=Br||Jd(r,o,j,u,G,le,P)||!1)?(Y||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,le,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,le,P)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=le),_.props=u,_.state=le,_.context=P,u=j):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),u=!1)}return zc(t,r,o,u,p,f)}function zc(t,r,o,u,f,p){cp(t,r);var _=(r.flags&128)!==0;if(!u&&!_)return f&&gd(r,o,!1),_r(t,r,p);u=r.stateNode,Yv.current=r;var S=_&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&_?(r.child=xs(r,t.child,null,p),r.child=xs(r,null,S,p)):Bt(t,r,S,p),r.memoizedState=u.state,f&&gd(r,o,!0),r.child}function fp(t){var r=t.stateNode;r.pendingContext?pd(t,r.pendingContext,r.pendingContext!==r.context):r.context&&pd(t,r.context,!1),Ic(t,r.containerInfo)}function dp(t,r,o,u,f){return ks(),yc(f),r.flags|=256,Bt(t,r,o,u),r.child}var Bc={dehydrated:null,treeContext:null,retryLane:0};function $c(t){return{baseLanes:t,cachePool:null,transitions:null}}function pp(t,r,o){var u=r.pendingProps,f=Ye.current,p=!1,_=(r.flags&128)!==0,S;if((S=_)||(S=t!==null&&t.memoizedState===null?!1:(f&2)!==0),S?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),He(Ye,f&1),t===null)return gc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(_=u.children,t=u.fallback,p?(u=r.mode,p=r.child,_={mode:"hidden",children:_},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=_):p=bl(_,u,0,null),t=Mi(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=$c(o),r.memoizedState=Bc,t):Hc(r,_));if(f=t.memoizedState,f!==null&&(S=f.dehydrated,S!==null))return Jv(t,r,_,u,S,f,o);if(p){p=u.fallback,_=r.mode,f=t.child,S=f.sibling;var P={mode:"hidden",children:u.children};return(_&1)===0&&r.child!==f?(u=r.child,u.childLanes=0,u.pendingProps=P,r.deletions=null):(u=Gr(f,P),u.subtreeFlags=f.subtreeFlags&14680064),S!==null?p=Gr(S,p):(p=Mi(p,_,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,_=t.child.memoizedState,_=_===null?$c(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=t.childLanes&~o,r.memoizedState=Bc,u}return p=t.child,t=p.sibling,u=Gr(p,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Hc(t,r){return r=bl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Al(t,r,o,u){return u!==null&&yc(u),xs(r,t.child,null,o),t=Hc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Jv(t,r,o,u,f,p,_){if(o)return r.flags&256?(r.flags&=-257,u=jc(Error(n(422))),Al(t,r,_,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,f=r.mode,u=bl({mode:"visible",children:u.children},f,0,null),p=Mi(p,f,_,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,(r.mode&1)!==0&&xs(r,t.child,null,_),r.child.memoizedState=$c(_),r.memoizedState=Bc,p);if((r.mode&1)===0)return Al(t,r,_,null);if(f.data==="$!"){if(u=f.nextSibling&&f.nextSibling.dataset,u)var S=u.dgst;return u=S,p=Error(n(419)),u=jc(p,u,void 0),Al(t,r,_,u)}if(S=(_&t.childLanes)!==0,Kt||S){if(u=wt,u!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(u.suspendedLanes|_))!==0?0:f,f!==0&&f!==p.retryLane&&(p.retryLane=f,yr(t,f),Dn(u,t,f,-1))}return oh(),u=jc(Error(n(421))),Al(t,r,_,u)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=h_.bind(null,t),f._reactRetry=r,null):(t=p.treeContext,sn=jr(f.nextSibling),rn=r,Xe=!0,kn=null,t!==null&&(hn[fn++]=mr,hn[fn++]=gr,hn[fn++]=Ai,mr=t.id,gr=t.overflow,Ai=r),r=Hc(r,u.children),r.flags|=4096,r)}function mp(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),wc(t.return,r,o)}function Wc(t,r,o,u,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=f)}function gp(t,r,o){var u=r.pendingProps,f=u.revealOrder,p=u.tail;if(Bt(t,r,u.children,o),u=Ye.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mp(t,o,r);else if(t.tag===19)mp(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(He(Ye,u),(r.mode&1)===0)r.memoizedState=null;else switch(f){case"forwards":for(o=r.child,f=null;o!==null;)t=o.alternate,t!==null&&El(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Wc(r,!1,f,o,p);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&El(t)===null){r.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}Wc(r,!0,o,null,p);break;case"together":Wc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Pl(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function _r(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ni|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Gr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Gr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Zv(t,r,o){switch(r.tag){case 3:fp(r),ks();break;case 5:xd(r);break;case 1:Qt(r.type)&&cl(r);break;case 4:Ic(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,f=r.memoizedProps.value;He(gl,u._currentValue),u._currentValue=f;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(He(Ye,Ye.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?pp(t,r,o):(He(Ye,Ye.current&1),t=_r(t,r,o),t!==null?t.sibling:null);He(Ye,Ye.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(t.flags&128)!==0){if(u)return gp(t,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),He(Ye,Ye.current),u)break;return null;case 22:case 23:return r.lanes=0,up(t,r,o)}return _r(t,r,o)}var yp,qc,vp,_p;yp=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},qc=function(){},vp=function(t,r,o,u){var f=t.memoizedProps;if(f!==u){t=r.stateNode,xi($n.current);var p=null;switch(o){case"input":f=ui(t,f),u=ui(t,u),p=[];break;case"select":f=se({},f,{value:void 0}),u=se({},u,{value:void 0}),p=[];break;case"textarea":f=ao(t,f),u=ao(t,u),p=[];break;default:typeof f.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=al)}po(o,u);var _;o=null;for(j in f)if(!u.hasOwnProperty(j)&&f.hasOwnProperty(j)&&f[j]!=null)if(j==="style"){var S=f[j];for(_ in S)S.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(a.hasOwnProperty(j)?p||(p=[]):(p=p||[]).push(j,null));for(j in u){var P=u[j];if(S=f?.[j],u.hasOwnProperty(j)&&P!==S&&(P!=null||S!=null))if(j==="style")if(S){for(_ in S)!S.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in P)P.hasOwnProperty(_)&&S[_]!==P[_]&&(o||(o={}),o[_]=P[_])}else o||(p||(p=[]),p.push(j,o)),o=P;else j==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,S=S?S.__html:void 0,P!=null&&S!==P&&(p=p||[]).push(j,P)):j==="children"?typeof P!="string"&&typeof P!="number"||(p=p||[]).push(j,""+P):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(a.hasOwnProperty(j)?(P!=null&&j==="onScroll"&&We("scroll",t),p||S===P||(p=[])):(p=p||[]).push(j,P))}o&&(p=p||[]).push("style",o);var j=p;(r.updateQueue=j)&&(r.flags|=4)}},_p=function(t,r,o,u){o!==u&&(r.flags|=4)};function Ko(t,r){if(!Xe)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Ot(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&14680064,u|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function e_(t,r,o){var u=r.pendingProps;switch(pc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(r),null;case 1:return Qt(r.type)&&ul(),Ot(r),null;case 3:return u=r.stateNode,Ds(),qe(qt),qe(Dt),Ac(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(pl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,kn!==null&&(rh(kn),kn=null))),qc(t,r),Ot(r),null;case 5:Cc(r);var f=xi($o.current);if(o=r.type,t!==null&&r.stateNode!=null)vp(t,r,o,u,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Ot(r),null}if(t=xi($n.current),pl(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[Bn]=r,u[jo]=p,t=(r.mode&1)!==0,o){case"dialog":We("cancel",u),We("close",u);break;case"iframe":case"object":case"embed":We("load",u);break;case"video":case"audio":for(f=0;f<Oo.length;f++)We(Oo[f],u);break;case"source":We("error",u);break;case"img":case"image":case"link":We("error",u),We("load",u);break;case"details":We("toggle",u);break;case"input":Ki(u,p),We("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},We("invalid",u);break;case"textarea":Xi(u,p),We("invalid",u)}po(o,p),f=null;for(var _ in p)if(p.hasOwnProperty(_)){var S=p[_];_==="children"?typeof S=="string"?u.textContent!==S&&(p.suppressHydrationWarning!==!0&&ol(u.textContent,S,t),f=["children",S]):typeof S=="number"&&u.textContent!==""+S&&(p.suppressHydrationWarning!==!0&&ol(u.textContent,S,t),f=["children",""+S]):a.hasOwnProperty(_)&&S!=null&&_==="onScroll"&&We("scroll",u)}switch(o){case"input":rr(u),Na(u,p,!0);break;case"textarea":rr(u),lo(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=al)}u=f,r.updateQueue=u,u!==null&&(r.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ct(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=_.createElement(o,{is:u.is}):(t=_.createElement(o),o==="select"&&(_=t,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):t=_.createElementNS(t,o),t[Bn]=r,t[jo]=u,yp(t,r,!1,!1),r.stateNode=t;e:{switch(_=mo(o,u),o){case"dialog":We("cancel",t),We("close",t),f=u;break;case"iframe":case"object":case"embed":We("load",t),f=u;break;case"video":case"audio":for(f=0;f<Oo.length;f++)We(Oo[f],t);f=u;break;case"source":We("error",t),f=u;break;case"img":case"image":case"link":We("error",t),We("load",t),f=u;break;case"details":We("toggle",t),f=u;break;case"input":Ki(t,u),f=ui(t,u),We("invalid",t);break;case"option":f=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},f=se({},u,{value:void 0}),We("invalid",t);break;case"textarea":Xi(t,u),f=ao(t,u),We("invalid",t);break;default:f=u}po(o,f),S=f;for(p in S)if(S.hasOwnProperty(p)){var P=S[p];p==="style"?ho(t,P):p==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&uo(t,P)):p==="children"?typeof P=="string"?(o!=="textarea"||P!=="")&&Ar(t,P):typeof P=="number"&&Ar(t,""+P):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?P!=null&&p==="onScroll"&&We("scroll",t):P!=null&&ne(t,p,P,_))}switch(o){case"input":rr(t),Na(t,u,!1);break;case"textarea":rr(t),lo(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Fe(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?sr(t,!!u.multiple,p,!1):u.defaultValue!=null&&sr(t,!!u.multiple,u.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=al)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Ot(r),null;case 6:if(t&&r.stateNode!=null)_p(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=xi($o.current),xi($n.current),pl(r)){if(u=r.stateNode,o=r.memoizedProps,u[Bn]=r,(p=u.nodeValue!==o)&&(t=rn,t!==null))switch(t.tag){case 3:ol(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ol(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Bn]=r,r.stateNode=u}return Ot(r),null;case 13:if(qe(Ye),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&sn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Td(),ks(),r.flags|=98560,p=!1;else if(p=pl(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Bn]=r}else ks(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ot(r),p=!1}else kn!==null&&(rh(kn),kn=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Ye.current&1)!==0?pt===0&&(pt=3):oh())),r.updateQueue!==null&&(r.flags|=4),Ot(r),null);case 4:return Ds(),qc(t,r),t===null&&Mo(r.stateNode.containerInfo),Ot(r),null;case 10:return Ec(r.type._context),Ot(r),null;case 17:return Qt(r.type)&&ul(),Ot(r),null;case 19:if(qe(Ye),p=r.memoizedState,p===null)return Ot(r),null;if(u=(r.flags&128)!==0,_=p.rendering,_===null)if(u)Ko(p,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(_=El(t),_!==null){for(r.flags|=128,Ko(p,!1),u=_.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,t=_.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return He(Ye,Ye.current&1|2),r.child}t=t.sibling}p.tail!==null&&$e()>Fs&&(r.flags|=128,u=!0,Ko(p,!1),r.lanes=4194304)}else{if(!u)if(t=El(_),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Ko(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Xe)return Ot(r),null}else 2*$e()-p.renderingStartTime>Fs&&o!==1073741824&&(r.flags|=128,u=!0,Ko(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(o=p.last,o!==null?o.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=$e(),r.sibling=null,o=Ye.current,He(Ye,u?o&1|2:o&1),r):(Ot(r),null);case 22:case 23:return sh(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(on&1073741824)!==0&&(Ot(r),r.subtreeFlags&6&&(r.flags|=8192)):Ot(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function t_(t,r){switch(pc(r),r.tag){case 1:return Qt(r.type)&&ul(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ds(),qe(qt),qe(Dt),Ac(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return Cc(r),null;case 13:if(qe(Ye),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));ks()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return qe(Ye),null;case 4:return Ds(),null;case 10:return Ec(r.type._context),null;case 22:case 23:return sh(),null;case 24:return null;default:return null}}var kl=!1,Mt=!1,n_=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Os(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){tt(t,r,u)}else o.current=null}function Qc(t,r,o){try{o()}catch(u){tt(t,r,u)}}var Ep=!1;function r_(t,r){if(sc=Or,t=Jf(),Yu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,S=-1,P=-1,j=0,Y=0,J=t,G=null;t:for(;;){for(var ie;J!==o||f!==0&&J.nodeType!==3||(S=_+f),J!==p||u!==0&&J.nodeType!==3||(P=_+u),J.nodeType===3&&(_+=J.nodeValue.length),(ie=J.firstChild)!==null;)G=J,J=ie;for(;;){if(J===t)break t;if(G===o&&++j===f&&(S=_),G===p&&++Y===u&&(P=_),(ie=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=ie}o=S===-1||P===-1?null:{start:S,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(oc={focusedElem:t,selectionRange:o},Or=!1,ae=r;ae!==null;)if(r=ae,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ae=t;else for(;ae!==null;){r=ae;try{var le=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ue=le.memoizedProps,it=le.memoizedState,M=r.stateNode,x=M.getSnapshotBeforeUpdate(r.elementType===r.type?ue:xn(r.type,ue),it);M.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var F=r.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Z){tt(r,r.return,Z)}if(t=r.sibling,t!==null){t.return=r.return,ae=t;break}ae=r.return}return le=Ep,Ep=!1,le}function Go(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&t)===t){var p=f.destroy;f.destroy=void 0,p!==void 0&&Qc(r,o,p)}f=f.next}while(f!==u)}}function xl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Kc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function wp(t){var r=t.alternate;r!==null&&(t.alternate=null,wp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Bn],delete r[jo],delete r[cc],delete r[Uv],delete r[bv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Tp(t){return t.tag===5||t.tag===3||t.tag===4}function Sp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Tp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=al));else if(u!==4&&(t=t.child,t!==null))for(Gc(t,r,o),t=t.sibling;t!==null;)Gc(t,r,o),t=t.sibling}function Xc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Xc(t,r,o),t=t.sibling;t!==null;)Xc(t,r,o),t=t.sibling}var Rt=null,Vn=!1;function Hr(t,r,o){for(o=o.child;o!==null;)Ip(t,r,o),o=o.sibling}function Ip(t,r,o){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(vi,o)}catch{}switch(o.tag){case 5:Mt||Os(o,r);case 6:var u=Rt,f=Vn;Rt=null,Hr(t,r,o),Rt=u,Vn=f,Rt!==null&&(Vn?(t=Rt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Rt.removeChild(o.stateNode));break;case 18:Rt!==null&&(Vn?(t=Rt,o=o.stateNode,t.nodeType===8?uc(t.parentNode,o):t.nodeType===1&&uc(t,o),Rn(t)):uc(Rt,o.stateNode));break;case 4:u=Rt,f=Vn,Rt=o.stateNode.containerInfo,Vn=!0,Hr(t,r,o),Rt=u,Vn=f;break;case 0:case 11:case 14:case 15:if(!Mt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){f=u=u.next;do{var p=f,_=p.destroy;p=p.tag,_!==void 0&&((p&2)!==0||(p&4)!==0)&&Qc(o,r,_),f=f.next}while(f!==u)}Hr(t,r,o);break;case 1:if(!Mt&&(Os(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(S){tt(o,r,S)}Hr(t,r,o);break;case 21:Hr(t,r,o);break;case 22:o.mode&1?(Mt=(u=Mt)||o.memoizedState!==null,Hr(t,r,o),Mt=u):Hr(t,r,o);break;default:Hr(t,r,o)}}function Cp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new n_),r.forEach(function(u){var f=f_.bind(null,t,u);o.has(u)||(o.add(u),u.then(f,f))})}}function Nn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];try{var p=t,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 5:Rt=S.stateNode,Vn=!1;break e;case 3:Rt=S.stateNode.containerInfo,Vn=!0;break e;case 4:Rt=S.stateNode.containerInfo,Vn=!0;break e}S=S.return}if(Rt===null)throw Error(n(160));Ip(p,_,f),Rt=null,Vn=!1;var P=f.alternate;P!==null&&(P.return=null),f.return=null}catch(j){tt(f,r,j)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Rp(r,t),r=r.sibling}function Rp(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(r,t),Wn(t),u&4){try{Go(3,t,t.return),xl(3,t)}catch(ue){tt(t,t.return,ue)}try{Go(5,t,t.return)}catch(ue){tt(t,t.return,ue)}}break;case 1:Nn(r,t),Wn(t),u&512&&o!==null&&Os(o,o.return);break;case 5:if(Nn(r,t),Wn(t),u&512&&o!==null&&Os(o,o.return),t.flags&32){var f=t.stateNode;try{Ar(f,"")}catch(ue){tt(t,t.return,ue)}}if(u&4&&(f=t.stateNode,f!=null)){var p=t.memoizedProps,_=o!==null?o.memoizedProps:p,S=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{S==="input"&&p.type==="radio"&&p.name!=null&&so(f,p),mo(S,_);var j=mo(S,p);for(_=0;_<P.length;_+=2){var Y=P[_],J=P[_+1];Y==="style"?ho(f,J):Y==="dangerouslySetInnerHTML"?uo(f,J):Y==="children"?Ar(f,J):ne(f,Y,J,j)}switch(S){case"input":oo(f,p);break;case"textarea":Yi(f,p);break;case"select":var G=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!p.multiple;var ie=p.value;ie!=null?sr(f,!!p.multiple,ie,!1):G!==!!p.multiple&&(p.defaultValue!=null?sr(f,!!p.multiple,p.defaultValue,!0):sr(f,!!p.multiple,p.multiple?[]:"",!1))}f[jo]=p}catch(ue){tt(t,t.return,ue)}}break;case 6:if(Nn(r,t),Wn(t),u&4){if(t.stateNode===null)throw Error(n(162));f=t.stateNode,p=t.memoizedProps;try{f.nodeValue=p}catch(ue){tt(t,t.return,ue)}}break;case 3:if(Nn(r,t),Wn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Rn(r.containerInfo)}catch(ue){tt(t,t.return,ue)}break;case 4:Nn(r,t),Wn(t);break;case 13:Nn(r,t),Wn(t),f=t.child,f.flags&8192&&(p=f.memoizedState!==null,f.stateNode.isHidden=p,!p||f.alternate!==null&&f.alternate.memoizedState!==null||(Zc=$e())),u&4&&Cp(t);break;case 22:if(Y=o!==null&&o.memoizedState!==null,t.mode&1?(Mt=(j=Mt)||Y,Nn(r,t),Mt=j):Nn(r,t),Wn(t),u&8192){if(j=t.memoizedState!==null,(t.stateNode.isHidden=j)&&!Y&&(t.mode&1)!==0)for(ae=t,Y=t.child;Y!==null;){for(J=ae=Y;ae!==null;){switch(G=ae,ie=G.child,G.tag){case 0:case 11:case 14:case 15:Go(4,G,G.return);break;case 1:Os(G,G.return);var le=G.stateNode;if(typeof le.componentWillUnmount=="function"){u=G,o=G.return;try{r=u,le.props=r.memoizedProps,le.state=r.memoizedState,le.componentWillUnmount()}catch(ue){tt(u,o,ue)}}break;case 5:Os(G,G.return);break;case 22:if(G.memoizedState!==null){kp(J);continue}}ie!==null?(ie.return=G,ae=ie):kp(J)}Y=Y.sibling}e:for(Y=null,J=t;;){if(J.tag===5){if(Y===null){Y=J;try{f=J.stateNode,j?(p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(S=J.stateNode,P=J.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,S.style.display=co("display",_))}catch(ue){tt(t,t.return,ue)}}}else if(J.tag===6){if(Y===null)try{J.stateNode.nodeValue=j?"":J.memoizedProps}catch(ue){tt(t,t.return,ue)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===t)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===t)break e;for(;J.sibling===null;){if(J.return===null||J.return===t)break e;Y===J&&(Y=null),J=J.return}Y===J&&(Y=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Nn(r,t),Wn(t),u&4&&Cp(t);break;case 21:break;default:Nn(r,t),Wn(t)}}function Wn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Tp(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var f=u.stateNode;u.flags&32&&(Ar(f,""),u.flags&=-33);var p=Sp(t);Xc(t,p,f);break;case 3:case 4:var _=u.stateNode.containerInfo,S=Sp(t);Gc(t,S,_);break;default:throw Error(n(161))}}catch(P){tt(t,t.return,P)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function i_(t,r,o){ae=t,Ap(t)}function Ap(t,r,o){for(var u=(t.mode&1)!==0;ae!==null;){var f=ae,p=f.child;if(f.tag===22&&u){var _=f.memoizedState!==null||kl;if(!_){var S=f.alternate,P=S!==null&&S.memoizedState!==null||Mt;S=kl;var j=Mt;if(kl=_,(Mt=P)&&!j)for(ae=f;ae!==null;)_=ae,P=_.child,_.tag===22&&_.memoizedState!==null?xp(f):P!==null?(P.return=_,ae=P):xp(f);for(;p!==null;)ae=p,Ap(p),p=p.sibling;ae=f,kl=S,Mt=j}Pp(t)}else(f.subtreeFlags&8772)!==0&&p!==null?(p.return=f,ae=p):Pp(t)}}function Pp(t){for(;ae!==null;){var r=ae;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Mt||xl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Mt)if(o===null)u.componentDidMount();else{var f=r.elementType===r.type?o.memoizedProps:xn(r.type,o.memoizedProps);u.componentDidUpdate(f,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&kd(r,p,u);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}kd(r,_,o)}break;case 5:var S=r.stateNode;if(o===null&&r.flags&4){o=S;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&o.focus();break;case"img":P.src&&(o.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var j=r.alternate;if(j!==null){var Y=j.memoizedState;if(Y!==null){var J=Y.dehydrated;J!==null&&Rn(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Mt||r.flags&512&&Kc(r)}catch(G){tt(r,r.return,G)}}if(r===t){ae=null;break}if(o=r.sibling,o!==null){o.return=r.return,ae=o;break}ae=r.return}}function kp(t){for(;ae!==null;){var r=ae;if(r===t){ae=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ae=o;break}ae=r.return}}function xp(t){for(;ae!==null;){var r=ae;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{xl(4,r)}catch(P){tt(r,o,P)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var f=r.return;try{u.componentDidMount()}catch(P){tt(r,f,P)}}var p=r.return;try{Kc(r)}catch(P){tt(r,p,P)}break;case 5:var _=r.return;try{Kc(r)}catch(P){tt(r,_,P)}}}catch(P){tt(r,r.return,P)}if(r===t){ae=null;break}var S=r.sibling;if(S!==null){S.return=r.return,ae=S;break}ae=r.return}}var s_=Math.ceil,Vl=_e.ReactCurrentDispatcher,Yc=_e.ReactCurrentOwner,mn=_e.ReactCurrentBatchConfig,Le=0,wt=null,at=null,At=0,on=0,Ms=Ur(0),pt=0,Xo=null,Ni=0,Nl=0,Jc=0,Yo=null,Gt=null,Zc=0,Fs=1/0,Er=null,Dl=!1,eh=null,Wr=null,Ll=!1,qr=null,Ol=0,Jo=0,th=null,Ml=-1,Fl=0;function $t(){return(Le&6)!==0?$e():Ml!==-1?Ml:Ml=$e()}function Qr(t){return(t.mode&1)===0?1:(Le&2)!==0&&At!==0?At&-At:Bv.transition!==null?(Fl===0&&(Fl=Ei()),Fl):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:Ro(t.type)),t)}function Dn(t,r,o,u){if(50<Jo)throw Jo=0,th=null,Error(n(185));Vr(t,o,u),((Le&2)===0||t!==wt)&&(t===wt&&((Le&2)===0&&(Nl|=o),pt===4&&Kr(t,At)),Xt(t,u),o===1&&Le===0&&(r.mode&1)===0&&(Fs=$e()+500,hl&&zr()))}function Xt(t,r){var o=t.callbackNode;lr(t,r);var u=_i(t,t===wt?At:0);if(u===0)o!==null&&wo(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&wo(o),r===1)t.tag===0?zv(Np.bind(null,t)):yd(Np.bind(null,t)),Fv(function(){(Le&6)===0&&zr()}),o=null;else{switch(Dr(u)){case 1:o=yi;break;case 4:o=Pr;break;case 16:o=ln;break;case 536870912:o=Fa;break;default:o=ln}o=bp(o,Vp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Vp(t,r){if(Ml=-1,Fl=0,(Le&6)!==0)throw Error(n(327));var o=t.callbackNode;if(js()&&t.callbackNode!==o)return null;var u=_i(t,t===wt?At:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=jl(t,u);else{r=u;var f=Le;Le|=2;var p=Lp();(wt!==t||At!==r)&&(Er=null,Fs=$e()+500,Li(t,r));do try{l_();break}catch(S){Dp(t,S)}while(!0);_c(),Vl.current=p,Le=f,at!==null?r=0:(wt=null,At=0,r=pt)}if(r!==0){if(r===2&&(f=en(t),f!==0&&(u=f,r=nh(t,f))),r===1)throw o=Xo,Li(t,0),Kr(t,u),Xt(t,$e()),o;if(r===6)Kr(t,u);else{if(f=t.current.alternate,(u&30)===0&&!o_(f)&&(r=jl(t,u),r===2&&(p=en(t),p!==0&&(u=p,r=nh(t,p))),r===1))throw o=Xo,Li(t,0),Kr(t,u),Xt(t,$e()),o;switch(t.finishedWork=f,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Oi(t,Gt,Er);break;case 3:if(Kr(t,u),(u&130023424)===u&&(r=Zc+500-$e(),10<r)){if(_i(t,0)!==0)break;if(f=t.suspendedLanes,(f&u)!==u){$t(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=lc(Oi.bind(null,t,Gt,Er),r);break}Oi(t,Gt,Er);break;case 4:if(Kr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,f=-1;0<u;){var _=31-bt(u);p=1<<_,_=r[_],_>f&&(f=_),u&=~p}if(u=f,u=$e()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*s_(u/1960))-u,10<u){t.timeoutHandle=lc(Oi.bind(null,t,Gt,Er),u);break}Oi(t,Gt,Er);break;case 5:Oi(t,Gt,Er);break;default:throw Error(n(329))}}}return Xt(t,$e()),t.callbackNode===o?Vp.bind(null,t):null}function nh(t,r){var o=Yo;return t.current.memoizedState.isDehydrated&&(Li(t,r).flags|=256),t=jl(t,r),t!==2&&(r=Gt,Gt=o,r!==null&&rh(r)),t}function rh(t){Gt===null?Gt=t:Gt.push.apply(Gt,t)}function o_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!Pn(p(),f))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Kr(t,r){for(r&=~Jc,r&=~Nl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-bt(r),u=1<<o;t[o]=-1,r&=~u}}function Np(t){if((Le&6)!==0)throw Error(n(327));js();var r=_i(t,0);if((r&1)===0)return Xt(t,$e()),null;var o=jl(t,r);if(t.tag!==0&&o===2){var u=en(t);u!==0&&(r=u,o=nh(t,u))}if(o===1)throw o=Xo,Li(t,0),Kr(t,r),Xt(t,$e()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Oi(t,Gt,Er),Xt(t,$e()),null}function ih(t,r){var o=Le;Le|=1;try{return t(r)}finally{Le=o,Le===0&&(Fs=$e()+500,hl&&zr())}}function Di(t){qr!==null&&qr.tag===0&&(Le&6)===0&&js();var r=Le;Le|=1;var o=mn.transition,u=Pe;try{if(mn.transition=null,Pe=1,t)return t()}finally{Pe=u,mn.transition=o,Le=r,(Le&6)===0&&zr()}}function sh(){on=Ms.current,qe(Ms)}function Li(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Mv(o)),at!==null)for(o=at.return;o!==null;){var u=o;switch(pc(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&ul();break;case 3:Ds(),qe(qt),qe(Dt),Ac();break;case 5:Cc(u);break;case 4:Ds();break;case 13:qe(Ye);break;case 19:qe(Ye);break;case 10:Ec(u.type._context);break;case 22:case 23:sh()}o=o.return}if(wt=t,at=t=Gr(t.current,null),At=on=r,pt=0,Xo=null,Jc=Nl=Ni=0,Gt=Yo=null,ki!==null){for(r=0;r<ki.length;r++)if(o=ki[r],u=o.interleaved,u!==null){o.interleaved=null;var f=u.next,p=o.pending;if(p!==null){var _=p.next;p.next=f,u.next=_}o.pending=u}ki=null}return t}function Dp(t,r){do{var o=at;try{if(_c(),wl.current=Cl,Tl){for(var u=Je.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}Tl=!1}if(Vi=0,Et=dt=Je=null,Ho=!1,Wo=0,Yc.current=null,o===null||o.return===null){pt=1,Xo=r,at=null;break}e:{var p=t,_=o.return,S=o,P=r;if(r=At,S.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var j=P,Y=S,J=Y.tag;if((Y.mode&1)===0&&(J===0||J===11||J===15)){var G=Y.alternate;G?(Y.updateQueue=G.updateQueue,Y.memoizedState=G.memoizedState,Y.lanes=G.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ie=ip(_);if(ie!==null){ie.flags&=-257,sp(ie,_,S,p,r),ie.mode&1&&rp(p,j,r),r=ie,P=j;var le=r.updateQueue;if(le===null){var ue=new Set;ue.add(P),r.updateQueue=ue}else le.add(P);break e}else{if((r&1)===0){rp(p,j,r),oh();break e}P=Error(n(426))}}else if(Xe&&S.mode&1){var it=ip(_);if(it!==null){(it.flags&65536)===0&&(it.flags|=256),sp(it,_,S,p,r),yc(Ls(P,S));break e}}p=P=Ls(P,S),pt!==4&&(pt=2),Yo===null?Yo=[p]:Yo.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var M=tp(p,P,r);Pd(p,M);break e;case 1:S=P;var x=p.type,F=p.stateNode;if((p.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Wr===null||!Wr.has(F)))){p.flags|=65536,r&=-r,p.lanes|=r;var Z=np(p,S,r);Pd(p,Z);break e}}p=p.return}while(p!==null)}Mp(o)}catch(ce){r=ce,at===o&&o!==null&&(at=o=o.return);continue}break}while(!0)}function Lp(){var t=Vl.current;return Vl.current=Cl,t===null?Cl:t}function oh(){(pt===0||pt===3||pt===2)&&(pt=4),wt===null||(Ni&268435455)===0&&(Nl&268435455)===0||Kr(wt,At)}function jl(t,r){var o=Le;Le|=2;var u=Lp();(wt!==t||At!==r)&&(Er=null,Li(t,r));do try{a_();break}catch(f){Dp(t,f)}while(!0);if(_c(),Le=o,Vl.current=u,at!==null)throw Error(n(261));return wt=null,At=0,pt}function a_(){for(;at!==null;)Op(at)}function l_(){for(;at!==null&&!Oa();)Op(at)}function Op(t){var r=Up(t.alternate,t,on);t.memoizedProps=t.pendingProps,r===null?Mp(t):at=r,Yc.current=null}function Mp(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=e_(o,r,on),o!==null){at=o;return}}else{if(o=t_(o,r),o!==null){o.flags&=32767,at=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,at=null;return}}if(r=r.sibling,r!==null){at=r;return}at=r=t}while(r!==null);pt===0&&(pt=5)}function Oi(t,r,o){var u=Pe,f=mn.transition;try{mn.transition=null,Pe=1,u_(t,r,o,u)}finally{mn.transition=f,Pe=u}return null}function u_(t,r,o,u){do js();while(qr!==null);if((Le&6)!==0)throw Error(n(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(ze(t,p),t===wt&&(at=wt=null,At=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Ll||(Ll=!0,bp(ln,function(){return js(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=mn.transition,mn.transition=null;var _=Pe;Pe=1;var S=Le;Le|=4,Yc.current=null,r_(t,o),Rp(o,t),kv(oc),Or=!!sc,oc=sc=null,t.current=o,i_(o),$u(),Le=S,Pe=_,mn.transition=p}else t.current=o;if(Ll&&(Ll=!1,qr=t,Ol=f),p=t.pendingLanes,p===0&&(Wr=null),ja(o.stateNode),Xt(t,$e()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)f=r[o],u(f.value,{componentStack:f.stack,digest:f.digest});if(Dl)throw Dl=!1,t=eh,eh=null,t;return(Ol&1)!==0&&t.tag!==0&&js(),p=t.pendingLanes,(p&1)!==0?t===th?Jo++:(Jo=0,th=t):Jo=0,zr(),null}function js(){if(qr!==null){var t=Dr(Ol),r=mn.transition,o=Pe;try{if(mn.transition=null,Pe=16>t?16:t,qr===null)var u=!1;else{if(t=qr,qr=null,Ol=0,(Le&6)!==0)throw Error(n(331));var f=Le;for(Le|=4,ae=t.current;ae!==null;){var p=ae,_=p.child;if((ae.flags&16)!==0){var S=p.deletions;if(S!==null){for(var P=0;P<S.length;P++){var j=S[P];for(ae=j;ae!==null;){var Y=ae;switch(Y.tag){case 0:case 11:case 15:Go(8,Y,p)}var J=Y.child;if(J!==null)J.return=Y,ae=J;else for(;ae!==null;){Y=ae;var G=Y.sibling,ie=Y.return;if(wp(Y),Y===j){ae=null;break}if(G!==null){G.return=ie,ae=G;break}ae=ie}}}var le=p.alternate;if(le!==null){var ue=le.child;if(ue!==null){le.child=null;do{var it=ue.sibling;ue.sibling=null,ue=it}while(ue!==null)}}ae=p}}if((p.subtreeFlags&2064)!==0&&_!==null)_.return=p,ae=_;else e:for(;ae!==null;){if(p=ae,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Go(9,p,p.return)}var M=p.sibling;if(M!==null){M.return=p.return,ae=M;break e}ae=p.return}}var x=t.current;for(ae=x;ae!==null;){_=ae;var F=_.child;if((_.subtreeFlags&2064)!==0&&F!==null)F.return=_,ae=F;else e:for(_=x;ae!==null;){if(S=ae,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:xl(9,S)}}catch(ce){tt(S,S.return,ce)}if(S===_){ae=null;break e}var Z=S.sibling;if(Z!==null){Z.return=S.return,ae=Z;break e}ae=S.return}}if(Le=f,zr(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(vi,t)}catch{}u=!0}return u}finally{Pe=o,mn.transition=r}}return!1}function Fp(t,r,o){r=Ls(o,r),r=tp(t,r,1),t=$r(t,r,1),r=$t(),t!==null&&(Vr(t,1,r),Xt(t,r))}function tt(t,r,o){if(t.tag===3)Fp(t,t,o);else for(;r!==null;){if(r.tag===3){Fp(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Wr===null||!Wr.has(u))){t=Ls(o,t),t=np(r,t,1),r=$r(r,t,1),t=$t(),r!==null&&(Vr(r,1,t),Xt(r,t));break}}r=r.return}}function c_(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=$t(),t.pingedLanes|=t.suspendedLanes&o,wt===t&&(At&o)===o&&(pt===4||pt===3&&(At&130023424)===At&&500>$e()-Zc?Li(t,0):Jc|=o),Xt(t,r)}function jp(t,r){r===0&&((t.mode&1)===0?r=1:(r=as,as<<=1,(as&130023424)===0&&(as=4194304)));var o=$t();t=yr(t,r),t!==null&&(Vr(t,r,o),Xt(t,o))}function h_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),jp(t,o)}function f_(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),jp(t,o)}var Up;Up=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||qt.current)Kt=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return Kt=!1,Zv(t,r,o);Kt=(t.flags&131072)!==0}else Kt=!1,Xe&&(r.flags&1048576)!==0&&vd(r,dl,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;Pl(t,r),t=r.pendingProps;var f=Rs(r,Dt.current);Ns(r,o),f=xc(null,r,u,t,f,o);var p=Vc();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Qt(u)?(p=!0,cl(r)):p=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Sc(r),f.updater=Rl,r.stateNode=f,f._reactInternals=r,Fc(r,u,t,o),r=zc(null,r,u,!0,p,o)):(r.tag=0,Xe&&p&&dc(r),Bt(null,r,f,o),r=r.child),r;case 16:u=r.elementType;e:{switch(Pl(t,r),t=r.pendingProps,f=u._init,u=f(u._payload),r.type=u,f=r.tag=p_(u),t=xn(u,t),f){case 0:r=bc(null,r,u,t,o);break e;case 1:r=hp(null,r,u,t,o);break e;case 11:r=op(null,r,u,t,o);break e;case 14:r=ap(null,r,u,xn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:xn(u,f),bc(t,r,u,f,o);case 1:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:xn(u,f),hp(t,r,u,f,o);case 3:e:{if(fp(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,f=p.element,Ad(t,r),_l(r,u,null,o);var _=r.memoizedState;if(u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){f=Ls(Error(n(423)),r),r=dp(t,r,u,o,f);break e}else if(u!==f){f=Ls(Error(n(424)),r),r=dp(t,r,u,o,f);break e}else for(sn=jr(r.stateNode.containerInfo.firstChild),rn=r,Xe=!0,kn=null,o=Cd(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ks(),u===f){r=_r(t,r,o);break e}Bt(t,r,u,o)}r=r.child}return r;case 5:return xd(r),t===null&&gc(r),u=r.type,f=r.pendingProps,p=t!==null?t.memoizedProps:null,_=f.children,ac(u,f)?_=null:p!==null&&ac(u,p)&&(r.flags|=32),cp(t,r),Bt(t,r,_,o),r.child;case 6:return t===null&&gc(r),null;case 13:return pp(t,r,o);case 4:return Ic(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=xs(r,null,u,o):Bt(t,r,u,o),r.child;case 11:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:xn(u,f),op(t,r,u,f,o);case 7:return Bt(t,r,r.pendingProps,o),r.child;case 8:return Bt(t,r,r.pendingProps.children,o),r.child;case 12:return Bt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,f=r.pendingProps,p=r.memoizedProps,_=f.value,He(gl,u._currentValue),u._currentValue=_,p!==null)if(Pn(p.value,_)){if(p.children===f.children&&!qt.current){r=_r(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var S=p.dependencies;if(S!==null){_=p.child;for(var P=S.firstContext;P!==null;){if(P.context===u){if(p.tag===1){P=vr(-1,o&-o),P.tag=2;var j=p.updateQueue;if(j!==null){j=j.shared;var Y=j.pending;Y===null?P.next=P:(P.next=Y.next,Y.next=P),j.pending=P}}p.lanes|=o,P=p.alternate,P!==null&&(P.lanes|=o),wc(p.return,o,r),S.lanes|=o;break}P=P.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=o,S=_.alternate,S!==null&&(S.lanes|=o),wc(_,o,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}Bt(t,r,f.children,o),r=r.child}return r;case 9:return f=r.type,u=r.pendingProps.children,Ns(r,o),f=dn(f),u=u(f),r.flags|=1,Bt(t,r,u,o),r.child;case 14:return u=r.type,f=xn(u,r.pendingProps),f=xn(u.type,f),ap(t,r,u,f,o);case 15:return lp(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:xn(u,f),Pl(t,r),r.tag=1,Qt(u)?(t=!0,cl(r)):t=!1,Ns(r,o),Zd(r,u,f),Fc(r,u,f,o),zc(null,r,u,!0,t,o);case 19:return gp(t,r,o);case 22:return up(t,r,o)}throw Error(n(156,r.tag))};function bp(t,r){return ss(t,r)}function d_(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,r,o,u){return new d_(t,r,o,u)}function ah(t){return t=t.prototype,!(!t||!t.isReactComponent)}function p_(t){if(typeof t=="function")return ah(t)?1:0;if(t!=null){if(t=t.$$typeof,t===L)return 11;if(t===Vt)return 14}return 2}function Gr(t,r){var o=t.alternate;return o===null?(o=gn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Ul(t,r,o,u,f,p){var _=2;if(u=t,typeof t=="function")ah(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case V:return Mi(o.children,f,p,r);case I:_=8,f|=8;break;case C:return t=gn(12,o,r,f|2),t.elementType=C,t.lanes=p,t;case R:return t=gn(13,o,r,f),t.elementType=R,t.lanes=p,t;case nt:return t=gn(19,o,r,f),t.elementType=nt,t.lanes=p,t;case be:return bl(o,f,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:_=10;break e;case N:_=9;break e;case L:_=11;break e;case Vt:_=14;break e;case Nt:_=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=gn(_,o,r,f),r.elementType=t,r.type=u,r.lanes=p,r}function Mi(t,r,o,u){return t=gn(7,t,u,r),t.lanes=o,t}function bl(t,r,o,u){return t=gn(22,t,u,r),t.elementType=be,t.lanes=o,t.stateNode={isHidden:!1},t}function lh(t,r,o){return t=gn(6,t,null,r),t.lanes=o,t}function uh(t,r,o){return r=gn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function m_(t,r,o,u,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xr(0),this.expirationTimes=xr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xr(0),this.identifierPrefix=u,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function ch(t,r,o,u,f,p,_,S,P){return t=new m_(t,r,o,S,P),r===1?(r=1,p===!0&&(r|=8)):r=0,p=gn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sc(p),t}function g_(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ce,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function zp(t){if(!t)return br;t=t._reactInternals;e:{if(wn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Qt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Qt(o))return md(t,o,r)}return r}function Bp(t,r,o,u,f,p,_,S,P){return t=ch(o,u,!0,t,f,p,_,S,P),t.context=zp(null),o=t.current,u=$t(),f=Qr(o),p=vr(u,f),p.callback=r??null,$r(o,p,f),t.current.lanes=f,Vr(t,f,u),Xt(t,u),t}function zl(t,r,o,u){var f=r.current,p=$t(),_=Qr(f);return o=zp(o),r.context===null?r.context=o:r.pendingContext=o,r=vr(p,_),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=$r(f,r,_),t!==null&&(Dn(t,f,_,p),vl(t,f,_)),_}function Bl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $p(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function hh(t,r){$p(t,r),(t=t.alternate)&&$p(t,r)}function y_(){return null}var Hp=typeof reportError=="function"?reportError:function(t){console.error(t)};function fh(t){this._internalRoot=t}$l.prototype.render=fh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));zl(t,r,null,null)},$l.prototype.unmount=fh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Di(function(){zl(null,t,null,null)}),r[dr]=null}};function $l(t){this._internalRoot=t}$l.prototype.unstable_scheduleHydration=function(t){if(t){var r=$a();t={blockedOn:null,target:t,priority:r};for(var o=0;o<jn.length&&r!==0&&r<jn[o].priority;o++);jn.splice(o,0,t),o===0&&qa(t)}};function dh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wp(){}function v_(t,r,o,u,f){if(f){if(typeof u=="function"){var p=u;u=function(){var j=Bl(_);p.call(j)}}var _=Bp(r,u,t,0,null,!1,!1,"",Wp);return t._reactRootContainer=_,t[dr]=_.current,Mo(t.nodeType===8?t.parentNode:t),Di(),_}for(;f=t.lastChild;)t.removeChild(f);if(typeof u=="function"){var S=u;u=function(){var j=Bl(P);S.call(j)}}var P=ch(t,0,!1,null,null,!1,!1,"",Wp);return t._reactRootContainer=P,t[dr]=P.current,Mo(t.nodeType===8?t.parentNode:t),Di(function(){zl(r,P,o,u)}),P}function Wl(t,r,o,u,f){var p=o._reactRootContainer;if(p){var _=p;if(typeof f=="function"){var S=f;f=function(){var P=Bl(_);S.call(P)}}zl(r,_,t,f)}else _=v_(o,r,t,f,u);return Bl(_)}za=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=kr(r.pendingLanes);o!==0&&(Nr(r,o|1),Xt(r,$e()),(Le&6)===0&&(Fs=$e()+500,zr()))}break;case 13:Di(function(){var u=yr(t,1);if(u!==null){var f=$t();Dn(u,t,1,f)}}),hh(t,1)}},ls=function(t){if(t.tag===13){var r=yr(t,134217728);if(r!==null){var o=$t();Dn(r,t,134217728,o)}hh(t,134217728)}},Ba=function(t){if(t.tag===13){var r=Qr(t),o=yr(t,r);if(o!==null){var u=$t();Dn(o,t,r,u)}hh(t,r)}},$a=function(){return Pe},Ha=function(t,r){var o=Pe;try{return Pe=t,r()}finally{Pe=o}},Zi=function(t,r,o){switch(r){case"input":if(oo(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var f=ll(u);if(!f)throw Error(n(90));Qi(u),oo(u,f)}}}break;case"textarea":Yi(t,o);break;case"select":r=o.value,r!=null&&sr(t,!!o.multiple,r,!1)}},di=ih,yo=Di;var __={usingClientEntryPoint:!1,Events:[Uo,Is,ll,Mn,go,ih]},Zo={findFiberByHostInstance:Ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},E_={bundleType:Zo.bundleType,version:Zo.version,rendererPackageName:Zo.rendererPackageName,rendererConfig:Zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_e.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Eo(t),t===null?null:t.stateNode},findFiberByHostInstance:Zo.findFiberByHostInstance||y_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{vi=ql.inject(E_),Zt=ql}catch{}}return Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=__,Yt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dh(r))throw Error(n(200));return g_(t,r,null,o)},Yt.createRoot=function(t,r){if(!dh(t))throw Error(n(299));var o=!1,u="",f=Hp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=ch(t,1,!1,null,null,o,!1,u,f),t[dr]=r.current,Mo(t.nodeType===8?t.parentNode:t),new fh(r)},Yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=Eo(r),t=t===null?null:t.stateNode,t},Yt.flushSync=function(t){return Di(t)},Yt.hydrate=function(t,r,o){if(!Hl(r))throw Error(n(200));return Wl(null,t,r,!0,o)},Yt.hydrateRoot=function(t,r,o){if(!dh(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,f=!1,p="",_=Hp;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=Bp(r,null,t,1,o??null,f,!1,p,_),t[dr]=r.current,Mo(t),u)for(t=0;t<u.length;t++)o=u[t],f=o._getVersion,f=f(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,f]:r.mutableSourceEagerHydrationData.push(o,f);return new $l(r)},Yt.render=function(t,r,o){if(!Hl(r))throw Error(n(200));return Wl(null,t,r,!1,o)},Yt.unmountComponentAtNode=function(t){if(!Hl(t))throw Error(n(40));return t._reactRootContainer?(Di(function(){Wl(null,null,t,!1,function(){t._reactRootContainer=null,t[dr]=null})}),!0):!1},Yt.unstable_batchedUpdates=ih,Yt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Hl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Wl(t,r,o,!1,u)},Yt.version="18.3.1-next-f1338f8080-20240426",Yt}var Zp;function k_(){if(Zp)return gh.exports;Zp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gh.exports=P_(),gh.exports}var em;function x_(){if(em)return Ql;em=1;var i=k_();return Ql.createRoot=i.createRoot,Ql.hydrateRoot=i.hydrateRoot,Ql}var V_=x_();const N_=pg(V_);/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tm="popstate";function D_(i={}){function e(s,a){let{pathname:c,search:h,hash:m}=s.location;return xh("",{pathname:c,search:h,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:da(a)}return O_(e,n,null,i)}function Ze(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Jn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L_(){return Math.random().toString(36).substring(2,10)}function nm(i,e){return{usr:i.state,key:i.key,idx:e}}function xh(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Js(e):e,state:n,key:e&&e.key||s||L_()}}function da({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Js(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function O_(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:c=!1}=s,h=a.history,m="POP",g=null,v=w();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function w(){return(h.state||{idx:null}).idx}function T(){m="POP";let b=w(),K=b==null?null:b-v;v=b,g&&g({action:m,location:H.location,delta:K})}function A(b,K){m="PUSH";let re=xh(H.location,b,K);v=w()+1;let ne=nm(re,v),_e=H.createHref(re);try{h.pushState(ne,"",_e)}catch(ke){if(ke instanceof DOMException&&ke.name==="DataCloneError")throw ke;a.location.assign(_e)}c&&g&&g({action:m,location:H.location,delta:1})}function U(b,K){m="REPLACE";let re=xh(H.location,b,K);v=w();let ne=nm(re,v),_e=H.createHref(re);h.replaceState(ne,"",_e),c&&g&&g({action:m,location:H.location,delta:0})}function W(b){return M_(b)}let H={get action(){return m},get location(){return i(a,h)},listen(b){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(tm,T),g=b,()=>{a.removeEventListener(tm,T),g=null}},createHref(b){return e(a,b)},createURL:W,encodeLocation(b){let K=W(b);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:A,replace:U,go(b){return h.go(b)}};return H}function M_(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:da(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function mg(i,e,n="/"){return F_(i,e,n,!1)}function F_(i,e,n,s){let a=typeof e=="string"?Js(e):e,c=Tr(a.pathname||"/",n);if(c==null)return null;let h=gg(i);j_(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let v=G_(c);m=Q_(h[g],v,s)}return m}function gg(i,e=[],n=[],s="",a=!1){let c=(h,m,g=a,v)=>{let w={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(s)&&g)return;Ze(w.relativePath.startsWith(s),`Absolute route path "${w.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(s.length)}let T=wr([s,w.relativePath]),A=n.concat(w);h.children&&h.children.length>0&&(Ze(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),gg(h.children,e,A,T,g)),!(h.path==null&&!h.index)&&e.push({path:T,score:W_(T,h.index),routesMeta:A})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))c(h,m);else for(let g of yg(h.path))c(h,m,!0,g)}),e}function yg(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return a?[c,""]:[c];let h=yg(s.join("/")),m=[];return m.push(...h.map(g=>g===""?c:[c,g].join("/"))),a&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function j_(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:q_(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var U_=/^:[\w-]+$/,b_=3,z_=2,B_=1,$_=10,H_=-2,rm=i=>i==="*";function W_(i,e){let n=i.split("/"),s=n.length;return n.some(rm)&&(s+=H_),e&&(s+=z_),n.filter(a=>!rm(a)).reduce((a,c)=>a+(U_.test(c)?b_:c===""?B_:$_),s)}function q_(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function Q_(i,e,n=!1){let{routesMeta:s}=i,a={},c="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],v=m===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",T=uu({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},w),A=g.route;if(!T&&v&&n&&!s[s.length-1].route.index&&(T=uu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!T)return null;Object.assign(a,T.params),h.push({params:a,pathname:wr([c,T.pathname]),pathnameBase:Z_(wr([c,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(c=wr([c,T.pathnameBase]))}return h}function uu(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=K_(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let c=a[0],h=c.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:T},A)=>{if(w==="*"){let W=m[A]||"";h=c.slice(0,c.length-W.length).replace(/(.)\/+$/,"$1")}const U=m[A];return T&&!U?v[w]=void 0:v[w]=(U||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:h,pattern:i}}function K_(i,e=!1,n=!0){Jn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function G_(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Tr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function X_(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?Js(i):i;return{pathname:n?n.startsWith("/")?n:Y_(n,e):e,search:eE(s),hash:tE(a)}}function Y_(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function _h(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function J_(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vg(i){let e=J_(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function _g(i,e,n,s=!1){let a;typeof i=="string"?a=Js(i):(a={...i},Ze(!a.pathname||!a.pathname.includes("?"),_h("?","pathname","search",a)),Ze(!a.pathname||!a.pathname.includes("#"),_h("#","pathname","hash",a)),Ze(!a.search||!a.search.includes("#"),_h("#","search","hash",a)));let c=i===""||a.pathname==="",h=c?"/":a.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;a.pathname=A.join("/")}m=T>=0?e[T]:"/"}let g=X_(a,m),v=h&&h!=="/"&&h.endsWith("/"),w=(c||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(v||w)&&(g.pathname+="/"),g}var wr=i=>i.join("/").replace(/\/\/+/g,"/"),Z_=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),eE=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,tE=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function nE(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Eg=["POST","PUT","PATCH","DELETE"];new Set(Eg);var rE=["GET",...Eg];new Set(rE);var Zs=B.createContext(null);Zs.displayName="DataRouter";var Ru=B.createContext(null);Ru.displayName="DataRouterState";B.createContext(!1);var wg=B.createContext({isTransitioning:!1});wg.displayName="ViewTransition";var iE=B.createContext(new Map);iE.displayName="Fetchers";var sE=B.createContext(null);sE.displayName="Await";var tr=B.createContext(null);tr.displayName="Navigation";var Ia=B.createContext(null);Ia.displayName="Location";var nr=B.createContext({outlet:null,matches:[],isDataRoute:!1});nr.displayName="Route";var ef=B.createContext(null);ef.displayName="RouteError";function oE(i,{relative:e}={}){Ze(Ca(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(tr),{hash:a,pathname:c,search:h}=Ra(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:wr([n,c])),s.createHref({pathname:m,search:h,hash:a})}function Ca(){return B.useContext(Ia)!=null}function Bi(){return Ze(Ca(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Ia).location}var Tg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sg(i){B.useContext(tr).static||B.useLayoutEffect(i)}function aE(){let{isDataRoute:i}=B.useContext(nr);return i?wE():lE()}function lE(){Ze(Ca(),"useNavigate() may be used only in the context of a <Router> component.");let i=B.useContext(Zs),{basename:e,navigator:n}=B.useContext(tr),{matches:s}=B.useContext(nr),{pathname:a}=Bi(),c=JSON.stringify(vg(s)),h=B.useRef(!1);return Sg(()=>{h.current=!0}),B.useCallback((g,v={})=>{if(Jn(h.current,Tg),!h.current)return;if(typeof g=="number"){n.go(g);return}let w=_g(g,JSON.parse(c),a,v.relative==="path");i==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:wr([e,w.pathname])),(v.replace?n.replace:n.push)(w,v.state,v)},[e,n,c,a,i])}B.createContext(null);function uE(){let{matches:i}=B.useContext(nr),e=i[i.length-1];return e?e.params:{}}function Ra(i,{relative:e}={}){let{matches:n}=B.useContext(nr),{pathname:s}=Bi(),a=JSON.stringify(vg(n));return B.useMemo(()=>_g(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function cE(i,e){return Ig(i,e)}function Ig(i,e,n,s){Ze(Ca(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=B.useContext(tr),{matches:c}=B.useContext(nr),h=c[c.length-1],m=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",w=h&&h.route;{let K=w&&w.path||"";Cg(g,!w||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let T=Bi(),A;if(e){let K=typeof e=="string"?Js(e):e;Ze(v==="/"||K.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${K.pathname}" was given in the \`location\` prop.`),A=K}else A=T;let U=A.pathname||"/",W=U;if(v!=="/"){let K=v.replace(/^\//,"").split("/");W="/"+U.replace(/^\//,"").split("/").slice(K.length).join("/")}let H=mg(i,{pathname:W});Jn(w||H!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Jn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=mE(H&&H.map(K=>Object.assign({},K,{params:Object.assign({},m,K.params),pathname:wr([v,a.encodeLocation?a.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?v:wr([v,a.encodeLocation?a.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),c,n,s);return e&&b?B.createElement(Ia.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},b):b}function hE(){let i=EE(),e=nE(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:c},"ErrorBoundary")," or"," ",B.createElement("code",{style:c},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:a},n):null,h)}var fE=B.createElement(hE,null),dE=class extends B.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?B.createElement(nr.Provider,{value:this.props.routeContext},B.createElement(ef.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pE({routeContext:i,match:e,children:n}){let s=B.useContext(Zs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(nr.Provider,{value:i},n)}function mE(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,c=n?.errors;if(c!=null){let g=a.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);Ze(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,m=-1;if(n)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:w,errors:T}=n,A=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!T||T[v.route.id]===void 0);if(v.route.lazy||A){h=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((g,v,w)=>{let T,A=!1,U=null,W=null;n&&(T=c&&v.route.id?c[v.route.id]:void 0,U=v.route.errorElement||fE,h&&(m<0&&w===0?(Cg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,W=null):m===w&&(A=!0,W=v.route.hydrateFallbackElement||null)));let H=e.concat(a.slice(0,w+1)),b=()=>{let K;return T?K=U:A?K=W:v.route.Component?K=B.createElement(v.route.Component,null):v.route.element?K=v.route.element:K=g,B.createElement(pE,{match:v,routeContext:{outlet:g,matches:H,isDataRoute:n!=null},children:K})};return n&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?B.createElement(dE,{location:n.location,revalidation:n.revalidation,component:U,error:T,children:b(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):b()},null)}function tf(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gE(i){let e=B.useContext(Zs);return Ze(e,tf(i)),e}function yE(i){let e=B.useContext(Ru);return Ze(e,tf(i)),e}function vE(i){let e=B.useContext(nr);return Ze(e,tf(i)),e}function nf(i){let e=vE(i),n=e.matches[e.matches.length-1];return Ze(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function _E(){return nf("useRouteId")}function EE(){let i=B.useContext(ef),e=yE("useRouteError"),n=nf("useRouteError");return i!==void 0?i:e.errors?.[n]}function wE(){let{router:i}=gE("useNavigate"),e=nf("useNavigate"),n=B.useRef(!1);return Sg(()=>{n.current=!0}),B.useCallback(async(a,c={})=>{Jn(n.current,Tg),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...c}))},[i,e])}var im={};function Cg(i,e,n){!e&&!im[i]&&(im[i]=!0,Jn(!1,n))}B.memo(TE);function TE({routes:i,future:e,state:n}){return Ig(i,void 0,n,e)}function eu(i){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function SE({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:c=!1}){Ze(!Ca(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:h,navigator:a,static:c,future:{}}),[h,a,c]);typeof n=="string"&&(n=Js(n));let{pathname:g="/",search:v="",hash:w="",state:T=null,key:A="default"}=n,U=B.useMemo(()=>{let W=Tr(g,h);return W==null?null:{location:{pathname:W,search:v,hash:w,state:T,key:A},navigationType:s}},[h,g,v,w,T,A,s]);return Jn(U!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:B.createElement(tr.Provider,{value:m},B.createElement(Ia.Provider,{children:e,value:U}))}function IE({children:i,location:e}){return cE(Vh(i),e)}function Vh(i,e=[]){let n=[];return B.Children.forEach(i,(s,a)=>{if(!B.isValidElement(s))return;let c=[...e,a];if(s.type===B.Fragment){n.push.apply(n,Vh(s.props.children,c));return}Ze(s.type===eu,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Vh(s.props.children,c)),n.push(h)}),n}var tu="get",nu="application/x-www-form-urlencoded";function Au(i){return i!=null&&typeof i.tagName=="string"}function CE(i){return Au(i)&&i.tagName.toLowerCase()==="button"}function RE(i){return Au(i)&&i.tagName.toLowerCase()==="form"}function AE(i){return Au(i)&&i.tagName.toLowerCase()==="input"}function PE(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function kE(i,e){return i.button===0&&(!e||e==="_self")&&!PE(i)}var Kl=null;function xE(){if(Kl===null)try{new FormData(document.createElement("form"),0),Kl=!1}catch{Kl=!0}return Kl}var VE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eh(i){return i!=null&&!VE.has(i)?(Jn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nu}"`),null):i}function NE(i,e){let n,s,a,c,h;if(RE(i)){let m=i.getAttribute("action");s=m?Tr(m,e):null,n=i.getAttribute("method")||tu,a=Eh(i.getAttribute("enctype"))||nu,c=new FormData(i)}else if(CE(i)||AE(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?Tr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||tu,a=Eh(i.getAttribute("formenctype"))||Eh(m.getAttribute("enctype"))||nu,c=new FormData(m,i),!xE()){let{name:v,type:w,value:T}=i;if(w==="image"){let A=v?`${v}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else v&&c.append(v,T)}}else{if(Au(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=tu,s=null,a=nu,h=i}return c&&a==="text/plain"&&(h=c,c=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rf(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function DE(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Tr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function LE(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OE(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function ME(i,e,n){let s=await Promise.all(i.map(async a=>{let c=e.routes[a.route.id];if(c){let h=await LE(c,n);return h.links?h.links():[]}return[]}));return bE(s.flat(1).filter(OE).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function sm(i,e,n,s,a,c){let h=(g,v)=>n[v]?g.route.id!==n[v].route.id:!0,m=(g,v)=>n[v].pathname!==g.pathname||n[v].route.path?.endsWith("*")&&n[v].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,v)=>h(g,v)||m(g,v)):c==="data"?e.filter((g,v)=>{let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(h(g,v)||m(g,v))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function FE(i,e,{includeHydrateFallback:n}={}){return jE(i.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let c=[a.module];return a.clientActionModule&&(c=c.concat(a.clientActionModule)),a.clientLoaderModule&&(c=c.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(c=c.concat(a.hydrateFallbackModule)),a.imports&&(c=c.concat(a.imports)),c}).flat(1))}function jE(i){return[...new Set(i)]}function UE(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function bE(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let c=JSON.stringify(UE(a));return n.has(c)||(n.add(c),s.push({key:c,link:a})),s},[])}function Rg(){let i=B.useContext(Zs);return rf(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function zE(){let i=B.useContext(Ru);return rf(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var sf=B.createContext(void 0);sf.displayName="FrameworkContext";function Ag(){let i=B.useContext(sf);return rf(i,"You must render this element inside a <HydratedRouter> element"),i}function BE(i,e){let n=B.useContext(sf),[s,a]=B.useState(!1),[c,h]=B.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:v,onMouseLeave:w,onTouchStart:T}=e,A=B.useRef(null);B.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let H=K=>{K.forEach(re=>{h(re.isIntersecting)})},b=new IntersectionObserver(H,{threshold:.5});return A.current&&b.observe(A.current),()=>{b.disconnect()}}},[i]),B.useEffect(()=>{if(s){let H=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(H)}}},[s]);let U=()=>{a(!0)},W=()=>{a(!1),h(!1)};return n?i!=="intent"?[c,A,{}]:[c,A,{onFocus:ta(m,U),onBlur:ta(g,W),onMouseEnter:ta(v,U),onMouseLeave:ta(w,W),onTouchStart:ta(T,U)}]:[!1,A,{}]}function ta(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function $E({page:i,...e}){let{router:n}=Rg(),s=B.useMemo(()=>mg(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?B.createElement(WE,{page:i,matches:s,...e}):null}function HE(i){let{manifest:e,routeModules:n}=Ag(),[s,a]=B.useState([]);return B.useEffect(()=>{let c=!1;return ME(i,e,n).then(h=>{c||a(h)}),()=>{c=!0}},[i,e,n]),s}function WE({page:i,matches:e,...n}){let s=Bi(),{manifest:a,routeModules:c}=Ag(),{basename:h}=Rg(),{loaderData:m,matches:g}=zE(),v=B.useMemo(()=>sm(i,e,g,a,s,"data"),[i,e,g,a,s]),w=B.useMemo(()=>sm(i,e,g,a,s,"assets"),[i,e,g,a,s]),T=B.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let W=new Set,H=!1;if(e.forEach(K=>{let re=a.routes[K.route.id];!re||!re.hasLoader||(!v.some(ne=>ne.route.id===K.route.id)&&K.route.id in m&&c[K.route.id]?.shouldRevalidate||re.hasClientLoader?H=!0:W.add(K.route.id))}),W.size===0)return[];let b=DE(i,h,"data");return H&&W.size>0&&b.searchParams.set("_routes",e.filter(K=>W.has(K.route.id)).map(K=>K.route.id).join(",")),[b.pathname+b.search]},[h,m,s,a,v,e,i,c]),A=B.useMemo(()=>FE(w,a),[w,a]),U=HE(w);return B.createElement(B.Fragment,null,T.map(W=>B.createElement("link",{key:W,rel:"prefetch",as:"fetch",href:W,...n})),A.map(W=>B.createElement("link",{key:W,rel:"modulepreload",href:W,...n})),U.map(({key:W,link:H})=>B.createElement("link",{key:W,nonce:n.nonce,...H})))}function qE(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Pg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Pg&&(window.__reactRouterVersion="7.8.1")}catch{}function QE({basename:i,children:e,window:n}){let s=B.useRef();s.current==null&&(s.current=D_({window:n,v5Compat:!0}));let a=s.current,[c,h]=B.useState({action:a.action,location:a.location}),m=B.useCallback(g=>{B.startTransition(()=>h(g))},[h]);return B.useLayoutEffect(()=>a.listen(m),[a,m]),B.createElement(SE,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:a})}var kg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,of=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:c,replace:h,state:m,target:g,to:v,preventScrollReset:w,viewTransition:T,...A},U){let{basename:W}=B.useContext(tr),H=typeof v=="string"&&kg.test(v),b,K=!1;if(typeof v=="string"&&H&&(b=v,Pg))try{let C=new URL(window.location.href),k=v.startsWith("//")?new URL(C.protocol+v):new URL(v),N=Tr(k.pathname,W);k.origin===C.origin&&N!=null?v=N+k.search+k.hash:K=!0}catch{Jn(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=oE(v,{relative:a}),[ne,_e,ke]=BE(s,A),Ce=YE(v,{replace:h,state:m,target:g,preventScrollReset:w,relative:a,viewTransition:T});function V(C){e&&e(C),C.defaultPrevented||Ce(C)}let I=B.createElement("a",{...A,...ke,href:b||re,onClick:K||c?e:V,ref:qE(U,_e),target:g,"data-discover":!H&&n==="render"?"true":void 0});return ne&&!H?B.createElement(B.Fragment,null,I,B.createElement($E,{page:re})):I});of.displayName="Link";var KE=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:c,to:h,viewTransition:m,children:g,...v},w){let T=Ra(h,{relative:v.relative}),A=Bi(),U=B.useContext(Ru),{navigator:W,basename:H}=B.useContext(tr),b=U!=null&&nw(T)&&m===!0,K=W.encodeLocation?W.encodeLocation(T).pathname:T.pathname,re=A.pathname,ne=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;n||(re=re.toLowerCase(),ne=ne?ne.toLowerCase():null,K=K.toLowerCase()),ne&&H&&(ne=Tr(ne,H)||ne);const _e=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ke=re===K||!a&&re.startsWith(K)&&re.charAt(_e)==="/",Ce=ne!=null&&(ne===K||!a&&ne.startsWith(K)&&ne.charAt(K.length)==="/"),V={isActive:ke,isPending:Ce,isTransitioning:b},I=ke?e:void 0,C;typeof s=="function"?C=s(V):C=[s,ke?"active":null,Ce?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let k=typeof c=="function"?c(V):c;return B.createElement(of,{...v,"aria-current":I,className:C,ref:w,style:k,to:h,viewTransition:m},typeof g=="function"?g(V):g)});KE.displayName="NavLink";var GE=B.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:c,method:h=tu,action:m,onSubmit:g,relative:v,preventScrollReset:w,viewTransition:T,...A},U)=>{let W=ew(),H=tw(m,{relative:v}),b=h.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&kg.test(m),re=ne=>{if(g&&g(ne),ne.defaultPrevented)return;ne.preventDefault();let _e=ne.nativeEvent.submitter,ke=_e?.getAttribute("formmethod")||h;W(_e||ne.currentTarget,{fetcherKey:e,method:ke,navigate:n,replace:a,state:c,relative:v,preventScrollReset:w,viewTransition:T})};return B.createElement("form",{ref:U,method:b,action:H,onSubmit:s?g:re,...A,"data-discover":!K&&i==="render"?"true":void 0})});GE.displayName="Form";function XE(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xg(i){let e=B.useContext(Zs);return Ze(e,XE(i)),e}function YE(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:c,viewTransition:h}={}){let m=aE(),g=Bi(),v=Ra(i,{relative:c});return B.useCallback(w=>{if(kE(w,e)){w.preventDefault();let T=n!==void 0?n:da(g)===da(v);m(i,{replace:T,state:s,preventScrollReset:a,relative:c,viewTransition:h})}},[g,m,v,n,s,e,i,a,c,h])}var JE=0,ZE=()=>`__${String(++JE)}__`;function ew(){let{router:i}=xg("useSubmit"),{basename:e}=B.useContext(tr),n=_E();return B.useCallback(async(s,a={})=>{let{action:c,method:h,encType:m,formData:g,body:v}=NE(s,e);if(a.navigate===!1){let w=a.fetcherKey||ZE();await i.fetch(w,n,a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||m,flushSync:a.flushSync})}else await i.navigate(a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function tw(i,{relative:e}={}){let{basename:n}=B.useContext(tr),s=B.useContext(nr);Ze(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),c={...Ra(i||".",{relative:e})},h=Bi();if(i==null){c.search=h.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(w=>w==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let w=m.toString();c.search=w?`?${w}`:""}}return(!i||i===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:wr([n,c.pathname])),da(c)}function nw(i,{relative:e}={}){let n=B.useContext(wg);Ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=xg("useViewTransitionState"),a=Ra(i,{relative:e});if(!n.isTransitioning)return!1;let c=Tr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Tr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return uu(a.pathname,h)!=null||uu(a.pathname,c)!=null}function rw(){return $.jsxs("nav",{className:"bg-gray-800 p-4 flex justify-between",children:[$.jsx("span",{className:"font-bold text-xl",children:"Midnight UI"}),$.jsxs("div",{className:"space-x-4",children:[$.jsx("a",{href:"/",className:"hover:text-blue-400",children:"Home"}),$.jsx("a",{href:"/profile",className:"hover:text-blue-400",children:"Profile"})]})]})}function iw({children:i}){const[e,n]=B.useState(null),[s,a]=B.useState({x:0,y:0}),c=B.useRef(null),h=(m,g)=>{if(e===m)n(null);else{const v=g.clientX,w=g.clientY;a({x:v,y:w}),n(m)}};return B.useEffect(()=>{const m=g=>{c.current&&!c.current.contains(g.target)&&n(null)};return e&&document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[e]),B.useEffect(()=>{if(e&&c.current){const m=c.current.getBoundingClientRect(),g=window.innerWidth;m.right>g&&a(v=>({...v,x:v.x-m.width}))}},[e]),$.jsxs("div",{className:"min-h-screen flex flex-col",children:[$.jsx(rw,{}),$.jsx("div",{className:"background"}),$.jsx("div",{className:"circle-button profile-button",onClick:m=>h("profile",m)}),$.jsx("div",{className:"circle-button menu-button",onClick:m=>h("menu",m)}),e&&$.jsxs("div",{ref:c,className:"popup",style:{top:`${s.y}px`,left:`${s.x}px`,position:"absolute"},children:[e==="profile"&&$.jsxs($.Fragment,{children:[$.jsx(of,{to:"/new-user",children:"New User/Login"}),$.jsx("a",{href:"../pages/profile",children:"Profile"}),$.jsx("a",{href:"#",children:"Creator Page"})]}),e==="menu"&&$.jsxs($.Fragment,{children:[$.jsx("a",{href:"#",children:"Watch"}),$.jsx("a",{href:"#",children:"Read"}),$.jsx("a",{href:"#",children:"Listen"}),$.jsx("a",{href:"#",children:"Play"}),$.jsx("a",{href:"#",children:"Events"}),$.jsx("a",{href:"#",children:"Search"}),$.jsx("a",{href:"#",children:"Home"})]})]}),$.jsx("div",{className:"title2",children:"Faction Seven"}),$.jsx("div",{className:"slogan",children:"Your one-stop media source"}),$.jsx("main",{className:"flex-grow container mx-auto p-4",children:i})]})}function sw(){return $.jsxs("div",{className:"main-container",children:[$.jsxs("div",{className:"sidebar left",children:[$.jsxs("div",{className:"suggested",children:[$.jsx("img",{src:"media1.jpg",alt:"Media 1"}),$.jsx("a",{href:"#",children:"Urban Echoes"})]}),$.jsxs("div",{className:"suggested",children:[$.jsx("img",{src:"media2.jpg",alt:"Media 2"}),$.jsx("a",{href:"#",children:"Moonlit Strands"})]})]}),$.jsxs("div",{className:"featured",children:[$.jsxs("h2",{children:['Featured Content: "Just for Kicks" by'," ",$.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),$.jsx("div",{className:"youtube-embed-container",children:$.jsx("iframe",{className:"youtube-embed",src:"https://www.youtube.com/embed/P0h0rO7eods?si=MMQiYKH9NEHZJ61p",title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),$.jsx("div",{className:"sidebar right",children:$.jsxs("div",{className:"news",children:[$.jsx("h3",{children:"Site News"}),$.jsx("p",{children:"Faction Seven content platform up and running! Main page features and modules fully (mostly) functional."})]})}),$.jsxs("div",{className:"showcases",children:[$.jsxs("div",{className:"showcase-2",children:[$.jsxs("h4",{children:['"R E L A X" by'," ",$.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),$.jsx("div",{className:"youtube-embed-container",children:$.jsx("iframe",{className:"responsive-image",src:"https://drive.google.com/file/d/1PhvScbMV0aXOONmudS8SIr4F_KJiajKM/preview",title:"image",allow:"autoplay",allowFullScreen:!0})})]}),$.jsxs("div",{className:"showcase-3",children:[$.jsx("img",{src:"showcase3.jpg",alt:"Showcase 3"}),$.jsxs("h4",{children:["Nevereign: Shadow Rising by"," ",$.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),$.jsx("div",{className:"text-embed-container",children:$.jsx("iframe",{src:"https://docs.google.com/document/d/1yEb24TJz9DchfmO80x89cFe9qKe9uPGzHoAASy4KsNk/preview",title:"Nevereign: Shadow Rising",width:"640",height:"480",allow:"autoplay"})}),"Read the whole story"," ",$.jsx("a",{href:"https://Patreon.com/FactionSevenEntertainment",style:{color:"red"},children:"here"}),"."]})]}),$.jsx("div",{className:"spotlight-list",children:$.jsxs("ul",{children:[$.jsx("li",{children:$.jsx("a",{href:"#",children:"[4] Iris.exe  Short horror game"})}),$.jsx("li",{children:$.jsx("a",{href:"#",children:"[5] Selenes Vault  Digital comic"})}),$.jsx("li",{children:$.jsx("a",{href:"#",children:"[6] Synth Sketches  Concept art"})}),$.jsx("li",{children:$.jsx("a",{href:"#",children:"[7] Rooftop Hymns  Poetry"})}),$.jsx("li",{children:$.jsx("a",{href:"#",children:"[8] Last Light  Animated short"})}),$.jsx("li",{children:$.jsx("a",{href:"#",children:"[9] Outskirts  Creator podcast"})}),$.jsx("li",{children:$.jsx("a",{href:"#",children:"[10] F7 Monthly Jam Results"})})]})})]})}const ow=()=>{};var om={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},aw=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],h=i[n++],m=i[n++],g=((a&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],h=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|h&63)}}return e.join("")},Ng={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],h=a+1<i.length,m=h?i[a+1]:0,g=a+2<i.length,v=g?i[a+2]:0,w=c>>2,T=(c&3)<<4|m>>4;let A=(m&15)<<2|v>>6,U=v&63;g||(U=64,h||(A=64)),s.push(n[w],n[T],n[A],n[U])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Vg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):aw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const T=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||v==null||T==null)throw new lw;const A=c<<2|m>>4;if(s.push(A),v!==64){const U=m<<4&240|v>>2;if(s.push(U),T!==64){const W=v<<6&192|T;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class lw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uw=function(i){const e=Vg(i);return Ng.encodeByteArray(e,!0)},cu=function(i){return uw(i).replace(/\./g,"")},cw=function(i){try{return Ng.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=()=>hw().__FIREBASE_DEFAULTS__,dw=()=>{if(typeof process>"u"||typeof om>"u")return;const i=om.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},pw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&cw(i[1]);return e&&JSON.parse(e)},af=()=>{try{return ow()||fw()||dw()||pw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},mw=i=>af()?.emulatorHosts?.[i],gw=i=>{const e=mw(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Dg=()=>af()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vw(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[cu(JSON.stringify(n)),cu(JSON.stringify(h)),""].join(".")}const oa={};function Ew(){const i={prod:[],emulator:[]};for(const e of Object.keys(oa))oa[e]?i.emulator.push(e):i.prod.push(e);return i}function ww(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let am=!1;function Tw(i,e){if(typeof window>"u"||typeof document>"u"||!lf(window.location.host)||oa[i]===e||oa[i]||am)return;oa[i]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",c=Ew().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,U){A.setAttribute("width","24"),A.setAttribute("id",U),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function v(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{am=!0,h()},A}function w(A,U){A.setAttribute("id",U),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=ww(s),U=n("text"),W=document.getElementById(U)||document.createElement("span"),H=n("learnmore"),b=document.getElementById(H)||document.createElement("a"),K=n("preprendIcon"),re=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ne=A.element;m(ne),w(b,H);const _e=v();g(re,K),ne.append(re,W,b,_e),document.body.appendChild(ne)}c?(W.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Iw(){const i=af()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Cw(){return!Iw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Rw(){try{return typeof indexedDB=="object"}catch{return!1}}function Aw(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="FirebaseError";class eo extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Pw,Object.setPrototypeOf(this,eo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lg.prototype.create)}}class Lg{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],h=c?kw(c,s):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new eo(a,m,s)}}function kw(i,e){return i.replace(xw,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const xw=/\{\$([^}]+)}/g;function hu(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],h=e[a];if(lm(c)&&lm(h)){if(!hu(c,h))return!1}else if(c!==h)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function lm(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(i){return i&&i._delegate?i._delegate:i}class ma{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new yw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Dw(e))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fi){return this.instances.has(e)}getOptions(e=Fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&h.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const c=this.instances.get(s);return c&&e(c,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Nw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fi){return this.component?this.component.multipleInstances?e:Fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nw(i){return i===Fi?void 0:i}function Dw(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Vw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(De||(De={}));const Ow={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},Mw=De.INFO,Fw={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},jw=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=Fw[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Og{constructor(e){this.name=e,this._logLevel=Mw,this._logHandler=jw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ow[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const Uw=(i,e)=>e.some(n=>i instanceof n);let um,cm;function bw(){return um||(um=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zw(){return cm||(cm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mg=new WeakMap,Nh=new WeakMap,Fg=new WeakMap,wh=new WeakMap,uf=new WeakMap;function Bw(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",h)},c=()=>{n(Jr(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Mg.set(n,i)}).catch(()=>{}),uf.set(e,i),e}function $w(i){if(Nh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",h),i.removeEventListener("abort",h)},c=()=>{n(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",h),i.addEventListener("abort",h)});Nh.set(i,e)}let Dh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Nh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Fg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Hw(i){Dh=i(Dh)}function Ww(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Th(this),e,...n);return Fg.set(s,e.sort?e.sort():[e]),Jr(s)}:zw().includes(i)?function(...e){return i.apply(Th(this),e),Jr(Mg.get(this))}:function(...e){return Jr(i.apply(Th(this),e))}}function qw(i){return typeof i=="function"?Ww(i):(i instanceof IDBTransaction&&$w(i),Uw(i,bw())?new Proxy(i,Dh):i)}function Jr(i){if(i instanceof IDBRequest)return Bw(i);if(wh.has(i))return wh.get(i);const e=qw(i);return e!==i&&(wh.set(i,e),uf.set(e,i)),e}const Th=i=>uf.get(i);function Qw(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const h=indexedDB.open(i,e),m=Jr(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Jr(h.result),g.oldVersion,g.newVersion,Jr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),a&&g.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const Kw=["get","getKey","getAll","getAllKeys","count"],Gw=["put","add","delete","clear"],Sh=new Map;function hm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Sh.get(e))return Sh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=Gw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Kw.includes(n)))return;const c=async function(h,...m){const g=this.transaction(h,a?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),a&&g.done]))[0]};return Sh.set(e,c),c}Hw(i=>({...i,get:(e,n,s)=>hm(e,n)||i.get(e,n,s),has:(e,n)=>!!hm(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Yw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Yw(i){return i.getComponent()?.type==="VERSION"}const Lh="@firebase/app",fm="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new Og("@firebase/app"),Jw="@firebase/app-compat",Zw="@firebase/analytics-compat",e0="@firebase/analytics",t0="@firebase/app-check-compat",n0="@firebase/app-check",r0="@firebase/auth",i0="@firebase/auth-compat",s0="@firebase/database",o0="@firebase/data-connect",a0="@firebase/database-compat",l0="@firebase/functions",u0="@firebase/functions-compat",c0="@firebase/installations",h0="@firebase/installations-compat",f0="@firebase/messaging",d0="@firebase/messaging-compat",p0="@firebase/performance",m0="@firebase/performance-compat",g0="@firebase/remote-config",y0="@firebase/remote-config-compat",v0="@firebase/storage",_0="@firebase/storage-compat",E0="@firebase/firestore",w0="@firebase/ai",T0="@firebase/firestore-compat",S0="firebase",I0="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh="[DEFAULT]",C0={[Lh]:"fire-core",[Jw]:"fire-core-compat",[e0]:"fire-analytics",[Zw]:"fire-analytics-compat",[n0]:"fire-app-check",[t0]:"fire-app-check-compat",[r0]:"fire-auth",[i0]:"fire-auth-compat",[s0]:"fire-rtdb",[o0]:"fire-data-connect",[a0]:"fire-rtdb-compat",[l0]:"fire-fn",[u0]:"fire-fn-compat",[c0]:"fire-iid",[h0]:"fire-iid-compat",[f0]:"fire-fcm",[d0]:"fire-fcm-compat",[p0]:"fire-perf",[m0]:"fire-perf-compat",[g0]:"fire-rc",[y0]:"fire-rc-compat",[v0]:"fire-gcs",[_0]:"fire-gcs-compat",[E0]:"fire-fst",[T0]:"fire-fst-compat",[w0]:"fire-vertex","fire-js":"fire-js",[S0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=new Map,R0=new Map,Mh=new Map;function dm(i,e){try{i.container.addComponent(e)}catch(n){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function du(i){const e=i.name;if(Mh.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;Mh.set(e,i);for(const n of fu.values())dm(n,i);for(const n of R0.values())dm(n,i);return!0}function A0(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function P0(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new Lg("app","Firebase",k0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=I0;function jg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Oh,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Zr.create("bad-app-name",{appName:String(a)});if(n||(n=Dg()),!n)throw Zr.create("no-options");const c=fu.get(a);if(c){if(hu(n,c.options)&&hu(s,c.config))return c;throw Zr.create("duplicate-app",{appName:a})}const h=new Lw(a);for(const g of Mh.values())h.addComponent(g);const m=new x0(n,s,h);return fu.set(a,m),m}function N0(i=Oh){const e=fu.get(i);if(!e&&i===Oh&&Dg())return jg();if(!e)throw Zr.create("no-app",{appName:i});return e}function $s(i,e,n){let s=C0[i]??i;n&&(s+=`-${n}`);const a=s.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(h.join(" "));return}du(new ma(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="firebase-heartbeat-database",L0=1,ga="firebase-heartbeat-store";let Ih=null;function Ug(){return Ih||(Ih=Qw(D0,L0,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ga)}catch(n){console.warn(n)}}}}).catch(i=>{throw Zr.create("idb-open",{originalErrorMessage:i.message})})),Ih}async function O0(i){try{const n=(await Ug()).transaction(ga),s=await n.objectStore(ga).get(bg(i));return await n.done,s}catch(e){if(e instanceof eo)Sr.warn(e.message);else{const n=Zr.create("idb-get",{originalErrorMessage:e?.message});Sr.warn(n.message)}}}async function pm(i,e){try{const s=(await Ug()).transaction(ga,"readwrite");await s.objectStore(ga).put(e,bg(i)),await s.done}catch(n){if(n instanceof eo)Sr.warn(n.message);else{const s=Zr.create("idb-set",{originalErrorMessage:n?.message});Sr.warn(s.message)}}}function bg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=1024,F0=30;class j0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new b0(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mm();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>F0){const a=z0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Sr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=mm(),{heartbeatsToSend:n,unsentEntries:s}=U0(this._heartbeatsCache.heartbeats),a=cu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Sr.warn(e),""}}}function mm(){return new Date().toISOString().substring(0,10)}function U0(i,e=M0){const n=[];let s=i.slice();for(const a of i){const c=n.find(h=>h.agent===a.agent);if(c){if(c.dates.push(a.date),gm(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),gm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class b0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Rw()?Aw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await O0(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function gm(i){return cu(JSON.stringify({version:2,heartbeats:i})).length}function z0(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(i){du(new ma("platform-logger",e=>new Xw(e),"PRIVATE")),du(new ma("heartbeat",e=>new j0(e),"PRIVATE")),$s(Lh,fm,i),$s(Lh,fm,"esm2020"),$s("fire-js","")}B0("");var ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ei,zg;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,I){function C(){}C.prototype=I.prototype,V.D=I.prototype,V.prototype=new C,V.prototype.constructor=V,V.C=function(k,N,L){for(var R=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)R[nt-2]=arguments[nt];return I.prototype[N].apply(k,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,I,C){C||(C=0);var k=Array(16);if(typeof I=="string")for(var N=0;16>N;++N)k[N]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(N=0;16>N;++N)k[N]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=V.g[0],C=V.g[1],N=V.g[2];var L=V.g[3],R=I+(L^C&(N^L))+k[0]+3614090360&4294967295;I=C+(R<<7&4294967295|R>>>25),R=L+(N^I&(C^N))+k[1]+3905402710&4294967295,L=I+(R<<12&4294967295|R>>>20),R=N+(C^L&(I^C))+k[2]+606105819&4294967295,N=L+(R<<17&4294967295|R>>>15),R=C+(I^N&(L^I))+k[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=I+(L^C&(N^L))+k[4]+4118548399&4294967295,I=C+(R<<7&4294967295|R>>>25),R=L+(N^I&(C^N))+k[5]+1200080426&4294967295,L=I+(R<<12&4294967295|R>>>20),R=N+(C^L&(I^C))+k[6]+2821735955&4294967295,N=L+(R<<17&4294967295|R>>>15),R=C+(I^N&(L^I))+k[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=I+(L^C&(N^L))+k[8]+1770035416&4294967295,I=C+(R<<7&4294967295|R>>>25),R=L+(N^I&(C^N))+k[9]+2336552879&4294967295,L=I+(R<<12&4294967295|R>>>20),R=N+(C^L&(I^C))+k[10]+4294925233&4294967295,N=L+(R<<17&4294967295|R>>>15),R=C+(I^N&(L^I))+k[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=I+(L^C&(N^L))+k[12]+1804603682&4294967295,I=C+(R<<7&4294967295|R>>>25),R=L+(N^I&(C^N))+k[13]+4254626195&4294967295,L=I+(R<<12&4294967295|R>>>20),R=N+(C^L&(I^C))+k[14]+2792965006&4294967295,N=L+(R<<17&4294967295|R>>>15),R=C+(I^N&(L^I))+k[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=I+(N^L&(C^N))+k[1]+4129170786&4294967295,I=C+(R<<5&4294967295|R>>>27),R=L+(C^N&(I^C))+k[6]+3225465664&4294967295,L=I+(R<<9&4294967295|R>>>23),R=N+(I^C&(L^I))+k[11]+643717713&4294967295,N=L+(R<<14&4294967295|R>>>18),R=C+(L^I&(N^L))+k[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=I+(N^L&(C^N))+k[5]+3593408605&4294967295,I=C+(R<<5&4294967295|R>>>27),R=L+(C^N&(I^C))+k[10]+38016083&4294967295,L=I+(R<<9&4294967295|R>>>23),R=N+(I^C&(L^I))+k[15]+3634488961&4294967295,N=L+(R<<14&4294967295|R>>>18),R=C+(L^I&(N^L))+k[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=I+(N^L&(C^N))+k[9]+568446438&4294967295,I=C+(R<<5&4294967295|R>>>27),R=L+(C^N&(I^C))+k[14]+3275163606&4294967295,L=I+(R<<9&4294967295|R>>>23),R=N+(I^C&(L^I))+k[3]+4107603335&4294967295,N=L+(R<<14&4294967295|R>>>18),R=C+(L^I&(N^L))+k[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=I+(N^L&(C^N))+k[13]+2850285829&4294967295,I=C+(R<<5&4294967295|R>>>27),R=L+(C^N&(I^C))+k[2]+4243563512&4294967295,L=I+(R<<9&4294967295|R>>>23),R=N+(I^C&(L^I))+k[7]+1735328473&4294967295,N=L+(R<<14&4294967295|R>>>18),R=C+(L^I&(N^L))+k[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=I+(C^N^L)+k[5]+4294588738&4294967295,I=C+(R<<4&4294967295|R>>>28),R=L+(I^C^N)+k[8]+2272392833&4294967295,L=I+(R<<11&4294967295|R>>>21),R=N+(L^I^C)+k[11]+1839030562&4294967295,N=L+(R<<16&4294967295|R>>>16),R=C+(N^L^I)+k[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=I+(C^N^L)+k[1]+2763975236&4294967295,I=C+(R<<4&4294967295|R>>>28),R=L+(I^C^N)+k[4]+1272893353&4294967295,L=I+(R<<11&4294967295|R>>>21),R=N+(L^I^C)+k[7]+4139469664&4294967295,N=L+(R<<16&4294967295|R>>>16),R=C+(N^L^I)+k[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=I+(C^N^L)+k[13]+681279174&4294967295,I=C+(R<<4&4294967295|R>>>28),R=L+(I^C^N)+k[0]+3936430074&4294967295,L=I+(R<<11&4294967295|R>>>21),R=N+(L^I^C)+k[3]+3572445317&4294967295,N=L+(R<<16&4294967295|R>>>16),R=C+(N^L^I)+k[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=I+(C^N^L)+k[9]+3654602809&4294967295,I=C+(R<<4&4294967295|R>>>28),R=L+(I^C^N)+k[12]+3873151461&4294967295,L=I+(R<<11&4294967295|R>>>21),R=N+(L^I^C)+k[15]+530742520&4294967295,N=L+(R<<16&4294967295|R>>>16),R=C+(N^L^I)+k[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=I+(N^(C|~L))+k[0]+4096336452&4294967295,I=C+(R<<6&4294967295|R>>>26),R=L+(C^(I|~N))+k[7]+1126891415&4294967295,L=I+(R<<10&4294967295|R>>>22),R=N+(I^(L|~C))+k[14]+2878612391&4294967295,N=L+(R<<15&4294967295|R>>>17),R=C+(L^(N|~I))+k[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=I+(N^(C|~L))+k[12]+1700485571&4294967295,I=C+(R<<6&4294967295|R>>>26),R=L+(C^(I|~N))+k[3]+2399980690&4294967295,L=I+(R<<10&4294967295|R>>>22),R=N+(I^(L|~C))+k[10]+4293915773&4294967295,N=L+(R<<15&4294967295|R>>>17),R=C+(L^(N|~I))+k[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=I+(N^(C|~L))+k[8]+1873313359&4294967295,I=C+(R<<6&4294967295|R>>>26),R=L+(C^(I|~N))+k[15]+4264355552&4294967295,L=I+(R<<10&4294967295|R>>>22),R=N+(I^(L|~C))+k[6]+2734768916&4294967295,N=L+(R<<15&4294967295|R>>>17),R=C+(L^(N|~I))+k[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=I+(N^(C|~L))+k[4]+4149444226&4294967295,I=C+(R<<6&4294967295|R>>>26),R=L+(C^(I|~N))+k[11]+3174756917&4294967295,L=I+(R<<10&4294967295|R>>>22),R=N+(I^(L|~C))+k[2]+718787259&4294967295,N=L+(R<<15&4294967295|R>>>17),R=C+(L^(N|~I))+k[9]+3951481745&4294967295,V.g[0]=V.g[0]+I&4294967295,V.g[1]=V.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,V.g[2]=V.g[2]+N&4294967295,V.g[3]=V.g[3]+L&4294967295}s.prototype.u=function(V,I){I===void 0&&(I=V.length);for(var C=I-this.blockSize,k=this.B,N=this.h,L=0;L<I;){if(N==0)for(;L<=C;)a(this,V,L),L+=this.blockSize;if(typeof V=="string"){for(;L<I;)if(k[N++]=V.charCodeAt(L++),N==this.blockSize){a(this,k),N=0;break}}else for(;L<I;)if(k[N++]=V[L++],N==this.blockSize){a(this,k),N=0;break}}this.h=N,this.o+=I},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var I=1;I<V.length-8;++I)V[I]=0;var C=8*this.o;for(I=V.length-8;I<V.length;++I)V[I]=C&255,C/=256;for(this.u(V),V=Array(16),I=C=0;4>I;++I)for(var k=0;32>k;k+=8)V[C++]=this.g[I]>>>k&255;return V};function c(V,I){var C=m;return Object.prototype.hasOwnProperty.call(C,V)?C[V]:C[V]=I(V)}function h(V,I){this.h=I;for(var C=[],k=!0,N=V.length-1;0<=N;N--){var L=V[N]|0;k&&L==I||(C[N]=L,k=!1)}this.g=C}var m={};function g(V){return-128<=V&&128>V?c(V,function(I){return new h([I|0],0>I?-1:0)}):new h([V|0],0>V?-1:0)}function v(V){if(isNaN(V)||!isFinite(V))return T;if(0>V)return b(v(-V));for(var I=[],C=1,k=0;V>=C;k++)I[k]=V/C|0,C*=4294967296;return new h(I,0)}function w(V,I){if(V.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(V.charAt(0)=="-")return b(w(V.substring(1),I));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=v(Math.pow(I,8)),k=T,N=0;N<V.length;N+=8){var L=Math.min(8,V.length-N),R=parseInt(V.substring(N,N+L),I);8>L?(L=v(Math.pow(I,L)),k=k.j(L).add(v(R))):(k=k.j(C),k=k.add(v(R)))}return k}var T=g(0),A=g(1),U=g(16777216);i=h.prototype,i.m=function(){if(H(this))return-b(this).m();for(var V=0,I=1,C=0;C<this.g.length;C++){var k=this.i(C);V+=(0<=k?k:4294967296+k)*I,I*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(W(this))return"0";if(H(this))return"-"+b(this).toString(V);for(var I=v(Math.pow(V,6)),C=this,k="";;){var N=_e(C,I).g;C=K(C,N.j(I));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(V);if(C=N,W(C))return L+k;for(;6>L.length;)L="0"+L;k=L+k}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function W(V){if(V.h!=0)return!1;for(var I=0;I<V.g.length;I++)if(V.g[I]!=0)return!1;return!0}function H(V){return V.h==-1}i.l=function(V){return V=K(this,V),H(V)?-1:W(V)?0:1};function b(V){for(var I=V.g.length,C=[],k=0;k<I;k++)C[k]=~V.g[k];return new h(C,~V.h).add(A)}i.abs=function(){return H(this)?b(this):this},i.add=function(V){for(var I=Math.max(this.g.length,V.g.length),C=[],k=0,N=0;N<=I;N++){var L=k+(this.i(N)&65535)+(V.i(N)&65535),R=(L>>>16)+(this.i(N)>>>16)+(V.i(N)>>>16);k=R>>>16,L&=65535,R&=65535,C[N]=R<<16|L}return new h(C,C[C.length-1]&-2147483648?-1:0)};function K(V,I){return V.add(b(I))}i.j=function(V){if(W(this)||W(V))return T;if(H(this))return H(V)?b(this).j(b(V)):b(b(this).j(V));if(H(V))return b(this.j(b(V)));if(0>this.l(U)&&0>V.l(U))return v(this.m()*V.m());for(var I=this.g.length+V.g.length,C=[],k=0;k<2*I;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<V.g.length;N++){var L=this.i(k)>>>16,R=this.i(k)&65535,nt=V.i(N)>>>16,Vt=V.i(N)&65535;C[2*k+2*N]+=R*Vt,re(C,2*k+2*N),C[2*k+2*N+1]+=L*Vt,re(C,2*k+2*N+1),C[2*k+2*N+1]+=R*nt,re(C,2*k+2*N+1),C[2*k+2*N+2]+=L*nt,re(C,2*k+2*N+2)}for(k=0;k<I;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=I;k<2*I;k++)C[k]=0;return new h(C,0)};function re(V,I){for(;(V[I]&65535)!=V[I];)V[I+1]+=V[I]>>>16,V[I]&=65535,I++}function ne(V,I){this.g=V,this.h=I}function _e(V,I){if(W(I))throw Error("division by zero");if(W(V))return new ne(T,T);if(H(V))return I=_e(b(V),I),new ne(b(I.g),b(I.h));if(H(I))return I=_e(V,b(I)),new ne(b(I.g),I.h);if(30<V.g.length){if(H(V)||H(I))throw Error("slowDivide_ only works with positive integers.");for(var C=A,k=I;0>=k.l(V);)C=ke(C),k=ke(k);var N=Ce(C,1),L=Ce(k,1);for(k=Ce(k,2),C=Ce(C,2);!W(k);){var R=L.add(k);0>=R.l(V)&&(N=N.add(C),L=R),k=Ce(k,1),C=Ce(C,1)}return I=K(V,N.j(I)),new ne(N,I)}for(N=T;0<=V.l(I);){for(C=Math.max(1,Math.floor(V.m()/I.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),L=v(C),R=L.j(I);H(R)||0<R.l(V);)C-=k,L=v(C),R=L.j(I);W(L)&&(L=A),N=N.add(L),V=K(V,R)}return new ne(N,V)}i.A=function(V){return _e(this,V).h},i.and=function(V){for(var I=Math.max(this.g.length,V.g.length),C=[],k=0;k<I;k++)C[k]=this.i(k)&V.i(k);return new h(C,this.h&V.h)},i.or=function(V){for(var I=Math.max(this.g.length,V.g.length),C=[],k=0;k<I;k++)C[k]=this.i(k)|V.i(k);return new h(C,this.h|V.h)},i.xor=function(V){for(var I=Math.max(this.g.length,V.g.length),C=[],k=0;k<I;k++)C[k]=this.i(k)^V.i(k);return new h(C,this.h^V.h)};function ke(V){for(var I=V.g.length+1,C=[],k=0;k<I;k++)C[k]=V.i(k)<<1|V.i(k-1)>>>31;return new h(C,V.h)}function Ce(V,I){var C=I>>5;I%=32;for(var k=V.g.length-C,N=[],L=0;L<k;L++)N[L]=0<I?V.i(L+C)>>>I|V.i(L+C+1)<<32-I:V.i(L+C);return new h(N,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,zg=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,ei=h}).apply(typeof ym<"u"?ym:typeof self<"u"?self:typeof window<"u"?window:{});var Gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bg,na,$g,ru,Fh,Hg,Wg,qg;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,y){return l==Array.prototype||l==Object.prototype||(l[d]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gl=="object"&&Gl];for(var d=0;d<l.length;++d){var y=l[d];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var y=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var O=l[E];if(!(O in y))break e;y=y[O]}l=l[l.length-1],E=y[l],d=d(E),d!=E&&d!=null&&e(y,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var y=0,E=!1,O={next:function(){if(!E&&y<l.length){var z=y++;return{value:d(z,l[z]),done:!1}}return E=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function v(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function w(l,d,y){return l.call.apply(l.bind,arguments)}function T(l,d,y){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,E),l.apply(d,O)}}return function(){return l.apply(d,arguments)}}function A(l,d,y){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,A.apply(null,arguments)}function U(l,d){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function W(l,d){function y(){}y.prototype=d.prototype,l.aa=d.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(E,O,z){for(var ee=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ee[Ue-2]=arguments[Ue];return d.prototype[O].apply(E,ee)}}function H(l){const d=l.length;if(0<d){const y=Array(d);for(let E=0;E<d;E++)y[E]=l[E];return y}return[]}function b(l,d){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const O=l.length||0,z=E.length||0;l.length=O+z;for(let ee=0;ee<z;ee++)l[O+ee]=E[ee]}else l.push(E)}}class K{constructor(d,y){this.i=d,this.j=y,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function re(l){return/^[\s\xa0]*$/.test(l)}function ne(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function _e(l){return _e[" "](l),l}_e[" "]=function(){};var ke=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Ce(l,d,y){for(const E in l)d.call(y,l[E],E,l)}function V(l,d){for(const y in l)d.call(void 0,l[y],y,l)}function I(l){const d={};for(const y in l)d[y]=l[y];return d}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,d){let y,E;for(let O=1;O<arguments.length;O++){E=arguments[O];for(y in E)l[y]=E[y];for(let z=0;z<C.length;z++)y=C[z],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function N(l){var d=1;l=l.split(":");const y=[];for(;0<d&&l.length;)y.push(l.shift()),d--;return l.length&&y.push(l.join(":")),y}function L(l){m.setTimeout(()=>{throw l},0)}function R(){var l=de;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class nt{constructor(){this.h=this.g=null}add(d,y){const E=Vt.get();E.set(d,y),this.h?this.h.next=E:this.g=E,this.h=E}}var Vt=new K(()=>new Nt,l=>l.reset());class Nt{constructor(){this.next=this.g=this.h=null}set(d,y){this.h=d,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let be,te=!1,de=new nt,se=()=>{const l=m.Promise.resolve(void 0);be=()=>{l.then(D)}};var D=()=>{for(var l;l=R();){try{l.h.call(l.g)}catch(y){L(y)}var d=Vt;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}te=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};m.addEventListener("test",y,d),m.removeEventListener("test",y,d)}catch{}return l}();function Se(l,d){if(fe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(ke){e:{try{_e(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else y=="mouseover"?d=l.fromElement:y=="mouseout"&&(d=l.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:xe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Se.aa.h.call(this)}}W(Se,fe);var xe={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function Be(l,d,y,E,O){this.listener=l,this.proxy=null,this.src=d,this.type=y,this.capture=!!E,this.ha=O,this.key=++Fe,this.da=this.fa=!1}function vt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function rr(l){this.src=l,this.g={},this.h=0}rr.prototype.add=function(l,d,y,E,O){var z=l.toString();l=this.g[z],l||(l=this.g[z]=[],this.h++);var ee=Rr(l,d,E,O);return-1<ee?(d=l[ee],y||(d.fa=!1)):(d=new Be(d,this.src,z,!!E,O),d.fa=y,l.push(d)),d};function Qi(l,d){var y=d.type;if(y in l.g){var E=l.g[y],O=Array.prototype.indexOf.call(E,d,void 0),z;(z=0<=O)&&Array.prototype.splice.call(E,O,1),z&&(vt(d),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Rr(l,d,y,E){for(var O=0;O<l.length;++O){var z=l[O];if(!z.da&&z.listener==d&&z.capture==!!y&&z.ha==E)return O}return-1}var ui="closure_lm_"+(1e6*Math.random()|0),Ki={};function so(l,d,y,E,O){if(Array.isArray(d)){for(var z=0;z<d.length;z++)so(l,d[z],y,E,O);return null}return y=lo(y),l&&l[Me]?l.K(d,y,v(E)?!!E.capture:!1,O):oo(l,d,y,!1,E,O)}function oo(l,d,y,E,O,z){if(!d)throw Error("Invalid event type");var ee=v(O)?!!O.capture:!!O,Ue=Xi(l);if(Ue||(l[ui]=Ue=new rr(l)),y=Ue.add(d,y,E,ee,z),y.proxy)return y;if(E=Na(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)Te||(O=ee),O===void 0&&(O=!1),l.addEventListener(d.toString(),E,O);else if(l.attachEvent)l.attachEvent(sr(d.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Na(){function l(y){return d.call(l.src,l.listener,y)}const d=ao;return l}function Gi(l,d,y,E,O){if(Array.isArray(d))for(var z=0;z<d.length;z++)Gi(l,d[z],y,E,O);else E=v(E)?!!E.capture:!!E,y=lo(y),l&&l[Me]?(l=l.i,d=String(d).toString(),d in l.g&&(z=l.g[d],y=Rr(z,y,E,O),-1<y&&(vt(z[y]),Array.prototype.splice.call(z,y,1),z.length==0&&(delete l.g[d],l.h--)))):l&&(l=Xi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Rr(d,y,E,O)),(y=-1<l?d[l]:null)&&ir(y))}function ir(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Me])Qi(d.i,l);else{var y=l.type,E=l.proxy;d.removeEventListener?d.removeEventListener(y,E,l.capture):d.detachEvent?d.detachEvent(sr(y),E):d.addListener&&d.removeListener&&d.removeListener(E),(y=Xi(d))?(Qi(y,l),y.h==0&&(y.src=null,d[ui]=null)):vt(l)}}}function sr(l){return l in Ki?Ki[l]:Ki[l]="on"+l}function ao(l,d){if(l.da)l=!0;else{d=new Se(d,this);var y=l.listener,E=l.ha||l.src;l.fa&&ir(l),l=y.call(E,d)}return l}function Xi(l){return l=l[ui],l instanceof rr?l:null}var Yi="__closure_events_fn_"+(1e9*Math.random()>>>0);function lo(l){return typeof l=="function"?l:(l[Yi]||(l[Yi]=function(d){return l.handleEvent(d)}),l[Yi])}function ct(){Q.call(this),this.i=new rr(this),this.M=this,this.F=null}W(ct,Q),ct.prototype[Me]=!0,ct.prototype.removeEventListener=function(l,d,y,E){Gi(this,l,d,y,E)};function ht(l,d){var y,E=l.F;if(E)for(y=[];E;E=E.F)y.push(E);if(l=l.M,E=d.type||d,typeof d=="string")d=new fe(d,l);else if(d instanceof fe)d.target=d.target||l;else{var O=d;d=new fe(E,l),k(d,O)}if(O=!0,y)for(var z=y.length-1;0<=z;z--){var ee=d.g=y[z];O=or(ee,E,!0,d)&&O}if(ee=d.g=l,O=or(ee,E,!0,d)&&O,O=or(ee,E,!1,d)&&O,y)for(z=0;z<y.length;z++)ee=d.g=y[z],O=or(ee,E,!1,d)&&O}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var y=l.g[d],E=0;E<y.length;E++)vt(y[E]);delete l.g[d],l.h--}}this.F=null},ct.prototype.K=function(l,d,y,E){return this.i.add(String(l),d,!1,y,E)},ct.prototype.L=function(l,d,y,E){return this.i.add(String(l),d,!0,y,E)};function or(l,d,y,E){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,z=0;z<d.length;++z){var ee=d[z];if(ee&&!ee.da&&ee.capture==y){var Ue=ee.listener,ft=ee.ha||ee.src;ee.fa&&Qi(l.i,ee),O=Ue.call(ft,E)!==!1&&O}}return O&&!E.defaultPrevented}function uo(l,d,y){if(typeof l=="function")y&&(l=A(l,y));else if(l&&typeof l.handleEvent=="function")l=A(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function Ar(l){l.g=uo(()=>{l.g=null,l.i&&(l.i=!1,Ar(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class ci extends Q{constructor(d,y){super(),this.m=d,this.l=y,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Ar(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hi(l){Q.call(this),this.h=l,this.g={}}W(hi,Q);var co=[];function ho(l){Ce(l.g,function(d,y){this.g.hasOwnProperty(y)&&ir(d)},l),l.g={}}hi.prototype.N=function(){hi.aa.N.call(this),ho(this)},hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fo=m.JSON.stringify,po=m.JSON.parse,mo=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function fi(){}fi.prototype.h=null;function Ji(l){return l.h||(l.h=l.i())}function Zi(){}var an={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function On(){fe.call(this,"d")}W(On,fe);function es(){fe.call(this,"c")}W(es,fe);var Mn={},go=null;function di(){return go=go||new ct}Mn.La="serverreachability";function yo(l){fe.call(this,Mn.La,l)}W(yo,fe);function ar(l){const d=di();ht(d,new yo(d))}Mn.STAT_EVENT="statevent";function vo(l,d){fe.call(this,Mn.STAT_EVENT,l),this.stat=d}W(vo,fe);function rt(l){const d=di();ht(d,new vo(d,l))}Mn.Ma="timingevent";function ts(l,d){fe.call(this,Mn.Ma,l),this.size=d}W(ts,fe);function _n(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function pi(){this.g=!0}pi.prototype.xa=function(){this.g=!1};function mi(l,d,y,E,O,z){l.info(function(){if(l.g)if(z)for(var ee="",Ue=z.split("&"),ft=0;ft<Ue.length;ft++){var Ve=Ue[ft].split("=");if(1<Ve.length){var _t=Ve[0];Ve=Ve[1];var ot=_t.split("_");ee=2<=ot.length&&ot[1]=="type"?ee+(_t+"="+Ve+"&"):ee+(_t+"=redacted&")}}else ee=null;else ee=z;return"XMLHTTP REQ ("+E+") [attempt "+O+"]: "+d+`
`+y+`
`+ee})}function ns(l,d,y,E,O,z,ee){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+O+"]: "+d+`
`+y+`
`+z+" "+ee})}function En(l,d,y,E){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+Bu(l,y)+(E?" "+E:"")})}function _o(l,d){l.info(function(){return"TIMEOUT: "+d})}pi.prototype.info=function(){};function Bu(l,d){if(!l.g)return d;if(!d)return null;try{var y=JSON.parse(d);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var E=y[l];if(!(2>E.length)){var O=E[1];if(Array.isArray(O)&&!(1>O.length)){var z=O[0];if(z!="noop"&&z!="stop"&&z!="close")for(var ee=1;ee<O.length;ee++)O[ee]=""}}}}return fo(y)}catch{return d}}var rs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Da={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wn;function gi(){}W(gi,fi),gi.prototype.g=function(){return new XMLHttpRequest},gi.prototype.i=function(){return{}},wn=new gi;function Tn(l,d,y,E){this.j=l,this.i=d,this.l=y,this.R=E||1,this.U=new hi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new La}function La(){this.i=null,this.g="",this.h=!1}var Eo={},is={};function ss(l,d,y){l.L=1,l.v=Nr(en(d)),l.m=y,l.P=!0,wo(l,null)}function wo(l,d){l.F=Date.now(),$e(l),l.A=en(l.v);var y=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Lr(y.i,"t",E),l.C=0,y=l.j.J,l.h=new La,l.g=Ja(l.j,y?d:null,!l.m),0<l.O&&(l.M=new ci(A(l.Y,l,l.g),l.O)),d=l.U,y=l.g,E=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(co[0]=O.toString()),O=co);for(var z=0;z<O.length;z++){var ee=so(y,O[z],E||d.handleEvent,!1,d.h||d);if(!ee)break;d.g[ee.key]=ee}d=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),ar(),mi(l.i,l.u,l.A,l.l,l.R,l.m)}Tn.prototype.ca=function(l){l=l.target;const d=this.M;d&&Wt(l)==3?d.j():this.Y(l)},Tn.prototype.Y=function(l){try{if(l==this.g)e:{const ot=Wt(this.g);var d=this.g.Ba();const cn=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||Ao(this.g)))){this.J||ot!=4||d==7||(d==8||0>=cn?ar(3):ar(2)),yi(this);var y=this.g.Z();this.X=y;t:if(Oa(this)){var E=Ao(this.g);l="";var O=E.length,z=Wt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),Pr(this);var ee="";break t}this.h.i=new m.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,l+=this.h.i.decode(E[d],{stream:!(z&&d==O-1)});E.length=0,this.h.g+=l,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=y==200,ns(this.i,this.u,this.A,this.l,this.R,ot,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,ft=this.g;if((Ue=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Ue)){var Ve=Ue;break t}}Ve=null}if(y=Ve)En(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,To(this,y);else{this.o=!1,this.s=3,rt(12),ln(this),Pr(this);break e}}if(this.P){y=!0;let nn;for(;!this.J&&this.C<ee.length;)if(nn=$u(this,ee),nn==is){ot==4&&(this.s=4,rt(14),y=!1),En(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==Eo){this.s=4,rt(15),En(this.i,this.l,ee,"[Invalid Chunk]"),y=!1;break}else En(this.i,this.l,nn,null),To(this,nn);if(Oa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||ee.length!=0||this.h.h||(this.s=1,rt(16),y=!1),this.o=this.o&&y,!y)En(this.i,this.l,ee,"[Invalid Chunked Response]"),ln(this),Pr(this);else if(0<ee.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),ko(_t),_t.M=!0,rt(11))}}else En(this.i,this.l,ee,null),To(this,ee);ot==4&&ln(this),this.o&&!this.J&&(ot==4?gs(this.j,this):(this.o=!1,$e(this)))}else hs(this.g),y==400&&0<ee.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),ln(this),Pr(this)}}}catch{}finally{}};function Oa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function $u(l,d){var y=l.C,E=d.indexOf(`
`,y);return E==-1?is:(y=Number(d.substring(y,E)),isNaN(y)?Eo:(E+=1,E+y>d.length?is:(d=d.slice(E,E+y),l.C=E+y,d)))}Tn.prototype.cancel=function(){this.J=!0,ln(this)};function $e(l){l.S=Date.now()+l.I,Ma(l,l.I)}function Ma(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=_n(A(l.ba,l),d)}function yi(l){l.B&&(m.clearTimeout(l.B),l.B=null)}Tn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(_o(this.i,this.A),this.L!=2&&(ar(),rt(17)),ln(this),this.s=2,Pr(this)):Ma(this,this.S-l)};function Pr(l){l.j.G==0||l.J||gs(l.j,l)}function ln(l){yi(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,ho(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function To(l,d){try{var y=l.j;if(y.G!=0&&(y.g==l||bt(y.h,l))){if(!l.K&&bt(y.h,l)&&y.G==3){try{var E=y.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var O=E;if(O[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)ms(y),An(y);else break e;ps(y),rt(18)}}else y.za=O[1],0<y.za-y.T&&37500>O[2]&&y.F&&y.v==0&&!y.C&&(y.C=_n(A(y.Za,y),6e3));if(1>=ja(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else fr(y,11)}else if((l.K||y.g==l)&&ms(y),!re(d))for(O=y.Da.g.parse(d),d=0;d<O.length;d++){let Ve=O[d];if(y.T=Ve[0],Ve=Ve[1],y.G==2)if(Ve[0]=="c"){y.K=Ve[1],y.ia=Ve[2];const _t=Ve[3];_t!=null&&(y.la=_t,y.j.info("VER="+y.la));const ot=Ve[4];ot!=null&&(y.Aa=ot,y.j.info("SVER="+y.Aa));const cn=Ve[5];cn!=null&&typeof cn=="number"&&0<cn&&(E=1.5*cn,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const nn=l.g;if(nn){const Ii=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ii){var z=E.h;z.g||Ii.indexOf("spdy")==-1&&Ii.indexOf("quic")==-1&&Ii.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(So(z,z.h),z.h=null))}if(E.D){const vs=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;vs&&(E.ya=vs,ze(E.I,E.D,vs))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var ee=l;if(E.qa=Ya(E,E.J?E.ia:null,E.W),ee.K){Ua(E.h,ee);var Ue=ee,ft=E.L;ft&&(Ue.I=ft),Ue.B&&(yi(Ue),$e(Ue)),E.g=ee}else Si(E);0<y.i.length&&bn(y)}else Ve[0]!="stop"&&Ve[0]!="close"||fr(y,7);else y.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?fr(y,7):Ct(y):Ve[0]!="noop"&&y.l&&y.l.ta(Ve),y.v=0)}}ar(4)}catch{}}var Fa=class{constructor(l,d){this.g=l,this.map=d}};function vi(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ja(l){return l.h?1:l.g?l.g.size:0}function bt(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function So(l,d){l.g?l.g.add(d):l.h=d}function Ua(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}vi.prototype.cancel=function(){if(this.i=ba(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ba(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const y of l.g.values())d=d.concat(y.D);return d}return H(l.i)}function os(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var d=[],y=l.length,E=0;E<y;E++)d.push(l[E]);return d}d=[],y=0;for(E in l)d[y++]=l[E];return d}function as(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var d=[];l=l.length;for(var y=0;y<l;y++)d.push(y);return d}d=[],y=0;for(const E in l)d[y++]=E;return d}}}function kr(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var y=as(l),E=os(l),O=E.length,z=0;z<O;z++)d.call(void 0,E[z],y&&y[z],l)}var _i=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hu(l,d){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var E=l[y].indexOf("="),O=null;if(0<=E){var z=l[y].substring(0,E);O=l[y].substring(E+1)}else z=l[y];d(z,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function lr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof lr){this.h=l.h,Ei(this,l.j),this.o=l.o,this.g=l.g,xr(this,l.s),this.l=l.l;var d=l.i,y=new Fn;y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),Vr(this,y),this.m=l.m}else l&&(d=String(l).match(_i))?(this.h=!1,Ei(this,d[1]||"",!0),this.o=Pe(d[2]||""),this.g=Pe(d[3]||"",!0),xr(this,d[4]),this.l=Pe(d[5]||"",!0),Vr(this,d[6]||"",!0),this.m=Pe(d[7]||"")):(this.h=!1,this.i=new Fn(null,this.h))}lr.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Dr(d,ls,!0),":");var y=this.g;return(y||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Dr(d,ls,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Dr(y,y.charAt(0)=="/"?$a:Ba,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Dr(y,Io)),l.join("")};function en(l){return new lr(l)}function Ei(l,d,y){l.j=y?Pe(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function xr(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Vr(l,d,y){d instanceof Fn?(l.i=d,jn(l.i,l.h)):(y||(d=Dr(d,Ha)),l.i=new Fn(d,l.h))}function ze(l,d,y){l.i.set(d,y)}function Nr(l){return ze(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Pe(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Dr(l,d,y){return typeof l=="string"?(l=encodeURI(l).replace(d,za),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function za(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ls=/[#\/\?@]/g,Ba=/[#\?:]/g,$a=/[#\?]/g,Ha=/[#\?@]/g,Io=/#/g;function Fn(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function It(l){l.g||(l.g=new Map,l.h=0,l.i&&Hu(l.i,function(d,y){l.add(decodeURIComponent(d.replace(/\+/g," ")),y)}))}i=Fn.prototype,i.add=function(l,d){It(this),this.i=null,l=un(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(d),this.h+=1,this};function Sn(l,d){It(l),d=un(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function In(l,d){return It(l),d=un(l,d),l.g.has(d)}i.forEach=function(l,d){It(this),this.g.forEach(function(y,E){y.forEach(function(O){l.call(d,O,E,this)},this)},this)},i.na=function(){It(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),y=[];for(let E=0;E<d.length;E++){const O=l[E];for(let z=0;z<O.length;z++)y.push(d[E])}return y},i.V=function(l){It(this);let d=[];if(typeof l=="string")In(this,l)&&(d=d.concat(this.g.get(un(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)d=d.concat(l[y])}return d},i.set=function(l,d){return It(this),this.i=null,l=un(this,l),In(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Lr(l,d,y){Sn(l,d),0<y.length&&(l.i=null,l.g.set(un(l,d),H(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var y=0;y<d.length;y++){var E=d[y];const z=encodeURIComponent(String(E)),ee=this.V(E);for(E=0;E<ee.length;E++){var O=z;ee[E]!==""&&(O+="="+encodeURIComponent(String(ee[E]))),l.push(O)}}return this.i=l.join("&")};function un(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function jn(l,d){d&&!l.j&&(It(l),l.i=null,l.g.forEach(function(y,E){var O=E.toLowerCase();E!=O&&(Sn(this,E),Lr(this,O,y))},l)),l.j=d}function Wu(l,d){const y=new pi;if(m.Image){const E=new Image;E.onload=U(Ht,y,"TestLoadImage: loaded",!0,d,E),E.onerror=U(Ht,y,"TestLoadImage: error",!1,d,E),E.onabort=U(Ht,y,"TestLoadImage: abort",!1,d,E),E.ontimeout=U(Ht,y,"TestLoadImage: timeout",!1,d,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else d(!1)}function Wa(l,d){const y=new pi,E=new AbortController,O=setTimeout(()=>{E.abort(),Ht(y,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:E.signal}).then(z=>{clearTimeout(O),z.ok?Ht(y,"TestPingServer: ok",!0,d):Ht(y,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),Ht(y,"TestPingServer: error",!1,d)})}function Ht(l,d,y,E,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),E(y)}catch{}}function qu(){this.g=new mo}function qa(l,d,y){const E=y||"";try{kr(l,function(O,z){let ee=O;v(O)&&(ee=fo(O)),d.push(E+z+"="+encodeURIComponent(ee))})}catch(O){throw d.push(E+"type="+encodeURIComponent("_badmap")),O}}function ur(l){this.l=l.Ub||null,this.j=l.eb||!1}W(ur,fi),ur.prototype.g=function(){return new wi(this.l,this.j)},ur.prototype.i=function(l){return function(){return l}}({});function wi(l,d){ct.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}W(wi,ct),i=wi.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Rn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Rn(this)),this.g&&(this.readyState=3,Rn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qa(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qa(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Cn(this):Rn(this),this.readyState==3&&Qa(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Cn(this))},i.Qa=function(l){this.g&&(this.response=l,Cn(this))},i.ga=function(){this.g&&Cn(this)};function Cn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Rn(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var y=d.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=d.next();return l.join(`\r
`)};function Rn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function cr(l){let d="";return Ce(l,function(y,E){d+=E,d+=":",d+=y,d+=`\r
`}),d}function Or(l,d,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=cr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):ze(l,d,y))}function Ge(l){ct.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}W(Ge,ct);var Qu=/^https?$/i,Co=["POST","PUT"];i=Ge.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wn.g(),this.v=this.o?Ji(this.o):Ji(wn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(z){Ti(this,z);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var O in E)y.set(O,E[O]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const z of E.keys())y.set(z,E.get(z));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(z=>z.toLowerCase()=="content-type"),O=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Co,d,void 0))||E||O||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ee]of y)this.g.setRequestHeader(z,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cs(this),this.u=!0,this.g.send(l),this.u=!1}catch(z){Ti(this,z)}};function Ti(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,us(l),tn(l)}function us(l){l.A||(l.A=!0,ht(l,"complete"),ht(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ht(this,"complete"),ht(this,"abort"),tn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tn(this,!0)),Ge.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ro(this):this.bb())},i.bb=function(){Ro(this)};function Ro(l){if(l.h&&typeof h<"u"&&(!l.v[1]||Wt(l)!=4||l.Z()!=2)){if(l.u&&Wt(l)==4)uo(l.Ea,0,l);else if(ht(l,"readystatechange"),Wt(l)==4){l.h=!1;try{const ee=l.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var y;if(!(y=d)){var E;if(E=ee===0){var O=String(l.D).match(_i)[1]||null;!O&&m.self&&m.self.location&&(O=m.self.location.protocol.slice(0,-1)),E=!Qu.test(O?O.toLowerCase():"")}y=E}if(y)ht(l,"complete"),ht(l,"success");else{l.m=6;try{var z=2<Wt(l)?l.g.statusText:""}catch{z=""}l.l=z+" ["+l.Z()+"]",us(l)}}finally{tn(l)}}}}function tn(l,d){if(l.g){cs(l);const y=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ht(l,"ready");try{y.onreadystatechange=E}catch{}}}function cs(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function Wt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),po(d)}};function Ao(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function hs(l){const d={};l=(l.g&&2<=Wt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(re(l[E]))continue;var y=N(l[E]);const O=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const z=d[O]||[];d[O]=z,z.push(y)}V(d,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Un(l,d,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||d}function Po(l){this.Aa=0,this.i=[],this.j=new pi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Un("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Un("baseRetryDelayMs",5e3,l),this.cb=Un("retryDelaySeedMs",1e4,l),this.Wa=Un("forwardChannelMaxRetries",2,l),this.wa=Un("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(l&&l.concurrentRequestLimit),this.Da=new qu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Po.prototype,i.la=8,i.G=1,i.connect=function(l,d,y,E){rt(0),this.W=l,this.H=d||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=Ya(this,null,this.W),bn(this)};function Ct(l){if(fs(l),l.G==3){var d=l.U++,y=en(l.I);if(ze(y,"SID",l.K),ze(y,"RID",d),ze(y,"TYPE","terminate"),hr(l,y),d=new Tn(l,l.j,d),d.L=2,d.v=Nr(en(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=d.v,y=!0),y||(d.g=Ja(d.j,null),d.g.ea(d.v)),d.F=Date.now(),$e(d)}Xa(l)}function An(l){l.g&&(ko(l),l.g.cancel(),l.g=null)}function fs(l){An(l),l.u&&(m.clearTimeout(l.u),l.u=null),ms(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function bn(l){if(!Zt(l.h)&&!l.s){l.s=!0;var d=l.Ga;be||se(),te||(be(),te=!0),de.add(d,l),l.B=0}}function Ku(l,d){return ja(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=_n(A(l.Ga,l,d),Ga(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new Tn(this,this.j,l);let z=this.o;if(this.S&&(z?(z=I(z),k(z,this.S)):z=this.S),this.m!==null||this.O||(O.H=z,z=null),this.P)e:{for(var d=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=y;break e}if(d===4096||y===this.i.length-1){d=y+1;break e}}d=1e3}else d=1e3;d=Mr(this,O,d),y=en(this.I),ze(y,"RID",l),ze(y,"CVER",22),this.D&&ze(y,"X-HTTP-Session-Id",this.D),hr(this,y),z&&(this.O?d="headers="+encodeURIComponent(String(cr(z)))+"&"+d:this.m&&Or(y,this.m,z)),So(this.h,O),this.Ua&&ze(y,"TYPE","init"),this.P?(ze(y,"$req",d),ze(y,"SID","null"),O.T=!0,ss(O,y,null)):ss(O,y,d),this.G=2}}else this.G==3&&(l?ds(this,l):this.i.length==0||Zt(this.h)||ds(this))};function ds(l,d){var y;d?y=d.l:y=l.U++;const E=en(l.I);ze(E,"SID",l.K),ze(E,"RID",y),ze(E,"AID",l.T),hr(l,E),l.m&&l.o&&Or(E,l.m,l.o),y=new Tn(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Mr(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),So(l.h,y),ss(y,E,d)}function hr(l,d){l.H&&Ce(l.H,function(y,E){ze(d,E,y)}),l.l&&kr({},function(y,E){ze(d,E,y)})}function Mr(l,d,y){y=Math.min(l.i.length,y);var E=l.l?A(l.l.Na,l.l,l):null;e:{var O=l.i;let z=-1;for(;;){const ee=["count="+y];z==-1?0<y?(z=O[0].g,ee.push("ofs="+z)):z=0:ee.push("ofs="+z);let Ue=!0;for(let ft=0;ft<y;ft++){let Ve=O[ft].g;const _t=O[ft].map;if(Ve-=z,0>Ve)z=Math.max(0,O[ft].g-100),Ue=!1;else try{qa(_t,ee,"req"+Ve+"_")}catch{E&&E(_t)}}if(Ue){E=ee.join("&");break e}}}return l=l.i.splice(0,y),d.D=l,E}function Si(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;be||se(),te||(be(),te=!0),de.add(d,l),l.v=0}}function ps(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=_n(A(l.Fa,l),Ga(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Ka(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=_n(A(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),An(this),Ka(this))};function ko(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Ka(l){l.g=new Tn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=en(l.qa);ze(d,"RID","rpc"),ze(d,"SID",l.K),ze(d,"AID",l.T),ze(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&ze(d,"TO",l.ja),ze(d,"TYPE","xmlhttp"),hr(l,d),l.m&&l.o&&Or(d,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Nr(en(d)),y.m=null,y.P=!0,wo(y,l)}i.Za=function(){this.C!=null&&(this.C=null,An(this),ps(this),rt(19))};function ms(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function gs(l,d){var y=null;if(l.g==d){ms(l),ko(l),l.g=null;var E=2}else if(bt(l.h,d))y=d.D,Ua(l.h,d),E=1;else return;if(l.G!=0){if(d.o)if(E==1){y=d.m?d.m.length:0,d=Date.now()-d.F;var O=l.B;E=di(),ht(E,new ts(E,y)),bn(l)}else Si(l);else if(O=d.s,O==3||O==0&&0<d.X||!(E==1&&Ku(l,d)||E==2&&ps(l)))switch(y&&0<y.length&&(d=l.h,d.i=d.i.concat(y)),O){case 1:fr(l,5);break;case 4:fr(l,10);break;case 3:fr(l,6);break;default:fr(l,2)}}}function Ga(l,d){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*d}function fr(l,d){if(l.j.info("Error code "+d),d==2){var y=A(l.fb,l),E=l.Xa;const O=!E;E=new lr(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ei(E,"https"),Nr(E),O?Wu(E.toString(),y):Wa(E.toString(),y)}else rt(2);l.G=0,l.l&&l.l.sa(d),Xa(l),fs(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Xa(l){if(l.G=0,l.ka=[],l.l){const d=ba(l.h);(d.length!=0||l.i.length!=0)&&(b(l.ka,d),b(l.ka,l.i),l.h.i.length=0,H(l.i),l.i.length=0),l.l.ra()}}function Ya(l,d,y){var E=y instanceof lr?en(y):new lr(y);if(E.g!="")d&&(E.g=d+"."+E.g),xr(E,E.s);else{var O=m.location;E=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var z=new lr(null);E&&Ei(z,E),d&&(z.g=d),O&&xr(z,O),y&&(z.l=y),E=z}return y=l.D,d=l.ya,y&&d&&ze(E,y,d),ze(E,"VER",l.la),hr(l,E),E}function Ja(l,d,y){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Ge(new ur({eb:y})):new Ge(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function xo(){}i=xo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ys(){}ys.prototype.g=function(l,d){return new zt(l,d)};function zt(l,d){ct.call(this),this.g=new Po(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!re(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!re(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new zn(this)}W(zt,ct),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){Ct(this.g)},zt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=fo(l),l=y);d.i.push(new Fa(d.Ya++,l)),d.G==3&&bn(d)},zt.prototype.N=function(){this.g.l=null,delete this.j,Ct(this.g),delete this.g,zt.aa.N.call(this)};function Za(l){On.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const y in d){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}W(Za,On);function el(){es.call(this),this.status=1}W(el,es);function zn(l){this.g=l}W(zn,xo),zn.prototype.ua=function(){ht(this.g,"a")},zn.prototype.ta=function(l){ht(this.g,new Za(l))},zn.prototype.sa=function(l){ht(this.g,new el)},zn.prototype.ra=function(){ht(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,qg=function(){return new ys},Wg=function(){return di()},Hg=Mn,Fh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rs.NO_ERROR=0,rs.TIMEOUT=8,rs.HTTP_ERROR=6,ru=rs,Da.COMPLETE="complete",$g=Da,Zi.EventType=an,an.OPEN="a",an.CLOSE="b",an.ERROR="c",an.MESSAGE="d",ct.prototype.listen=ct.prototype.K,na=Zi,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,Bg=Ge}).apply(typeof Gl<"u"?Gl:typeof self<"u"?self:typeof window<"u"?window:{});const vm="@firebase/firestore",_m="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Og("@firebase/firestore");function Us(){return bi.logLevel}function oe(i,...e){if(bi.logLevel<=De.DEBUG){const n=e.map(cf);bi.debug(`Firestore (${to}): ${i}`,...n)}}function Ir(i,...e){if(bi.logLevel<=De.ERROR){const n=e.map(cf);bi.error(`Firestore (${to}): ${i}`,...n)}}function Ws(i,...e){if(bi.logLevel<=De.WARN){const n=e.map(cf);bi.warn(`Firestore (${to}): ${i}`,...n)}}function cf(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Qg(i,s,n)}function Qg(i,e,n){let s=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ir(s),new Error(s)}function je(i,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,i||Qg(e,a,s)}function we(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends eo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class H0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class W0{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0,42304);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new ti;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ti,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},m=g=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ti)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(je(typeof s.accessToken=="string",31837,{l:s}),new Kg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new jt(e)}}class q0{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q0{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new q0(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Em{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K0{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,P0(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){je(this.o===void 0,3512);const s=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Em(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Em(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=G0(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%62))}return s}}function Re(i,e){return i<e?-1:i>e?1:0}function jh(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const a=i.charAt(s),c=e.charAt(s);if(a!==c)return Ch(a)===Ch(c)?Re(a,c):Ch(a)?1:-1}return Re(i.length,e.length)}const X0=55296,Y0=57343;function Ch(i){const e=i.charCodeAt(0);return e>=X0&&e<=Y0}function qs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="__name__";class qn{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return qn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=qn.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return Re(e.length,n.length)}static compareSegments(e,n){const s=qn.isNumericId(e),a=qn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?qn.extractNumericId(e).compare(qn.extractNumericId(n)):jh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ei.fromString(e.substring(4,e.length-2))}}class Qe extends qn{construct(e,n,s){return new Qe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const J0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends qn{construct(e,n,s){return new kt(e,n,s)}static isValidIdentifier(e){return J0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wm}static keyField(){return new kt([wm])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new he(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new he(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(s+=m,a++):(c(),a++)}if(c(),h)throw new he(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Qe.fromString(e))}static fromName(e){return new pe(Qe.fromString(e).popFirst(5))}static empty(){return new pe(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(i,e,n){if(!n)throw new he(X.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Z0(i,e,n,s){if(e===!0&&s===!0)throw new he(X.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Tm(i){if(!pe.isDocumentKey(i))throw new he(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Sm(i){if(pe.isDocumentKey(i))throw new he(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Xg(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function ff(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ye(12329,{type:typeof i})}function Qs(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ff(i);throw new he(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(i,e){const n={typeString:i};return e&&(n.value=e),n}function Aa(i,e){if(!Xg(i))throw new he(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(a&&typeof h!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new he(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im=-62135596800,Cm=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Cm);return new Ke(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Im)throw new he(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cm}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Aa(e,Ke._jsonSchema))return new Ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Im;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ke._jsonSchemaVersion="firestore/timestamp/1.0",Ke._jsonSchema={type:ut("string",Ke._jsonSchemaVersion),seconds:ut("number"),nanoseconds:ut("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Ke(0,0))}static max(){return new Ee(new Ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=-1;function e1(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Ee.fromTimestamp(s===1e9?new Ke(n+1,0):new Ke(n,s));return new ri(a,pe.empty(),e)}function t1(i){return new ri(i.readTime,i.key,ya)}class ri{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ri(Ee.min(),pe.empty(),ya)}static max(){return new ri(Ee.max(),pe.empty(),ya)}}function n1(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(i.documentKey,e.documentKey),n!==0?n:Re(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(i){if(i.code!==X.FAILED_PRECONDITION||i.message!==r1)throw i;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,s)=>{n(e)})}static reject(e){return new q((n,s)=>{s(e)})}static waitFor(e){return new q((n,s)=>{let a=0,c=0,h=!1;e.forEach(m=>{++a,m.next(()=>{++c,h&&c===a&&n()},g=>s(g))}),h=!0,c===a&&n()})}static or(e){let n=q.resolve(!1);for(const s of e)n=n.next(a=>a?q.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new q((s,a)=>{const c=e.length,h=new Array(c);let m=0;for(let g=0;g<c;g++){const v=g;n(e[v]).next(w=>{h[v]=w,++m,m===c&&s(h)},w=>a(w))}})}static doWhile(e,n){return new q((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function s1(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ro(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=-1;function ku(i){return i==null}function pu(i){return i===0&&1/i==-1/0}function o1(i){return typeof i=="number"&&Number.isInteger(i)&&!pu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="";function a1(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Rm(e)),e=l1(i.get(n),e);return Rm(e)}function l1(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case Yg:n+="";break;default:n+=c}}return n}function Rm(i){return i+Yg+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function $i(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Jg(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xl(this.root,e,this.comparator,!0)}}class Xl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??Pt.RED,this.left=a??Pt.EMPTY,this.right=c??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new Pt(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Pt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,a,c){return this}insert(e,n,s){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pm(this.data.getIterator())}getIteratorFrom(e){return new Pm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yt(this.comparator);return n.data=e,n}}class Pm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new yt(kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Zg("Invalid base64 string: "+c):c}}(e);return new xt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let h=0;h<a.length;++h)c+=String.fromCharCode(a[h]);return c}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const u1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ii(i){if(je(!!i,39018),typeof i=="string"){let e=0;const n=u1.exec(i);if(je(!!n,46558,{timestamp:i}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:st(i.seconds),nanos:st(i.nanos)}}function st(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function si(i){return typeof i=="string"?xt.fromBase64String(i):xt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="server_timestamp",ty="__type__",ny="__previous_value__",ry="__local_write_time__";function pf(i){return(i?.mapValue?.fields||{})[ty]?.stringValue===ey}function xu(i){const e=i.mapValue.fields[ny];return pf(e)?xu(e):e}function va(i){const e=ii(i.mapValue.fields[ry].timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,s,a,c,h,m,g,v,w){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=w}}const mu="(default)";class _a{constructor(e,n){this.projectId=e,this.database=n||mu}static empty(){return new _a("","")}get isDefaultDatabase(){return this.database===mu}isEqual(e){return e instanceof _a&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="__type__",h1="__max__",Yl={mapValue:{}},sy="__vector__",gu="value";function oi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?pf(i)?4:d1(i)?9007199254740991:f1(i)?10:11:ye(28295,{value:i})}function Zn(i,e){if(i===e)return!0;const n=oi(i);if(n!==oi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return va(i).isEqual(va(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const h=ii(a.timestampValue),m=ii(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return si(a.bytesValue).isEqual(si(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return st(a.geoPointValue.latitude)===st(c.geoPointValue.latitude)&&st(a.geoPointValue.longitude)===st(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return st(a.integerValue)===st(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const h=st(a.doubleValue),m=st(c.doubleValue);return h===m?pu(h)===pu(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return qs(i.arrayValue.values||[],e.arrayValue.values||[],Zn);case 10:case 11:return function(a,c){const h=a.mapValue.fields||{},m=c.mapValue.fields||{};if(Am(h)!==Am(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Zn(h[g],m[g])))return!1;return!0}(i,e);default:return ye(52216,{left:i})}}function Ea(i,e){return(i.values||[]).find(n=>Zn(n,e))!==void 0}function Ks(i,e){if(i===e)return 0;const n=oi(i),s=oi(e);if(n!==s)return Re(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(i.booleanValue,e.booleanValue);case 2:return function(c,h){const m=st(c.integerValue||c.doubleValue),g=st(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return km(i.timestampValue,e.timestampValue);case 4:return km(va(i),va(e));case 5:return jh(i.stringValue,e.stringValue);case 6:return function(c,h){const m=si(c),g=si(h);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(c,h){const m=c.split("/"),g=h.split("/");for(let v=0;v<m.length&&v<g.length;v++){const w=Re(m[v],g[v]);if(w!==0)return w}return Re(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,h){const m=Re(st(c.latitude),st(h.latitude));return m!==0?m:Re(st(c.longitude),st(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return xm(i.arrayValue,e.arrayValue);case 10:return function(c,h){const m=c.fields||{},g=h.fields||{},v=m[gu]?.arrayValue,w=g[gu]?.arrayValue,T=Re(v?.values?.length||0,w?.values?.length||0);return T!==0?T:xm(v,w)}(i.mapValue,e.mapValue);case 11:return function(c,h){if(c===Yl.mapValue&&h===Yl.mapValue)return 0;if(c===Yl.mapValue)return 1;if(h===Yl.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),v=h.fields||{},w=Object.keys(v);g.sort(),w.sort();for(let T=0;T<g.length&&T<w.length;++T){const A=jh(g[T],w[T]);if(A!==0)return A;const U=Ks(m[g[T]],v[w[T]]);if(U!==0)return U}return Re(g.length,w.length)}(i.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function km(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Re(i,e);const n=ii(i),s=ii(e),a=Re(n.seconds,s.seconds);return a!==0?a:Re(n.nanos,s.nanos)}function xm(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Ks(n[a],s[a]);if(c)return c}return Re(n.length,s.length)}function Gs(i){return Uh(i)}function Uh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=ii(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return si(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return pe.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=Uh(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const h of s)c?c=!1:a+=",",a+=`${h}:${Uh(n.fields[h])}`;return a+"}"}(i.mapValue):ye(61005,{value:i})}function iu(i){switch(oi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xu(i);return e?16+iu(e):16;case 5:return 2*i.stringValue.length;case 6:return si(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+iu(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return $i(s.fields,(c,h)=>{a+=c.length+iu(h)}),a}(i.mapValue);default:throw ye(13486,{value:i})}}function bh(i){return!!i&&"integerValue"in i}function mf(i){return!!i&&"arrayValue"in i}function Vm(i){return!!i&&"nullValue"in i}function Nm(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function su(i){return!!i&&"mapValue"in i}function f1(i){return(i?.mapValue?.fields||{})[iy]?.stringValue===sy}function aa(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return $i(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=aa(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=aa(i.arrayValue.values[n]);return e}return{...i}}function d1(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===h1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!su(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=aa(n)}setAll(e){let n=kt.emptyPath(),s={},a=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=m.popLast()}h?s[m.lastSegment()]=aa(h):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());su(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];su(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){$i(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new yn(aa(this.value))}}function oy(i){const e=[];return $i(i.fields,(n,s)=>{const a=new kt([n]);if(su(s)){const c=oy(s.mapValue).fields;if(c.length===0)e.push(a);else for(const h of c)e.push(a.child(h))}else e.push(a)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,s,a,c,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Ut(e,0,Ee.min(),Ee.min(),Ee.min(),yn.empty(),0)}static newFoundDocument(e,n,s,a){return new Ut(e,1,n,Ee.min(),s,a,0)}static newNoDocument(e,n){return new Ut(e,2,n,Ee.min(),Ee.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,Ee.min(),Ee.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.position=e,this.inclusive=n}}function Dm(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],h=i.position[a];if(c.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),n.key):s=Ks(h,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Lm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Zn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n="asc"){this.field=e,this.dir=n}}function p1(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{}class mt extends ay{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new g1(e,n,s):n==="array-contains"?new _1(e,s):n==="in"?new E1(e,s):n==="not-in"?new w1(e,s):n==="array-contains-any"?new T1(e,s):new mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new y1(e,s):new v1(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ks(n,this.value)):n!==null&&oi(this.value)===oi(n)&&this.matchesComparison(Ks(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends ay{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new er(e,n)}matches(e){return ly(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ly(i){return i.op==="and"}function uy(i){return m1(i)&&ly(i)}function m1(i){for(const e of i.filters)if(e instanceof er)return!1;return!0}function zh(i){if(i instanceof mt)return i.field.canonicalString()+i.op.toString()+Gs(i.value);if(uy(i))return i.filters.map(e=>zh(e)).join(",");{const e=i.filters.map(n=>zh(n)).join(",");return`${i.op}(${e})`}}function cy(i,e){return i instanceof mt?function(s,a){return a instanceof mt&&s.op===a.op&&s.field.isEqual(a.field)&&Zn(s.value,a.value)}(i,e):i instanceof er?function(s,a){return a instanceof er&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,h,m)=>c&&cy(h,a.filters[m]),!0):!1}(i,e):void ye(19439)}function hy(i){return i instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${Gs(n.value)}`}(i):i instanceof er?function(n){return n.op.toString()+" {"+n.getFilters().map(hy).join(" ,")+"}"}(i):"Filter"}class g1 extends mt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class y1 extends mt{constructor(e,n){super(e,"in",n),this.keys=fy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class v1 extends mt{constructor(e,n){super(e,"not-in",n),this.keys=fy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fy(i,e){return(e.arrayValue?.values||[]).map(n=>pe.fromName(n.referenceValue))}class _1 extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mf(n)&&Ea(n.arrayValue,this.value)}}class E1 extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ea(this.value.arrayValue,n)}}class w1 extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ea(this.value.arrayValue,n)}}class T1 extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ea(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n=null,s=[],a=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=h,this.endAt=m,this.Te=null}}function Om(i,e=null,n=[],s=[],a=null,c=null,h=null){return new S1(i,e,n,s,a,c,h)}function gf(i){const e=we(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>zh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),ku(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Gs(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Gs(s)).join(",")),e.Te=n}return e.Te}function yf(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!p1(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!cy(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Lm(i.startAt,e.startAt)&&Lm(i.endAt,e.endAt)}function Bh(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n=null,s=[],a=[],c=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function I1(i,e,n,s,a,c,h,m){return new Vu(i,e,n,s,a,c,h,m)}function vf(i){return new Vu(i)}function Mm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function C1(i){return i.collectionGroup!==null}function la(i){const e=we(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new yt(kt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(m=m.add(v.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new vu(c,s))}),n.has(kt.keyField().canonicalString())||e.Ie.push(new vu(kt.keyField(),s))}return e.Ie}function Qn(i){const e=we(i);return e.Ee||(e.Ee=R1(e,la(i))),e.Ee}function R1(i,e){if(i.limitType==="F")return Om(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new vu(a.field,c)});const n=i.endAt?new yu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new yu(i.startAt.position,i.startAt.inclusive):null;return Om(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function $h(i,e,n){return new Vu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Nu(i,e){return yf(Qn(i),Qn(e))&&i.limitType===e.limitType}function dy(i){return`${gf(Qn(i))}|lt:${i.limitType}`}function bs(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>hy(a)).join(", ")}]`),ku(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Gs(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Gs(a)).join(",")),`Target(${s})`}(Qn(i))}; limitType=${i.limitType})`}function Du(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pe.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of la(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(h,m,g){const v=Dm(h,m,g);return h.inclusive?v<=0:v<0}(s.startAt,la(s),a)||s.endAt&&!function(h,m,g){const v=Dm(h,m,g);return h.inclusive?v>=0:v>0}(s.endAt,la(s),a))}(i,e)}function A1(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function py(i){return(e,n)=>{let s=!1;for(const a of la(i)){const c=P1(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function P1(i,e,n){const s=i.field.isKeyField()?pe.comparator(e.key,n.key):function(c,h,m){const g=h.data.field(c),v=m.data.field(c);return g!==null&&v!==null?Ks(g,v):ye(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){$i(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Jg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=new et(pe.comparator);function Cr(){return k1}const my=new et(pe.comparator);function ra(...i){let e=my;for(const n of i)e=e.insert(n.key,n);return e}function gy(i){let e=my;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ji(){return ua()}function yy(){return ua()}function ua(){return new Hi(i=>i.toString(),(i,e)=>i.isEqual(e))}const x1=new et(pe.comparator),V1=new yt(pe.comparator);function Ae(...i){let e=V1;for(const n of i)e=e.add(n);return e}const N1=new yt(Re);function D1(){return N1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pu(e)?"-0":e}}function vy(i){return{integerValue:""+i}}function L1(i,e){return o1(e)?vy(e):_f(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(){this._=void 0}}function O1(i,e,n){return i instanceof _u?function(a,c){const h={fields:{[ty]:{stringValue:ey},[ry]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&pf(c)&&(c=xu(c)),c&&(h.fields[ny]=c),{mapValue:h}}(n,e):i instanceof wa?Ey(i,e):i instanceof Ta?wy(i,e):function(a,c){const h=_y(a,c),m=Fm(h)+Fm(a.Ae);return bh(h)&&bh(a.Ae)?vy(m):_f(a.serializer,m)}(i,e)}function M1(i,e,n){return i instanceof wa?Ey(i,e):i instanceof Ta?wy(i,e):n}function _y(i,e){return i instanceof Eu?function(s){return bh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class _u extends Lu{}class wa extends Lu{constructor(e){super(),this.elements=e}}function Ey(i,e){const n=Ty(e);for(const s of i.elements)n.some(a=>Zn(a,s))||n.push(s);return{arrayValue:{values:n}}}class Ta extends Lu{constructor(e){super(),this.elements=e}}function wy(i,e){let n=Ty(e);for(const s of i.elements)n=n.filter(a=>!Zn(a,s));return{arrayValue:{values:n}}}class Eu extends Lu{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Fm(i){return st(i.integerValue||i.doubleValue)}function Ty(i){return mf(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function F1(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof wa&&a instanceof wa||s instanceof Ta&&a instanceof Ta?qs(s.elements,a.elements,Zn):s instanceof Eu&&a instanceof Eu?Zn(s.Ae,a.Ae):s instanceof _u&&a instanceof _u}(i.transform,e.transform)}class j1{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ou(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Ou{}function Sy(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Cy(i.key,Kn.none()):new Pa(i.key,i.data,Kn.none());{const n=i.data,s=yn.empty();let a=new yt(kt.comparator);for(let c of e.fields)if(!a.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?s.delete(c):s.set(c,h),a=a.add(c)}return new Wi(i.key,s,new Ln(a.toArray()),Kn.none())}}function U1(i,e,n){i instanceof Pa?function(a,c,h){const m=a.value.clone(),g=Um(a.fieldTransforms,c,h.transformResults);m.setAll(g),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Wi?function(a,c,h){if(!ou(a.precondition,c))return void c.convertToUnknownDocument(h.version);const m=Um(a.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(Iy(a)),g.setAll(m),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,n):function(a,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function ca(i,e,n,s){return i instanceof Pa?function(c,h,m,g){if(!ou(c.precondition,h))return m;const v=c.value.clone(),w=bm(c.fieldTransforms,g,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(i,e,n,s):i instanceof Wi?function(c,h,m,g){if(!ou(c.precondition,h))return m;const v=bm(c.fieldTransforms,g,h),w=h.data;return w.setAll(Iy(c)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(T=>T.field))}(i,e,n,s):function(c,h,m){return ou(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,n)}function b1(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=_y(s.transform,a||null);c!=null&&(n===null&&(n=yn.empty()),n.set(s.field,c))}return n||null}function jm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&qs(s,a,(c,h)=>F1(c,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Pa extends Ou{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Wi extends Ou{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Iy(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Um(i,e,n){const s=new Map;je(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let a=0;a<n.length;a++){const c=i[a],h=c.transform,m=e.data.field(c.field);s.set(c.field,M1(h,m,n[a]))}return s}function bm(i,e,n){const s=new Map;for(const a of i){const c=a.transform,h=n.data.field(a.field);s.set(a.field,O1(c,h,e))}return s}class Cy extends Ou{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z1 extends Ou{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&U1(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ca(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ca(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=yy();return this.mutations.forEach(a=>{const c=e.get(a.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=n.has(a.key)?null:m;const g=Sy(h,m);g!==null&&s.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(Ee.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&qs(this.mutations,e.mutations,(n,s)=>jm(n,s))&&qs(this.baseMutations,e.baseMutations,(n,s)=>jm(n,s))}}class Ef{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){je(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=function(){return x1}();const c=e.mutations;for(let h=0;h<c.length;h++)a=a.insert(c[h].key,s[h].version);return new Ef(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,Ne;function W1(i){switch(i){case X.OK:return ye(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ye(15467,{code:i})}}function Ry(i){if(i===void 0)return Ir("GRPC error has no .code"),X.UNKNOWN;switch(i){case lt.OK:return X.OK;case lt.CANCELLED:return X.CANCELLED;case lt.UNKNOWN:return X.UNKNOWN;case lt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case lt.INTERNAL:return X.INTERNAL;case lt.UNAVAILABLE:return X.UNAVAILABLE;case lt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case lt.NOT_FOUND:return X.NOT_FOUND;case lt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case lt.ABORTED:return X.ABORTED;case lt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case lt.DATA_LOSS:return X.DATA_LOSS;default:return ye(39323,{code:i})}}(Ne=lt||(lt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=new ei([4294967295,4294967295],0);function zm(i){const e=q1().encode(i),n=new zg;return n.update(e),new Uint8Array(n.digest())}function Bm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ei([n,s],0),new ei([a,c],0)]}class wf{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ia(`Invalid padding: ${n}`);if(s<0)throw new ia(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ia(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ia(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ei.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(ei.fromNumber(s)));return a.compare(Q1)===1&&(a=new ei([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=zm(e),[s,a]=Bm(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,a,c);if(!this.we(h))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new wf(c,a,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.ge===0)return;const n=zm(e),[s,a]=Bm(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,a,c);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ia extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,ka.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Mu(Ee.min(),a,new et(Re),Cr(),Ae())}}class ka{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ka(s,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class Ay{constructor(e,n){this.targetId=e,this.Ce=n}}class Py{constructor(e,n,s=xt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class $m{constructor(){this.ve=0,this.Fe=Hm(),this.Me=xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ae(),n=Ae(),s=Ae();return this.Fe.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:ye(38017,{changeType:c})}}),new ka(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Hm()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class K1{constructor(e){this.Ge=e,this.ze=new Map,this.je=Cr(),this.Je=Jl(),this.He=Jl(),this.Ye=new et(Re)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,a)=>{this.rt(a)&&n(a)})}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const c=a.target;if(Bh(c))if(s===0){const h=new pe(c.path);this.et(n,h,Ut.newNoDocument(h,Ee.min()))}else je(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,v)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let h,m;try{h=si(s).toUint8Array()}catch(g){if(g instanceof Zg)return Ws("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new wf(h,a,c)}catch(g){return Ws(g instanceof ia?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),a++)}),a}Tt(e){const n=new Map;this.ze.forEach((c,h)=>{const m=this.ot(h);if(m){if(c.current&&Bh(m.target)){const g=new pe(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Ut.newNoDocument(g,e))}c.Be&&(n.set(h,c.ke()),c.qe())}});let s=Ae();this.He.forEach((c,h)=>{let m=!0;h.forEachWhile(g=>{const v=this.ot(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.je.forEach((c,h)=>h.setReadTime(e));const a=new Mu(e,n,this.Ye,this.je,s);return this.je=Cr(),this.Je=Jl(),this.He=Jl(),this.Ye=new et(Re),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new $m,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new yt(Re),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new yt(Re),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $m),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Jl(){return new et(pe.comparator)}function Hm(){return new et(pe.comparator)}const G1={asc:"ASCENDING",desc:"DESCENDING"},X1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y1={and:"AND",or:"OR"};class J1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hh(i,e){return i.useProto3Json||ku(e)?e:{value:e}}function wu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ky(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Z1(i,e){return wu(i,e.toTimestamp())}function Gn(i){return je(!!i,49232),Ee.fromTimestamp(function(n){const s=ii(n);return new Ke(s.seconds,s.nanos)}(i))}function Tf(i,e){return Wh(i,e).canonicalString()}function Wh(i,e){const n=function(a){return new Qe(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function xy(i){const e=Qe.fromString(i);return je(Oy(e),10190,{key:e.toString()}),e}function qh(i,e){return Tf(i.databaseId,e.path)}function Rh(i,e){const n=xy(e);if(n.get(1)!==i.databaseId.projectId)throw new he(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new he(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new pe(Ny(n))}function Vy(i,e){return Tf(i.databaseId,e)}function eT(i){const e=xy(i);return e.length===4?Qe.emptyPath():Ny(e)}function Qh(i){return new Qe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ny(i){return je(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Wm(i,e,n){return{name:qh(i,e),fields:n.value.mapValue.fields}}function tT(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ye(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(v,w){return v.useProto3Json?(je(w===void 0||typeof w=="string",58123),xt.fromBase64String(w||"")):(je(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),xt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(v){const w=v.code===void 0?X.UNKNOWN:Ry(v.code);return new he(w,v.message||"")}(h);n=new Py(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Rh(i,s.document.name),c=Gn(s.document.updateTime),h=s.document.createTime?Gn(s.document.createTime):Ee.min(),m=new yn({mapValue:{fields:s.document.fields}}),g=Ut.newFoundDocument(a,c,h,m),v=s.targetIds||[],w=s.removedTargetIds||[];n=new au(v,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Rh(i,s.document),c=s.readTime?Gn(s.readTime):Ee.min(),h=Ut.newNoDocument(a,c),m=s.removedTargetIds||[];n=new au([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Rh(i,s.document),c=s.removedTargetIds||[];n=new au([],c,a,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,h=new H1(a,c),m=s.targetId;n=new Ay(m,h)}}return n}function nT(i,e){let n;if(e instanceof Pa)n={update:Wm(i,e.key,e.value)};else if(e instanceof Cy)n={delete:qh(i,e.key)};else if(e instanceof Wi)n={update:Wm(i,e.key,e.data),updateMask:hT(e.fieldMask)};else{if(!(e instanceof z1))return ye(16599,{Vt:e.type});n={verify:qh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,h){const m=h.transform;if(m instanceof _u)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof wa)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ta)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Eu)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ye(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:Z1(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ye(27497)}(i,e.precondition)),n}function rT(i,e){return i&&i.length>0?(je(e!==void 0,14353),i.map(n=>function(a,c){let h=a.updateTime?Gn(a.updateTime):Gn(c);return h.isEqual(Ee.min())&&(h=Gn(c)),new j1(h,a.transformResults||[])}(n,e))):[]}function iT(i,e){return{documents:[Vy(i,e.path)]}}function sT(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Vy(i,a);const c=function(v){if(v.length!==0)return Ly(er.create(v,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const h=function(v){if(v.length!==0)return v.map(w=>function(A){return{field:zs(A.field),direction:lT(A.dir)}}(w))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Hh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ft:n,parent:a}}function oT(i){let e=eT(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){je(s===1,65062);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let c=[];n.where&&(c=function(T){const A=Dy(T);return A instanceof er&&uy(A)?A.getFilters():[A]}(n.where));let h=[];n.orderBy&&(h=function(T){return T.map(A=>function(W){return new vu(Bs(W.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(W.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(T){let A;return A=typeof T=="object"?T.value:T,ku(A)?null:A}(n.limit));let g=null;n.startAt&&(g=function(T){const A=!!T.before,U=T.values||[];return new yu(U,A)}(n.startAt));let v=null;return n.endAt&&(v=function(T){const A=!T.before,U=T.values||[];return new yu(U,A)}(n.endAt)),I1(e,a,h,c,m,"F",g,v)}function aT(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Dy(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Bs(n.unaryFilter.field);return mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Bs(n.unaryFilter.field);return mt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Bs(n.unaryFilter.field);return mt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Bs(n.unaryFilter.field);return mt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}}(i):i.fieldFilter!==void 0?function(n){return mt.create(Bs(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return er.create(n.compositeFilter.filters.map(s=>Dy(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ye(1026)}}(n.compositeFilter.op))}(i):ye(30097,{filter:i})}function lT(i){return G1[i]}function uT(i){return X1[i]}function cT(i){return Y1[i]}function zs(i){return{fieldPath:i.canonicalString()}}function Bs(i){return kt.fromServerFormat(i.fieldPath)}function Ly(i){return i instanceof mt?function(n){if(n.op==="=="){if(Nm(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NAN"}};if(Vm(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Nm(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NAN"}};if(Vm(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zs(n.field),op:uT(n.op),value:n.value}}}(i):i instanceof er?function(n){const s=n.getFilters().map(a=>Ly(a));return s.length===1?s[0]:{compositeFilter:{op:cT(n.op),filters:s}}}(i):ye(54877,{filter:i})}function hT(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Oy(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n,s,a,c=Ee.min(),h=Ee.min(),m=xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){this.yt=e}}function dT(i){const e=oT({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?$h(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.Cn=new mT}addToCollectionParentIndex(e,n){return this.Cn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(ri.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(ri.min())}updateCollectionGroup(e,n,s){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class mT{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new yt(Qe.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new yt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},My=41943040;class Jt{static withCacheSize(e){return new Jt(e,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jt.DEFAULT_COLLECTION_PERCENTILE=10,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jt.DEFAULT=new Jt(My,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jt.DISABLED=new Jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xs(0)}static cr(){return new Xs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="LruGarbageCollector",gT=1048576;function Km([i,e],[n,s]){const a=Re(i,n);return a===0?Re(e,s):a}class yT{constructor(e){this.Ir=e,this.buffer=new yt(Km),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Km(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vT{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(Qm,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ro(n)?oe(Qm,"Ignoring IndexedDB error during garbage collection: ",n):await no(n)}await this.Vr(3e5)})}}class _T{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return q.resolve(Pu.ce);const s=new yT(n);return this.mr.forEachTarget(e,a=>s.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>s.Ar(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(qm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qm):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,c,h,m,g,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,h=Date.now(),this.nthSequenceNumber(e,a))).next(T=>(s=T,m=Date.now(),this.removeTargets(e,s,n))).next(T=>(c=T,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(v=Date.now(),Us()<=De.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${a} in `+(m-h)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(v-g)+`ms
Total Duration: ${v-w}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:T})))}}function ET(i,e){return new _T(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.changes=new Hi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?q.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&ca(s.mutation,a,Ln.empty(),Ke.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ae()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ae()){const a=ji();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let h=ra();return c.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=ji();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ae()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,a){let c=Cr();const h=ua(),m=function(){return ua()}();return n.forEach((g,v)=>{const w=s.get(v.key);a.has(v.key)&&(w===void 0||w.mutation instanceof Wi)?c=c.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),ca(w.mutation,v,w.mutation.getFieldMask(),Ke.now())):h.set(v.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((v,w)=>h.set(v,w)),n.forEach((v,w)=>m.set(v,new TT(w,h.get(v)??null))),m))}recalculateAndSaveOverlays(e,n){const s=ua();let a=new et((h,m)=>h-m),c=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(g=>{const v=n.get(g);if(v===null)return;let w=s.get(g)||Ln.empty();w=m.applyToLocalView(v,w),s.set(g,w);const T=(a.get(m.batchId)||Ae()).add(g);a=a.insert(m.batchId,T)})}).next(()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),v=g.key,w=g.value,T=yy();w.forEach(A=>{if(!c.has(A)){const U=Sy(n.get(A),s.get(A));U!==null&&T.set(A,U),c=c.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,T))}return q.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):C1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const h=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):q.resolve(ji());let m=ya,g=c;return h.next(v=>q.forEach(v,(w,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),c.get(w)?q.resolve():this.remoteDocumentCache.getEntry(e,w).next(A=>{g=g.insert(w,A)}))).next(()=>this.populateOverlays(e,v,c)).next(()=>this.computeViews(e,g,v,Ae())).next(w=>({batchId:m,changes:gy(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(s=>{let a=ra();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let h=ra();return this.indexManager.getCollectionParents(e,c).next(m=>q.forEach(m,g=>{const v=function(T,A){return new Vu(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next(w=>{w.forEach((T,A)=>{h=h.insert(T,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(h=>{c.forEach((g,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,Ut.newInvalidDocument(w)))});let m=ra();return h.forEach((g,v)=>{const w=c.get(g);w!==void 0&&ca(w.mutation,v,Ln.empty(),Ke.now()),Du(n,v)&&(m=m.insert(g,v))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Gn(a.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(a){return{name:a.name,query:dT(a.bundledQuery),readTime:Gn(a.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.overlays=new et(pe.comparator),this.qr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ji();return q.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.St(e,n,c)}),q.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(s)),q.resolve()}getOverlaysForCollection(e,n,s){const a=ji(),c=n.length+1,h=new pe(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,v=g.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&g.largestBatchId>s&&a.set(g.getKey(),g)}return q.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new et((v,w)=>v-w);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let w=c.get(v.largestBatchId);w===null&&(w=ji(),c=c.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const m=ji(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,w)=>m.set(v,w)),!(m.size()>=a)););return q.resolve(m)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new $1(n,s));let c=this.qr.get(n);c===void 0&&(c=Ae(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this.Qr=new yt(St.$r),this.Ur=new yt(St.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new St(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new St(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new pe(new Qe([])),s=new St(n,e),a=new St(n,e+1),c=[];return this.Ur.forEachInRange([s,a],h=>{this.Gr(h),c.push(h.key)}),c}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new Qe([])),s=new St(n,e),a=new St(n,e+1);let c=Ae();return this.Ur.forEachInRange([s,a],h=>{c=c.add(h.key)}),c}containsKey(e){const n=new St(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class St{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Re(e.Yr,n.Yr)}static Kr(e,n){return Re(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new yt(St.$r)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new B1(c,n,s,a);this.mutationQueue.push(h);for(const m of a)this.Zr=this.Zr.add(new St(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return q.resolve(h)}lookupMutationBatch(e,n){return q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),c=a<0?0:a;return q.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?df:this.tr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new St(n,0),a=new St(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,a],h=>{const m=this.Xr(h.Yr);c.push(m)}),q.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new yt(Re);return n.forEach(a=>{const c=new St(a,0),h=new St(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,h],m=>{s=s.add(m.Yr)})}),q.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;pe.isDocumentKey(c)||(c=c.child(""));const h=new St(new pe(c),0);let m=new yt(Re);return this.Zr.forEachWhile(g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(m=m.add(g.Yr)),!0)},h),q.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(s=>{const a=this.Xr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return q.forEach(n.mutations,a=>{const c=new St(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new St(n,0),a=this.Zr.firstAfterOrEqual(s);return q.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this.ri=e,this.docs=function(){return new et(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return q.resolve(s?s.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let s=Cr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ut.newInvalidDocument(a))}),q.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=Cr();const h=n.path,m=new pe(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:v,value:{document:w}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||n1(t1(w),s)<=0||(a.has(w.key)||Du(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return q.resolve(c)}getAllFromCollectionGroup(e,n,s,a){ye(9500)}ii(e,n){return q.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new kT(this)}getSize(e){return q.resolve(this.size)}}class kT extends wT{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)}),q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.persistence=e,this.si=new Hi(n=>gf(n),yf),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new Sf,this.targetCount=0,this.ai=Xs.ur()}forEachTarget(e,n){return this.si.forEach((s,a)=>n(a)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Xs(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Pr(n),q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.si.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),q.waitFor(c).next(()=>a)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return q.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),q.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(h=>{c.push(a.markPotentiallyOrphaned(e,h))}),q.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return q.resolve(s)}containsKey(e,n){return q.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n){this.ui={},this.overlays={},this.ci=new Pu(0),this.li=!1,this.li=!0,this.hi=new RT,this.referenceDelegate=e(this),this.Pi=new xT(this),this.indexManager=new pT,this.remoteDocumentCache=function(a){return new PT(a)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new fT(n),this.Ii=new IT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new AT(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const a=new VT(this.ci.next());return this.referenceDelegate.Ei(),s(a).next(c=>this.referenceDelegate.di(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ai(e,n){return q.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class VT extends i1{constructor(e){super(),this.currentSequenceNumber=e}}class If{constructor(e){this.persistence=e,this.Ri=new Sf,this.Vi=null}static mi(e){return new If(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),q.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(a=>this.fi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.fi.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.fi,s=>{const a=pe.fromPath(s);return this.gi(e,a).next(c=>{c||n.removeEntry(a,Ee.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return q.or([()=>q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Tu{constructor(e,n){this.persistence=e,this.pi=new Hi(s=>a1(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=ET(this,n)}static mi(e,n){return new Tu(e,n)}Ei(){}di(e){return q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return q.forEach(this.pi,(s,a)=>this.br(e,s,a).next(c=>c?q.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ii(e,h=>this.br(e,h,n).next(m=>{m||(s++,c.removeEntry(h,Ee.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),q.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=iu(e.data.value)),n}br(e,n,s){return q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return q.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Ae(),a=Ae();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Cf(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Cw()?8:s1(Sw())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.ys(e,n).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.ws(e,n,a,s).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new NT;return this.Ss(e,n,h).next(m=>{if(c.result=m,this.Vs)return this.bs(e,n,h,m.size)})}).next(()=>c.result)}bs(e,n,s,a){return s.documentReadCount<this.fs?(Us()<=De.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",bs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),q.resolve()):(Us()<=De.DEBUG&&oe("QueryEngine","Query:",bs(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Us()<=De.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",bs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(n))):q.resolve())}ys(e,n){if(Mm(n))return q.resolve(null);let s=Qn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=$h(n,null,"F"),s=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const h=Ae(...c);return this.ps.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const v=this.Ds(n,m);return this.Cs(n,v,h,g.readTime)?this.ys(e,$h(n,null,"F")):this.vs(e,v,n,g)}))})))}ws(e,n,s,a){return Mm(n)||a.isEqual(Ee.min())?q.resolve(null):this.ps.getDocuments(e,s).next(c=>{const h=this.Ds(n,c);return this.Cs(n,h,s,a)?q.resolve(null):(Us()<=De.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),bs(n)),this.vs(e,h,n,e1(a,ya)).next(m=>m))})}Ds(e,n){let s=new yt(py(e));return n.forEach((a,c)=>{Du(e,c)&&(s=s.add(c))}),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Ss(e,n,s){return Us()<=De.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",bs(n)),this.ps.getDocumentsMatchingQuery(e,n,ri.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="LocalStore",LT=3e8;class OT{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new et(Re),this.xs=new Hi(c=>gf(c),yf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ST(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function MT(i,e,n,s){return new OT(i,e,n,s)}async function jy(i,e){const n=we(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const h=[],m=[];let g=Ae();for(const v of a){h.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}for(const v of c){m.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}return n.localDocuments.getDocuments(s,g).next(v=>({Ls:v,removedBatchIds:h,addedBatchIds:m}))})})}function FT(i,e){const n=we(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,g,v,w){const T=v.batch,A=T.keys();let U=q.resolve();return A.forEach(W=>{U=U.next(()=>w.getEntry(g,W)).next(H=>{const b=v.docVersions.get(W);je(b!==null,48541),H.version.compareTo(b)<0&&(T.applyToRemoteDocument(H,v),H.isValidDocument()&&(H.setReadTime(v.commitVersion),w.addEntry(H)))})}),U.next(()=>m.mutationQueue.removeMutationBatch(g,T))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Ae();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(g=g.add(m.batch.mutations[v].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function Uy(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function jT(i,e){const n=we(i),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const m=[];e.targetChanges.forEach((w,T)=>{const A=a.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(c,w.removedDocuments,T).next(()=>n.Pi.addMatchingKeys(c,w.addedDocuments,T)));let U=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?U=U.withResumeToken(xt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):w.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(w.resumeToken,s)),a=a.insert(T,U),function(H,b,K){return H.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=LT?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(A,U,w)&&m.push(n.Pi.updateTargetData(c,U))});let g=Cr(),v=Ae();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))}),m.push(UT(c,h,e.documentUpdates).next(w=>{g=w.ks,v=w.qs})),!s.isEqual(Ee.min())){const w=n.Pi.getLastRemoteSnapshotVersion(c).next(T=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(w)}return q.waitFor(m).next(()=>h.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,g,v)).next(()=>g)}).then(c=>(n.Ms=a,c))}function UT(i,e,n){let s=Ae(),a=Ae();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let h=Cr();return n.forEach((m,g)=>{const v=c.get(m);g.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):oe(Rf,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",g.version)}),{ks:h,qs:a}})}function bT(i,e){const n=we(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=df),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function zT(i,e){const n=we(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Pi.getTargetData(s,e).next(c=>c?(a=c,q.resolve(a)):n.Pi.allocateTargetId(s).next(h=>(a=new Yr(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function Kh(i,e,n){const s=we(i),a=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,h=>s.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!ro(h))throw h;oe(Rf,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function Gm(i,e,n){const s=we(i);let a=Ee.min(),c=Ae();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,w){const T=we(g),A=T.xs.get(w);return A!==void 0?q.resolve(T.Ms.get(A)):T.Pi.getTargetData(v,w)}(s,h,Qn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next(g=>{c=g})}).next(()=>s.Fs.getDocumentsMatchingQuery(h,e,n?a:Ee.min(),n?c:Ae())).next(m=>(BT(s,A1(e),m),{documents:m,Qs:c})))}function BT(i,e,n){let s=i.Os.get(e)||Ee.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.Os.set(e,s)}class Xm{constructor(){this.activeTargetIds=D1()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $T{constructor(){this.Mo=new Xm,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Xm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="ConnectivityMonitor";class Jm{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(Ym,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(Ym,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zl=null;function Gh(){return Zl===null?Zl=function(){return 268435456+Math.round(2147483648*Math.random())}():Zl++,"0x"+Zl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah="RestConnection",WT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qT{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===mu?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,c){const h=Gh(),m=this.zo(e,n.toUriEncodedString());oe(Ah,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,a,c);const{host:v}=new URL(m),w=lf(v);return this.Jo(e,m,g,s,w).then(T=>(oe(Ah,`Received RPC '${e}' ${h}: `,T),T),T=>{throw Ws(Ah,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T})}Ho(e,n,s,a,c,h){return this.Go(e,n,s,a,c)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+to}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}zo(e,n){const s=WT[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class KT extends qT{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,c){const h=Gh();return new Promise((m,g)=>{const v=new Bg;v.setWithCredentials(!0),v.listenOnce($g.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case ru.NO_ERROR:const T=v.getResponseJson();oe(Ft,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case ru.TIMEOUT:oe(Ft,`RPC '${e}' ${h} timed out`),g(new he(X.DEADLINE_EXCEEDED,"Request time out"));break;case ru.HTTP_ERROR:const A=v.getStatus();if(oe(Ft,`RPC '${e}' ${h} failed with status:`,A,"response text:",v.getResponseText()),A>0){let U=v.getResponseJson();Array.isArray(U)&&(U=U[0]);const W=U?.error;if(W&&W.status&&W.message){const H=function(K){const re=K.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(re)>=0?re:X.UNKNOWN}(W.status);g(new he(H,W.message))}else g(new he(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new he(X.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{oe(Ft,`RPC '${e}' ${h} completed.`)}});const w=JSON.stringify(a);oe(Ft,`RPC '${e}' ${h} sending request:`,a),v.send(n,"POST",w,s,15)})}T_(e,n,s){const a=Gh(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=qg(),m=Wg(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const w=c.join("");oe(Ft,`Creating RPC '${e}' stream ${a}: ${w}`,g);const T=h.createWebChannel(w,g);this.I_(T);let A=!1,U=!1;const W=new QT({Yo:b=>{U?oe(Ft,`Not sending because RPC '${e}' stream ${a} is closed:`,b):(A||(oe(Ft,`Opening RPC '${e}' stream ${a} transport.`),T.open(),A=!0),oe(Ft,`RPC '${e}' stream ${a} sending:`,b),T.send(b))},Zo:()=>T.close()}),H=(b,K,re)=>{b.listen(K,ne=>{try{re(ne)}catch(_e){setTimeout(()=>{throw _e},0)}})};return H(T,na.EventType.OPEN,()=>{U||(oe(Ft,`RPC '${e}' stream ${a} transport opened.`),W.o_())}),H(T,na.EventType.CLOSE,()=>{U||(U=!0,oe(Ft,`RPC '${e}' stream ${a} transport closed`),W.a_(),this.E_(T))}),H(T,na.EventType.ERROR,b=>{U||(U=!0,Ws(Ft,`RPC '${e}' stream ${a} transport errored. Name:`,b.name,"Message:",b.message),W.a_(new he(X.UNAVAILABLE,"The operation could not be completed")))}),H(T,na.EventType.MESSAGE,b=>{if(!U){const K=b.data[0];je(!!K,16349);const re=K,ne=re?.error||re[0]?.error;if(ne){oe(Ft,`RPC '${e}' stream ${a} received error:`,ne);const _e=ne.status;let ke=function(I){const C=lt[I];if(C!==void 0)return Ry(C)}(_e),Ce=ne.message;ke===void 0&&(ke=X.INTERNAL,Ce="Unknown error status: "+_e+" with message "+ne.message),U=!0,W.a_(new he(ke,Ce)),T.close()}else oe(Ft,`RPC '${e}' stream ${a} received:`,K),W.u_(K)}}),H(m,Hg.STAT_EVENT,b=>{b.stat===Fh.PROXY?oe(Ft,`RPC '${e}' stream ${a} detected buffering proxy`):b.stat===Fh.NOPROXY&&oe(Ft,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{W.__()},0),W}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Ph(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(i){return new J1(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n,s=1e3,a=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&oe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="PersistentStream";class zy{constructor(e,n,s,a,c,h,m,g){this.Mi=e,this.S_=s,this.b_=a,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new by(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Ir(n.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.D_===n&&this.G_(s,a)},s=>{e(()=>{const a=new he(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{s(()=>this.z_(a))}),this.stream.onMessage(a=>{s(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return oe(Zm,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(oe(Zm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GT extends zy{constructor(e,n,s,a,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=tT(this.serializer,e),s=function(c){if(!("targetChange"in c))return Ee.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?Gn(h.readTime):Ee.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Qh(this.serializer),n.addTarget=function(c,h){let m;const g=h.target;if(m=Bh(g)?{documents:iT(c,g)}:{query:sT(c,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=ky(c,h.resumeToken);const v=Hh(c,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(Ee.min())>0){m.readTime=wu(c,h.snapshotVersion.toTimestamp());const v=Hh(c,h.expectedCount);v!==null&&(m.expectedCount=v)}return m}(this.serializer,e);const s=aT(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Qh(this.serializer),n.removeTarget=e,this.q_(n)}}class XT extends zy{constructor(e,n,s,a,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,h),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=rT(e.writeResults,e.commitTime),s=Gn(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Qh(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>nT(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{}class JT extends YT{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Go(e,Wh(n,s),a,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(X.UNKNOWN,c.toString())})}Ho(e,n,s,a,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Ho(e,Wh(n,s),a,h,m,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(X.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class ZT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ir(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="RemoteStore";class eS{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(h=>{s.enqueueAndForget(async()=>{qi(this)&&(oe(zi,"Restarting streams for network reachability change."),await async function(g){const v=we(g);v.Ea.add(4),await xa(v),v.Ra.set("Unknown"),v.Ea.delete(4),await ju(v)}(this))})}),this.Ra=new ZT(s,a)}}async function ju(i){if(qi(i))for(const e of i.da)await e(!0)}async function xa(i){for(const e of i.da)await e(!1)}function By(i,e){const n=we(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),xf(n)?kf(n):io(n).O_()&&Pf(n,e))}function Af(i,e){const n=we(i),s=io(n);n.Ia.delete(e),s.O_()&&$y(n,e),n.Ia.size===0&&(s.O_()?s.L_():qi(n)&&n.Ra.set("Unknown"))}function Pf(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}io(i).Y_(e)}function $y(i,e){i.Va.Ue(e),io(i).Z_(e)}function kf(i){i.Va=new K1({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),io(i).start(),i.Ra.ua()}function xf(i){return qi(i)&&!io(i).x_()&&i.Ia.size>0}function qi(i){return we(i).Ea.size===0}function Hy(i){i.Va=void 0}async function tS(i){i.Ra.set("Online")}async function nS(i){i.Ia.forEach((e,n)=>{Pf(i,e)})}async function rS(i,e){Hy(i),xf(i)?(i.Ra.ha(e),kf(i)):i.Ra.set("Unknown")}async function iS(i,e,n){if(i.Ra.set("Online"),e instanceof Py&&e.state===2&&e.cause)try{await async function(a,c){const h=c.cause;for(const m of c.targetIds)a.Ia.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.Ia.delete(m),a.Va.removeTarget(m))}(i,e)}catch(s){oe(zi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Su(i,s)}else if(e instanceof au?i.Va.Ze(e):e instanceof Ay?i.Va.st(e):i.Va.tt(e),!n.isEqual(Ee.min()))try{const s=await Uy(i.localStore);n.compareTo(s)>=0&&await function(c,h){const m=c.Va.Tt(h);return m.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const w=c.Ia.get(v);w&&c.Ia.set(v,w.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,v)=>{const w=c.Ia.get(g);if(!w)return;c.Ia.set(g,w.withResumeToken(xt.EMPTY_BYTE_STRING,w.snapshotVersion)),$y(c,g);const T=new Yr(w.target,g,v,w.sequenceNumber);Pf(c,T)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){oe(zi,"Failed to raise snapshot:",s),await Su(i,s)}}async function Su(i,e,n){if(!ro(e))throw e;i.Ea.add(1),await xa(i),i.Ra.set("Offline"),n||(n=()=>Uy(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{oe(zi,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await ju(i)})}function Wy(i,e){return e().catch(n=>Su(i,n,e))}async function Uu(i){const e=we(i),n=ai(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:df;for(;sS(e);)try{const a=await bT(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,oS(e,a)}catch(a){await Su(e,a)}qy(e)&&Qy(e)}function sS(i){return qi(i)&&i.Ta.length<10}function oS(i,e){i.Ta.push(e);const n=ai(i);n.O_()&&n.X_&&n.ea(e.mutations)}function qy(i){return qi(i)&&!ai(i).x_()&&i.Ta.length>0}function Qy(i){ai(i).start()}async function aS(i){ai(i).ra()}async function lS(i){const e=ai(i);for(const n of i.Ta)e.ea(n.mutations)}async function uS(i,e,n){const s=i.Ta.shift(),a=Ef.from(s,e,n);await Wy(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await Uu(i)}async function cS(i,e){e&&ai(i).X_&&await async function(s,a){if(function(h){return W1(h)&&h!==X.ABORTED}(a.code)){const c=s.Ta.shift();ai(s).B_(),await Wy(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await Uu(s)}}(i,e),qy(i)&&Qy(i)}async function eg(i,e){const n=we(i);n.asyncQueue.verifyOperationInProgress(),oe(zi,"RemoteStore received new credentials");const s=qi(n);n.Ea.add(3),await xa(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ju(n)}async function hS(i,e){const n=we(i);e?(n.Ea.delete(2),await ju(n)):e||(n.Ea.add(2),await xa(n),n.Ra.set("Unknown"))}function io(i){return i.ma||(i.ma=function(n,s,a){const c=we(n);return c.sa(),new GT(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Xo:tS.bind(null,i),t_:nS.bind(null,i),r_:rS.bind(null,i),H_:iS.bind(null,i)}),i.da.push(async e=>{e?(i.ma.B_(),xf(i)?kf(i):i.Ra.set("Unknown")):(await i.ma.stop(),Hy(i))})),i.ma}function ai(i){return i.fa||(i.fa=function(n,s,a){const c=we(n);return c.sa(),new XT(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:aS.bind(null,i),r_:cS.bind(null,i),ta:lS.bind(null,i),na:uS.bind(null,i)}),i.da.push(async e=>{e?(i.fa.B_(),await Uu(i)):(await i.fa.stop(),i.Ta.length>0&&(oe(zi,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const h=Date.now()+s,m=new Vf(e,n,h,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nf(i,e){if(Ir("AsyncQueue",`${e}: ${i}`),ro(i))return new he(X.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{static emptySet(e){return new Hs(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=ra(),this.sortedSet=new et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Hs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.ga=new et(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ys{constructor(e,n,s,a,c,h,m,g,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,c){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new Ys(e,n,Hs.emptySet(n),h,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class dS{constructor(){this.queries=ng(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=we(n),c=a.queries;a.queries=ng(),c.forEach((h,m)=>{for(const g of m.Sa)g.onError(s)})})(this,new he(X.ABORTED,"Firestore shutting down"))}}function ng(){return new Hi(i=>dy(i),Nu)}async function pS(i,e){const n=we(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.ba()&&e.Da()&&(s=2):(c=new fS,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(a,!0);break;case 1:c.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(h){const m=Nf(h,`Initialization of query '${bs(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Df(n)}async function mS(i,e){const n=we(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?a=e.Da()?0:1:!c.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function gS(i,e){const n=we(i);let s=!1;for(const a of e){const c=a.query,h=n.queries.get(c);if(h){for(const m of h.Sa)m.Fa(a)&&(s=!0);h.wa=a}}s&&Df(n)}function yS(i,e,n){const s=we(i),a=s.queries.get(e);if(a)for(const c of a.Sa)c.onError(n);s.queries.delete(e)}function Df(i){i.Ca.forEach(e=>{e.next()})}var Xh,rg;(rg=Xh||(Xh={})).Ma="default",rg.Cache="cache";class vS{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Ys(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this.key=e}}class Gy{constructor(e){this.key=e}}class _S{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ae(),this.mutatedKeys=Ae(),this.eu=py(e),this.tu=new Hs(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new tg,a=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,T)=>{const A=a.get(w),U=Du(this.query,T)?T:null,W=!!A&&this.mutatedKeys.has(A.key),H=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let b=!1;A&&U?A.data.isEqual(U.data)?W!==H&&(s.track({type:3,doc:U}),b=!0):this.su(A,U)||(s.track({type:2,doc:U}),b=!0,(g&&this.eu(U,g)>0||v&&this.eu(U,v)<0)&&(m=!0)):!A&&U?(s.track({type:0,doc:U}),b=!0):A&&!U&&(s.track({type:1,doc:A}),b=!0,(g||v)&&(m=!0)),b&&(U?(h=h.add(U),c=H?c.add(w):c.delete(w)):(h=h.delete(w),c=c.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{tu:h,iu:s,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort((w,T)=>function(U,W){const H=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:b})}};return H(U)-H(W)}(w.type,T.type)||this.eu(w.doc,T.doc)),this.ou(s),a=a??!1;const m=n&&!a?this._u():[],g=this.Xa.size===0&&this.current&&!a?1:0,v=g!==this.Za;return this.Za=g,h.length!==0||v?{snapshot:new Ys(this.query,e.tu,c,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ae(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new Gy(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new Ky(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ae();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ys.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lf="SyncEngine";class ES{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class wS{constructor(e){this.key=e,this.hu=!1}}class TS{constructor(e,n,s,a,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Hi(m=>dy(m),Nu),this.Iu=new Map,this.Eu=new Set,this.du=new et(pe.comparator),this.Au=new Map,this.Ru=new Sf,this.Vu={},this.mu=new Map,this.fu=Xs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SS(i,e,n=!0){const s=tv(i);let a;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.lu()):a=await Xy(s,e,n,!0),a}async function IS(i,e){const n=tv(i);await Xy(n,e,!0,!1)}async function Xy(i,e,n,s){const a=await zT(i.localStore,Qn(e)),c=a.targetId,h=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await CS(i,e,c,h==="current",a.resumeToken)),i.isPrimaryClient&&n&&By(i.remoteStore,a),m}async function CS(i,e,n,s,a){i.pu=(T,A,U)=>async function(H,b,K,re){let ne=b.view.ru(K);ne.Cs&&(ne=await Gm(H.localStore,b.query,!1).then(({documents:V})=>b.view.ru(V,ne)));const _e=re&&re.targetChanges.get(b.targetId),ke=re&&re.targetMismatches.get(b.targetId)!=null,Ce=b.view.applyChanges(ne,H.isPrimaryClient,_e,ke);return sg(H,b.targetId,Ce.au),Ce.snapshot}(i,T,A,U);const c=await Gm(i.localStore,e,!0),h=new _S(e,c.Qs),m=h.ru(c.documents),g=ka.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=h.applyChanges(m,i.isPrimaryClient,g);sg(i,n,v.au);const w=new ES(e,n,h);return i.Tu.set(e,w),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),v.snapshot}async function RS(i,e,n){const s=we(i),a=s.Tu.get(e),c=s.Iu.get(a.targetId);if(c.length>1)return s.Iu.set(a.targetId,c.filter(h=>!Nu(h,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Kh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Af(s.remoteStore,a.targetId),Yh(s,a.targetId)}).catch(no)):(Yh(s,a.targetId),await Kh(s.localStore,a.targetId,!0))}async function AS(i,e){const n=we(i),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Af(n.remoteStore,s.targetId))}async function PS(i,e,n){const s=OS(i);try{const a=await function(h,m){const g=we(h),v=Ke.now(),w=m.reduce((U,W)=>U.add(W.key),Ae());let T,A;return g.persistence.runTransaction("Locally write mutations","readwrite",U=>{let W=Cr(),H=Ae();return g.Ns.getEntries(U,w).next(b=>{W=b,W.forEach((K,re)=>{re.isValidDocument()||(H=H.add(K))})}).next(()=>g.localDocuments.getOverlayedDocuments(U,W)).next(b=>{T=b;const K=[];for(const re of m){const ne=b1(re,T.get(re.key).overlayedDocument);ne!=null&&K.push(new Wi(re.key,ne,oy(ne.value.mapValue),Kn.exists(!0)))}return g.mutationQueue.addMutationBatch(U,v,K,m)}).next(b=>{A=b;const K=b.applyToLocalDocumentSet(T,H);return g.documentOverlayCache.saveOverlays(U,b.batchId,K)})}).then(()=>({batchId:A.batchId,changes:gy(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(h,m,g){let v=h.Vu[h.currentUser.toKey()];v||(v=new et(Re)),v=v.insert(m,g),h.Vu[h.currentUser.toKey()]=v}(s,a.batchId,n),await Va(s,a.changes),await Uu(s.remoteStore)}catch(a){const c=Nf(a,"Failed to persist write");n.reject(c)}}async function Yy(i,e){const n=we(i);try{const s=await jT(n.localStore,e);e.targetChanges.forEach((a,c)=>{const h=n.Au.get(c);h&&(je(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?h.hu=!0:a.modifiedDocuments.size>0?je(h.hu,14607):a.removedDocuments.size>0&&(je(h.hu,42227),h.hu=!1))}),await Va(n,s,e)}catch(s){await no(s)}}function ig(i,e,n){const s=we(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach((c,h)=>{const m=h.view.va(e);m.snapshot&&a.push(m.snapshot)}),function(h,m){const g=we(h);g.onlineState=m;let v=!1;g.queries.forEach((w,T)=>{for(const A of T.Sa)A.va(m)&&(v=!0)}),v&&Df(g)}(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function kS(i,e,n){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),c=a&&a.key;if(c){let h=new et(pe.comparator);h=h.insert(c,Ut.newNoDocument(c,Ee.min()));const m=Ae().add(c),g=new Mu(Ee.min(),new Map,new et(Re),h,m);await Yy(s,g),s.du=s.du.remove(c),s.Au.delete(e),Of(s)}else await Kh(s.localStore,e,!1).then(()=>Yh(s,e,n)).catch(no)}async function xS(i,e){const n=we(i),s=e.batch.batchId;try{const a=await FT(n.localStore,e);Zy(n,s,null),Jy(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Va(n,a)}catch(a){await no(a)}}async function VS(i,e,n){const s=we(i);try{const a=await function(h,m){const g=we(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return g.mutationQueue.lookupMutationBatch(v,m).next(T=>(je(T!==null,37113),w=T.keys(),g.mutationQueue.removeMutationBatch(v,T))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,w,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w)).next(()=>g.localDocuments.getDocuments(v,w))})}(s.localStore,e);Zy(s,e,n),Jy(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Va(s,a)}catch(a){await no(a)}}function Jy(i,e){(i.mu.get(e)||[]).forEach(n=>{n.resolve()}),i.mu.delete(e)}function Zy(i,e,n){const s=we(i);let a=s.Vu[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Yh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach(s=>{i.Ru.containsKey(s)||ev(i,s)})}function ev(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Af(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Of(i))}function sg(i,e,n){for(const s of n)s instanceof Ky?(i.Ru.addReference(s.key,e),NS(i,s)):s instanceof Gy?(oe(Lf,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||ev(i,s.key)):ye(19791,{wu:s})}function NS(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(oe(Lf,"New document in limbo: "+n),i.Eu.add(s),Of(i))}function Of(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new pe(Qe.fromString(e)),s=i.fu.next();i.Au.set(s,new wS(n)),i.du=i.du.insert(n,s),By(i.remoteStore,new Yr(Qn(vf(n.path)),s,"TargetPurposeLimboResolution",Pu.ce))}}async function Va(i,e,n){const s=we(i),a=[],c=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach((m,g)=>{h.push(s.pu(g,e,n).then(v=>{if((v||n)&&s.isPrimaryClient){const w=v?!v.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(v){a.push(v);const w=Cf.As(g.targetId,v);c.push(w)}}))}),await Promise.all(h),s.Pu.H_(a),await async function(g,v){const w=we(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>q.forEach(v,A=>q.forEach(A.Es,U=>w.persistence.referenceDelegate.addReference(T,A.targetId,U)).next(()=>q.forEach(A.ds,U=>w.persistence.referenceDelegate.removeReference(T,A.targetId,U)))))}catch(T){if(!ro(T))throw T;oe(Rf,"Failed to update sequence numbers: "+T)}for(const T of v){const A=T.targetId;if(!T.fromCache){const U=w.Ms.get(A),W=U.snapshotVersion,H=U.withLastLimboFreeSnapshotVersion(W);w.Ms=w.Ms.insert(A,H)}}}(s.localStore,c))}async function DS(i,e){const n=we(i);if(!n.currentUser.isEqual(e)){oe(Lf,"User change. New user:",e.toKey());const s=await jy(n.localStore,e);n.currentUser=e,function(c,h){c.mu.forEach(m=>{m.forEach(g=>{g.reject(new he(X.CANCELLED,h))})}),c.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Va(n,s.Ls)}}function LS(i,e){const n=we(i),s=n.Au.get(e);if(s&&s.hu)return Ae().add(s.key);{let a=Ae();const c=n.Iu.get(e);if(!c)return a;for(const h of c){const m=n.Tu.get(h);a=a.unionWith(m.view.nu)}return a}}function tv(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kS.bind(null,e),e.Pu.H_=gS.bind(null,e.eventManager),e.Pu.yu=yS.bind(null,e.eventManager),e}function OS(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VS.bind(null,e),e}class Iu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return MT(this.persistence,new DT,e.initialUser,this.serializer)}Cu(e){return new Fy(If.mi,this.serializer)}Du(e){return new $T}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Iu.provider={build:()=>new Iu};class MS extends Iu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){je(this.persistence.referenceDelegate instanceof Tu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new vT(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Jt.withCacheSize(this.cacheSizeBytes):Jt.DEFAULT;return new Fy(s=>Tu.mi(s,n),this.serializer)}}class Jh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ig(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=DS.bind(null,this.syncEngine),await hS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dS}()}createDatastore(e){const n=Fu(e.databaseInfo.databaseId),s=function(c){return new KT(c)}(e.databaseInfo);return function(c,h,m,g){return new JT(c,h,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,h,m){return new eS(s,a,c,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>ig(this.syncEngine,n,0),function(){return Jm.v()?new Jm:new HT}())}createSyncEngine(e,n){return function(a,c,h,m,g,v,w){const T=new TS(a,c,h,m,g,v);return w&&(T.gu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=we(n);oe(zi,"RemoteStore shutting down."),s.Ea.add(5),await xa(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jh.provider={build:()=>new Jh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ir("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="FirestoreClient";class jS{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=jt.UNAUTHENTICATED,this.clientId=hf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async h=>{oe(li,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(oe(li,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Nf(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function kh(i,e){i.asyncQueue.verifyOperationInProgress(),oe(li,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await jy(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function og(i,e){i.asyncQueue.verifyOperationInProgress();const n=await US(i);oe(li,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>eg(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>eg(e.remoteStore,a)),i._onlineComponents=e}async function US(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){oe(li,"Using user provided OfflineComponentProvider");try{await kh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===X.FAILED_PRECONDITION||a.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Ws("Error using user provided cache. Falling back to memory cache: "+n),await kh(i,new Iu)}}else oe(li,"Using default OfflineComponentProvider"),await kh(i,new MS(void 0));return i._offlineComponents}async function nv(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(oe(li,"Using user provided OnlineComponentProvider"),await og(i,i._uninitializedComponentsProvider._online)):(oe(li,"Using default OnlineComponentProvider"),await og(i,new Jh))),i._onlineComponents}function bS(i){return nv(i).then(e=>e.syncEngine)}async function zS(i){const e=await nv(i),n=e.eventManager;return n.onListen=SS.bind(null,e.syncEngine),n.onUnlisten=RS.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=IS.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AS.bind(null,e.syncEngine),n}function BS(i,e,n={}){const s=new ti;return i.asyncQueue.enqueueAndForget(async()=>function(c,h,m,g,v){const w=new FS({next:A=>{w.Nu(),h.enqueueAndForget(()=>mS(c,T));const U=A.docs.has(m);!U&&A.fromCache?v.reject(new he(X.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&A.fromCache&&g&&g.source==="server"?v.reject(new he(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(A)},error:A=>v.reject(A)}),T=new vS(vf(m.path),w,{includeMetadataChanges:!0,qa:!0});return pS(c,T)}(await zS(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="firestore.googleapis.com",lg=!0;class ug{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iv,this.ssl=lg}else this.host=e.host,this.ssl=e.ssl??lg;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=My;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gT)throw new he(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rv(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ug({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ug(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new $0;switch(s.type){case"firstParty":return new Q0(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=ag.get(n);s&&(oe("ComponentProvider","Removing Datastore"),ag.delete(n),s.terminate())}(this),Promise.resolve()}}function $S(i,e,n,s={}){i=Qs(i,bu);const a=lf(e),c=i._getSettings(),h={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;a&&(vw(`https://${m}`),Tw("Firestore",!0)),c.host!==iv&&c.host!==m&&Ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:a,emulatorOptions:s};if(!hu(g,h)&&(i._setSettings(g),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=jt.MOCK_USER;else{v=_w(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new he(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new jt(T)}i._authCredentials=new H0(new Kg(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Mf(this.firestore,e,this._query)}}class gt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Aa(n,gt._jsonSchema))return new gt(e,s||null,new pe(Qe.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:ut("string",gt._jsonSchemaVersion),referencePath:ut("string")};class ni extends Mf{constructor(e,n,s){super(e,n,vf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new pe(e))}withConverter(e){return new ni(this.firestore,e,this._path)}}function HS(i,e,...n){if(i=pa(i),Gg("collection","path",e),i instanceof bu){const s=Qe.fromString(e,...n);return Sm(s),new ni(i,null,s)}{if(!(i instanceof gt||i instanceof ni))throw new he(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qe.fromString(e,...n));return Sm(s),new ni(i.firestore,null,s)}}function Sa(i,e,...n){if(i=pa(i),arguments.length===1&&(e=hf.newId()),Gg("doc","path",e),i instanceof bu){const s=Qe.fromString(e,...n);return Tm(s),new gt(i,null,new pe(s))}{if(!(i instanceof gt||i instanceof ni))throw new he(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qe.fromString(e,...n));return Tm(s),new gt(i.firestore,i instanceof ni?i.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="AsyncQueue";class hg{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new by(this,"async_queue_retry"),this._c=()=>{const s=Ph();s&&oe(cg,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Ph();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ph();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ti;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ro(e))throw e;oe(cg,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Ir("INTERNAL UNHANDLED ERROR: ",fg(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Vf.createAndSchedule(this,e,n,s,c=>this.hc(c));return this.tc.push(a),a}uc(){this.nc&&ye(47125,{Pc:fg(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function fg(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class zu extends bu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new hg,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hg(e),this._firestoreClient=void 0,await e}}}function WS(i,e){const n=typeof i=="object"?i:N0(),s=typeof i=="string"?i:mu,a=A0(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=gw("firestore");c&&$S(a,...c)}return a}function sv(i){if(i._terminated)throw new he(X.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||qS(i),i._firestoreClient}function qS(i){const e=i._freezeSettings(),n=function(a,c,h,m){return new c1(a,c,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,rv(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new jS(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vn(xt.fromBase64String(e))}catch(n){throw new he(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vn(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Aa(e,vn._jsonSchema))return vn.fromBase64String(e.bytes)}}vn._jsonSchemaVersion="firestore/bytes/1.0",vn._jsonSchema={type:ut("string",vn._jsonSchemaVersion),bytes:ut("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xn._jsonSchemaVersion}}static fromJSON(e){if(Aa(e,Xn._jsonSchema))return new Xn(e.latitude,e.longitude)}}Xn._jsonSchemaVersion="firestore/geoPoint/1.0",Xn._jsonSchema={type:ut("string",Xn._jsonSchemaVersion),latitude:ut("number"),longitude:ut("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Yn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Aa(e,Yn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Yn(e.vectorValues);throw new he(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yn._jsonSchemaVersion="firestore/vectorValue/1.0",Yn._jsonSchema={type:ut("string",Yn._jsonSchemaVersion),vectorValues:ut("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=/^__.*__$/;class KS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pa(e,this.data,n,this.fieldTransforms)}}function av(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:i})}}class jf{constructor(e,n,s,a,c,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Cu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(av(this.Ac)&&QS.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class GS{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Fu(e)}Cc(e,n,s,a=!1){return new jf({Ac:e,methodName:n,Dc:s,path:kt.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lv(i){const e=i._freezeSettings(),n=Fu(i._databaseId);return new GS(i._databaseId,!!e.ignoreUndefinedProperties,n)}function uv(i,e,n,s,a,c={}){const h=i.Cc(c.merge||c.mergeFields?2:0,e,n,a);dv("Data must be an object, but it was:",h,s);const m=hv(s,h);let g,v;if(c.merge)g=new Ln(h.fieldMask),v=h.fieldTransforms;else if(c.mergeFields){const w=[];for(const T of c.mergeFields){const A=XS(e,T,n);if(!h.contains(A))throw new he(X.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);JS(w,A)||w.push(A)}g=new Ln(w),v=h.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,v=h.fieldTransforms;return new KS(new yn(m),g,v)}function cv(i,e){if(fv(i=pa(i)))return dv("Unsupported field value:",e,i),hv(i,e);if(i instanceof ov)return function(s,a){if(!av(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,a){const c=[];let h=0;for(const m of s){let g=cv(m,a.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=pa(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return L1(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Ke.fromDate(s);return{timestampValue:wu(a.serializer,c)}}if(s instanceof Ke){const c=new Ke(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wu(a.serializer,c)}}if(s instanceof Xn)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof vn)return{bytesValue:ky(a.serializer,s._byteString)};if(s instanceof gt){const c=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw a.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Tf(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Yn)return function(h,m){return{mapValue:{fields:{[iy]:{stringValue:sy},[gu]:{arrayValue:{values:h.toArray().map(v=>{if(typeof v!="number")throw m.Sc("VectorValues must only contain numeric values.");return _f(m.serializer,v)})}}}}}}(s,a);throw a.Sc(`Unsupported field value: ${ff(s)}`)}(i,e)}function hv(i,e){const n={};return Jg(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$i(i,(s,a)=>{const c=cv(a,e.mc(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function fv(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ke||i instanceof Xn||i instanceof vn||i instanceof gt||i instanceof ov||i instanceof Yn)}function dv(i,e,n){if(!fv(n)||!Xg(n)){const s=ff(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function XS(i,e,n){if((e=pa(e))instanceof Ff)return e._internalPath;if(typeof e=="string")return pv(i,e);throw Cu("Field path arguments must be of type string or ",i,!1,void 0,n)}const YS=new RegExp("[~\\*/\\[\\]]");function pv(i,e,n){if(e.search(YS)>=0)throw Cu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Ff(...e.split("."))._internalPath}catch{throw Cu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Cu(i,e,n,s,a){const c=s&&!s.isEmpty(),h=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${s}`),h&&(g+=` in document ${a}`),g+=")"),new he(X.INVALID_ARGUMENT,m+i+g)}function JS(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZS extends mv{data(){return super.data()}}function gv(i,e){return typeof e=="string"?pv(i,e):e instanceof Ff?e._internalPath:e._delegate._internalPath}class eI{convertValue(e,n="none"){switch(oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return $i(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){const n=e.fields?.[gu].arrayValue?.values?.map(s=>st(s.doubleValue));return new Yn(n)}convertGeoPoint(e){return new Xn(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=xu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(va(e));default:return null}}convertTimestamp(e){const n=ii(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Qe.fromString(e);je(Oy(s),9688,{name:e});const a=new _a(s.get(1),s.get(3)),c=new pe(s.popFirst(5));return a.isEqual(n)||Ir(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class sa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ui extends mv{constructor(e,n,s,a,c,h){super(e,n,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(gv("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ui._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ui._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ui._jsonSchema={type:ut("string",Ui._jsonSchemaVersion),bundleSource:ut("string","DocumentSnapshot"),bundleName:ut("string"),bundle:ut("string")};class lu extends Ui{data(e={}){return super.data(e)}}class ha{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new sa(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new lu(this._firestore,this._userDataWriter,s.key,s,new sa(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(m=>{const g=new lu(a._firestore,a._userDataWriter,m.doc.key,m.doc,new sa(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const g=new lu(a._firestore,a._userDataWriter,m.doc.key,m.doc,new sa(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,w=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),w=h.indexOf(m.doc.key)),{type:tI(m.type),doc:g,oldIndex:v,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ha._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tI(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(i){i=Qs(i,gt);const e=Qs(i.firestore,zu);return BS(sv(e),i._key).then(n=>sI(e,i,n))}ha._jsonSchemaVersion="firestore/querySnapshot/1.0",ha._jsonSchema={type:ut("string",ha._jsonSchemaVersion),bundleSource:ut("string","QuerySnapshot"),bundleName:ut("string"),bundle:ut("string")};class nI extends eI{constructor(e){super(),this.firestore=e}convertBytes(e){return new vn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function rI(i,e,n){i=Qs(i,gt);const s=Qs(i.firestore,zu),a=yv(i.converter,e);return vv(s,[uv(lv(s),"setDoc",i._key,a,i.converter!==null,n).toMutation(i._key,Kn.none())])}function iI(i,e){const n=Qs(i.firestore,zu),s=Sa(i),a=yv(i.converter,e);return vv(n,[uv(lv(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,Kn.exists(!1))]).then(()=>s)}function vv(i,e){return function(s,a){const c=new ti;return s.asyncQueue.enqueueAndForget(async()=>PS(await bS(s),a,c)),c.promise}(sv(i),e)}function sI(i,e,n){const s=n.docs.get(e._key),a=new nI(i);return new Ui(i,a,e._key,s,new sa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){to=a})(V0),du(new ma("firestore",(s,{instanceIdentifier:a,options:c})=>{const h=s.getProvider("app").getImmediate(),m=new zu(new W0(s.getProvider("auth-internal")),new K0(h,s.getProvider("app-check-internal")),function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new he(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _a(v.options.projectId,w)}(h,a),h);return c={useFetchStreams:n,...c},m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),$s(vm,_m,e),$s(vm,_m,"esm2020")})();var oI="firebase",aI="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$s(oI,aI,"app");const lI={apiKey:"AIzaSyAInviShyIYmFRuifWhgHLBb78hi95uN_Q",authDomain:"f7e-database.firebaseapp.com",projectId:"f7e-database",storageBucket:"f7e-database.firebasestorage.app",messagingSenderId:"642686760461",appId:"1:642686760461:web:2549e76e002e3091340744",measurementId:"G-SVZZGFVLP0"},uI=jg(lI),fa=WS(uI),dg={Government:0,Infrastructure:0,Security:0,Commerce:0,Industry:0,Research:0,Background:0};function cI(){const[i,e]=B.useState(""),[n,s]=B.useState("Government"),[a,c]=B.useState(""),[h,m]=B.useState(""),g=async()=>{if(!i)return m("Please enter a name.");try{const T=await iI(HS(fa,"users"),{name:i,faction:n,kudos:dg});m(`User created with auto-ID: ${T.id}`)}catch(T){console.error(T),m("Error creating user.")}},v=async()=>{if(!i||!a)return m("Enter both name and custom ID.");try{await rI(Sa(fa,"users",a),{name:i,faction:n,kudos:dg}),m(`User created with custom ID: ${a}`)}catch(T){console.error(T),m("Error creating user.")}},w=async()=>{if(!a)return m("Enter your user ID to login.");try{const T=Sa(fa,"users",a),A=await Uf(T);if(A.exists()){const U=A.data();m(`Logged in as ${U.name} (Faction: ${U.faction})`)}else m("No such user found.")}catch(T){console.error(T),m("Login failed.")}};return $.jsxs("div",{style:{maxWidth:"400px",margin:"auto",padding:"1rem"},children:[$.jsx("h2",{children:"Create New User"}),$.jsx("label",{children:"Name:"}),$.jsx("input",{type:"text",value:i,onChange:T=>e(T.target.value),placeholder:"Enter your name"}),$.jsx("br",{}),$.jsx("label",{children:"Faction:"}),$.jsxs("select",{value:n,onChange:T=>s(T.target.value),children:[$.jsx("option",{value:"Government",children:"Government"}),$.jsx("option",{value:"Infrastructure",children:"Infrastructure"}),$.jsx("option",{value:"Security",children:"Security"}),$.jsx("option",{value:"Commerce",children:"Commerce"}),$.jsx("option",{value:"Industry",children:"Industry"}),$.jsx("option",{value:"Research",children:"Research"}),$.jsx("option",{value:"Background",children:"Background"})]}),$.jsx("br",{}),$.jsx("label",{children:"Custom ID (optional):"}),$.jsx("input",{type:"text",value:a,onChange:T=>c(T.target.value),placeholder:"Optional custom ID"}),$.jsx("br",{}),$.jsxs("div",{style:{marginTop:"1rem"},children:[$.jsx("button",{onClick:g,children:"Create User (Auto-ID)"}),$.jsx("button",{onClick:v,style:{marginLeft:"1rem"},children:"Create User (Custom ID)"})]}),$.jsx("div",{style:{marginTop:"1rem"},children:$.jsx("button",{onClick:w,children:"Login"})}),h&&$.jsx("p",{style:{marginTop:"1rem"},children:h})]})}function hI(){const{uid:i}=uE(),[e,n]=B.useState(null),[s,a]=B.useState(!0);return B.useEffect(()=>{if(!i)return;(async()=>{try{const h=Sa(fa,"users",i),m=await Uf(h);m.exists()?n(m.data()):n(null)}catch(h){console.error("Error fetching user:",h),n(null)}finally{a(!1)}})()},[i]),s?$.jsx("p",{children:"Loading..."}):e?$.jsxs("div",{style:{maxWidth:"600px",margin:"auto",padding:"1rem"},children:[$.jsx("h1",{children:e.name}),$.jsxs("p",{children:[$.jsx("strong",{children:"Faction:"})," ",e.faction]}),$.jsxs("div",{style:{marginTop:"1rem"},children:[$.jsx("h2",{children:"Kudos"}),$.jsx("ul",{children:Object.entries(e.kudos).map(([c,h])=>$.jsxs("li",{children:[$.jsxs("strong",{children:[c,":"]})," ",h]},c))})]})]}):$.jsx("p",{children:"User not found."})}const fI=B.createContext(),dI=({children:i})=>{const[e,n]=B.useState(null),[s,a]=B.useState(!0),c=localStorage.getItem("currentUserId");return B.useEffect(()=>{(async()=>{if(!c){n(null),a(!1);return}try{const m=Sa(fa,"users",c),g=await Uf(m);g.exists()?n(g.data()):n(null)}catch(m){console.error("Error fetching user:",m),n(null)}finally{a(!1)}})()},[c]),$.jsx(fI.Provider,{value:{currentUser:e,setCurrentUser:n,loading:s},children:i})};function pI(){return $.jsx(dI,{children:$.jsx(QE,{children:$.jsx(iw,{children:$.jsxs(IE,{children:[$.jsx(eu,{path:"/",element:$.jsx(sw,{})}),$.jsx(eu,{path:"/new-user",element:$.jsx(cI,{})}),$.jsx(eu,{path:"/profile/:uid",element:$.jsx(hI,{})})]})})})})}N_.createRoot(document.getElementById("root")).render($.jsx(C_.StrictMode,{children:$.jsx(pI,{})}));
