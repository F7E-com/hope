(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function ly(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var bh={exports:{}},Sa={},Uh={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function RE(){if(km)return De;km=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function T(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,W={};function j(M,K,oe){this.props=M,this.context=K,this.refs=W,this.updater=oe||V}j.prototype.isReactComponent={},j.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},j.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function G(){}G.prototype=j.prototype;function ie(M,K,oe){this.props=M,this.context=K,this.refs=W,this.updater=oe||V}var se=ie.prototype=new G;se.constructor=ie,$(se,j.prototype),se.isPureReactComponent=!0;var fe=Array.isArray,pe=Object.prototype.hasOwnProperty,we={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function A(M,K,oe){var xe,ve={},Ne=null,Me=null;if(K!=null)for(xe in K.ref!==void 0&&(Me=K.ref),K.key!==void 0&&(Ne=""+K.key),K)pe.call(K,xe)&&!L.hasOwnProperty(xe)&&(ve[xe]=K[xe]);var be=arguments.length-2;if(be===1)ve.children=oe;else if(1<be){for(var We=Array(be),pt=0;pt<be;pt++)We[pt]=arguments[pt+2];ve.children=We}if(M&&M.defaultProps)for(xe in be=M.defaultProps,be)ve[xe]===void 0&&(ve[xe]=be[xe]);return{$$typeof:i,type:M,key:Ne,ref:Me,props:ve,_owner:we.current}}function R(M,K){return{$$typeof:i,type:M.type,key:K,ref:M.ref,props:M.props,_owner:M._owner}}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function k(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(oe){return K[oe]})}var F=/\/+/g;function C(M,K){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):K.toString(36)}function Je(M,K,oe,xe,ve){var Ne=typeof M;(Ne==="undefined"||Ne==="boolean")&&(M=null);var Me=!1;if(M===null)Me=!0;else switch(Ne){case"string":case"number":Me=!0;break;case"object":switch(M.$$typeof){case i:case e:Me=!0}}if(Me)return Me=M,ve=ve(Me),M=xe===""?"."+C(Me,0):xe,fe(ve)?(oe="",M!=null&&(oe=M.replace(F,"$&/")+"/"),Je(ve,K,oe,"",function(pt){return pt})):ve!=null&&(D(ve)&&(ve=R(ve,oe+(!ve.key||Me&&Me.key===ve.key?"":(""+ve.key).replace(F,"$&/")+"/")+M)),K.push(ve)),1;if(Me=0,xe=xe===""?".":xe+":",fe(M))for(var be=0;be<M.length;be++){Ne=M[be];var We=xe+C(Ne,be);Me+=Je(Ne,K,oe,We,ve)}else if(We=T(M),typeof We=="function")for(M=We.call(M),be=0;!(Ne=M.next()).done;)Ne=Ne.value,We=xe+C(Ne,be++),Me+=Je(Ne,K,oe,We,ve);else if(Ne==="object")throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Me}function kt(M,K,oe){if(M==null)return M;var xe=[],ve=0;return Je(M,xe,"","",function(Ne){return K.call(oe,Ne,ve++)}),xe}function xt(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(oe){(M._status===0||M._status===-1)&&(M._status=1,M._result=oe)},function(oe){(M._status===0||M._status===-1)&&(M._status=2,M._result=oe)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var $e={current:null},re={transition:null},Ee={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:re,ReactCurrentOwner:we};function ae(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:kt,forEach:function(M,K,oe){kt(M,function(){K.apply(this,arguments)},oe)},count:function(M){var K=0;return kt(M,function(){K++}),K},toArray:function(M){return kt(M,function(K){return K})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},De.Component=j,De.Fragment=n,De.Profiler=a,De.PureComponent=ie,De.StrictMode=s,De.Suspense=g,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ee,De.act=ae,De.cloneElement=function(M,K,oe){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var xe=$({},M.props),ve=M.key,Ne=M.ref,Me=M._owner;if(K!=null){if(K.ref!==void 0&&(Ne=K.ref,Me=we.current),K.key!==void 0&&(ve=""+K.key),M.type&&M.type.defaultProps)var be=M.type.defaultProps;for(We in K)pe.call(K,We)&&!L.hasOwnProperty(We)&&(xe[We]=K[We]===void 0&&be!==void 0?be[We]:K[We])}var We=arguments.length-2;if(We===1)xe.children=oe;else if(1<We){be=Array(We);for(var pt=0;pt<We;pt++)be[pt]=arguments[pt+2];xe.children=be}return{$$typeof:i,type:M.type,key:ve,ref:Ne,props:xe,_owner:Me}},De.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:u,_context:M},M.Consumer=M},De.createElement=A,De.createFactory=function(M){var K=A.bind(null,M);return K.type=M,K},De.createRef=function(){return{current:null}},De.forwardRef=function(M){return{$$typeof:p,render:M}},De.isValidElement=D,De.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:xt}},De.memo=function(M,K){return{$$typeof:v,type:M,compare:K===void 0?null:K}},De.startTransition=function(M){var K=re.transition;re.transition={};try{M()}finally{re.transition=K}},De.unstable_act=ae,De.useCallback=function(M,K){return $e.current.useCallback(M,K)},De.useContext=function(M){return $e.current.useContext(M)},De.useDebugValue=function(){},De.useDeferredValue=function(M){return $e.current.useDeferredValue(M)},De.useEffect=function(M,K){return $e.current.useEffect(M,K)},De.useId=function(){return $e.current.useId()},De.useImperativeHandle=function(M,K,oe){return $e.current.useImperativeHandle(M,K,oe)},De.useInsertionEffect=function(M,K){return $e.current.useInsertionEffect(M,K)},De.useLayoutEffect=function(M,K){return $e.current.useLayoutEffect(M,K)},De.useMemo=function(M,K){return $e.current.useMemo(M,K)},De.useReducer=function(M,K,oe){return $e.current.useReducer(M,K,oe)},De.useRef=function(M){return $e.current.useRef(M)},De.useState=function(M){return $e.current.useState(M)},De.useSyncExternalStore=function(M,K,oe){return $e.current.useSyncExternalStore(M,K,oe)},De.useTransition=function(){return $e.current.useTransition()},De.version="18.3.1",De}var xm;function Lf(){return xm||(xm=1,Uh.exports=RE()),Uh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function CE(){if(Nm)return Sa;Nm=1;var i=Lf(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(p,g,v){var E,S={},T=null,V=null;v!==void 0&&(T=""+v),g.key!==void 0&&(T=""+g.key),g.ref!==void 0&&(V=g.ref);for(E in g)s.call(g,E)&&!u.hasOwnProperty(E)&&(S[E]=g[E]);if(p&&p.defaultProps)for(E in g=p.defaultProps,g)S[E]===void 0&&(S[E]=g[E]);return{$$typeof:e,type:p,key:T,ref:V,props:S,_owner:a.current}}return Sa.Fragment=n,Sa.jsx=h,Sa.jsxs=h,Sa}var Dm;function PE(){return Dm||(Dm=1,bh.exports=CE()),bh.exports}var x=PE(),B=Lf();const kE=ly(B);var pu={},jh={exports:{}},In={},zh={exports:{}},Bh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm;function xE(){return Vm||(Vm=1,(function(i){function e(re,Ee){var ae=re.length;re.push(Ee);e:for(;0<ae;){var M=ae-1>>>1,K=re[M];if(0<a(K,Ee))re[M]=Ee,re[ae]=K,ae=M;else break e}}function n(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var Ee=re[0],ae=re.pop();if(ae!==Ee){re[0]=ae;e:for(var M=0,K=re.length,oe=K>>>1;M<oe;){var xe=2*(M+1)-1,ve=re[xe],Ne=xe+1,Me=re[Ne];if(0>a(ve,ae))Ne<K&&0>a(Me,ve)?(re[M]=Me,re[Ne]=ae,M=Ne):(re[M]=ve,re[xe]=ae,M=xe);else if(Ne<K&&0>a(Me,ae))re[M]=Me,re[Ne]=ae,M=Ne;else break e}}return Ee}function a(re,Ee){var ae=re.sortIndex-Ee.sortIndex;return ae!==0?ae:re.id-Ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var g=[],v=[],E=1,S=null,T=3,V=!1,$=!1,W=!1,j=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function se(re){for(var Ee=n(v);Ee!==null;){if(Ee.callback===null)s(v);else if(Ee.startTime<=re)s(v),Ee.sortIndex=Ee.expirationTime,e(g,Ee);else break;Ee=n(v)}}function fe(re){if(W=!1,se(re),!$)if(n(g)!==null)$=!0,xt(pe);else{var Ee=n(v);Ee!==null&&$e(fe,Ee.startTime-re)}}function pe(re,Ee){$=!1,W&&(W=!1,G(A),A=-1),V=!0;var ae=T;try{for(se(Ee),S=n(g);S!==null&&(!(S.expirationTime>Ee)||re&&!k());){var M=S.callback;if(typeof M=="function"){S.callback=null,T=S.priorityLevel;var K=M(S.expirationTime<=Ee);Ee=i.unstable_now(),typeof K=="function"?S.callback=K:S===n(g)&&s(g),se(Ee)}else s(g);S=n(g)}if(S!==null)var oe=!0;else{var xe=n(v);xe!==null&&$e(fe,xe.startTime-Ee),oe=!1}return oe}finally{S=null,T=ae,V=!1}}var we=!1,L=null,A=-1,R=5,D=-1;function k(){return!(i.unstable_now()-D<R)}function F(){if(L!==null){var re=i.unstable_now();D=re;var Ee=!0;try{Ee=L(!0,re)}finally{Ee?C():(we=!1,L=null)}}else we=!1}var C;if(typeof ie=="function")C=function(){ie(F)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,kt=Je.port2;Je.port1.onmessage=F,C=function(){kt.postMessage(null)}}else C=function(){j(F,0)};function xt(re){L=re,we||(we=!0,C())}function $e(re,Ee){A=j(function(){re(i.unstable_now())},Ee)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(re){re.callback=null},i.unstable_continueExecution=function(){$||V||($=!0,xt(pe))},i.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<re?Math.floor(1e3/re):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(re){switch(T){case 1:case 2:case 3:var Ee=3;break;default:Ee=T}var ae=T;T=Ee;try{return re()}finally{T=ae}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(re,Ee){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ae=T;T=re;try{return Ee()}finally{T=ae}},i.unstable_scheduleCallback=function(re,Ee,ae){var M=i.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?M+ae:M):ae=M,re){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ae+K,re={id:E++,callback:Ee,priorityLevel:re,startTime:ae,expirationTime:K,sortIndex:-1},ae>M?(re.sortIndex=ae,e(v,re),n(g)===null&&re===n(v)&&(W?(G(A),A=-1):W=!0,$e(fe,ae-M))):(re.sortIndex=K,e(g,re),$||V||($=!0,xt(pe))),re},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(re){var Ee=T;return function(){var ae=T;T=Ee;try{return re.apply(this,arguments)}finally{T=ae}}}})(Bh)),Bh}var Lm;function NE(){return Lm||(Lm=1,zh.exports=xE()),zh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function DE(){if(Om)return In;Om=1;var i=Lf(),e=NE();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},S={};function T(t){return g.call(S,t)?!0:g.call(E,t)?!1:v.test(t)?S[t]=!0:(E[t]=!0,!1)}function V(t,r,o,c){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $(t,r,o,c){if(r===null||typeof r>"u"||V(t,r,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function W(t,r,o,c,f,m,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=m,this.removeEmptyString=_}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){j[t]=new W(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];j[r]=new W(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){j[t]=new W(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){j[t]=new W(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){j[t]=new W(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){j[t]=new W(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){j[t]=new W(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){j[t]=new W(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){j[t]=new W(t,5,!1,t.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function ie(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(G,ie);j[r]=new W(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(G,ie);j[r]=new W(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(G,ie);j[r]=new W(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){j[t]=new W(t,1,!1,t.toLowerCase(),null,!1,!1)}),j.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){j[t]=new W(t,1,!1,t.toLowerCase(),null,!0,!0)});function se(t,r,o,c){var f=j.hasOwnProperty(r)?j[r]:null;(f!==null?f.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&($(r,o,f,c)&&(o=null),c||f===null?T(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(r=f.attributeName,c=f.attributeNamespace,o===null?t.removeAttribute(r):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,c?t.setAttributeNS(c,r,o):t.setAttribute(r,o))))}var fe=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pe=Symbol.for("react.element"),we=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),k=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),$e=Symbol.for("react.offscreen"),re=Symbol.iterator;function Ee(t){return t===null||typeof t!="object"?null:(t=re&&t[re]||t["@@iterator"],typeof t=="function"?t:null)}var ae=Object.assign,M;function K(t){if(M===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);M=r&&r[1]||""}return`
`+M+t}var oe=!1;function xe(t,r){if(!t||oe)return"";oe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(H){var c=H}Reflect.construct(t,[],r)}else{try{r.call()}catch(H){c=H}t.call(r.prototype)}else{try{throw Error()}catch(H){c=H}t()}}catch(H){if(H&&c&&typeof H.stack=="string"){for(var f=H.stack.split(`
`),m=c.stack.split(`
`),_=f.length-1,I=m.length-1;1<=_&&0<=I&&f[_]!==m[I];)I--;for(;1<=_&&0<=I;_--,I--)if(f[_]!==m[I]){if(_!==1||I!==1)do if(_--,I--,0>I||f[_]!==m[I]){var P=`
`+f[_].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=_&&0<=I);break}}}finally{oe=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?K(t):""}function ve(t){switch(t.tag){case 5:return K(t.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return t=xe(t.type,!1),t;case 11:return t=xe(t.type.render,!1),t;case 1:return t=xe(t.type,!0),t;default:return""}}function Ne(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case we:return"Portal";case R:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case Je:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case k:return(t.displayName||"Context")+".Consumer";case D:return(t._context.displayName||"Context")+".Provider";case F:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kt:return r=t.displayName||null,r!==null?r:Ne(t.type)||"Memo";case xt:r=t._payload,t=t._init;try{return Ne(t(r))}catch{}}return null}function Me(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(r);case 8:return r===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function be(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function We(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function pt(t){var r=We(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Un(t){t._valueTracker||(t._valueTracker=pt(t))}function Pn(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return t&&(c=We(t)?t.checked?"true":"false":t.value),t=c,t!==o?(r.setValue(t),!0):!1}function kn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tn(t,r){var o=r.checked;return ae({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Ir(t,r){var o=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;o=be(r.value!=null?r.value:o),t._wrapperState={initialChecked:c,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Xr(t,r){r=r.checked,r!=null&&se(t,"checked",r,!1)}function jn(t,r){Xr(t,r);var o=be(r.value),c=r.type;if(o!=null)c==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?lr(t,r.type,o):r.hasOwnProperty("defaultValue")&&lr(t,r.type,be(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Jr(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function lr(t,r,o){(r!=="number"||kn(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var zn=Array.isArray;function Bn(t,r,o,c){if(t=t.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=r.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&c&&(t[o].defaultSelected=!0)}else{for(o=""+be(o),r=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function hs(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rr(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(zn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:be(o)}}function Hn(t,r){var o=be(r.value),c=be(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),c!=null&&(t.defaultValue=""+c)}function $n(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Ye(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ht(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Ye(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wn,Ci=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,c,f){MSApp.execUnsafeLocalFunction(function(){return t(r,o,c,f)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Wn=Wn||document.createElement("div"),Wn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Wn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function qn(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gn=["Webkit","ms","Moz","O"];Object.keys(Cr).forEach(function(t){Gn.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Cr[r]=Cr[t]})});function Pr(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Cr.hasOwnProperty(t)&&Cr[t]?(""+r).trim():r+"px"}function nn(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var c=o.indexOf("--")===0,f=Pr(o,r[o],c);o==="float"&&(o="cssFloat"),c?t.setProperty(o,f):t[o]=f}}var Kn=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zr(t,r){if(r){if(Kn[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function ei(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ti=null;function ur(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cr=null,hn=null,Wt=null;function Pi(t){if(t=ua(t)){if(typeof cr!="function")throw Error(n(280));var r=t.stateNode;r&&(r=kl(r),cr(t.stateNode,t.type,r))}}function Qn(t){hn?Wt?Wt.push(t):Wt=[t]:hn=t}function rt(){if(hn){var t=hn,r=Wt;if(Wt=hn=null,Pi(t),r)for(t=0;t<r.length;t++)Pi(r[t])}}function fn(t,r){return t(r)}function fs(){}var Yn=!1;function ni(t,r,o){if(Yn)return t(r,o);Yn=!0;try{return fn(t,r,o)}finally{Yn=!1,(hn!==null||Wt!==null)&&(fs(),rt())}}function it(t,r){var o=t.stateNode;if(o===null)return null;var c=kl(o);if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var ri=!1;if(p)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){ri=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{ri=!1}function Nt(t,r,o,c,f,m,_,I,P){var H=Array.prototype.slice.call(arguments,3);try{r.apply(o,H)}catch(J){this.onError(J)}}var dn=!1,ii=null,pn=!1,si=null,Hs={onError:function(t){dn=!0,ii=t}};function qt(t,r,o,c,f,m,_,I,P){dn=!1,ii=null,Nt.apply(Hs,arguments)}function ds(t,r,o,c,f,m,_,I,P){if(qt.apply(this,arguments),dn){if(dn){var H=ii;dn=!1,ii=null}else throw Error(n(198));pn||(pn=!0,si=H)}}function mn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function kr(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function gn(t){if(mn(t)!==t)throw Error(n(188))}function $s(t){var r=t.alternate;if(!r){if(r=mn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,c=r;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return gn(f),t;if(m===c)return gn(f),r;m=m.sibling}throw Error(n(188))}if(o.return!==c.return)o=f,c=m;else{for(var _=!1,I=f.child;I;){if(I===o){_=!0,o=f,c=m;break}if(I===c){_=!0,c=f,o=m;break}I=I.sibling}if(!_){for(I=m.child;I;){if(I===o){_=!0,o=m,c=f;break}if(I===c){_=!0,c=m,o=f;break}I=I.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function ye(t){return t=$s(t),t!==null?N(t):null}function N(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=N(t);if(r!==null)return r;t=t.sibling}return null}var Z=e.unstable_scheduleCallback,ce=e.unstable_cancelCallback,Ge=e.unstable_shouldYield,yt=e.unstable_requestPaint,Ce=e.unstable_now,At=e.unstable_getCurrentPriorityLevel,Ft=e.unstable_ImmediatePriority,yn=e.unstable_UserBlockingPriority,Gt=e.unstable_NormalPriority,ft=e.unstable_LowPriority,ps=e.unstable_IdlePriority,xr=null,Nn=null;function sl(t){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(xr,t,void 0,(t.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:al,Go=Math.log,ol=Math.LN2;function al(t){return t>>>=0,t===0?32:31-(Go(t)/ol|0)|0}var Ws=64,qs=4194304;function ki(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ms(t,r){var o=t.pendingLanes;if(o===0)return 0;var c=0,f=t.suspendedLanes,m=t.pingedLanes,_=o&268435455;if(_!==0){var I=_&~f;I!==0?c=ki(I):(m&=_,m!==0&&(c=ki(m)))}else _=o&~f,_!==0?c=ki(_):m!==0&&(c=ki(m));if(c===0)return 0;if(r!==0&&r!==c&&(r&f)===0&&(f=c&-c,m=r&-r,f>=m||f===16&&(m&4194240)!==0))return r;if((c&4)!==0&&(c|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)o=31-rn(r),f=1<<o,c|=t[o],r&=~f;return c}function pc(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oi(t,r){for(var o=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes;0<m;){var _=31-rn(m),I=1<<_,P=f[_];P===-1?((I&o)===0||(I&c)!==0)&&(f[_]=pc(I,r)):P<=r&&(t.expiredLanes|=I),m&=~I}}function Dn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gs(){var t=Ws;return Ws<<=1,(Ws&4194240)===0&&(Ws=64),t}function xi(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Ni(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-rn(r),t[r]=o}function Qe(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-rn(o),m=1<<f;r[f]=0,c[f]=-1,t[f]=-1,o&=~m}}function Di(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var c=31-rn(o),f=1<<c;f&r|t[c]&r&&(t[c]|=r),o&=~f}}var Fe=0;function Vi(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var ll,Gs,ul,cl,hl,Ko=!1,Nr=[],bt=null,hr=null,fr=null,Li=new Map,Xn=new Map,Dr=[],mc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fl(t,r){switch(t){case"focusin":case"focusout":bt=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Li.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xn.delete(r.pointerId)}}function vn(t,r,o,c,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},r!==null&&(r=ua(r),r!==null&&Gs(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function gc(t,r,o,c,f){switch(r){case"focusin":return bt=vn(bt,t,r,o,c,f),!0;case"dragenter":return hr=vn(hr,t,r,o,c,f),!0;case"mouseover":return fr=vn(fr,t,r,o,c,f),!0;case"pointerover":var m=f.pointerId;return Li.set(m,vn(Li.get(m)||null,t,r,o,c,f)),!0;case"gotpointercapture":return m=f.pointerId,Xn.set(m,vn(Xn.get(m)||null,t,r,o,c,f)),!0}return!1}function dl(t){var r=ws(t.target);if(r!==null){var o=mn(r);if(o!==null){if(r=o.tag,r===13){if(r=kr(o),r!==null){t.blockedOn=r,hl(t.priority,function(){ul(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ai(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Ks(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);ti=c,o.target.dispatchEvent(c),ti=null}else return r=ua(o),r!==null&&Gs(r),t.blockedOn=o,!1;r.shift()}return!0}function ys(t,r,o){ai(t)&&o.delete(r)}function pl(){Ko=!1,bt!==null&&ai(bt)&&(bt=null),hr!==null&&ai(hr)&&(hr=null),fr!==null&&ai(fr)&&(fr=null),Li.forEach(ys),Xn.forEach(ys)}function dr(t,r){t.blockedOn===r&&(t.blockedOn=null,Ko||(Ko=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,pl)))}function pr(t){function r(f){return dr(f,t)}if(0<Nr.length){dr(Nr[0],t);for(var o=1;o<Nr.length;o++){var c=Nr[o];c.blockedOn===t&&(c.blockedOn=null)}}for(bt!==null&&dr(bt,t),hr!==null&&dr(hr,t),fr!==null&&dr(fr,t),Li.forEach(r),Xn.forEach(r),o=0;o<Dr.length;o++)c=Dr[o],c.blockedOn===t&&(c.blockedOn=null);for(;0<Dr.length&&(o=Dr[0],o.blockedOn===null);)dl(o),o.blockedOn===null&&Dr.shift()}var li=fe.ReactCurrentBatchConfig,Oi=!0;function st(t,r,o,c){var f=Fe,m=li.transition;li.transition=null;try{Fe=1,Qo(t,r,o,c)}finally{Fe=f,li.transition=m}}function yc(t,r,o,c){var f=Fe,m=li.transition;li.transition=null;try{Fe=4,Qo(t,r,o,c)}finally{Fe=f,li.transition=m}}function Qo(t,r,o,c){if(Oi){var f=Ks(t,r,o,c);if(f===null)Pc(t,r,c,vs,o),fl(t,c);else if(gc(f,t,r,o,c))c.stopPropagation();else if(fl(t,c),r&4&&-1<mc.indexOf(t)){for(;f!==null;){var m=ua(f);if(m!==null&&ll(m),m=Ks(t,r,o,c),m===null&&Pc(t,r,c,vs,o),m===f)break;f=m}f!==null&&c.stopPropagation()}else Pc(t,r,c,null,o)}}var vs=null;function Ks(t,r,o,c){if(vs=null,t=ur(c),t=ws(t),t!==null)if(r=mn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=kr(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return vs=t,null}function Yo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(At()){case Ft:return 1;case yn:return 4;case Gt:case ft:return 16;case ps:return 536870912;default:return 16}default:return 16}}var Vn=null,Qs=null,_n=null;function Xo(){if(_n)return _n;var t,r=Qs,o=r.length,c,f="value"in Vn?Vn.value:Vn.textContent,m=f.length;for(t=0;t<o&&r[t]===f[t];t++);var _=o-t;for(c=1;c<=_&&r[o-c]===f[m-c];c++);return _n=f.slice(t,1<c?1-c:void 0)}function Ys(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Vr(){return!0}function Jo(){return!1}function Ut(t){function r(o,c,f,m,_){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var I in t)t.hasOwnProperty(I)&&(o=t[I],this[I]=o?o(m):m[I]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Vr:Jo,this.isPropagationStopped=Jo,this}return ae(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),r}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=Ut(mr),Lr=ae({},mr,{view:0,detail:0}),vc=Ut(Lr),Js,ui,Mi,_s=ae({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mi&&(Mi&&t.type==="mousemove"?(Js=t.screenX-Mi.screenX,ui=t.screenY-Mi.screenY):ui=Js=0,Mi=t),Js)},movementY:function(t){return"movementY"in t?t.movementY:ui}}),Zs=Ut(_s),Zo=ae({},_s,{dataTransfer:0}),ml=Ut(Zo),eo=ae({},Lr,{relatedTarget:0}),to=Ut(eo),gl=ae({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),ci=Ut(gl),yl=ae({},mr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vl=Ut(yl),_l=ae({},mr,{data:0}),ea=Ut(_l),no={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},El={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wl(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=El[t])?!!r[t]:!1}function Or(){return wl}var l=ae({},Lr,{key:function(t){if(t.key){var r=no[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ys(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(t){return t.type==="keypress"?Ys(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ys(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=Ut(l),y=ae({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=Ut(y),b=ae({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),q=Ut(b),ne=ae({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ke=Ut(ne),St=ae({},_s,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ue=Ut(St),Dt=[9,13,27,32],vt=p&&"CompositionEvent"in window,Jn=null;p&&"documentMode"in document&&(Jn=document.documentMode);var Ln=p&&"TextEvent"in window&&!Jn,Es=p&&(!vt||Jn&&8<Jn&&11>=Jn),ro=" ",Ad=!1;function Sd(t,r){switch(t){case"keyup":return Dt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Id(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var io=!1;function A_(t,r){switch(t){case"compositionend":return Id(r);case"keypress":return r.which!==32?null:(Ad=!0,ro);case"textInput":return t=r.data,t===ro&&Ad?null:t;default:return null}}function S_(t,r){if(io)return t==="compositionend"||!vt&&Sd(t,r)?(t=Xo(),_n=Qs=Vn=null,io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Es&&r.locale!=="ko"?null:r.data;default:return null}}var I_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!I_[t.type]:r==="textarea"}function Cd(t,r,o,c){Qn(c),r=Rl(r,"onChange"),0<r.length&&(o=new Xs("onChange","change",null,o,c),t.push({event:o,listeners:r}))}var ta=null,na=null;function R_(t){Wd(t,0)}function Tl(t){var r=uo(t);if(Pn(r))return t}function C_(t,r){if(t==="change")return r}var Pd=!1;if(p){var _c;if(p){var Ec="oninput"in document;if(!Ec){var kd=document.createElement("div");kd.setAttribute("oninput","return;"),Ec=typeof kd.oninput=="function"}_c=Ec}else _c=!1;Pd=_c&&(!document.documentMode||9<document.documentMode)}function xd(){ta&&(ta.detachEvent("onpropertychange",Nd),na=ta=null)}function Nd(t){if(t.propertyName==="value"&&Tl(na)){var r=[];Cd(r,na,t,ur(t)),ni(R_,r)}}function P_(t,r,o){t==="focusin"?(xd(),ta=r,na=o,ta.attachEvent("onpropertychange",Nd)):t==="focusout"&&xd()}function k_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tl(na)}function x_(t,r){if(t==="click")return Tl(r)}function N_(t,r){if(t==="input"||t==="change")return Tl(r)}function D_(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var gr=typeof Object.is=="function"?Object.is:D_;function ra(t,r){if(gr(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!g.call(r,f)||!gr(t[f],r[f]))return!1}return!0}function Dd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vd(t,r){var o=Dd(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=r&&c>=r)return{node:o,offset:r-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Dd(o)}}function Ld(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Ld(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Od(){for(var t=window,r=kn();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=kn(t.document)}return r}function wc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function V_(t){var r=Od(),o=t.focusedElem,c=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Ld(o.ownerDocument.documentElement,o)){if(c!==null&&wc(o)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!t.extend&&m>c&&(f=c,c=m,m=f),f=Vd(o,m);var _=Vd(o,c);f&&_&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),m>c?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var L_=p&&"documentMode"in document&&11>=document.documentMode,so=null,Tc=null,ia=null,Ac=!1;function Md(t,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ac||so==null||so!==kn(c)||(c=so,"selectionStart"in c&&wc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ia&&ra(ia,c)||(ia=c,c=Rl(Tc,"onSelect"),0<c.length&&(r=new Xs("onSelect","select",null,r,o),t.push({event:r,listeners:c}),r.target=so)))}function Al(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var oo={animationend:Al("Animation","AnimationEnd"),animationiteration:Al("Animation","AnimationIteration"),animationstart:Al("Animation","AnimationStart"),transitionend:Al("Transition","TransitionEnd")},Sc={},Fd={};p&&(Fd=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function Sl(t){if(Sc[t])return Sc[t];if(!oo[t])return t;var r=oo[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Fd)return Sc[t]=r[o];return t}var bd=Sl("animationend"),Ud=Sl("animationiteration"),jd=Sl("animationstart"),zd=Sl("transitionend"),Bd=new Map,Hd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fi(t,r){Bd.set(t,r),u(r,[t])}for(var Ic=0;Ic<Hd.length;Ic++){var Rc=Hd[Ic],O_=Rc.toLowerCase(),M_=Rc[0].toUpperCase()+Rc.slice(1);Fi(O_,"on"+M_)}Fi(bd,"onAnimationEnd"),Fi(Ud,"onAnimationIteration"),Fi(jd,"onAnimationStart"),Fi("dblclick","onDoubleClick"),Fi("focusin","onFocus"),Fi("focusout","onBlur"),Fi(zd,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F_=new Set("cancel close invalid load scroll toggle".split(" ").concat(sa));function $d(t,r,o){var c=t.type||"unknown-event";t.currentTarget=o,ds(c,r,void 0,t),t.currentTarget=null}function Wd(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],f=c.event;c=c.listeners;e:{var m=void 0;if(r)for(var _=c.length-1;0<=_;_--){var I=c[_],P=I.instance,H=I.currentTarget;if(I=I.listener,P!==m&&f.isPropagationStopped())break e;$d(f,I,H),m=P}else for(_=0;_<c.length;_++){if(I=c[_],P=I.instance,H=I.currentTarget,I=I.listener,P!==m&&f.isPropagationStopped())break e;$d(f,I,H),m=P}}}if(pn)throw t=si,pn=!1,si=null,t}function Ze(t,r){var o=r[Lc];o===void 0&&(o=r[Lc]=new Set);var c=t+"__bubble";o.has(c)||(qd(r,t,2,!1),o.add(c))}function Cc(t,r,o){var c=0;r&&(c|=4),qd(o,t,c,r)}var Il="_reactListening"+Math.random().toString(36).slice(2);function oa(t){if(!t[Il]){t[Il]=!0,s.forEach(function(o){o!=="selectionchange"&&(F_.has(o)||Cc(o,!1,t),Cc(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Il]||(r[Il]=!0,Cc("selectionchange",!1,r))}}function qd(t,r,o,c){switch(Yo(r)){case 1:var f=st;break;case 4:f=yc;break;default:f=Qo}o=f.bind(null,r,o,t),f=void 0,!ri||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(r,o,{capture:!0,passive:f}):t.addEventListener(r,o,!0):f!==void 0?t.addEventListener(r,o,{passive:f}):t.addEventListener(r,o,!1)}function Pc(t,r,o,c,f){var m=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var I=c.stateNode.containerInfo;if(I===f||I.nodeType===8&&I.parentNode===f)break;if(_===4)for(_=c.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===f||P.nodeType===8&&P.parentNode===f))return;_=_.return}for(;I!==null;){if(_=ws(I),_===null)return;if(P=_.tag,P===5||P===6){c=m=_;continue e}I=I.parentNode}}c=c.return}ni(function(){var H=m,J=ur(o),ee=[];e:{var X=Bd.get(t);if(X!==void 0){var le=Xs,de=t;switch(t){case"keypress":if(Ys(o)===0)break e;case"keydown":case"keyup":le=d;break;case"focusin":de="focus",le=to;break;case"focusout":de="blur",le=to;break;case"beforeblur":case"afterblur":le=to;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Zs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=ml;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=q;break;case bd:case Ud:case jd:le=ci;break;case zd:le=Ke;break;case"scroll":le=vc;break;case"wheel":le=Ue;break;case"copy":case"cut":case"paste":le=vl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=w}var me=(r&4)!==0,mt=!me&&t==="scroll",U=me?X!==null?X+"Capture":null:X;me=[];for(var O=H,z;O!==null;){z=O;var te=z.stateNode;if(z.tag===5&&te!==null&&(z=te,U!==null&&(te=it(O,U),te!=null&&me.push(aa(O,te,z)))),mt)break;O=O.return}0<me.length&&(X=new le(X,de,null,o,J),ee.push({event:X,listeners:me}))}}if((r&7)===0){e:{if(X=t==="mouseover"||t==="pointerover",le=t==="mouseout"||t==="pointerout",X&&o!==ti&&(de=o.relatedTarget||o.fromElement)&&(ws(de)||de[hi]))break e;if((le||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,le?(de=o.relatedTarget||o.toElement,le=H,de=de?ws(de):null,de!==null&&(mt=mn(de),de!==mt||de.tag!==5&&de.tag!==6)&&(de=null)):(le=null,de=H),le!==de)){if(me=Zs,te="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(me=w,te="onPointerLeave",U="onPointerEnter",O="pointer"),mt=le==null?X:uo(le),z=de==null?X:uo(de),X=new me(te,O+"leave",le,o,J),X.target=mt,X.relatedTarget=z,te=null,ws(J)===H&&(me=new me(U,O+"enter",de,o,J),me.target=z,me.relatedTarget=mt,te=me),mt=te,le&&de)t:{for(me=le,U=de,O=0,z=me;z;z=ao(z))O++;for(z=0,te=U;te;te=ao(te))z++;for(;0<O-z;)me=ao(me),O--;for(;0<z-O;)U=ao(U),z--;for(;O--;){if(me===U||U!==null&&me===U.alternate)break t;me=ao(me),U=ao(U)}me=null}else me=null;le!==null&&Gd(ee,X,le,me,!1),de!==null&&mt!==null&&Gd(ee,mt,de,me,!0)}}e:{if(X=H?uo(H):window,le=X.nodeName&&X.nodeName.toLowerCase(),le==="select"||le==="input"&&X.type==="file")var _e=C_;else if(Rd(X))if(Pd)_e=N_;else{_e=k_;var Ae=P_}else(le=X.nodeName)&&le.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(_e=x_);if(_e&&(_e=_e(t,H))){Cd(ee,_e,o,J);break e}Ae&&Ae(t,X,H),t==="focusout"&&(Ae=X._wrapperState)&&Ae.controlled&&X.type==="number"&&lr(X,"number",X.value)}switch(Ae=H?uo(H):window,t){case"focusin":(Rd(Ae)||Ae.contentEditable==="true")&&(so=Ae,Tc=H,ia=null);break;case"focusout":ia=Tc=so=null;break;case"mousedown":Ac=!0;break;case"contextmenu":case"mouseup":case"dragend":Ac=!1,Md(ee,o,J);break;case"selectionchange":if(L_)break;case"keydown":case"keyup":Md(ee,o,J)}var Se;if(vt)e:{switch(t){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else io?Sd(t,o)&&(Re="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Re="onCompositionStart");Re&&(Es&&o.locale!=="ko"&&(io||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&io&&(Se=Xo()):(Vn=J,Qs="value"in Vn?Vn.value:Vn.textContent,io=!0)),Ae=Rl(H,Re),0<Ae.length&&(Re=new ea(Re,t,null,o,J),ee.push({event:Re,listeners:Ae}),Se?Re.data=Se:(Se=Id(o),Se!==null&&(Re.data=Se)))),(Se=Ln?A_(t,o):S_(t,o))&&(H=Rl(H,"onBeforeInput"),0<H.length&&(J=new ea("onBeforeInput","beforeinput",null,o,J),ee.push({event:J,listeners:H}),J.data=Se))}Wd(ee,r)})}function aa(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Rl(t,r){for(var o=r+"Capture",c=[];t!==null;){var f=t,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=it(t,o),m!=null&&c.unshift(aa(t,m,f)),m=it(t,r),m!=null&&c.push(aa(t,m,f))),t=t.return}return c}function ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gd(t,r,o,c,f){for(var m=r._reactName,_=[];o!==null&&o!==c;){var I=o,P=I.alternate,H=I.stateNode;if(P!==null&&P===c)break;I.tag===5&&H!==null&&(I=H,f?(P=it(o,m),P!=null&&_.unshift(aa(o,P,I))):f||(P=it(o,m),P!=null&&_.push(aa(o,P,I)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var b_=/\r\n?/g,U_=/\u0000|\uFFFD/g;function Kd(t){return(typeof t=="string"?t:""+t).replace(b_,`
`).replace(U_,"")}function Cl(t,r,o){if(r=Kd(r),Kd(t)!==r&&o)throw Error(n(425))}function Pl(){}var kc=null,xc=null;function Nc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Dc=typeof setTimeout=="function"?setTimeout:void 0,j_=typeof clearTimeout=="function"?clearTimeout:void 0,Qd=typeof Promise=="function"?Promise:void 0,z_=typeof queueMicrotask=="function"?queueMicrotask:typeof Qd<"u"?function(t){return Qd.resolve(null).then(t).catch(B_)}:Dc;function B_(t){setTimeout(function(){throw t})}function Vc(t,r){var o=r,c=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(c===0){t.removeChild(f),pr(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=f}while(o);pr(r)}function bi(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Yd(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var lo=Math.random().toString(36).slice(2),Mr="__reactFiber$"+lo,la="__reactProps$"+lo,hi="__reactContainer$"+lo,Lc="__reactEvents$"+lo,H_="__reactListeners$"+lo,$_="__reactHandles$"+lo;function ws(t){var r=t[Mr];if(r)return r;for(var o=t.parentNode;o;){if(r=o[hi]||o[Mr]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Yd(t);t!==null;){if(o=t[Mr])return o;t=Yd(t)}return r}t=o,o=t.parentNode}return null}function ua(t){return t=t[Mr]||t[hi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function uo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function kl(t){return t[la]||null}var Oc=[],co=-1;function Ui(t){return{current:t}}function et(t){0>co||(t.current=Oc[co],Oc[co]=null,co--)}function Xe(t,r){co++,Oc[co]=t.current,t.current=r}var ji={},Kt=Ui(ji),En=Ui(!1),Ts=ji;function ho(t,r){var o=t.type.contextTypes;if(!o)return ji;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in o)f[m]=r[m];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function wn(t){return t=t.childContextTypes,t!=null}function xl(){et(En),et(Kt)}function Xd(t,r,o){if(Kt.current!==ji)throw Error(n(168));Xe(Kt,r),Xe(En,o)}function Jd(t,r,o){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var f in c)if(!(f in r))throw Error(n(108,Me(t)||"Unknown",f));return ae({},o,c)}function Nl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ji,Ts=Kt.current,Xe(Kt,t),Xe(En,En.current),!0}function Zd(t,r,o){var c=t.stateNode;if(!c)throw Error(n(169));o?(t=Jd(t,r,Ts),c.__reactInternalMemoizedMergedChildContext=t,et(En),et(Kt),Xe(Kt,t)):et(En),Xe(En,o)}var fi=null,Dl=!1,Mc=!1;function ep(t){fi===null?fi=[t]:fi.push(t)}function W_(t){Dl=!0,ep(t)}function zi(){if(!Mc&&fi!==null){Mc=!0;var t=0,r=Fe;try{var o=fi;for(Fe=1;t<o.length;t++){var c=o[t];do c=c(!0);while(c!==null)}fi=null,Dl=!1}catch(f){throw fi!==null&&(fi=fi.slice(t+1)),Z(Ft,zi),f}finally{Fe=r,Mc=!1}}return null}var fo=[],po=0,Vl=null,Ll=0,Zn=[],er=0,As=null,di=1,pi="";function Ss(t,r){fo[po++]=Ll,fo[po++]=Vl,Vl=t,Ll=r}function tp(t,r,o){Zn[er++]=di,Zn[er++]=pi,Zn[er++]=As,As=t;var c=di;t=pi;var f=32-rn(c)-1;c&=~(1<<f),o+=1;var m=32-rn(r)+f;if(30<m){var _=f-f%5;m=(c&(1<<_)-1).toString(32),c>>=_,f-=_,di=1<<32-rn(r)+f|o<<f|c,pi=m+t}else di=1<<m|o<<f|c,pi=t}function Fc(t){t.return!==null&&(Ss(t,1),tp(t,1,0))}function bc(t){for(;t===Vl;)Vl=fo[--po],fo[po]=null,Ll=fo[--po],fo[po]=null;for(;t===As;)As=Zn[--er],Zn[er]=null,pi=Zn[--er],Zn[er]=null,di=Zn[--er],Zn[er]=null}var On=null,Mn=null,ot=!1,yr=null;function np(t,r){var o=ir(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function rp(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,On=t,Mn=bi(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,On=t,Mn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=As!==null?{id:di,overflow:pi}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=ir(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,On=t,Mn=null,!0):!1;default:return!1}}function Uc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jc(t){if(ot){var r=Mn;if(r){var o=r;if(!rp(t,r)){if(Uc(t))throw Error(n(418));r=bi(o.nextSibling);var c=On;r&&rp(t,r)?np(c,o):(t.flags=t.flags&-4097|2,ot=!1,On=t)}}else{if(Uc(t))throw Error(n(418));t.flags=t.flags&-4097|2,ot=!1,On=t}}}function ip(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;On=t}function Ol(t){if(t!==On)return!1;if(!ot)return ip(t),ot=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Nc(t.type,t.memoizedProps)),r&&(r=Mn)){if(Uc(t))throw sp(),Error(n(418));for(;r;)np(t,r),r=bi(r.nextSibling)}if(ip(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){Mn=bi(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}Mn=null}}else Mn=On?bi(t.stateNode.nextSibling):null;return!0}function sp(){for(var t=Mn;t;)t=bi(t.nextSibling)}function mo(){Mn=On=null,ot=!1}function zc(t){yr===null?yr=[t]:yr.push(t)}var q_=fe.ReactCurrentBatchConfig;function ca(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var c=o.stateNode}if(!c)throw Error(n(147,t));var f=c,m=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(_){var I=f.refs;_===null?delete I[m]:I[m]=_},r._stringRef=m,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Ml(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function op(t){var r=t._init;return r(t._payload)}function ap(t){function r(U,O){if(t){var z=U.deletions;z===null?(U.deletions=[O],U.flags|=16):z.push(O)}}function o(U,O){if(!t)return null;for(;O!==null;)r(U,O),O=O.sibling;return null}function c(U,O){for(U=new Map;O!==null;)O.key!==null?U.set(O.key,O):U.set(O.index,O),O=O.sibling;return U}function f(U,O){return U=Qi(U,O),U.index=0,U.sibling=null,U}function m(U,O,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<O?(U.flags|=2,O):z):(U.flags|=2,O)):(U.flags|=1048576,O)}function _(U){return t&&U.alternate===null&&(U.flags|=2),U}function I(U,O,z,te){return O===null||O.tag!==6?(O=Dh(z,U.mode,te),O.return=U,O):(O=f(O,z),O.return=U,O)}function P(U,O,z,te){var _e=z.type;return _e===L?J(U,O,z.props.children,te,z.key):O!==null&&(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===xt&&op(_e)===O.type)?(te=f(O,z.props),te.ref=ca(U,O,z),te.return=U,te):(te=ou(z.type,z.key,z.props,null,U.mode,te),te.ref=ca(U,O,z),te.return=U,te)}function H(U,O,z,te){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=Vh(z,U.mode,te),O.return=U,O):(O=f(O,z.children||[]),O.return=U,O)}function J(U,O,z,te,_e){return O===null||O.tag!==7?(O=Ds(z,U.mode,te,_e),O.return=U,O):(O=f(O,z),O.return=U,O)}function ee(U,O,z){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Dh(""+O,U.mode,z),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case pe:return z=ou(O.type,O.key,O.props,null,U.mode,z),z.ref=ca(U,null,O),z.return=U,z;case we:return O=Vh(O,U.mode,z),O.return=U,O;case xt:var te=O._init;return ee(U,te(O._payload),z)}if(zn(O)||Ee(O))return O=Ds(O,U.mode,z,null),O.return=U,O;Ml(U,O)}return null}function X(U,O,z,te){var _e=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return _e!==null?null:I(U,O,""+z,te);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case pe:return z.key===_e?P(U,O,z,te):null;case we:return z.key===_e?H(U,O,z,te):null;case xt:return _e=z._init,X(U,O,_e(z._payload),te)}if(zn(z)||Ee(z))return _e!==null?null:J(U,O,z,te,null);Ml(U,z)}return null}function le(U,O,z,te,_e){if(typeof te=="string"&&te!==""||typeof te=="number")return U=U.get(z)||null,I(O,U,""+te,_e);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case pe:return U=U.get(te.key===null?z:te.key)||null,P(O,U,te,_e);case we:return U=U.get(te.key===null?z:te.key)||null,H(O,U,te,_e);case xt:var Ae=te._init;return le(U,O,z,Ae(te._payload),_e)}if(zn(te)||Ee(te))return U=U.get(z)||null,J(O,U,te,_e,null);Ml(O,te)}return null}function de(U,O,z,te){for(var _e=null,Ae=null,Se=O,Re=O=0,Ot=null;Se!==null&&Re<z.length;Re++){Se.index>Re?(Ot=Se,Se=null):Ot=Se.sibling;var He=X(U,Se,z[Re],te);if(He===null){Se===null&&(Se=Ot);break}t&&Se&&He.alternate===null&&r(U,Se),O=m(He,O,Re),Ae===null?_e=He:Ae.sibling=He,Ae=He,Se=Ot}if(Re===z.length)return o(U,Se),ot&&Ss(U,Re),_e;if(Se===null){for(;Re<z.length;Re++)Se=ee(U,z[Re],te),Se!==null&&(O=m(Se,O,Re),Ae===null?_e=Se:Ae.sibling=Se,Ae=Se);return ot&&Ss(U,Re),_e}for(Se=c(U,Se);Re<z.length;Re++)Ot=le(Se,U,Re,z[Re],te),Ot!==null&&(t&&Ot.alternate!==null&&Se.delete(Ot.key===null?Re:Ot.key),O=m(Ot,O,Re),Ae===null?_e=Ot:Ae.sibling=Ot,Ae=Ot);return t&&Se.forEach(function(Yi){return r(U,Yi)}),ot&&Ss(U,Re),_e}function me(U,O,z,te){var _e=Ee(z);if(typeof _e!="function")throw Error(n(150));if(z=_e.call(z),z==null)throw Error(n(151));for(var Ae=_e=null,Se=O,Re=O=0,Ot=null,He=z.next();Se!==null&&!He.done;Re++,He=z.next()){Se.index>Re?(Ot=Se,Se=null):Ot=Se.sibling;var Yi=X(U,Se,He.value,te);if(Yi===null){Se===null&&(Se=Ot);break}t&&Se&&Yi.alternate===null&&r(U,Se),O=m(Yi,O,Re),Ae===null?_e=Yi:Ae.sibling=Yi,Ae=Yi,Se=Ot}if(He.done)return o(U,Se),ot&&Ss(U,Re),_e;if(Se===null){for(;!He.done;Re++,He=z.next())He=ee(U,He.value,te),He!==null&&(O=m(He,O,Re),Ae===null?_e=He:Ae.sibling=He,Ae=He);return ot&&Ss(U,Re),_e}for(Se=c(U,Se);!He.done;Re++,He=z.next())He=le(Se,U,Re,He.value,te),He!==null&&(t&&He.alternate!==null&&Se.delete(He.key===null?Re:He.key),O=m(He,O,Re),Ae===null?_e=He:Ae.sibling=He,Ae=He);return t&&Se.forEach(function(IE){return r(U,IE)}),ot&&Ss(U,Re),_e}function mt(U,O,z,te){if(typeof z=="object"&&z!==null&&z.type===L&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case pe:e:{for(var _e=z.key,Ae=O;Ae!==null;){if(Ae.key===_e){if(_e=z.type,_e===L){if(Ae.tag===7){o(U,Ae.sibling),O=f(Ae,z.props.children),O.return=U,U=O;break e}}else if(Ae.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===xt&&op(_e)===Ae.type){o(U,Ae.sibling),O=f(Ae,z.props),O.ref=ca(U,Ae,z),O.return=U,U=O;break e}o(U,Ae);break}else r(U,Ae);Ae=Ae.sibling}z.type===L?(O=Ds(z.props.children,U.mode,te,z.key),O.return=U,U=O):(te=ou(z.type,z.key,z.props,null,U.mode,te),te.ref=ca(U,O,z),te.return=U,U=te)}return _(U);case we:e:{for(Ae=z.key;O!==null;){if(O.key===Ae)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){o(U,O.sibling),O=f(O,z.children||[]),O.return=U,U=O;break e}else{o(U,O);break}else r(U,O);O=O.sibling}O=Vh(z,U.mode,te),O.return=U,U=O}return _(U);case xt:return Ae=z._init,mt(U,O,Ae(z._payload),te)}if(zn(z))return de(U,O,z,te);if(Ee(z))return me(U,O,z,te);Ml(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,O!==null&&O.tag===6?(o(U,O.sibling),O=f(O,z),O.return=U,U=O):(o(U,O),O=Dh(z,U.mode,te),O.return=U,U=O),_(U)):o(U,O)}return mt}var go=ap(!0),lp=ap(!1),Fl=Ui(null),bl=null,yo=null,Bc=null;function Hc(){Bc=yo=bl=null}function $c(t){var r=Fl.current;et(Fl),t._currentValue=r}function Wc(t,r,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===o)break;t=t.return}}function vo(t,r){bl=t,Bc=yo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Tn=!0),t.firstContext=null)}function tr(t){var r=t._currentValue;if(Bc!==t)if(t={context:t,memoizedValue:r,next:null},yo===null){if(bl===null)throw Error(n(308));yo=t,bl.dependencies={lanes:0,firstContext:t}}else yo=yo.next=t;return r}var Is=null;function qc(t){Is===null?Is=[t]:Is.push(t)}function up(t,r,o,c){var f=r.interleaved;return f===null?(o.next=o,qc(r)):(o.next=f.next,f.next=o),r.interleaved=o,mi(t,c)}function mi(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Bi=!1;function Gc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cp(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gi(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Hi(t,r,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Be&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,mi(t,o)}return f=c.interleaved,f===null?(r.next=r,qc(c)):(r.next=f.next,f.next=r),c.interleaved=r,mi(t,o)}function Ul(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,Di(t,o)}}function hp(t,r){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?f=m=_:m=m.next=_,o=o.next}while(o!==null);m===null?f=m=r:m=m.next=r}else f=m=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function jl(t,r,o,c){var f=t.updateQueue;Bi=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,I=f.shared.pending;if(I!==null){f.shared.pending=null;var P=I,H=P.next;P.next=null,_===null?m=H:_.next=H,_=P;var J=t.alternate;J!==null&&(J=J.updateQueue,I=J.lastBaseUpdate,I!==_&&(I===null?J.firstBaseUpdate=H:I.next=H,J.lastBaseUpdate=P))}if(m!==null){var ee=f.baseState;_=0,J=H=P=null,I=m;do{var X=I.lane,le=I.eventTime;if((c&X)===X){J!==null&&(J=J.next={eventTime:le,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var de=t,me=I;switch(X=r,le=o,me.tag){case 1:if(de=me.payload,typeof de=="function"){ee=de.call(le,ee,X);break e}ee=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=me.payload,X=typeof de=="function"?de.call(le,ee,X):de,X==null)break e;ee=ae({},ee,X);break e;case 2:Bi=!0}}I.callback!==null&&I.lane!==0&&(t.flags|=64,X=f.effects,X===null?f.effects=[I]:X.push(I))}else le={eventTime:le,lane:X,tag:I.tag,payload:I.payload,callback:I.callback,next:null},J===null?(H=J=le,P=ee):J=J.next=le,_|=X;if(I=I.next,I===null){if(I=f.shared.pending,I===null)break;X=I,I=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);if(J===null&&(P=ee),f.baseState=P,f.firstBaseUpdate=H,f.lastBaseUpdate=J,r=f.shared.interleaved,r!==null){f=r;do _|=f.lane,f=f.next;while(f!==r)}else m===null&&(f.shared.lanes=0);Ps|=_,t.lanes=_,t.memoizedState=ee}}function fp(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],f=c.callback;if(f!==null){if(c.callback=null,c=o,typeof f!="function")throw Error(n(191,f));f.call(c)}}}var ha={},Fr=Ui(ha),fa=Ui(ha),da=Ui(ha);function Rs(t){if(t===ha)throw Error(n(174));return t}function Kc(t,r){switch(Xe(da,r),Xe(fa,t),Xe(Fr,ha),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ht(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ht(r,t)}et(Fr),Xe(Fr,r)}function _o(){et(Fr),et(fa),et(da)}function dp(t){Rs(da.current);var r=Rs(Fr.current),o=ht(r,t.type);r!==o&&(Xe(fa,t),Xe(Fr,o))}function Qc(t){fa.current===t&&(et(Fr),et(fa))}var at=Ui(0);function zl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Yc=[];function Xc(){for(var t=0;t<Yc.length;t++)Yc[t]._workInProgressVersionPrimary=null;Yc.length=0}var Bl=fe.ReactCurrentDispatcher,Jc=fe.ReactCurrentBatchConfig,Cs=0,lt=null,It=null,Vt=null,Hl=!1,pa=!1,ma=0,G_=0;function Qt(){throw Error(n(321))}function Zc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!gr(t[o],r[o]))return!1;return!0}function eh(t,r,o,c,f,m){if(Cs=m,lt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Bl.current=t===null||t.memoizedState===null?X_:J_,t=o(c,f),pa){m=0;do{if(pa=!1,ma=0,25<=m)throw Error(n(301));m+=1,Vt=It=null,r.updateQueue=null,Bl.current=Z_,t=o(c,f)}while(pa)}if(Bl.current=ql,r=It!==null&&It.next!==null,Cs=0,Vt=It=lt=null,Hl=!1,r)throw Error(n(300));return t}function th(){var t=ma!==0;return ma=0,t}function br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?lt.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function nr(){if(It===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var r=Vt===null?lt.memoizedState:Vt.next;if(r!==null)Vt=r,It=t;else{if(t===null)throw Error(n(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Vt===null?lt.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function ga(t,r){return typeof r=="function"?r(t):r}function nh(t){var r=nr(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=It,f=c.baseQueue,m=o.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}c.baseQueue=f=m,o.pending=null}if(f!==null){m=f.next,c=c.baseState;var I=_=null,P=null,H=m;do{var J=H.lane;if((Cs&J)===J)P!==null&&(P=P.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),c=H.hasEagerState?H.eagerState:t(c,H.action);else{var ee={lane:J,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};P===null?(I=P=ee,_=c):P=P.next=ee,lt.lanes|=J,Ps|=J}H=H.next}while(H!==null&&H!==m);P===null?_=c:P.next=I,gr(c,r.memoizedState)||(Tn=!0),r.memoizedState=c,r.baseState=_,r.baseQueue=P,o.lastRenderedState=c}if(t=o.interleaved,t!==null){f=t;do m=f.lane,lt.lanes|=m,Ps|=m,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function rh(t){var r=nr(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=o.dispatch,f=o.pending,m=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do m=t(m,_.action),_=_.next;while(_!==f);gr(m,r.memoizedState)||(Tn=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,c]}function pp(){}function mp(t,r){var o=lt,c=nr(),f=r(),m=!gr(c.memoizedState,f);if(m&&(c.memoizedState=f,Tn=!0),c=c.queue,ih(vp.bind(null,o,c,t),[t]),c.getSnapshot!==r||m||Vt!==null&&Vt.memoizedState.tag&1){if(o.flags|=2048,ya(9,yp.bind(null,o,c,f,r),void 0,null),Lt===null)throw Error(n(349));(Cs&30)!==0||gp(o,r,f)}return f}function gp(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=lt.updateQueue,r===null?(r={lastEffect:null,stores:null},lt.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function yp(t,r,o,c){r.value=o,r.getSnapshot=c,_p(r)&&Ep(t)}function vp(t,r,o){return o(function(){_p(r)&&Ep(t)})}function _p(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!gr(t,o)}catch{return!0}}function Ep(t){var r=mi(t,1);r!==null&&wr(r,t,1,-1)}function wp(t){var r=br();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:t},r.queue=t,t=t.dispatch=Y_.bind(null,lt,t),[r.memoizedState,t]}function ya(t,r,o,c){return t={tag:t,create:r,destroy:o,deps:c,next:null},r=lt.updateQueue,r===null?(r={lastEffect:null,stores:null},lt.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,r.lastEffect=t)),t}function Tp(){return nr().memoizedState}function $l(t,r,o,c){var f=br();lt.flags|=t,f.memoizedState=ya(1|r,o,void 0,c===void 0?null:c)}function Wl(t,r,o,c){var f=nr();c=c===void 0?null:c;var m=void 0;if(It!==null){var _=It.memoizedState;if(m=_.destroy,c!==null&&Zc(c,_.deps)){f.memoizedState=ya(r,o,m,c);return}}lt.flags|=t,f.memoizedState=ya(1|r,o,m,c)}function Ap(t,r){return $l(8390656,8,t,r)}function ih(t,r){return Wl(2048,8,t,r)}function Sp(t,r){return Wl(4,2,t,r)}function Ip(t,r){return Wl(4,4,t,r)}function Rp(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Cp(t,r,o){return o=o!=null?o.concat([t]):null,Wl(4,4,Rp.bind(null,r,t),o)}function sh(){}function Pp(t,r){var o=nr();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Zc(r,c[1])?c[0]:(o.memoizedState=[t,r],t)}function kp(t,r){var o=nr();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Zc(r,c[1])?c[0]:(t=t(),o.memoizedState=[t,r],t)}function xp(t,r,o){return(Cs&21)===0?(t.baseState&&(t.baseState=!1,Tn=!0),t.memoizedState=o):(gr(o,r)||(o=gs(),lt.lanes|=o,Ps|=o,t.baseState=!0),r)}function K_(t,r){var o=Fe;Fe=o!==0&&4>o?o:4,t(!0);var c=Jc.transition;Jc.transition={};try{t(!1),r()}finally{Fe=o,Jc.transition=c}}function Np(){return nr().memoizedState}function Q_(t,r,o){var c=Gi(t);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},Dp(t))Vp(r,o);else if(o=up(t,r,o,c),o!==null){var f=an();wr(o,t,c,f),Lp(o,r,c)}}function Y_(t,r,o){var c=Gi(t),f={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(Dp(t))Vp(r,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var _=r.lastRenderedState,I=m(_,o);if(f.hasEagerState=!0,f.eagerState=I,gr(I,_)){var P=r.interleaved;P===null?(f.next=f,qc(r)):(f.next=P.next,P.next=f),r.interleaved=f;return}}catch{}finally{}o=up(t,r,f,c),o!==null&&(f=an(),wr(o,t,c,f),Lp(o,r,c))}}function Dp(t){var r=t.alternate;return t===lt||r!==null&&r===lt}function Vp(t,r){pa=Hl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Lp(t,r,o){if((o&4194240)!==0){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,Di(t,o)}}var ql={readContext:tr,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},X_={readContext:tr,useCallback:function(t,r){return br().memoizedState=[t,r===void 0?null:r],t},useContext:tr,useEffect:Ap,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,$l(4194308,4,Rp.bind(null,r,t),o)},useLayoutEffect:function(t,r){return $l(4194308,4,t,r)},useInsertionEffect:function(t,r){return $l(4,2,t,r)},useMemo:function(t,r){var o=br();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var c=br();return r=o!==void 0?o(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=Q_.bind(null,lt,t),[c.memoizedState,t]},useRef:function(t){var r=br();return t={current:t},r.memoizedState=t},useState:wp,useDebugValue:sh,useDeferredValue:function(t){return br().memoizedState=t},useTransition:function(){var t=wp(!1),r=t[0];return t=K_.bind(null,t[1]),br().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var c=lt,f=br();if(ot){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),Lt===null)throw Error(n(349));(Cs&30)!==0||gp(c,r,o)}f.memoizedState=o;var m={value:o,getSnapshot:r};return f.queue=m,Ap(vp.bind(null,c,m,t),[t]),c.flags|=2048,ya(9,yp.bind(null,c,m,o,r),void 0,null),o},useId:function(){var t=br(),r=Lt.identifierPrefix;if(ot){var o=pi,c=di;o=(c&~(1<<32-rn(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=ma++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=G_++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},J_={readContext:tr,useCallback:Pp,useContext:tr,useEffect:ih,useImperativeHandle:Cp,useInsertionEffect:Sp,useLayoutEffect:Ip,useMemo:kp,useReducer:nh,useRef:Tp,useState:function(){return nh(ga)},useDebugValue:sh,useDeferredValue:function(t){var r=nr();return xp(r,It.memoizedState,t)},useTransition:function(){var t=nh(ga)[0],r=nr().memoizedState;return[t,r]},useMutableSource:pp,useSyncExternalStore:mp,useId:Np,unstable_isNewReconciler:!1},Z_={readContext:tr,useCallback:Pp,useContext:tr,useEffect:ih,useImperativeHandle:Cp,useInsertionEffect:Sp,useLayoutEffect:Ip,useMemo:kp,useReducer:rh,useRef:Tp,useState:function(){return rh(ga)},useDebugValue:sh,useDeferredValue:function(t){var r=nr();return It===null?r.memoizedState=t:xp(r,It.memoizedState,t)},useTransition:function(){var t=rh(ga)[0],r=nr().memoizedState;return[t,r]},useMutableSource:pp,useSyncExternalStore:mp,useId:Np,unstable_isNewReconciler:!1};function vr(t,r){if(t&&t.defaultProps){r=ae({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function oh(t,r,o,c){r=t.memoizedState,o=o(c,r),o=o==null?r:ae({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Gl={isMounted:function(t){return(t=t._reactInternals)?mn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var c=an(),f=Gi(t),m=gi(c,f);m.payload=r,o!=null&&(m.callback=o),r=Hi(t,m,f),r!==null&&(wr(r,t,f,c),Ul(r,t,f))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var c=an(),f=Gi(t),m=gi(c,f);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=Hi(t,m,f),r!==null&&(wr(r,t,f,c),Ul(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=an(),c=Gi(t),f=gi(o,c);f.tag=2,r!=null&&(f.callback=r),r=Hi(t,f,c),r!==null&&(wr(r,t,c,o),Ul(r,t,c))}};function Op(t,r,o,c,f,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,_):r.prototype&&r.prototype.isPureReactComponent?!ra(o,c)||!ra(f,m):!0}function Mp(t,r,o){var c=!1,f=ji,m=r.contextType;return typeof m=="object"&&m!==null?m=tr(m):(f=wn(r)?Ts:Kt.current,c=r.contextTypes,m=(c=c!=null)?ho(t,f):ji),r=new r(o,m),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Gl,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=m),r}function Fp(t,r,o,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==t&&Gl.enqueueReplaceState(r,r.state,null)}function ah(t,r,o,c){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs={},Gc(t);var m=r.contextType;typeof m=="object"&&m!==null?f.context=tr(m):(m=wn(r)?Ts:Kt.current,f.context=ho(t,m)),f.state=t.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(oh(t,r,m,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&Gl.enqueueReplaceState(f,f.state,null),jl(t,o,f,c),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function Eo(t,r){try{var o="",c=r;do o+=ve(c),c=c.return;while(c);var f=o}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:r,stack:f,digest:null}}function lh(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function uh(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var eE=typeof WeakMap=="function"?WeakMap:Map;function bp(t,r,o){o=gi(-1,o),o.tag=3,o.payload={element:null};var c=r.value;return o.callback=function(){eu||(eu=!0,Sh=c),uh(t,r)},o}function Up(t,r,o){o=gi(-1,o),o.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;o.payload=function(){return c(f)},o.callback=function(){uh(t,r)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){uh(t,r),typeof c!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function jp(t,r,o){var c=t.pingCache;if(c===null){c=t.pingCache=new eE;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(f.add(o),t=pE.bind(null,t,r,o),r.then(t,t))}function zp(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Bp(t,r,o,c,f){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=gi(-1,1),r.tag=2,Hi(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=f,t)}var tE=fe.ReactCurrentOwner,Tn=!1;function on(t,r,o,c){r.child=t===null?lp(r,null,o,c):go(r,t.child,o,c)}function Hp(t,r,o,c,f){o=o.render;var m=r.ref;return vo(r,f),c=eh(t,r,o,c,m,f),o=th(),t!==null&&!Tn?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,yi(t,r,f)):(ot&&o&&Fc(r),r.flags|=1,on(t,r,c,f),r.child)}function $p(t,r,o,c,f){if(t===null){var m=o.type;return typeof m=="function"&&!Nh(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=m,Wp(t,r,m,c,f)):(t=ou(o.type,null,c,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,(t.lanes&f)===0){var _=m.memoizedProps;if(o=o.compare,o=o!==null?o:ra,o(_,c)&&t.ref===r.ref)return yi(t,r,f)}return r.flags|=1,t=Qi(m,c),t.ref=r.ref,t.return=r,r.child=t}function Wp(t,r,o,c,f){if(t!==null){var m=t.memoizedProps;if(ra(m,c)&&t.ref===r.ref)if(Tn=!1,r.pendingProps=c=m,(t.lanes&f)!==0)(t.flags&131072)!==0&&(Tn=!0);else return r.lanes=t.lanes,yi(t,r,f)}return ch(t,r,o,c,f)}function qp(t,r,o){var c=r.pendingProps,f=c.children,m=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(To,Fn),Fn|=o;else{if((o&1073741824)===0)return t=m!==null?m.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Xe(To,Fn),Fn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:o,Xe(To,Fn),Fn|=c}else m!==null?(c=m.baseLanes|o,r.memoizedState=null):c=o,Xe(To,Fn),Fn|=c;return on(t,r,f,o),r.child}function Gp(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function ch(t,r,o,c,f){var m=wn(o)?Ts:Kt.current;return m=ho(r,m),vo(r,f),o=eh(t,r,o,c,m,f),c=th(),t!==null&&!Tn?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,yi(t,r,f)):(ot&&c&&Fc(r),r.flags|=1,on(t,r,o,f),r.child)}function Kp(t,r,o,c,f){if(wn(o)){var m=!0;Nl(r)}else m=!1;if(vo(r,f),r.stateNode===null)Ql(t,r),Mp(r,o,c),ah(r,o,c,f),c=!0;else if(t===null){var _=r.stateNode,I=r.memoizedProps;_.props=I;var P=_.context,H=o.contextType;typeof H=="object"&&H!==null?H=tr(H):(H=wn(o)?Ts:Kt.current,H=ho(r,H));var J=o.getDerivedStateFromProps,ee=typeof J=="function"||typeof _.getSnapshotBeforeUpdate=="function";ee||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==c||P!==H)&&Fp(r,_,c,H),Bi=!1;var X=r.memoizedState;_.state=X,jl(r,c,_,f),P=r.memoizedState,I!==c||X!==P||En.current||Bi?(typeof J=="function"&&(oh(r,o,J,c),P=r.memoizedState),(I=Bi||Op(r,o,I,c,X,P,H))?(ee||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=P),_.props=c,_.state=P,_.context=H,c=I):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{_=r.stateNode,cp(t,r),I=r.memoizedProps,H=r.type===r.elementType?I:vr(r.type,I),_.props=H,ee=r.pendingProps,X=_.context,P=o.contextType,typeof P=="object"&&P!==null?P=tr(P):(P=wn(o)?Ts:Kt.current,P=ho(r,P));var le=o.getDerivedStateFromProps;(J=typeof le=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==ee||X!==P)&&Fp(r,_,c,P),Bi=!1,X=r.memoizedState,_.state=X,jl(r,c,_,f);var de=r.memoizedState;I!==ee||X!==de||En.current||Bi?(typeof le=="function"&&(oh(r,o,le,c),de=r.memoizedState),(H=Bi||Op(r,o,H,c,X,de,P)||!1)?(J||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,de,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,de,P)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===t.memoizedProps&&X===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&X===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=de),_.props=c,_.state=de,_.context=P,c=H):(typeof _.componentDidUpdate!="function"||I===t.memoizedProps&&X===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&X===t.memoizedState||(r.flags|=1024),c=!1)}return hh(t,r,o,c,m,f)}function hh(t,r,o,c,f,m){Gp(t,r);var _=(r.flags&128)!==0;if(!c&&!_)return f&&Zd(r,o,!1),yi(t,r,m);c=r.stateNode,tE.current=r;var I=_&&typeof o.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&_?(r.child=go(r,t.child,null,m),r.child=go(r,null,I,m)):on(t,r,I,m),r.memoizedState=c.state,f&&Zd(r,o,!0),r.child}function Qp(t){var r=t.stateNode;r.pendingContext?Xd(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Xd(t,r.context,!1),Kc(t,r.containerInfo)}function Yp(t,r,o,c,f){return mo(),zc(f),r.flags|=256,on(t,r,o,c),r.child}var fh={dehydrated:null,treeContext:null,retryLane:0};function dh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Xp(t,r,o){var c=r.pendingProps,f=at.current,m=!1,_=(r.flags&128)!==0,I;if((I=_)||(I=t!==null&&t.memoizedState===null?!1:(f&2)!==0),I?(m=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),Xe(at,f&1),t===null)return jc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(_=c.children,t=c.fallback,m?(c=r.mode,m=r.child,_={mode:"hidden",children:_},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=_):m=au(_,c,0,null),t=Ds(t,c,o,null),m.return=r,t.return=r,m.sibling=t,r.child=m,r.child.memoizedState=dh(o),r.memoizedState=fh,t):ph(r,_));if(f=t.memoizedState,f!==null&&(I=f.dehydrated,I!==null))return nE(t,r,_,c,I,f,o);if(m){m=c.fallback,_=r.mode,f=t.child,I=f.sibling;var P={mode:"hidden",children:c.children};return(_&1)===0&&r.child!==f?(c=r.child,c.childLanes=0,c.pendingProps=P,r.deletions=null):(c=Qi(f,P),c.subtreeFlags=f.subtreeFlags&14680064),I!==null?m=Qi(I,m):(m=Ds(m,_,o,null),m.flags|=2),m.return=r,c.return=r,c.sibling=m,r.child=c,c=m,m=r.child,_=t.child.memoizedState,_=_===null?dh(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=t.childLanes&~o,r.memoizedState=fh,c}return m=t.child,t=m.sibling,c=Qi(m,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=o),c.return=r,c.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=c,r.memoizedState=null,c}function ph(t,r){return r=au({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Kl(t,r,o,c){return c!==null&&zc(c),go(r,t.child,null,o),t=ph(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function nE(t,r,o,c,f,m,_){if(o)return r.flags&256?(r.flags&=-257,c=lh(Error(n(422))),Kl(t,r,_,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(m=c.fallback,f=r.mode,c=au({mode:"visible",children:c.children},f,0,null),m=Ds(m,f,_,null),m.flags|=2,c.return=r,m.return=r,c.sibling=m,r.child=c,(r.mode&1)!==0&&go(r,t.child,null,_),r.child.memoizedState=dh(_),r.memoizedState=fh,m);if((r.mode&1)===0)return Kl(t,r,_,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var I=c.dgst;return c=I,m=Error(n(419)),c=lh(m,c,void 0),Kl(t,r,_,c)}if(I=(_&t.childLanes)!==0,Tn||I){if(c=Lt,c!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|_))!==0?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,mi(t,f),wr(c,t,f,-1))}return xh(),c=lh(Error(n(421))),Kl(t,r,_,c)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=mE.bind(null,t),f._reactRetry=r,null):(t=m.treeContext,Mn=bi(f.nextSibling),On=r,ot=!0,yr=null,t!==null&&(Zn[er++]=di,Zn[er++]=pi,Zn[er++]=As,di=t.id,pi=t.overflow,As=r),r=ph(r,c.children),r.flags|=4096,r)}function Jp(t,r,o){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),Wc(t.return,r,o)}function mh(t,r,o,c,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=o,m.tailMode=f)}function Zp(t,r,o){var c=r.pendingProps,f=c.revealOrder,m=c.tail;if(on(t,r,c.children,o),c=at.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jp(t,o,r);else if(t.tag===19)Jp(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(Xe(at,c),(r.mode&1)===0)r.memoizedState=null;else switch(f){case"forwards":for(o=r.child,f=null;o!==null;)t=o.alternate,t!==null&&zl(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),mh(r,!1,f,o,m);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&zl(t)===null){r.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}mh(r,!0,o,null,m);break;case"together":mh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ql(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function yi(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ps|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Qi(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Qi(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function rE(t,r,o){switch(r.tag){case 3:Qp(r),mo();break;case 5:dp(r);break;case 1:wn(r.type)&&Nl(r);break;case 4:Kc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,f=r.memoizedProps.value;Xe(Fl,c._currentValue),c._currentValue=f;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(Xe(at,at.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?Xp(t,r,o):(Xe(at,at.current&1),t=yi(t,r,o),t!==null?t.sibling:null);Xe(at,at.current&1);break;case 19:if(c=(o&r.childLanes)!==0,(t.flags&128)!==0){if(c)return Zp(t,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Xe(at,at.current),c)break;return null;case 22:case 23:return r.lanes=0,qp(t,r,o)}return yi(t,r,o)}var em,gh,tm,nm;em=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},gh=function(){},tm=function(t,r,o,c){var f=t.memoizedProps;if(f!==c){t=r.stateNode,Rs(Fr.current);var m=null;switch(o){case"input":f=tn(t,f),c=tn(t,c),m=[];break;case"select":f=ae({},f,{value:void 0}),c=ae({},c,{value:void 0}),m=[];break;case"textarea":f=hs(t,f),c=hs(t,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=Pl)}Zr(o,c);var _;o=null;for(H in f)if(!c.hasOwnProperty(H)&&f.hasOwnProperty(H)&&f[H]!=null)if(H==="style"){var I=f[H];for(_ in I)I.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(a.hasOwnProperty(H)?m||(m=[]):(m=m||[]).push(H,null));for(H in c){var P=c[H];if(I=f?.[H],c.hasOwnProperty(H)&&P!==I&&(P!=null||I!=null))if(H==="style")if(I){for(_ in I)!I.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in P)P.hasOwnProperty(_)&&I[_]!==P[_]&&(o||(o={}),o[_]=P[_])}else o||(m||(m=[]),m.push(H,o)),o=P;else H==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,I=I?I.__html:void 0,P!=null&&I!==P&&(m=m||[]).push(H,P)):H==="children"?typeof P!="string"&&typeof P!="number"||(m=m||[]).push(H,""+P):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(a.hasOwnProperty(H)?(P!=null&&H==="onScroll"&&Ze("scroll",t),m||I===P||(m=[])):(m=m||[]).push(H,P))}o&&(m=m||[]).push("style",o);var H=m;(r.updateQueue=H)&&(r.flags|=4)}},nm=function(t,r,o,c){o!==c&&(r.flags|=4)};function va(t,r){if(!ot)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Yt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(r)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=o,r}function iE(t,r,o){var c=r.pendingProps;switch(bc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(r),null;case 1:return wn(r.type)&&xl(),Yt(r),null;case 3:return c=r.stateNode,_o(),et(En),et(Kt),Xc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(Ol(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,yr!==null&&(Ch(yr),yr=null))),gh(t,r),Yt(r),null;case 5:Qc(r);var f=Rs(da.current);if(o=r.type,t!==null&&r.stateNode!=null)tm(t,r,o,c,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(n(166));return Yt(r),null}if(t=Rs(Fr.current),Ol(r)){c=r.stateNode,o=r.type;var m=r.memoizedProps;switch(c[Mr]=r,c[la]=m,t=(r.mode&1)!==0,o){case"dialog":Ze("cancel",c),Ze("close",c);break;case"iframe":case"object":case"embed":Ze("load",c);break;case"video":case"audio":for(f=0;f<sa.length;f++)Ze(sa[f],c);break;case"source":Ze("error",c);break;case"img":case"image":case"link":Ze("error",c),Ze("load",c);break;case"details":Ze("toggle",c);break;case"input":Ir(c,m),Ze("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Ze("invalid",c);break;case"textarea":Rr(c,m),Ze("invalid",c)}Zr(o,m),f=null;for(var _ in m)if(m.hasOwnProperty(_)){var I=m[_];_==="children"?typeof I=="string"?c.textContent!==I&&(m.suppressHydrationWarning!==!0&&Cl(c.textContent,I,t),f=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(m.suppressHydrationWarning!==!0&&Cl(c.textContent,I,t),f=["children",""+I]):a.hasOwnProperty(_)&&I!=null&&_==="onScroll"&&Ze("scroll",c)}switch(o){case"input":Un(c),Jr(c,m,!0);break;case"textarea":Un(c),$n(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Pl)}c=f,r.updateQueue=c,c!==null&&(r.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ye(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=_.createElement(o,{is:c.is}):(t=_.createElement(o),o==="select"&&(_=t,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):t=_.createElementNS(t,o),t[Mr]=r,t[la]=c,em(t,r,!1,!1),r.stateNode=t;e:{switch(_=ei(o,c),o){case"dialog":Ze("cancel",t),Ze("close",t),f=c;break;case"iframe":case"object":case"embed":Ze("load",t),f=c;break;case"video":case"audio":for(f=0;f<sa.length;f++)Ze(sa[f],t);f=c;break;case"source":Ze("error",t),f=c;break;case"img":case"image":case"link":Ze("error",t),Ze("load",t),f=c;break;case"details":Ze("toggle",t),f=c;break;case"input":Ir(t,c),f=tn(t,c),Ze("invalid",t);break;case"option":f=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},f=ae({},c,{value:void 0}),Ze("invalid",t);break;case"textarea":Rr(t,c),f=hs(t,c),Ze("invalid",t);break;default:f=c}Zr(o,f),I=f;for(m in I)if(I.hasOwnProperty(m)){var P=I[m];m==="style"?nn(t,P):m==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Ci(t,P)):m==="children"?typeof P=="string"?(o!=="textarea"||P!=="")&&qn(t,P):typeof P=="number"&&qn(t,""+P):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(a.hasOwnProperty(m)?P!=null&&m==="onScroll"&&Ze("scroll",t):P!=null&&se(t,m,P,_))}switch(o){case"input":Un(t),Jr(t,c,!1);break;case"textarea":Un(t),$n(t);break;case"option":c.value!=null&&t.setAttribute("value",""+be(c.value));break;case"select":t.multiple=!!c.multiple,m=c.value,m!=null?Bn(t,!!c.multiple,m,!1):c.defaultValue!=null&&Bn(t,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=Pl)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Yt(r),null;case 6:if(t&&r.stateNode!=null)nm(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(n(166));if(o=Rs(da.current),Rs(Fr.current),Ol(r)){if(c=r.stateNode,o=r.memoizedProps,c[Mr]=r,(m=c.nodeValue!==o)&&(t=On,t!==null))switch(t.tag){case 3:Cl(c.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cl(c.nodeValue,o,(t.mode&1)!==0)}m&&(r.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Mr]=r,r.stateNode=c}return Yt(r),null;case 13:if(et(at),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ot&&Mn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)sp(),mo(),r.flags|=98560,m=!1;else if(m=Ol(r),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(n(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[Mr]=r}else mo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Yt(r),m=!1}else yr!==null&&(Ch(yr),yr=null),m=!0;if(!m)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(at.current&1)!==0?Rt===0&&(Rt=3):xh())),r.updateQueue!==null&&(r.flags|=4),Yt(r),null);case 4:return _o(),gh(t,r),t===null&&oa(r.stateNode.containerInfo),Yt(r),null;case 10:return $c(r.type._context),Yt(r),null;case 17:return wn(r.type)&&xl(),Yt(r),null;case 19:if(et(at),m=r.memoizedState,m===null)return Yt(r),null;if(c=(r.flags&128)!==0,_=m.rendering,_===null)if(c)va(m,!1);else{if(Rt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(_=zl(t),_!==null){for(r.flags|=128,va(m,!1),c=_.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=o,o=r.child;o!==null;)m=o,t=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,t=_.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Xe(at,at.current&1|2),r.child}t=t.sibling}m.tail!==null&&Ce()>Ao&&(r.flags|=128,c=!0,va(m,!1),r.lanes=4194304)}else{if(!c)if(t=zl(_),t!==null){if(r.flags|=128,c=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),va(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!ot)return Yt(r),null}else 2*Ce()-m.renderingStartTime>Ao&&o!==1073741824&&(r.flags|=128,c=!0,va(m,!1),r.lanes=4194304);m.isBackwards?(_.sibling=r.child,r.child=_):(o=m.last,o!==null?o.sibling=_:r.child=_,m.last=_)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Ce(),r.sibling=null,o=at.current,Xe(at,c?o&1|2:o&1),r):(Yt(r),null);case 22:case 23:return kh(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(Fn&1073741824)!==0&&(Yt(r),r.subtreeFlags&6&&(r.flags|=8192)):Yt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function sE(t,r){switch(bc(r),r.tag){case 1:return wn(r.type)&&xl(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return _o(),et(En),et(Kt),Xc(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return Qc(r),null;case 13:if(et(at),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));mo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return et(at),null;case 4:return _o(),null;case 10:return $c(r.type._context),null;case 22:case 23:return kh(),null;case 24:return null;default:return null}}var Yl=!1,Xt=!1,oE=typeof WeakSet=="function"?WeakSet:Set,he=null;function wo(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){dt(t,r,c)}else o.current=null}function yh(t,r,o){try{o()}catch(c){dt(t,r,c)}}var rm=!1;function aE(t,r){if(kc=Oi,t=Od(),wc(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var _=0,I=-1,P=-1,H=0,J=0,ee=t,X=null;t:for(;;){for(var le;ee!==o||f!==0&&ee.nodeType!==3||(I=_+f),ee!==m||c!==0&&ee.nodeType!==3||(P=_+c),ee.nodeType===3&&(_+=ee.nodeValue.length),(le=ee.firstChild)!==null;)X=ee,ee=le;for(;;){if(ee===t)break t;if(X===o&&++H===f&&(I=_),X===m&&++J===c&&(P=_),(le=ee.nextSibling)!==null)break;ee=X,X=ee.parentNode}ee=le}o=I===-1||P===-1?null:{start:I,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(xc={focusedElem:t,selectionRange:o},Oi=!1,he=r;he!==null;)if(r=he,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,he=t;else for(;he!==null;){r=he;try{var de=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var me=de.memoizedProps,mt=de.memoizedState,U=r.stateNode,O=U.getSnapshotBeforeUpdate(r.elementType===r.type?me:vr(r.type,me),mt);U.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var z=r.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(te){dt(r,r.return,te)}if(t=r.sibling,t!==null){t.return=r.return,he=t;break}he=r.return}return de=rm,rm=!1,de}function _a(t,r,o){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&t)===t){var m=f.destroy;f.destroy=void 0,m!==void 0&&yh(r,o,m)}f=f.next}while(f!==c)}}function Xl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var c=o.create;o.destroy=c()}o=o.next}while(o!==r)}}function vh(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function im(t){var r=t.alternate;r!==null&&(t.alternate=null,im(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Mr],delete r[la],delete r[Lc],delete r[H_],delete r[$_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sm(t){return t.tag===5||t.tag===3||t.tag===4}function om(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _h(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Pl));else if(c!==4&&(t=t.child,t!==null))for(_h(t,r,o),t=t.sibling;t!==null;)_h(t,r,o),t=t.sibling}function Eh(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Eh(t,r,o),t=t.sibling;t!==null;)Eh(t,r,o),t=t.sibling}var jt=null,_r=!1;function $i(t,r,o){for(o=o.child;o!==null;)am(t,r,o),o=o.sibling}function am(t,r,o){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(xr,o)}catch{}switch(o.tag){case 5:Xt||wo(o,r);case 6:var c=jt,f=_r;jt=null,$i(t,r,o),jt=c,_r=f,jt!==null&&(_r?(t=jt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):jt.removeChild(o.stateNode));break;case 18:jt!==null&&(_r?(t=jt,o=o.stateNode,t.nodeType===8?Vc(t.parentNode,o):t.nodeType===1&&Vc(t,o),pr(t)):Vc(jt,o.stateNode));break;case 4:c=jt,f=_r,jt=o.stateNode.containerInfo,_r=!0,$i(t,r,o),jt=c,_r=f;break;case 0:case 11:case 14:case 15:if(!Xt&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,_=m.destroy;m=m.tag,_!==void 0&&((m&2)!==0||(m&4)!==0)&&yh(o,r,_),f=f.next}while(f!==c)}$i(t,r,o);break;case 1:if(!Xt&&(wo(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(I){dt(o,r,I)}$i(t,r,o);break;case 21:$i(t,r,o);break;case 22:o.mode&1?(Xt=(c=Xt)||o.memoizedState!==null,$i(t,r,o),Xt=c):$i(t,r,o);break;default:$i(t,r,o)}}function lm(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new oE),r.forEach(function(c){var f=gE.bind(null,t,c);o.has(c)||(o.add(c),c.then(f,f))})}}function Er(t,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];try{var m=t,_=r,I=_;e:for(;I!==null;){switch(I.tag){case 5:jt=I.stateNode,_r=!1;break e;case 3:jt=I.stateNode.containerInfo,_r=!0;break e;case 4:jt=I.stateNode.containerInfo,_r=!0;break e}I=I.return}if(jt===null)throw Error(n(160));am(m,_,f),jt=null,_r=!1;var P=f.alternate;P!==null&&(P.return=null),f.return=null}catch(H){dt(f,r,H)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)um(r,t),r=r.sibling}function um(t,r){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Er(r,t),Ur(t),c&4){try{_a(3,t,t.return),Xl(3,t)}catch(me){dt(t,t.return,me)}try{_a(5,t,t.return)}catch(me){dt(t,t.return,me)}}break;case 1:Er(r,t),Ur(t),c&512&&o!==null&&wo(o,o.return);break;case 5:if(Er(r,t),Ur(t),c&512&&o!==null&&wo(o,o.return),t.flags&32){var f=t.stateNode;try{qn(f,"")}catch(me){dt(t,t.return,me)}}if(c&4&&(f=t.stateNode,f!=null)){var m=t.memoizedProps,_=o!==null?o.memoizedProps:m,I=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{I==="input"&&m.type==="radio"&&m.name!=null&&Xr(f,m),ei(I,_);var H=ei(I,m);for(_=0;_<P.length;_+=2){var J=P[_],ee=P[_+1];J==="style"?nn(f,ee):J==="dangerouslySetInnerHTML"?Ci(f,ee):J==="children"?qn(f,ee):se(f,J,ee,H)}switch(I){case"input":jn(f,m);break;case"textarea":Hn(f,m);break;case"select":var X=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var le=m.value;le!=null?Bn(f,!!m.multiple,le,!1):X!==!!m.multiple&&(m.defaultValue!=null?Bn(f,!!m.multiple,m.defaultValue,!0):Bn(f,!!m.multiple,m.multiple?[]:"",!1))}f[la]=m}catch(me){dt(t,t.return,me)}}break;case 6:if(Er(r,t),Ur(t),c&4){if(t.stateNode===null)throw Error(n(162));f=t.stateNode,m=t.memoizedProps;try{f.nodeValue=m}catch(me){dt(t,t.return,me)}}break;case 3:if(Er(r,t),Ur(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{pr(r.containerInfo)}catch(me){dt(t,t.return,me)}break;case 4:Er(r,t),Ur(t);break;case 13:Er(r,t),Ur(t),f=t.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(Ah=Ce())),c&4&&lm(t);break;case 22:if(J=o!==null&&o.memoizedState!==null,t.mode&1?(Xt=(H=Xt)||J,Er(r,t),Xt=H):Er(r,t),Ur(t),c&8192){if(H=t.memoizedState!==null,(t.stateNode.isHidden=H)&&!J&&(t.mode&1)!==0)for(he=t,J=t.child;J!==null;){for(ee=he=J;he!==null;){switch(X=he,le=X.child,X.tag){case 0:case 11:case 14:case 15:_a(4,X,X.return);break;case 1:wo(X,X.return);var de=X.stateNode;if(typeof de.componentWillUnmount=="function"){c=X,o=X.return;try{r=c,de.props=r.memoizedProps,de.state=r.memoizedState,de.componentWillUnmount()}catch(me){dt(c,o,me)}}break;case 5:wo(X,X.return);break;case 22:if(X.memoizedState!==null){fm(ee);continue}}le!==null?(le.return=X,he=le):fm(ee)}J=J.sibling}e:for(J=null,ee=t;;){if(ee.tag===5){if(J===null){J=ee;try{f=ee.stateNode,H?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(I=ee.stateNode,P=ee.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,I.style.display=Pr("display",_))}catch(me){dt(t,t.return,me)}}}else if(ee.tag===6){if(J===null)try{ee.stateNode.nodeValue=H?"":ee.memoizedProps}catch(me){dt(t,t.return,me)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===t)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===t)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===t)break e;J===ee&&(J=null),ee=ee.return}J===ee&&(J=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Er(r,t),Ur(t),c&4&&lm(t);break;case 21:break;default:Er(r,t),Ur(t)}}function Ur(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(sm(o)){var c=o;break e}o=o.return}throw Error(n(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(qn(f,""),c.flags&=-33);var m=om(t);Eh(t,m,f);break;case 3:case 4:var _=c.stateNode.containerInfo,I=om(t);_h(t,I,_);break;default:throw Error(n(161))}}catch(P){dt(t,t.return,P)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function lE(t,r,o){he=t,cm(t)}function cm(t,r,o){for(var c=(t.mode&1)!==0;he!==null;){var f=he,m=f.child;if(f.tag===22&&c){var _=f.memoizedState!==null||Yl;if(!_){var I=f.alternate,P=I!==null&&I.memoizedState!==null||Xt;I=Yl;var H=Xt;if(Yl=_,(Xt=P)&&!H)for(he=f;he!==null;)_=he,P=_.child,_.tag===22&&_.memoizedState!==null?dm(f):P!==null?(P.return=_,he=P):dm(f);for(;m!==null;)he=m,cm(m),m=m.sibling;he=f,Yl=I,Xt=H}hm(t)}else(f.subtreeFlags&8772)!==0&&m!==null?(m.return=f,he=m):hm(t)}}function hm(t){for(;he!==null;){var r=he;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Xt||Xl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!Xt)if(o===null)c.componentDidMount();else{var f=r.elementType===r.type?o.memoizedProps:vr(r.type,o.memoizedProps);c.componentDidUpdate(f,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&fp(r,m,c);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}fp(r,_,o)}break;case 5:var I=r.stateNode;if(o===null&&r.flags&4){o=I;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&o.focus();break;case"img":P.src&&(o.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var H=r.alternate;if(H!==null){var J=H.memoizedState;if(J!==null){var ee=J.dehydrated;ee!==null&&pr(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Xt||r.flags&512&&vh(r)}catch(X){dt(r,r.return,X)}}if(r===t){he=null;break}if(o=r.sibling,o!==null){o.return=r.return,he=o;break}he=r.return}}function fm(t){for(;he!==null;){var r=he;if(r===t){he=null;break}var o=r.sibling;if(o!==null){o.return=r.return,he=o;break}he=r.return}}function dm(t){for(;he!==null;){var r=he;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Xl(4,r)}catch(P){dt(r,o,P)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var f=r.return;try{c.componentDidMount()}catch(P){dt(r,f,P)}}var m=r.return;try{vh(r)}catch(P){dt(r,m,P)}break;case 5:var _=r.return;try{vh(r)}catch(P){dt(r,_,P)}}}catch(P){dt(r,r.return,P)}if(r===t){he=null;break}var I=r.sibling;if(I!==null){I.return=r.return,he=I;break}he=r.return}}var uE=Math.ceil,Jl=fe.ReactCurrentDispatcher,wh=fe.ReactCurrentOwner,rr=fe.ReactCurrentBatchConfig,Be=0,Lt=null,_t=null,zt=0,Fn=0,To=Ui(0),Rt=0,Ea=null,Ps=0,Zl=0,Th=0,wa=null,An=null,Ah=0,Ao=1/0,vi=null,eu=!1,Sh=null,Wi=null,tu=!1,qi=null,nu=0,Ta=0,Ih=null,ru=-1,iu=0;function an(){return(Be&6)!==0?Ce():ru!==-1?ru:ru=Ce()}function Gi(t){return(t.mode&1)===0?1:(Be&2)!==0&&zt!==0?zt&-zt:q_.transition!==null?(iu===0&&(iu=gs()),iu):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:Yo(t.type)),t)}function wr(t,r,o,c){if(50<Ta)throw Ta=0,Ih=null,Error(n(185));Ni(t,o,c),((Be&2)===0||t!==Lt)&&(t===Lt&&((Be&2)===0&&(Zl|=o),Rt===4&&Ki(t,zt)),Sn(t,c),o===1&&Be===0&&(r.mode&1)===0&&(Ao=Ce()+500,Dl&&zi()))}function Sn(t,r){var o=t.callbackNode;oi(t,r);var c=ms(t,t===Lt?zt:0);if(c===0)o!==null&&ce(o),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(o!=null&&ce(o),r===1)t.tag===0?W_(mm.bind(null,t)):ep(mm.bind(null,t)),z_(function(){(Be&6)===0&&zi()}),o=null;else{switch(Vi(c)){case 1:o=Ft;break;case 4:o=yn;break;case 16:o=Gt;break;case 536870912:o=ps;break;default:o=Gt}o=Am(o,pm.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function pm(t,r){if(ru=-1,iu=0,(Be&6)!==0)throw Error(n(327));var o=t.callbackNode;if(So()&&t.callbackNode!==o)return null;var c=ms(t,t===Lt?zt:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||r)r=su(t,c);else{r=c;var f=Be;Be|=2;var m=ym();(Lt!==t||zt!==r)&&(vi=null,Ao=Ce()+500,xs(t,r));do try{fE();break}catch(I){gm(t,I)}while(!0);Hc(),Jl.current=m,Be=f,_t!==null?r=0:(Lt=null,zt=0,r=Rt)}if(r!==0){if(r===2&&(f=Dn(t),f!==0&&(c=f,r=Rh(t,f))),r===1)throw o=Ea,xs(t,0),Ki(t,c),Sn(t,Ce()),o;if(r===6)Ki(t,c);else{if(f=t.current.alternate,(c&30)===0&&!cE(f)&&(r=su(t,c),r===2&&(m=Dn(t),m!==0&&(c=m,r=Rh(t,m))),r===1))throw o=Ea,xs(t,0),Ki(t,c),Sn(t,Ce()),o;switch(t.finishedWork=f,t.finishedLanes=c,r){case 0:case 1:throw Error(n(345));case 2:Ns(t,An,vi);break;case 3:if(Ki(t,c),(c&130023424)===c&&(r=Ah+500-Ce(),10<r)){if(ms(t,0)!==0)break;if(f=t.suspendedLanes,(f&c)!==c){an(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=Dc(Ns.bind(null,t,An,vi),r);break}Ns(t,An,vi);break;case 4:if(Ki(t,c),(c&4194240)===c)break;for(r=t.eventTimes,f=-1;0<c;){var _=31-rn(c);m=1<<_,_=r[_],_>f&&(f=_),c&=~m}if(c=f,c=Ce()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*uE(c/1960))-c,10<c){t.timeoutHandle=Dc(Ns.bind(null,t,An,vi),c);break}Ns(t,An,vi);break;case 5:Ns(t,An,vi);break;default:throw Error(n(329))}}}return Sn(t,Ce()),t.callbackNode===o?pm.bind(null,t):null}function Rh(t,r){var o=wa;return t.current.memoizedState.isDehydrated&&(xs(t,r).flags|=256),t=su(t,r),t!==2&&(r=An,An=o,r!==null&&Ch(r)),t}function Ch(t){An===null?An=t:An.push.apply(An,t)}function cE(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var f=o[c],m=f.getSnapshot;f=f.value;try{if(!gr(m(),f))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ki(t,r){for(r&=~Th,r&=~Zl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-rn(r),c=1<<o;t[o]=-1,r&=~c}}function mm(t){if((Be&6)!==0)throw Error(n(327));So();var r=ms(t,0);if((r&1)===0)return Sn(t,Ce()),null;var o=su(t,r);if(t.tag!==0&&o===2){var c=Dn(t);c!==0&&(r=c,o=Rh(t,c))}if(o===1)throw o=Ea,xs(t,0),Ki(t,r),Sn(t,Ce()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Ns(t,An,vi),Sn(t,Ce()),null}function Ph(t,r){var o=Be;Be|=1;try{return t(r)}finally{Be=o,Be===0&&(Ao=Ce()+500,Dl&&zi())}}function ks(t){qi!==null&&qi.tag===0&&(Be&6)===0&&So();var r=Be;Be|=1;var o=rr.transition,c=Fe;try{if(rr.transition=null,Fe=1,t)return t()}finally{Fe=c,rr.transition=o,Be=r,(Be&6)===0&&zi()}}function kh(){Fn=To.current,et(To)}function xs(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,j_(o)),_t!==null)for(o=_t.return;o!==null;){var c=o;switch(bc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&xl();break;case 3:_o(),et(En),et(Kt),Xc();break;case 5:Qc(c);break;case 4:_o();break;case 13:et(at);break;case 19:et(at);break;case 10:$c(c.type._context);break;case 22:case 23:kh()}o=o.return}if(Lt=t,_t=t=Qi(t.current,null),zt=Fn=r,Rt=0,Ea=null,Th=Zl=Ps=0,An=wa=null,Is!==null){for(r=0;r<Is.length;r++)if(o=Is[r],c=o.interleaved,c!==null){o.interleaved=null;var f=c.next,m=o.pending;if(m!==null){var _=m.next;m.next=f,c.next=_}o.pending=c}Is=null}return t}function gm(t,r){do{var o=_t;try{if(Hc(),Bl.current=ql,Hl){for(var c=lt.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Hl=!1}if(Cs=0,Vt=It=lt=null,pa=!1,ma=0,wh.current=null,o===null||o.return===null){Rt=1,Ea=r,_t=null;break}e:{var m=t,_=o.return,I=o,P=r;if(r=zt,I.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var H=P,J=I,ee=J.tag;if((J.mode&1)===0&&(ee===0||ee===11||ee===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var le=zp(_);if(le!==null){le.flags&=-257,Bp(le,_,I,m,r),le.mode&1&&jp(m,H,r),r=le,P=H;var de=r.updateQueue;if(de===null){var me=new Set;me.add(P),r.updateQueue=me}else de.add(P);break e}else{if((r&1)===0){jp(m,H,r),xh();break e}P=Error(n(426))}}else if(ot&&I.mode&1){var mt=zp(_);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),Bp(mt,_,I,m,r),zc(Eo(P,I));break e}}m=P=Eo(P,I),Rt!==4&&(Rt=2),wa===null?wa=[m]:wa.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var U=bp(m,P,r);hp(m,U);break e;case 1:I=P;var O=m.type,z=m.stateNode;if((m.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Wi===null||!Wi.has(z)))){m.flags|=65536,r&=-r,m.lanes|=r;var te=Up(m,I,r);hp(m,te);break e}}m=m.return}while(m!==null)}_m(o)}catch(_e){r=_e,_t===o&&o!==null&&(_t=o=o.return);continue}break}while(!0)}function ym(){var t=Jl.current;return Jl.current=ql,t===null?ql:t}function xh(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Lt===null||(Ps&268435455)===0&&(Zl&268435455)===0||Ki(Lt,zt)}function su(t,r){var o=Be;Be|=2;var c=ym();(Lt!==t||zt!==r)&&(vi=null,xs(t,r));do try{hE();break}catch(f){gm(t,f)}while(!0);if(Hc(),Be=o,Jl.current=c,_t!==null)throw Error(n(261));return Lt=null,zt=0,Rt}function hE(){for(;_t!==null;)vm(_t)}function fE(){for(;_t!==null&&!Ge();)vm(_t)}function vm(t){var r=Tm(t.alternate,t,Fn);t.memoizedProps=t.pendingProps,r===null?_m(t):_t=r,wh.current=null}function _m(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=iE(o,r,Fn),o!==null){_t=o;return}}else{if(o=sE(o,r),o!==null){o.flags&=32767,_t=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rt=6,_t=null;return}}if(r=r.sibling,r!==null){_t=r;return}_t=r=t}while(r!==null);Rt===0&&(Rt=5)}function Ns(t,r,o){var c=Fe,f=rr.transition;try{rr.transition=null,Fe=1,dE(t,r,o,c)}finally{rr.transition=f,Fe=c}return null}function dE(t,r,o,c){do So();while(qi!==null);if((Be&6)!==0)throw Error(n(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var m=o.lanes|o.childLanes;if(Qe(t,m),t===Lt&&(_t=Lt=null,zt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||tu||(tu=!0,Am(Gt,function(){return So(),null})),m=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||m){m=rr.transition,rr.transition=null;var _=Fe;Fe=1;var I=Be;Be|=4,wh.current=null,aE(t,o),um(o,t),V_(xc),Oi=!!kc,xc=kc=null,t.current=o,lE(o),yt(),Be=I,Fe=_,rr.transition=m}else t.current=o;if(tu&&(tu=!1,qi=t,nu=f),m=t.pendingLanes,m===0&&(Wi=null),sl(o.stateNode),Sn(t,Ce()),r!==null)for(c=t.onRecoverableError,o=0;o<r.length;o++)f=r[o],c(f.value,{componentStack:f.stack,digest:f.digest});if(eu)throw eu=!1,t=Sh,Sh=null,t;return(nu&1)!==0&&t.tag!==0&&So(),m=t.pendingLanes,(m&1)!==0?t===Ih?Ta++:(Ta=0,Ih=t):Ta=0,zi(),null}function So(){if(qi!==null){var t=Vi(nu),r=rr.transition,o=Fe;try{if(rr.transition=null,Fe=16>t?16:t,qi===null)var c=!1;else{if(t=qi,qi=null,nu=0,(Be&6)!==0)throw Error(n(331));var f=Be;for(Be|=4,he=t.current;he!==null;){var m=he,_=m.child;if((he.flags&16)!==0){var I=m.deletions;if(I!==null){for(var P=0;P<I.length;P++){var H=I[P];for(he=H;he!==null;){var J=he;switch(J.tag){case 0:case 11:case 15:_a(8,J,m)}var ee=J.child;if(ee!==null)ee.return=J,he=ee;else for(;he!==null;){J=he;var X=J.sibling,le=J.return;if(im(J),J===H){he=null;break}if(X!==null){X.return=le,he=X;break}he=le}}}var de=m.alternate;if(de!==null){var me=de.child;if(me!==null){de.child=null;do{var mt=me.sibling;me.sibling=null,me=mt}while(me!==null)}}he=m}}if((m.subtreeFlags&2064)!==0&&_!==null)_.return=m,he=_;else e:for(;he!==null;){if(m=he,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:_a(9,m,m.return)}var U=m.sibling;if(U!==null){U.return=m.return,he=U;break e}he=m.return}}var O=t.current;for(he=O;he!==null;){_=he;var z=_.child;if((_.subtreeFlags&2064)!==0&&z!==null)z.return=_,he=z;else e:for(_=O;he!==null;){if(I=he,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:Xl(9,I)}}catch(_e){dt(I,I.return,_e)}if(I===_){he=null;break e}var te=I.sibling;if(te!==null){te.return=I.return,he=te;break e}he=I.return}}if(Be=f,zi(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(xr,t)}catch{}c=!0}return c}finally{Fe=o,rr.transition=r}}return!1}function Em(t,r,o){r=Eo(o,r),r=bp(t,r,1),t=Hi(t,r,1),r=an(),t!==null&&(Ni(t,1,r),Sn(t,r))}function dt(t,r,o){if(t.tag===3)Em(t,t,o);else for(;r!==null;){if(r.tag===3){Em(r,t,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Wi===null||!Wi.has(c))){t=Eo(o,t),t=Up(r,t,1),r=Hi(r,t,1),t=an(),r!==null&&(Ni(r,1,t),Sn(r,t));break}}r=r.return}}function pE(t,r,o){var c=t.pingCache;c!==null&&c.delete(r),r=an(),t.pingedLanes|=t.suspendedLanes&o,Lt===t&&(zt&o)===o&&(Rt===4||Rt===3&&(zt&130023424)===zt&&500>Ce()-Ah?xs(t,0):Th|=o),Sn(t,r)}function wm(t,r){r===0&&((t.mode&1)===0?r=1:(r=qs,qs<<=1,(qs&130023424)===0&&(qs=4194304)));var o=an();t=mi(t,r),t!==null&&(Ni(t,r,o),Sn(t,o))}function mE(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),wm(t,o)}function gE(t,r){var o=0;switch(t.tag){case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(r),wm(t,o)}var Tm;Tm=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||En.current)Tn=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return Tn=!1,rE(t,r,o);Tn=(t.flags&131072)!==0}else Tn=!1,ot&&(r.flags&1048576)!==0&&tp(r,Ll,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Ql(t,r),t=r.pendingProps;var f=ho(r,Kt.current);vo(r,o),f=eh(null,r,c,t,f,o);var m=th();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,wn(c)?(m=!0,Nl(r)):m=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Gc(r),f.updater=Gl,r.stateNode=f,f._reactInternals=r,ah(r,c,t,o),r=hh(null,r,c,!0,m,o)):(r.tag=0,ot&&m&&Fc(r),on(null,r,f,o),r=r.child),r;case 16:c=r.elementType;e:{switch(Ql(t,r),t=r.pendingProps,f=c._init,c=f(c._payload),r.type=c,f=r.tag=vE(c),t=vr(c,t),f){case 0:r=ch(null,r,c,t,o);break e;case 1:r=Kp(null,r,c,t,o);break e;case 11:r=Hp(null,r,c,t,o);break e;case 14:r=$p(null,r,c,vr(c.type,t),o);break e}throw Error(n(306,c,""))}return r;case 0:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:vr(c,f),ch(t,r,c,f,o);case 1:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:vr(c,f),Kp(t,r,c,f,o);case 3:e:{if(Qp(r),t===null)throw Error(n(387));c=r.pendingProps,m=r.memoizedState,f=m.element,cp(t,r),jl(r,c,null,o);var _=r.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){f=Eo(Error(n(423)),r),r=Yp(t,r,c,o,f);break e}else if(c!==f){f=Eo(Error(n(424)),r),r=Yp(t,r,c,o,f);break e}else for(Mn=bi(r.stateNode.containerInfo.firstChild),On=r,ot=!0,yr=null,o=lp(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(mo(),c===f){r=yi(t,r,o);break e}on(t,r,c,o)}r=r.child}return r;case 5:return dp(r),t===null&&jc(r),c=r.type,f=r.pendingProps,m=t!==null?t.memoizedProps:null,_=f.children,Nc(c,f)?_=null:m!==null&&Nc(c,m)&&(r.flags|=32),Gp(t,r),on(t,r,_,o),r.child;case 6:return t===null&&jc(r),null;case 13:return Xp(t,r,o);case 4:return Kc(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=go(r,null,c,o):on(t,r,c,o),r.child;case 11:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:vr(c,f),Hp(t,r,c,f,o);case 7:return on(t,r,r.pendingProps,o),r.child;case 8:return on(t,r,r.pendingProps.children,o),r.child;case 12:return on(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(c=r.type._context,f=r.pendingProps,m=r.memoizedProps,_=f.value,Xe(Fl,c._currentValue),c._currentValue=_,m!==null)if(gr(m.value,_)){if(m.children===f.children&&!En.current){r=yi(t,r,o);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var I=m.dependencies;if(I!==null){_=m.child;for(var P=I.firstContext;P!==null;){if(P.context===c){if(m.tag===1){P=gi(-1,o&-o),P.tag=2;var H=m.updateQueue;if(H!==null){H=H.shared;var J=H.pending;J===null?P.next=P:(P.next=J.next,J.next=P),H.pending=P}}m.lanes|=o,P=m.alternate,P!==null&&(P.lanes|=o),Wc(m.return,o,r),I.lanes|=o;break}P=P.next}}else if(m.tag===10)_=m.type===r.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(n(341));_.lanes|=o,I=_.alternate,I!==null&&(I.lanes|=o),Wc(_,o,r),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===r){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}on(t,r,f.children,o),r=r.child}return r;case 9:return f=r.type,c=r.pendingProps.children,vo(r,o),f=tr(f),c=c(f),r.flags|=1,on(t,r,c,o),r.child;case 14:return c=r.type,f=vr(c,r.pendingProps),f=vr(c.type,f),$p(t,r,c,f,o);case 15:return Wp(t,r,r.type,r.pendingProps,o);case 17:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:vr(c,f),Ql(t,r),r.tag=1,wn(c)?(t=!0,Nl(r)):t=!1,vo(r,o),Mp(r,c,f),ah(r,c,f,o),hh(null,r,c,!0,t,o);case 19:return Zp(t,r,o);case 22:return qp(t,r,o)}throw Error(n(156,r.tag))};function Am(t,r){return Z(t,r)}function yE(t,r,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(t,r,o,c){return new yE(t,r,o,c)}function Nh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vE(t){if(typeof t=="function")return Nh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===F)return 11;if(t===kt)return 14}return 2}function Qi(t,r){var o=t.alternate;return o===null?(o=ir(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function ou(t,r,o,c,f,m){var _=2;if(c=t,typeof t=="function")Nh(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case L:return Ds(o.children,f,m,r);case A:_=8,f|=8;break;case R:return t=ir(12,o,r,f|2),t.elementType=R,t.lanes=m,t;case C:return t=ir(13,o,r,f),t.elementType=C,t.lanes=m,t;case Je:return t=ir(19,o,r,f),t.elementType=Je,t.lanes=m,t;case $e:return au(o,f,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:_=10;break e;case k:_=9;break e;case F:_=11;break e;case kt:_=14;break e;case xt:_=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=ir(_,o,r,f),r.elementType=t,r.type=c,r.lanes=m,r}function Ds(t,r,o,c){return t=ir(7,t,c,r),t.lanes=o,t}function au(t,r,o,c){return t=ir(22,t,c,r),t.elementType=$e,t.lanes=o,t.stateNode={isHidden:!1},t}function Dh(t,r,o){return t=ir(6,t,null,r),t.lanes=o,t}function Vh(t,r,o){return r=ir(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function _E(t,r,o,c,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xi(0),this.expirationTimes=xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Lh(t,r,o,c,f,m,_,I,P){return t=new _E(t,r,o,I,P),r===1?(r=1,m===!0&&(r|=8)):r=0,m=ir(3,null,null,r),t.current=m,m.stateNode=t,m.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gc(m),t}function EE(t,r,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:we,key:c==null?null:""+c,children:t,containerInfo:r,implementation:o}}function Sm(t){if(!t)return ji;t=t._reactInternals;e:{if(mn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(wn(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(wn(o))return Jd(t,o,r)}return r}function Im(t,r,o,c,f,m,_,I,P){return t=Lh(o,c,!0,t,f,m,_,I,P),t.context=Sm(null),o=t.current,c=an(),f=Gi(o),m=gi(c,f),m.callback=r??null,Hi(o,m,f),t.current.lanes=f,Ni(t,f,c),Sn(t,c),t}function lu(t,r,o,c){var f=r.current,m=an(),_=Gi(f);return o=Sm(o),r.context===null?r.context=o:r.pendingContext=o,r=gi(m,_),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=Hi(f,r,_),t!==null&&(wr(t,f,_,m),Ul(t,f,_)),_}function uu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Rm(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Oh(t,r){Rm(t,r),(t=t.alternate)&&Rm(t,r)}function wE(){return null}var Cm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mh(t){this._internalRoot=t}cu.prototype.render=Mh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));lu(t,r,null,null)},cu.prototype.unmount=Mh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;ks(function(){lu(null,t,null,null)}),r[hi]=null}};function cu(t){this._internalRoot=t}cu.prototype.unstable_scheduleHydration=function(t){if(t){var r=cl();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Dr.length&&r!==0&&r<Dr[o].priority;o++);Dr.splice(o,0,t),o===0&&dl(t)}};function Fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Pm(){}function TE(t,r,o,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var H=uu(_);m.call(H)}}var _=Im(r,c,t,0,null,!1,!1,"",Pm);return t._reactRootContainer=_,t[hi]=_.current,oa(t.nodeType===8?t.parentNode:t),ks(),_}for(;f=t.lastChild;)t.removeChild(f);if(typeof c=="function"){var I=c;c=function(){var H=uu(P);I.call(H)}}var P=Lh(t,0,!1,null,null,!1,!1,"",Pm);return t._reactRootContainer=P,t[hi]=P.current,oa(t.nodeType===8?t.parentNode:t),ks(function(){lu(r,P,o,c)}),P}function fu(t,r,o,c,f){var m=o._reactRootContainer;if(m){var _=m;if(typeof f=="function"){var I=f;f=function(){var P=uu(_);I.call(P)}}lu(r,_,t,f)}else _=TE(o,r,t,f,c);return uu(_)}ll=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=ki(r.pendingLanes);o!==0&&(Di(r,o|1),Sn(r,Ce()),(Be&6)===0&&(Ao=Ce()+500,zi()))}break;case 13:ks(function(){var c=mi(t,1);if(c!==null){var f=an();wr(c,t,1,f)}}),Oh(t,1)}},Gs=function(t){if(t.tag===13){var r=mi(t,134217728);if(r!==null){var o=an();wr(r,t,134217728,o)}Oh(t,134217728)}},ul=function(t){if(t.tag===13){var r=Gi(t),o=mi(t,r);if(o!==null){var c=an();wr(o,t,r,c)}Oh(t,r)}},cl=function(){return Fe},hl=function(t,r){var o=Fe;try{return Fe=t,r()}finally{Fe=o}},cr=function(t,r,o){switch(r){case"input":if(jn(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==t&&c.form===t.form){var f=kl(c);if(!f)throw Error(n(90));Pn(c),jn(c,f)}}}break;case"textarea":Hn(t,o);break;case"select":r=o.value,r!=null&&Bn(t,!!o.multiple,r,!1)}},fn=Ph,fs=ks;var AE={usingClientEntryPoint:!1,Events:[ua,uo,kl,Qn,rt,Ph]},Aa={findFiberByHostInstance:ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SE={bundleType:Aa.bundleType,version:Aa.version,rendererPackageName:Aa.rendererPackageName,rendererConfig:Aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fe.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ye(t),t===null?null:t.stateNode},findFiberByHostInstance:Aa.findFiberByHostInstance||wE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{xr=du.inject(SE),Nn=du}catch{}}return In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AE,In.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fh(r))throw Error(n(200));return EE(t,r,null,o)},In.createRoot=function(t,r){if(!Fh(t))throw Error(n(299));var o=!1,c="",f=Cm;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=Lh(t,1,!1,null,null,o,!1,c,f),t[hi]=r.current,oa(t.nodeType===8?t.parentNode:t),new Mh(r)},In.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=ye(r),t=t===null?null:t.stateNode,t},In.flushSync=function(t){return ks(t)},In.hydrate=function(t,r,o){if(!hu(r))throw Error(n(200));return fu(null,t,r,!0,o)},In.hydrateRoot=function(t,r,o){if(!Fh(t))throw Error(n(405));var c=o!=null&&o.hydratedSources||null,f=!1,m="",_=Cm;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=Im(r,null,t,1,o??null,f,!1,m,_),t[hi]=r.current,oa(t),c)for(t=0;t<c.length;t++)o=c[t],f=o._getVersion,f=f(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,f]:r.mutableSourceEagerHydrationData.push(o,f);return new cu(r)},In.render=function(t,r,o){if(!hu(r))throw Error(n(200));return fu(null,t,r,!1,o)},In.unmountComponentAtNode=function(t){if(!hu(t))throw Error(n(40));return t._reactRootContainer?(ks(function(){fu(null,null,t,!1,function(){t._reactRootContainer=null,t[hi]=null})}),!0):!1},In.unstable_batchedUpdates=Ph,In.unstable_renderSubtreeIntoContainer=function(t,r,o,c){if(!hu(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return fu(t,r,o,!1,c)},In.version="18.3.1-next-f1338f8080-20240426",In}var Mm;function VE(){if(Mm)return jh.exports;Mm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),jh.exports=DE(),jh.exports}var Fm;function LE(){if(Fm)return pu;Fm=1;var i=VE();return pu.createRoot=i.createRoot,pu.hydrateRoot=i.hydrateRoot,pu}var OE=LE();const ME=ly(OE);/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bm="popstate";function FE(i={}){function e(s,a){let{pathname:u,search:h,hash:p}=s.location;return of("",{pathname:u,search:h,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:ja(a)}return UE(e,n,null,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function qr(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bE(){return Math.random().toString(36).substring(2,10)}function Um(i,e){return{usr:i.state,key:i.key,idx:e}}function of(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?bo(e):e,state:n,key:e&&e.key||s||bE()}}function ja({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function bo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function UE(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:u=!1}=s,h=a.history,p="POP",g=null,v=E();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function E(){return(h.state||{idx:null}).idx}function S(){p="POP";let j=E(),G=j==null?null:j-v;v=j,g&&g({action:p,location:W.location,delta:G})}function T(j,G){p="PUSH";let ie=of(W.location,j,G);v=E()+1;let se=Um(ie,v),fe=W.createHref(ie);try{h.pushState(se,"",fe)}catch(pe){if(pe instanceof DOMException&&pe.name==="DataCloneError")throw pe;a.location.assign(fe)}u&&g&&g({action:p,location:W.location,delta:1})}function V(j,G){p="REPLACE";let ie=of(W.location,j,G);v=E();let se=Um(ie,v),fe=W.createHref(ie);h.replaceState(se,"",fe),u&&g&&g({action:p,location:W.location,delta:0})}function $(j){return jE(j)}let W={get action(){return p},get location(){return i(a,h)},listen(j){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(bm,S),g=j,()=>{a.removeEventListener(bm,S),g=null}},createHref(j){return e(a,j)},createURL:$,encodeLocation(j){let G=$(j);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:T,replace:V,go(j){return h.go(j)}};return W}function jE(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:ja(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function uy(i,e,n="/"){return zE(i,e,n,!1)}function zE(i,e,n,s){let a=typeof e=="string"?bo(e):e,u=Ai(a.pathname||"/",n);if(u==null)return null;let h=cy(i);BE(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let v=ZE(u);p=XE(h[g],v,s)}return p}function cy(i,e=[],n=[],s="",a=!1){let u=(h,p,g=a,v)=>{let E={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;ut(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=Ei([s,E.relativePath]),T=n.concat(E);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),cy(h.children,e,T,S,g)),!(h.path==null&&!h.index)&&e.push({path:S,score:QE(S,h.index),routesMeta:T})};return i.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))u(h,p);else for(let g of hy(h.path))u(h,p,!0,g)}),e}function hy(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return a?[u,""]:[u];let h=hy(s.join("/")),p=[];return p.push(...h.map(g=>g===""?u:[u,g].join("/"))),a&&p.push(...h),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function BE(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:YE(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var HE=/^:[\w-]+$/,$E=3,WE=2,qE=1,GE=10,KE=-2,jm=i=>i==="*";function QE(i,e){let n=i.split("/"),s=n.length;return n.some(jm)&&(s+=KE),e&&(s+=WE),n.filter(a=>!jm(a)).reduce((a,u)=>a+(HE.test(u)?$E:u===""?qE:GE),s)}function YE(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function XE(i,e,n=!1){let{routesMeta:s}=i,a={},u="/",h=[];for(let p=0;p<s.length;++p){let g=s[p],v=p===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=Du({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},E),T=g.route;if(!S&&v&&n&&!s[s.length-1].route.index&&(S=Du({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(a,S.params),h.push({params:a,pathname:Ei([u,S.pathname]),pathnameBase:rw(Ei([u,S.pathnameBase])),route:T}),S.pathnameBase!=="/"&&(u=Ei([u,S.pathnameBase]))}return h}function Du(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=JE(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let u=a[0],h=u.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:s.reduce((v,{paramName:E,isOptional:S},T)=>{if(E==="*"){let $=p[T]||"";h=u.slice(0,u.length-$.length).replace(/(.)\/+$/,"$1")}const V=p[T];return S&&!V?v[E]=void 0:v[E]=(V||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:i}}function JE(i,e=!1,n=!0){qr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function ZE(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ai(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function ew(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?bo(i):i;return{pathname:n?n.startsWith("/")?n:tw(n,e):e,search:iw(s),hash:sw(a)}}function tw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Hh(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fy(i){let e=nw(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function dy(i,e,n,s=!1){let a;typeof i=="string"?a=bo(i):(a={...i},ut(!a.pathname||!a.pathname.includes("?"),Hh("?","pathname","search",a)),ut(!a.pathname||!a.pathname.includes("#"),Hh("#","pathname","hash",a)),ut(!a.search||!a.search.includes("#"),Hh("#","search","hash",a)));let u=i===""||a.pathname==="",h=u?"/":a.pathname,p;if(h==null)p=n;else{let S=e.length-1;if(!s&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),S-=1;a.pathname=T.join("/")}p=S>=0?e[S]:"/"}let g=ew(a,p),v=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(v||E)&&(g.pathname+="/"),g}var Ei=i=>i.join("/").replace(/\/\/+/g,"/"),rw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),iw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,sw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function ow(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var py=["POST","PUT","PATCH","DELETE"];new Set(py);var aw=["GET",...py];new Set(aw);var Uo=B.createContext(null);Uo.displayName="DataRouter";var Ku=B.createContext(null);Ku.displayName="DataRouterState";B.createContext(!1);var my=B.createContext({isTransitioning:!1});my.displayName="ViewTransition";var lw=B.createContext(new Map);lw.displayName="Fetchers";var uw=B.createContext(null);uw.displayName="Await";var Yr=B.createContext(null);Yr.displayName="Navigation";var Ya=B.createContext(null);Ya.displayName="Location";var Sr=B.createContext({outlet:null,matches:[],isDataRoute:!1});Sr.displayName="Route";var Of=B.createContext(null);Of.displayName="RouteError";function cw(i,{relative:e}={}){ut(Xa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(Yr),{hash:a,pathname:u,search:h}=Ja(i,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:Ei([n,u])),s.createHref({pathname:p,search:h,hash:a})}function Xa(){return B.useContext(Ya)!=null}function js(){return ut(Xa(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Ya).location}var gy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yy(i){B.useContext(Yr).static||B.useLayoutEffect(i)}function Mf(){let{isDataRoute:i}=B.useContext(Sr);return i?Iw():hw()}function hw(){ut(Xa(),"useNavigate() may be used only in the context of a <Router> component.");let i=B.useContext(Uo),{basename:e,navigator:n}=B.useContext(Yr),{matches:s}=B.useContext(Sr),{pathname:a}=js(),u=JSON.stringify(fy(s)),h=B.useRef(!1);return yy(()=>{h.current=!0}),B.useCallback((g,v={})=>{if(qr(h.current,gy),!h.current)return;if(typeof g=="number"){n.go(g);return}let E=dy(g,JSON.parse(u),a,v.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ei([e,E.pathname])),(v.replace?n.replace:n.push)(E,v.state,v)},[e,n,u,a,i])}var fw=B.createContext(null);function dw(i){let e=B.useContext(Sr).outlet;return e&&B.createElement(fw.Provider,{value:i},e)}function vy(){let{matches:i}=B.useContext(Sr),e=i[i.length-1];return e?e.params:{}}function Ja(i,{relative:e}={}){let{matches:n}=B.useContext(Sr),{pathname:s}=js(),a=JSON.stringify(fy(n));return B.useMemo(()=>dy(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function pw(i,e){return _y(i,e)}function _y(i,e,n,s){ut(Xa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=B.useContext(Yr),{matches:u}=B.useContext(Sr),h=u[u.length-1],p=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",E=h&&h.route;{let G=E&&E.path||"";Ey(g,!E||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let S=js(),T;if(e){let G=typeof e=="string"?bo(e):e;ut(v==="/"||G.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${G.pathname}" was given in the \`location\` prop.`),T=G}else T=S;let V=T.pathname||"/",$=V;if(v!=="/"){let G=v.replace(/^\//,"").split("/");$="/"+V.replace(/^\//,"").split("/").slice(G.length).join("/")}let W=uy(i,{pathname:$});qr(E||W!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),qr(W==null||W[W.length-1].route.element!==void 0||W[W.length-1].route.Component!==void 0||W[W.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=_w(W&&W.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:Ei([v,a.encodeLocation?a.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?v:Ei([v,a.encodeLocation?a.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,n,s);return e&&j?B.createElement(Ya.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},j):j}function mw(){let i=Sw(),e=ow(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:a},n):null,h)}var gw=B.createElement(mw,null),yw=class extends B.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?B.createElement(Sr.Provider,{value:this.props.routeContext},B.createElement(Of.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vw({routeContext:i,match:e,children:n}){let s=B.useContext(Uo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Sr.Provider,{value:i},n)}function _w(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,u=n?.errors;if(u!=null){let g=a.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);ut(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,p=-1;if(n)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:E,errors:S}=n,T=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||T){h=!0,p>=0?a=a.slice(0,p+1):a=[a[0]];break}}}return a.reduceRight((g,v,E)=>{let S,T=!1,V=null,$=null;n&&(S=u&&v.route.id?u[v.route.id]:void 0,V=v.route.errorElement||gw,h&&(p<0&&E===0?(Ey("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,$=null):p===E&&(T=!0,$=v.route.hydrateFallbackElement||null)));let W=e.concat(a.slice(0,E+1)),j=()=>{let G;return S?G=V:T?G=$:v.route.Component?G=B.createElement(v.route.Component,null):v.route.element?G=v.route.element:G=g,B.createElement(vw,{match:v,routeContext:{outlet:g,matches:W,isDataRoute:n!=null},children:G})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?B.createElement(yw,{location:n.location,revalidation:n.revalidation,component:V,error:S,children:j(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):j()},null)}function Ff(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ew(i){let e=B.useContext(Uo);return ut(e,Ff(i)),e}function ww(i){let e=B.useContext(Ku);return ut(e,Ff(i)),e}function Tw(i){let e=B.useContext(Sr);return ut(e,Ff(i)),e}function bf(i){let e=Tw(i),n=e.matches[e.matches.length-1];return ut(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Aw(){return bf("useRouteId")}function Sw(){let i=B.useContext(Of),e=ww("useRouteError"),n=bf("useRouteError");return i!==void 0?i:e.errors?.[n]}function Iw(){let{router:i}=Ew("useNavigate"),e=bf("useNavigate"),n=B.useRef(!1);return yy(()=>{n.current=!0}),B.useCallback(async(a,u={})=>{qr(n.current,gy),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...u}))},[i,e])}var zm={};function Ey(i,e,n){!e&&!zm[i]&&(zm[i]=!0,qr(!1,n))}B.memo(Rw);function Rw({routes:i,future:e,state:n}){return _y(i,void 0,n,e)}function Cw(i){return dw(i.context)}function Vs(i){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Pw({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:u=!1}){ut(!Xa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:h,navigator:a,static:u,future:{}}),[h,a,u]);typeof n=="string"&&(n=bo(n));let{pathname:g="/",search:v="",hash:E="",state:S=null,key:T="default"}=n,V=B.useMemo(()=>{let $=Ai(g,h);return $==null?null:{location:{pathname:$,search:v,hash:E,state:S,key:T},navigationType:s}},[h,g,v,E,S,T,s]);return qr(V!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:B.createElement(Yr.Provider,{value:p},B.createElement(Ya.Provider,{children:e,value:V}))}function kw({children:i,location:e}){return pw(af(i),e)}function af(i,e=[]){let n=[];return B.Children.forEach(i,(s,a)=>{if(!B.isValidElement(s))return;let u=[...e,a];if(s.type===B.Fragment){n.push.apply(n,af(s.props.children,u));return}ut(s.type===Vs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=af(s.props.children,u)),n.push(h)}),n}var Au="get",Su="application/x-www-form-urlencoded";function Qu(i){return i!=null&&typeof i.tagName=="string"}function xw(i){return Qu(i)&&i.tagName.toLowerCase()==="button"}function Nw(i){return Qu(i)&&i.tagName.toLowerCase()==="form"}function Dw(i){return Qu(i)&&i.tagName.toLowerCase()==="input"}function Vw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Lw(i,e){return i.button===0&&(!e||e==="_self")&&!Vw(i)}var mu=null;function Ow(){if(mu===null)try{new FormData(document.createElement("form"),0),mu=!1}catch{mu=!0}return mu}var Mw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $h(i){return i!=null&&!Mw.has(i)?(qr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Su}"`),null):i}function Fw(i,e){let n,s,a,u,h;if(Nw(i)){let p=i.getAttribute("action");s=p?Ai(p,e):null,n=i.getAttribute("method")||Au,a=$h(i.getAttribute("enctype"))||Su,u=new FormData(i)}else if(xw(i)||Dw(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||p.getAttribute("action");if(s=g?Ai(g,e):null,n=i.getAttribute("formmethod")||p.getAttribute("method")||Au,a=$h(i.getAttribute("formenctype"))||$h(p.getAttribute("enctype"))||Su,u=new FormData(p,i),!Ow()){let{name:v,type:E,value:S}=i;if(E==="image"){let T=v?`${v}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else v&&u.append(v,S)}}else{if(Qu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Au,s=null,a=Su,h=i}return u&&a==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Uf(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function bw(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ai(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Uw(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function zw(i,e,n){let s=await Promise.all(i.map(async a=>{let u=e.routes[a.route.id];if(u){let h=await Uw(u,n);return h.links?h.links():[]}return[]}));return Ww(s.flat(1).filter(jw).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Bm(i,e,n,s,a,u){let h=(g,v)=>n[v]?g.route.id!==n[v].route.id:!0,p=(g,v)=>n[v].pathname!==g.pathname||n[v].route.path?.endsWith("*")&&n[v].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,v)=>h(g,v)||p(g,v)):u==="data"?e.filter((g,v)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,v)||p(g,v))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Bw(i,e,{includeHydrateFallback:n}={}){return Hw(i.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let u=[a.module];return a.clientActionModule&&(u=u.concat(a.clientActionModule)),a.clientLoaderModule&&(u=u.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(u=u.concat(a.hydrateFallbackModule)),a.imports&&(u=u.concat(a.imports)),u}).flat(1))}function Hw(i){return[...new Set(i)]}function $w(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function Ww(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let u=JSON.stringify($w(a));return n.has(u)||(n.add(u),s.push({key:u,link:a})),s},[])}function wy(){let i=B.useContext(Uo);return Uf(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function qw(){let i=B.useContext(Ku);return Uf(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var jf=B.createContext(void 0);jf.displayName="FrameworkContext";function Ty(){let i=B.useContext(jf);return Uf(i,"You must render this element inside a <HydratedRouter> element"),i}function Gw(i,e){let n=B.useContext(jf),[s,a]=B.useState(!1),[u,h]=B.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:v,onMouseLeave:E,onTouchStart:S}=e,T=B.useRef(null);B.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let W=G=>{G.forEach(ie=>{h(ie.isIntersecting)})},j=new IntersectionObserver(W,{threshold:.5});return T.current&&j.observe(T.current),()=>{j.disconnect()}}},[i]),B.useEffect(()=>{if(s){let W=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(W)}}},[s]);let V=()=>{a(!0)},$=()=>{a(!1),h(!1)};return n?i!=="intent"?[u,T,{}]:[u,T,{onFocus:Ia(p,V),onBlur:Ia(g,$),onMouseEnter:Ia(v,V),onMouseLeave:Ia(E,$),onTouchStart:Ia(S,V)}]:[!1,T,{}]}function Ia(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Kw({page:i,...e}){let{router:n}=wy(),s=B.useMemo(()=>uy(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?B.createElement(Yw,{page:i,matches:s,...e}):null}function Qw(i){let{manifest:e,routeModules:n}=Ty(),[s,a]=B.useState([]);return B.useEffect(()=>{let u=!1;return zw(i,e,n).then(h=>{u||a(h)}),()=>{u=!0}},[i,e,n]),s}function Yw({page:i,matches:e,...n}){let s=js(),{manifest:a,routeModules:u}=Ty(),{basename:h}=wy(),{loaderData:p,matches:g}=qw(),v=B.useMemo(()=>Bm(i,e,g,a,s,"data"),[i,e,g,a,s]),E=B.useMemo(()=>Bm(i,e,g,a,s,"assets"),[i,e,g,a,s]),S=B.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let $=new Set,W=!1;if(e.forEach(G=>{let ie=a.routes[G.route.id];!ie||!ie.hasLoader||(!v.some(se=>se.route.id===G.route.id)&&G.route.id in p&&u[G.route.id]?.shouldRevalidate||ie.hasClientLoader?W=!0:$.add(G.route.id))}),$.size===0)return[];let j=bw(i,h,"data");return W&&$.size>0&&j.searchParams.set("_routes",e.filter(G=>$.has(G.route.id)).map(G=>G.route.id).join(",")),[j.pathname+j.search]},[h,p,s,a,v,e,i,u]),T=B.useMemo(()=>Bw(E,a),[E,a]),V=Qw(E);return B.createElement(B.Fragment,null,S.map($=>B.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...n})),T.map($=>B.createElement("link",{key:$,rel:"modulepreload",href:$,...n})),V.map(({key:$,link:W})=>B.createElement("link",{key:$,nonce:n.nonce,...W})))}function Xw(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Ay=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ay&&(window.__reactRouterVersion="7.8.1")}catch{}function Jw({basename:i,children:e,window:n}){let s=B.useRef();s.current==null&&(s.current=FE({window:n,v5Compat:!0}));let a=s.current,[u,h]=B.useState({action:a.action,location:a.location}),p=B.useCallback(g=>{B.startTransition(()=>h(g))},[h]);return B.useLayoutEffect(()=>a.listen(p),[a,p]),B.createElement(Pw,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:a})}var Sy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Os=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:u,replace:h,state:p,target:g,to:v,preventScrollReset:E,viewTransition:S,...T},V){let{basename:$}=B.useContext(Yr),W=typeof v=="string"&&Sy.test(v),j,G=!1;if(typeof v=="string"&&W&&(j=v,Ay))try{let R=new URL(window.location.href),D=v.startsWith("//")?new URL(R.protocol+v):new URL(v),k=Ai(D.pathname,$);D.origin===R.origin&&k!=null?v=k+D.search+D.hash:G=!0}catch{qr(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=cw(v,{relative:a}),[se,fe,pe]=Gw(s,T),we=nT(v,{replace:h,state:p,target:g,preventScrollReset:E,relative:a,viewTransition:S});function L(R){e&&e(R),R.defaultPrevented||we(R)}let A=B.createElement("a",{...T,...pe,href:j||ie,onClick:G||u?e:L,ref:Xw(V,fe),target:g,"data-discover":!W&&n==="render"?"true":void 0});return se&&!W?B.createElement(B.Fragment,null,A,B.createElement(Kw,{page:ie})):A});Os.displayName="Link";var Zw=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:u,to:h,viewTransition:p,children:g,...v},E){let S=Ja(h,{relative:v.relative}),T=js(),V=B.useContext(Ku),{navigator:$,basename:W}=B.useContext(Yr),j=V!=null&&aT(S)&&p===!0,G=$.encodeLocation?$.encodeLocation(S).pathname:S.pathname,ie=T.pathname,se=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),se=se?se.toLowerCase():null,G=G.toLowerCase()),se&&W&&(se=Ai(se,W)||se);const fe=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let pe=ie===G||!a&&ie.startsWith(G)&&ie.charAt(fe)==="/",we=se!=null&&(se===G||!a&&se.startsWith(G)&&se.charAt(G.length)==="/"),L={isActive:pe,isPending:we,isTransitioning:j},A=pe?e:void 0,R;typeof s=="function"?R=s(L):R=[s,pe?"active":null,we?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(L):u;return B.createElement(Os,{...v,"aria-current":A,className:R,ref:E,style:D,to:h,viewTransition:p},typeof g=="function"?g(L):g)});Zw.displayName="NavLink";var eT=B.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:u,method:h=Au,action:p,onSubmit:g,relative:v,preventScrollReset:E,viewTransition:S,...T},V)=>{let $=sT(),W=oT(p,{relative:v}),j=h.toLowerCase()==="get"?"get":"post",G=typeof p=="string"&&Sy.test(p),ie=se=>{if(g&&g(se),se.defaultPrevented)return;se.preventDefault();let fe=se.nativeEvent.submitter,pe=fe?.getAttribute("formmethod")||h;$(fe||se.currentTarget,{fetcherKey:e,method:pe,navigate:n,replace:a,state:u,relative:v,preventScrollReset:E,viewTransition:S})};return B.createElement("form",{ref:V,method:j,action:W,onSubmit:s?g:ie,...T,"data-discover":!G&&i==="render"?"true":void 0})});eT.displayName="Form";function tT(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Iy(i){let e=B.useContext(Uo);return ut(e,tT(i)),e}function nT(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:u,viewTransition:h}={}){let p=Mf(),g=js(),v=Ja(i,{relative:u});return B.useCallback(E=>{if(Lw(E,e)){E.preventDefault();let S=n!==void 0?n:ja(g)===ja(v);p(i,{replace:S,state:s,preventScrollReset:a,relative:u,viewTransition:h})}},[g,p,v,n,s,e,i,a,u,h])}var rT=0,iT=()=>`__${String(++rT)}__`;function sT(){let{router:i}=Iy("useSubmit"),{basename:e}=B.useContext(Yr),n=Aw();return B.useCallback(async(s,a={})=>{let{action:u,method:h,encType:p,formData:g,body:v}=Fw(s,e);if(a.navigate===!1){let E=a.fetcherKey||iT();await i.fetch(E,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||p,flushSync:a.flushSync})}else await i.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||p,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function oT(i,{relative:e}={}){let{basename:n}=B.useContext(Yr),s=B.useContext(Sr);ut(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),u={...Ja(i||".",{relative:e})},h=js();if(i==null){u.search=h.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(E=>E==="")){p.delete("index"),g.filter(S=>S).forEach(S=>p.append("index",S));let E=p.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ei([n,u.pathname])),ja(u)}function aT(i,{relative:e}={}){let n=B.useContext(my);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Iy("useViewTransitionState"),a=Ja(i,{relative:e});if(!n.isTransitioning)return!1;let u=Ai(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Ai(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Du(a.pathname,h)!=null||Du(a.pathname,u)!=null}const lT=()=>{};var Hm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},uT=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=i[n++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=i[n++],h=i[n++],p=i[n++],g=((a&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Cy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const u=i[a],h=a+1<i.length,p=h?i[a+1]:0,g=a+2<i.length,v=g?i[a+2]:0,E=u>>2,S=(u&3)<<4|p>>4;let T=(p&15)<<2|v>>6,V=v&63;g||(V=64,h||(T=64)),s.push(n[E],n[S],n[T],n[V])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Ry(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):uT(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const u=n[i.charAt(a++)],p=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const S=a<i.length?n[i.charAt(a)]:64;if(++a,u==null||p==null||v==null||S==null)throw new cT;const T=u<<2|p>>4;if(s.push(T),v!==64){const V=p<<4&240|v>>2;if(s.push(V),S!==64){const $=v<<6&192|S;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class cT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hT=function(i){const e=Ry(i);return Cy.encodeByteArray(e,!0)},Vu=function(i){return hT(i).replace(/\./g,"")},fT=function(i){try{return Cy.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=()=>dT().__FIREBASE_DEFAULTS__,mT=()=>{if(typeof process>"u"||typeof Hm>"u")return;const i=Hm.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},gT=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&fT(i[1]);return e&&JSON.parse(e)},zf=()=>{try{return lT()||pT()||mT()||gT()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},yT=i=>zf()?.emulatorHosts?.[i],vT=i=>{const e=yT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Py=()=>zf()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ET(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Vu(JSON.stringify(n)),Vu(JSON.stringify(h)),""].join(".")}const Oa={};function TT(){const i={prod:[],emulator:[]};for(const e of Object.keys(Oa))Oa[e]?i.emulator.push(e):i.prod.push(e);return i}function AT(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let $m=!1;function ST(i,e){if(typeof window>"u"||typeof document>"u"||!Bf(window.location.host)||Oa[i]===e||Oa[i]||$m)return;Oa[i]=e;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",u=TT().prod.length>0;function h(){const T=document.getElementById(s);T&&T.remove()}function p(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,V){T.setAttribute("width","24"),T.setAttribute("id",V),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function v(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{$m=!0,h()},T}function E(T,V){T.setAttribute("id",V),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function S(){const T=AT(s),V=n("text"),$=document.getElementById(V)||document.createElement("span"),W=n("learnmore"),j=document.getElementById(W)||document.createElement("a"),G=n("preprendIcon"),ie=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const se=T.element;p(se),E(j,W);const fe=v();g(ie,G),se.append(ie,$,j,fe),document.body.appendChild(se)}u?($.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RT(){const i=zf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CT(){return!RT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PT(){try{return typeof indexedDB=="object"}catch{return!1}}function kT(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="FirebaseError";class jo extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=xT,Object.setPrototypeOf(this,jo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ky.prototype.create)}}class ky{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?NT(u,s):"Error",p=`${this.serviceName}: ${h} (${a}).`;return new jo(a,p,s)}}function NT(i,e){return i.replace(DT,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const DT=/\{\$([^}]+)}/g;function Lu(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const u=i[a],h=e[a];if(Wm(u)&&Wm(h)){if(!Lu(u,h))return!1}else if(u!==h)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Wm(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(i){return i&&i._delegate?i._delegate:i}class za{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new _T;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OT(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&h.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:LT(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LT(i){return i===Ls?void 0:i}function OT(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ze||(ze={}));const FT={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},bT=ze.INFO,UT={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},jT=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=UT[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xy{constructor(e){this.name=e,this._logLevel=bT,this._logHandler=jT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const zT=(i,e)=>e.some(n=>i instanceof n);let qm,Gm;function BT(){return qm||(qm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HT(){return Gm||(Gm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ny=new WeakMap,lf=new WeakMap,Dy=new WeakMap,Wh=new WeakMap,Hf=new WeakMap;function $T(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Ji(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Ny.set(n,i)}).catch(()=>{}),Hf.set(e,i),e}function WT(i){if(lf.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});lf.set(i,e)}let uf={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return lf.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Dy.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function qT(i){uf=i(uf)}function GT(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(qh(this),e,...n);return Dy.set(s,e.sort?e.sort():[e]),Ji(s)}:HT().includes(i)?function(...e){return i.apply(qh(this),e),Ji(Ny.get(this))}:function(...e){return Ji(i.apply(qh(this),e))}}function KT(i){return typeof i=="function"?GT(i):(i instanceof IDBTransaction&&WT(i),zT(i,BT())?new Proxy(i,uf):i)}function Ji(i){if(i instanceof IDBRequest)return $T(i);if(Wh.has(i))return Wh.get(i);const e=KT(i);return e!==i&&(Wh.set(i,e),Hf.set(e,i)),e}const qh=i=>Hf.get(i);function QT(i,e,{blocked:n,upgrade:s,blocking:a,terminated:u}={}){const h=indexedDB.open(i,e),p=Ji(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Ji(h.result),g.oldVersion,g.newVersion,Ji(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),a&&g.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const YT=["get","getKey","getAll","getAllKeys","count"],XT=["put","add","delete","clear"],Gh=new Map;function Km(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Gh.get(e))return Gh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=XT.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||YT.includes(n)))return;const u=async function(h,...p){const g=this.transaction(h,a?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(p.shift())),(await Promise.all([v[n](...p),a&&g.done]))[0]};return Gh.set(e,u),u}qT(i=>({...i,get:(e,n,s)=>Km(e,n)||i.get(e,n,s),has:(e,n)=>!!Km(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZT(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ZT(i){return i.getComponent()?.type==="VERSION"}const cf="@firebase/app",Qm="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new xy("@firebase/app"),e0="@firebase/app-compat",t0="@firebase/analytics-compat",n0="@firebase/analytics",r0="@firebase/app-check-compat",i0="@firebase/app-check",s0="@firebase/auth",o0="@firebase/auth-compat",a0="@firebase/database",l0="@firebase/data-connect",u0="@firebase/database-compat",c0="@firebase/functions",h0="@firebase/functions-compat",f0="@firebase/installations",d0="@firebase/installations-compat",p0="@firebase/messaging",m0="@firebase/messaging-compat",g0="@firebase/performance",y0="@firebase/performance-compat",v0="@firebase/remote-config",_0="@firebase/remote-config-compat",E0="@firebase/storage",w0="@firebase/storage-compat",T0="@firebase/firestore",A0="@firebase/ai",S0="@firebase/firestore-compat",I0="firebase",R0="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="[DEFAULT]",C0={[cf]:"fire-core",[e0]:"fire-core-compat",[n0]:"fire-analytics",[t0]:"fire-analytics-compat",[i0]:"fire-app-check",[r0]:"fire-app-check-compat",[s0]:"fire-auth",[o0]:"fire-auth-compat",[a0]:"fire-rtdb",[l0]:"fire-data-connect",[u0]:"fire-rtdb-compat",[c0]:"fire-fn",[h0]:"fire-fn-compat",[f0]:"fire-iid",[d0]:"fire-iid-compat",[p0]:"fire-fcm",[m0]:"fire-fcm-compat",[g0]:"fire-perf",[y0]:"fire-perf-compat",[v0]:"fire-rc",[_0]:"fire-rc-compat",[E0]:"fire-gcs",[w0]:"fire-gcs-compat",[T0]:"fire-fst",[S0]:"fire-fst-compat",[A0]:"fire-vertex","fire-js":"fire-js",[I0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=new Map,P0=new Map,ff=new Map;function Ym(i,e){try{i.container.addComponent(e)}catch(n){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Mu(i){const e=i.name;if(ff.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;ff.set(e,i);for(const n of Ou.values())Ym(n,i);for(const n of P0.values())Ym(n,i);return!0}function k0(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function x0(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new ky("app","Firebase",N0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=R0;function Vy(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:hf,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Zi.create("bad-app-name",{appName:String(a)});if(n||(n=Py()),!n)throw Zi.create("no-options");const u=Ou.get(a);if(u){if(Lu(n,u.options)&&Lu(s,u.config))return u;throw Zi.create("duplicate-app",{appName:a})}const h=new MT(a);for(const g of ff.values())h.addComponent(g);const p=new D0(n,s,h);return Ou.set(a,p),p}function L0(i=hf){const e=Ou.get(i);if(!e&&i===hf&&Py())return Vy();if(!e)throw Zi.create("no-app",{appName:i});return e}function ko(i,e,n){let s=C0[i]??i;n&&(s+=`-${n}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(h.join(" "));return}Mu(new za(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="firebase-heartbeat-database",M0=1,Ba="firebase-heartbeat-store";let Kh=null;function Ly(){return Kh||(Kh=QT(O0,M0,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ba)}catch(n){console.warn(n)}}}}).catch(i=>{throw Zi.create("idb-open",{originalErrorMessage:i.message})})),Kh}async function F0(i){try{const n=(await Ly()).transaction(Ba),s=await n.objectStore(Ba).get(Oy(i));return await n.done,s}catch(e){if(e instanceof jo)Si.warn(e.message);else{const n=Zi.create("idb-get",{originalErrorMessage:e?.message});Si.warn(n.message)}}}async function Xm(i,e){try{const s=(await Ly()).transaction(Ba,"readwrite");await s.objectStore(Ba).put(e,Oy(i)),await s.done}catch(n){if(n instanceof jo)Si.warn(n.message);else{const s=Zi.create("idb-set",{originalErrorMessage:n?.message});Si.warn(s.message)}}}function Oy(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=1024,U0=30;class j0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new B0(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Jm();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>U0){const a=H0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Si.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Jm(),{heartbeatsToSend:n,unsentEntries:s}=z0(this._heartbeatsCache.heartbeats),a=Vu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Si.warn(e),""}}}function Jm(){return new Date().toISOString().substring(0,10)}function z0(i,e=b0){const n=[];let s=i.slice();for(const a of i){const u=n.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),Zm(n)>e){u.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Zm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class B0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PT()?kT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await F0(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Xm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Xm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Zm(i){return Vu(JSON.stringify({version:2,heartbeats:i})).length}function H0(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(i){Mu(new za("platform-logger",e=>new JT(e),"PRIVATE")),Mu(new za("heartbeat",e=>new j0(e),"PRIVATE")),ko(cf,Qm,i),ko(cf,Qm,"esm2020"),ko("fire-js","")}$0("");var eg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var es,My;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,A){function R(){}R.prototype=A.prototype,L.D=A.prototype,L.prototype=new R,L.prototype.constructor=L,L.C=function(D,k,F){for(var C=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)C[Je-2]=arguments[Je];return A.prototype[k].apply(D,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(L,A,R){R||(R=0);var D=Array(16);if(typeof A=="string")for(var k=0;16>k;++k)D[k]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(k=0;16>k;++k)D[k]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=L.g[0],R=L.g[1],k=L.g[2];var F=L.g[3],C=A+(F^R&(k^F))+D[0]+3614090360&4294967295;A=R+(C<<7&4294967295|C>>>25),C=F+(k^A&(R^k))+D[1]+3905402710&4294967295,F=A+(C<<12&4294967295|C>>>20),C=k+(R^F&(A^R))+D[2]+606105819&4294967295,k=F+(C<<17&4294967295|C>>>15),C=R+(A^k&(F^A))+D[3]+3250441966&4294967295,R=k+(C<<22&4294967295|C>>>10),C=A+(F^R&(k^F))+D[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=F+(k^A&(R^k))+D[5]+1200080426&4294967295,F=A+(C<<12&4294967295|C>>>20),C=k+(R^F&(A^R))+D[6]+2821735955&4294967295,k=F+(C<<17&4294967295|C>>>15),C=R+(A^k&(F^A))+D[7]+4249261313&4294967295,R=k+(C<<22&4294967295|C>>>10),C=A+(F^R&(k^F))+D[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=F+(k^A&(R^k))+D[9]+2336552879&4294967295,F=A+(C<<12&4294967295|C>>>20),C=k+(R^F&(A^R))+D[10]+4294925233&4294967295,k=F+(C<<17&4294967295|C>>>15),C=R+(A^k&(F^A))+D[11]+2304563134&4294967295,R=k+(C<<22&4294967295|C>>>10),C=A+(F^R&(k^F))+D[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=F+(k^A&(R^k))+D[13]+4254626195&4294967295,F=A+(C<<12&4294967295|C>>>20),C=k+(R^F&(A^R))+D[14]+2792965006&4294967295,k=F+(C<<17&4294967295|C>>>15),C=R+(A^k&(F^A))+D[15]+1236535329&4294967295,R=k+(C<<22&4294967295|C>>>10),C=A+(k^F&(R^k))+D[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=F+(R^k&(A^R))+D[6]+3225465664&4294967295,F=A+(C<<9&4294967295|C>>>23),C=k+(A^R&(F^A))+D[11]+643717713&4294967295,k=F+(C<<14&4294967295|C>>>18),C=R+(F^A&(k^F))+D[0]+3921069994&4294967295,R=k+(C<<20&4294967295|C>>>12),C=A+(k^F&(R^k))+D[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=F+(R^k&(A^R))+D[10]+38016083&4294967295,F=A+(C<<9&4294967295|C>>>23),C=k+(A^R&(F^A))+D[15]+3634488961&4294967295,k=F+(C<<14&4294967295|C>>>18),C=R+(F^A&(k^F))+D[4]+3889429448&4294967295,R=k+(C<<20&4294967295|C>>>12),C=A+(k^F&(R^k))+D[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=F+(R^k&(A^R))+D[14]+3275163606&4294967295,F=A+(C<<9&4294967295|C>>>23),C=k+(A^R&(F^A))+D[3]+4107603335&4294967295,k=F+(C<<14&4294967295|C>>>18),C=R+(F^A&(k^F))+D[8]+1163531501&4294967295,R=k+(C<<20&4294967295|C>>>12),C=A+(k^F&(R^k))+D[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=F+(R^k&(A^R))+D[2]+4243563512&4294967295,F=A+(C<<9&4294967295|C>>>23),C=k+(A^R&(F^A))+D[7]+1735328473&4294967295,k=F+(C<<14&4294967295|C>>>18),C=R+(F^A&(k^F))+D[12]+2368359562&4294967295,R=k+(C<<20&4294967295|C>>>12),C=A+(R^k^F)+D[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=F+(A^R^k)+D[8]+2272392833&4294967295,F=A+(C<<11&4294967295|C>>>21),C=k+(F^A^R)+D[11]+1839030562&4294967295,k=F+(C<<16&4294967295|C>>>16),C=R+(k^F^A)+D[14]+4259657740&4294967295,R=k+(C<<23&4294967295|C>>>9),C=A+(R^k^F)+D[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=F+(A^R^k)+D[4]+1272893353&4294967295,F=A+(C<<11&4294967295|C>>>21),C=k+(F^A^R)+D[7]+4139469664&4294967295,k=F+(C<<16&4294967295|C>>>16),C=R+(k^F^A)+D[10]+3200236656&4294967295,R=k+(C<<23&4294967295|C>>>9),C=A+(R^k^F)+D[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=F+(A^R^k)+D[0]+3936430074&4294967295,F=A+(C<<11&4294967295|C>>>21),C=k+(F^A^R)+D[3]+3572445317&4294967295,k=F+(C<<16&4294967295|C>>>16),C=R+(k^F^A)+D[6]+76029189&4294967295,R=k+(C<<23&4294967295|C>>>9),C=A+(R^k^F)+D[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=F+(A^R^k)+D[12]+3873151461&4294967295,F=A+(C<<11&4294967295|C>>>21),C=k+(F^A^R)+D[15]+530742520&4294967295,k=F+(C<<16&4294967295|C>>>16),C=R+(k^F^A)+D[2]+3299628645&4294967295,R=k+(C<<23&4294967295|C>>>9),C=A+(k^(R|~F))+D[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=F+(R^(A|~k))+D[7]+1126891415&4294967295,F=A+(C<<10&4294967295|C>>>22),C=k+(A^(F|~R))+D[14]+2878612391&4294967295,k=F+(C<<15&4294967295|C>>>17),C=R+(F^(k|~A))+D[5]+4237533241&4294967295,R=k+(C<<21&4294967295|C>>>11),C=A+(k^(R|~F))+D[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=F+(R^(A|~k))+D[3]+2399980690&4294967295,F=A+(C<<10&4294967295|C>>>22),C=k+(A^(F|~R))+D[10]+4293915773&4294967295,k=F+(C<<15&4294967295|C>>>17),C=R+(F^(k|~A))+D[1]+2240044497&4294967295,R=k+(C<<21&4294967295|C>>>11),C=A+(k^(R|~F))+D[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=F+(R^(A|~k))+D[15]+4264355552&4294967295,F=A+(C<<10&4294967295|C>>>22),C=k+(A^(F|~R))+D[6]+2734768916&4294967295,k=F+(C<<15&4294967295|C>>>17),C=R+(F^(k|~A))+D[13]+1309151649&4294967295,R=k+(C<<21&4294967295|C>>>11),C=A+(k^(R|~F))+D[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=F+(R^(A|~k))+D[11]+3174756917&4294967295,F=A+(C<<10&4294967295|C>>>22),C=k+(A^(F|~R))+D[2]+718787259&4294967295,k=F+(C<<15&4294967295|C>>>17),C=R+(F^(k|~A))+D[9]+3951481745&4294967295,L.g[0]=L.g[0]+A&4294967295,L.g[1]=L.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,L.g[2]=L.g[2]+k&4294967295,L.g[3]=L.g[3]+F&4294967295}s.prototype.u=function(L,A){A===void 0&&(A=L.length);for(var R=A-this.blockSize,D=this.B,k=this.h,F=0;F<A;){if(k==0)for(;F<=R;)a(this,L,F),F+=this.blockSize;if(typeof L=="string"){for(;F<A;)if(D[k++]=L.charCodeAt(F++),k==this.blockSize){a(this,D),k=0;break}}else for(;F<A;)if(D[k++]=L[F++],k==this.blockSize){a(this,D),k=0;break}}this.h=k,this.o+=A},s.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var A=1;A<L.length-8;++A)L[A]=0;var R=8*this.o;for(A=L.length-8;A<L.length;++A)L[A]=R&255,R/=256;for(this.u(L),L=Array(16),A=R=0;4>A;++A)for(var D=0;32>D;D+=8)L[R++]=this.g[A]>>>D&255;return L};function u(L,A){var R=p;return Object.prototype.hasOwnProperty.call(R,L)?R[L]:R[L]=A(L)}function h(L,A){this.h=A;for(var R=[],D=!0,k=L.length-1;0<=k;k--){var F=L[k]|0;D&&F==A||(R[k]=F,D=!1)}this.g=R}var p={};function g(L){return-128<=L&&128>L?u(L,function(A){return new h([A|0],0>A?-1:0)}):new h([L|0],0>L?-1:0)}function v(L){if(isNaN(L)||!isFinite(L))return S;if(0>L)return j(v(-L));for(var A=[],R=1,D=0;L>=R;D++)A[D]=L/R|0,R*=4294967296;return new h(A,0)}function E(L,A){if(L.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(L.charAt(0)=="-")return j(E(L.substring(1),A));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(A,8)),D=S,k=0;k<L.length;k+=8){var F=Math.min(8,L.length-k),C=parseInt(L.substring(k,k+F),A);8>F?(F=v(Math.pow(A,F)),D=D.j(F).add(v(C))):(D=D.j(R),D=D.add(v(C)))}return D}var S=g(0),T=g(1),V=g(16777216);i=h.prototype,i.m=function(){if(W(this))return-j(this).m();for(var L=0,A=1,R=0;R<this.g.length;R++){var D=this.i(R);L+=(0<=D?D:4294967296+D)*A,A*=4294967296}return L},i.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if($(this))return"0";if(W(this))return"-"+j(this).toString(L);for(var A=v(Math.pow(L,6)),R=this,D="";;){var k=fe(R,A).g;R=G(R,k.j(A));var F=((0<R.g.length?R.g[0]:R.h)>>>0).toString(L);if(R=k,$(R))return F+D;for(;6>F.length;)F="0"+F;D=F+D}},i.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function $(L){if(L.h!=0)return!1;for(var A=0;A<L.g.length;A++)if(L.g[A]!=0)return!1;return!0}function W(L){return L.h==-1}i.l=function(L){return L=G(this,L),W(L)?-1:$(L)?0:1};function j(L){for(var A=L.g.length,R=[],D=0;D<A;D++)R[D]=~L.g[D];return new h(R,~L.h).add(T)}i.abs=function(){return W(this)?j(this):this},i.add=function(L){for(var A=Math.max(this.g.length,L.g.length),R=[],D=0,k=0;k<=A;k++){var F=D+(this.i(k)&65535)+(L.i(k)&65535),C=(F>>>16)+(this.i(k)>>>16)+(L.i(k)>>>16);D=C>>>16,F&=65535,C&=65535,R[k]=C<<16|F}return new h(R,R[R.length-1]&-2147483648?-1:0)};function G(L,A){return L.add(j(A))}i.j=function(L){if($(this)||$(L))return S;if(W(this))return W(L)?j(this).j(j(L)):j(j(this).j(L));if(W(L))return j(this.j(j(L)));if(0>this.l(V)&&0>L.l(V))return v(this.m()*L.m());for(var A=this.g.length+L.g.length,R=[],D=0;D<2*A;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var k=0;k<L.g.length;k++){var F=this.i(D)>>>16,C=this.i(D)&65535,Je=L.i(k)>>>16,kt=L.i(k)&65535;R[2*D+2*k]+=C*kt,ie(R,2*D+2*k),R[2*D+2*k+1]+=F*kt,ie(R,2*D+2*k+1),R[2*D+2*k+1]+=C*Je,ie(R,2*D+2*k+1),R[2*D+2*k+2]+=F*Je,ie(R,2*D+2*k+2)}for(D=0;D<A;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=A;D<2*A;D++)R[D]=0;return new h(R,0)};function ie(L,A){for(;(L[A]&65535)!=L[A];)L[A+1]+=L[A]>>>16,L[A]&=65535,A++}function se(L,A){this.g=L,this.h=A}function fe(L,A){if($(A))throw Error("division by zero");if($(L))return new se(S,S);if(W(L))return A=fe(j(L),A),new se(j(A.g),j(A.h));if(W(A))return A=fe(L,j(A)),new se(j(A.g),A.h);if(30<L.g.length){if(W(L)||W(A))throw Error("slowDivide_ only works with positive integers.");for(var R=T,D=A;0>=D.l(L);)R=pe(R),D=pe(D);var k=we(R,1),F=we(D,1);for(D=we(D,2),R=we(R,2);!$(D);){var C=F.add(D);0>=C.l(L)&&(k=k.add(R),F=C),D=we(D,1),R=we(R,1)}return A=G(L,k.j(A)),new se(k,A)}for(k=S;0<=L.l(A);){for(R=Math.max(1,Math.floor(L.m()/A.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),F=v(R),C=F.j(A);W(C)||0<C.l(L);)R-=D,F=v(R),C=F.j(A);$(F)&&(F=T),k=k.add(F),L=G(L,C)}return new se(k,L)}i.A=function(L){return fe(this,L).h},i.and=function(L){for(var A=Math.max(this.g.length,L.g.length),R=[],D=0;D<A;D++)R[D]=this.i(D)&L.i(D);return new h(R,this.h&L.h)},i.or=function(L){for(var A=Math.max(this.g.length,L.g.length),R=[],D=0;D<A;D++)R[D]=this.i(D)|L.i(D);return new h(R,this.h|L.h)},i.xor=function(L){for(var A=Math.max(this.g.length,L.g.length),R=[],D=0;D<A;D++)R[D]=this.i(D)^L.i(D);return new h(R,this.h^L.h)};function pe(L){for(var A=L.g.length+1,R=[],D=0;D<A;D++)R[D]=L.i(D)<<1|L.i(D-1)>>>31;return new h(R,L.h)}function we(L,A){var R=A>>5;A%=32;for(var D=L.g.length-R,k=[],F=0;F<D;F++)k[F]=0<A?L.i(F+R)>>>A|L.i(F+R+1)<<32-A:L.i(F+R);return new h(k,L.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,My=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=E,es=h}).apply(typeof eg<"u"?eg:typeof self<"u"?self:typeof window<"u"?window:{});var gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fy,Na,by,Iu,df,Uy,jy,zy;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,y){return l==Array.prototype||l==Object.prototype||(l[d]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof gu=="object"&&gu];for(var d=0;d<l.length;++d){var y=l[d];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var y=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var b=l[w];if(!(b in y))break e;y=y[b]}l=l[l.length-1],w=y[l],d=d(w),d!=w&&d!=null&&e(y,l,{configurable:!0,writable:!0,value:d})}}function u(l,d){l instanceof String&&(l+="");var y=0,w=!1,b={next:function(){if(!w&&y<l.length){var q=y++;return{value:d(q,l[q]),done:!1}}return w=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}a("Array.prototype.values",function(l){return l||function(){return u(this,function(d,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},p=this||self;function g(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function v(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function E(l,d,y){return l.call.apply(l.bind,arguments)}function S(l,d,y){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,w),l.apply(d,b)}}return function(){return l.apply(d,arguments)}}function T(l,d,y){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,T.apply(null,arguments)}function V(l,d){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function $(l,d){function y(){}y.prototype=d.prototype,l.aa=d.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(w,b,q){for(var ne=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ne[Ke-2]=arguments[Ke];return d.prototype[b].apply(w,ne)}}function W(l){const d=l.length;if(0<d){const y=Array(d);for(let w=0;w<d;w++)y[w]=l[w];return y}return[]}function j(l,d){for(let y=1;y<arguments.length;y++){const w=arguments[y];if(g(w)){const b=l.length||0,q=w.length||0;l.length=b+q;for(let ne=0;ne<q;ne++)l[b+ne]=w[ne]}else l.push(w)}}class G{constructor(d,y){this.i=d,this.j=y,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ie(l){return/^[\s\xa0]*$/.test(l)}function se(){var l=p.navigator;return l&&(l=l.userAgent)?l:""}function fe(l){return fe[" "](l),l}fe[" "]=function(){};var pe=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function we(l,d,y){for(const w in l)d.call(y,l[w],w,l)}function L(l,d){for(const y in l)d.call(void 0,l[y],y,l)}function A(l){const d={};for(const y in l)d[y]=l[y];return d}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(l,d){let y,w;for(let b=1;b<arguments.length;b++){w=arguments[b];for(y in w)l[y]=w[y];for(let q=0;q<R.length;q++)y=R[q],Object.prototype.hasOwnProperty.call(w,y)&&(l[y]=w[y])}}function k(l){var d=1;l=l.split(":");const y=[];for(;0<d&&l.length;)y.push(l.shift()),d--;return l.length&&y.push(l.join(":")),y}function F(l){p.setTimeout(()=>{throw l},0)}function C(){var l=Ee;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Je{constructor(){this.h=this.g=null}add(d,y){const w=kt.get();w.set(d,y),this.h?this.h.next=w:this.g=w,this.h=w}}var kt=new G(()=>new xt,l=>l.reset());class xt{constructor(){this.next=this.g=this.h=null}set(d,y){this.h=d,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let $e,re=!1,Ee=new Je,ae=()=>{const l=p.Promise.resolve(void 0);$e=()=>{l.then(M)}};var M=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(y){F(y)}var d=kt;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}re=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var xe=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};p.addEventListener("test",y,d),p.removeEventListener("test",y,d)}catch{}return l})();function ve(l,d){if(oe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(pe){e:{try{fe(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else y=="mouseover"?d=l.fromElement:y=="mouseout"&&(d=l.toElement);this.relatedTarget=d,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ne[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ve.aa.h.call(this)}}$(ve,oe);var Ne={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),be=0;function We(l,d,y,w,b){this.listener=l,this.proxy=null,this.src=d,this.type=y,this.capture=!!w,this.ha=b,this.key=++be,this.da=this.fa=!1}function pt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Un(l){this.src=l,this.g={},this.h=0}Un.prototype.add=function(l,d,y,w,b){var q=l.toString();l=this.g[q],l||(l=this.g[q]=[],this.h++);var ne=kn(l,d,w,b);return-1<ne?(d=l[ne],y||(d.fa=!1)):(d=new We(d,this.src,q,!!w,b),d.fa=y,l.push(d)),d};function Pn(l,d){var y=d.type;if(y in l.g){var w=l.g[y],b=Array.prototype.indexOf.call(w,d,void 0),q;(q=0<=b)&&Array.prototype.splice.call(w,b,1),q&&(pt(d),l.g[y].length==0&&(delete l.g[y],l.h--))}}function kn(l,d,y,w){for(var b=0;b<l.length;++b){var q=l[b];if(!q.da&&q.listener==d&&q.capture==!!y&&q.ha==w)return b}return-1}var tn="closure_lm_"+(1e6*Math.random()|0),Ir={};function Xr(l,d,y,w,b){if(Array.isArray(d)){for(var q=0;q<d.length;q++)Xr(l,d[q],y,w,b);return null}return y=$n(y),l&&l[Me]?l.K(d,y,v(w)?!!w.capture:!1,b):jn(l,d,y,!1,w,b)}function jn(l,d,y,w,b,q){if(!d)throw Error("Invalid event type");var ne=v(b)?!!b.capture:!!b,Ke=Rr(l);if(Ke||(l[tn]=Ke=new Un(l)),y=Ke.add(d,y,w,ne,q),y.proxy)return y;if(w=Jr(),y.proxy=w,w.src=l,w.listener=y,l.addEventListener)xe||(b=ne),b===void 0&&(b=!1),l.addEventListener(d.toString(),w,b);else if(l.attachEvent)l.attachEvent(Bn(d.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Jr(){function l(y){return d.call(l.src,l.listener,y)}const d=hs;return l}function lr(l,d,y,w,b){if(Array.isArray(d))for(var q=0;q<d.length;q++)lr(l,d[q],y,w,b);else w=v(w)?!!w.capture:!!w,y=$n(y),l&&l[Me]?(l=l.i,d=String(d).toString(),d in l.g&&(q=l.g[d],y=kn(q,y,w,b),-1<y&&(pt(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete l.g[d],l.h--)))):l&&(l=Rr(l))&&(d=l.g[d.toString()],l=-1,d&&(l=kn(d,y,w,b)),(y=-1<l?d[l]:null)&&zn(y))}function zn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Me])Pn(d.i,l);else{var y=l.type,w=l.proxy;d.removeEventListener?d.removeEventListener(y,w,l.capture):d.detachEvent?d.detachEvent(Bn(y),w):d.addListener&&d.removeListener&&d.removeListener(w),(y=Rr(d))?(Pn(y,l),y.h==0&&(y.src=null,d[tn]=null)):pt(l)}}}function Bn(l){return l in Ir?Ir[l]:Ir[l]="on"+l}function hs(l,d){if(l.da)l=!0;else{d=new ve(d,this);var y=l.listener,w=l.ha||l.src;l.fa&&zn(l),l=y.call(w,d)}return l}function Rr(l){return l=l[tn],l instanceof Un?l:null}var Hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function $n(l){return typeof l=="function"?l:(l[Hn]||(l[Hn]=function(d){return l.handleEvent(d)}),l[Hn])}function Ye(){K.call(this),this.i=new Un(this),this.M=this,this.F=null}$(Ye,K),Ye.prototype[Me]=!0,Ye.prototype.removeEventListener=function(l,d,y,w){lr(this,l,d,y,w)};function ht(l,d){var y,w=l.F;if(w)for(y=[];w;w=w.F)y.push(w);if(l=l.M,w=d.type||d,typeof d=="string")d=new oe(d,l);else if(d instanceof oe)d.target=d.target||l;else{var b=d;d=new oe(w,l),D(d,b)}if(b=!0,y)for(var q=y.length-1;0<=q;q--){var ne=d.g=y[q];b=Wn(ne,w,!0,d)&&b}if(ne=d.g=l,b=Wn(ne,w,!0,d)&&b,b=Wn(ne,w,!1,d)&&b,y)for(q=0;q<y.length;q++)ne=d.g=y[q],b=Wn(ne,w,!1,d)&&b}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var y=l.g[d],w=0;w<y.length;w++)pt(y[w]);delete l.g[d],l.h--}}this.F=null},Ye.prototype.K=function(l,d,y,w){return this.i.add(String(l),d,!1,y,w)},Ye.prototype.L=function(l,d,y,w){return this.i.add(String(l),d,!0,y,w)};function Wn(l,d,y,w){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,q=0;q<d.length;++q){var ne=d[q];if(ne&&!ne.da&&ne.capture==y){var Ke=ne.listener,St=ne.ha||ne.src;ne.fa&&Pn(l.i,ne),b=Ke.call(St,w)!==!1&&b}}return b&&!w.defaultPrevented}function Ci(l,d,y){if(typeof l=="function")y&&(l=T(l,y));else if(l&&typeof l.handleEvent=="function")l=T(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:p.setTimeout(l,d||0)}function qn(l){l.g=Ci(()=>{l.g=null,l.i&&(l.i=!1,qn(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class Cr extends K{constructor(d,y){super(),this.m=d,this.l=y,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:qn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gn(l){K.call(this),this.h=l,this.g={}}$(Gn,K);var Pr=[];function nn(l){we(l.g,function(d,y){this.g.hasOwnProperty(y)&&zn(d)},l),l.g={}}Gn.prototype.N=function(){Gn.aa.N.call(this),nn(this)},Gn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=p.JSON.stringify,Zr=p.JSON.parse,ei=class{stringify(l){return p.JSON.stringify(l,void 0)}parse(l){return p.JSON.parse(l,void 0)}};function ti(){}ti.prototype.h=null;function ur(l){return l.h||(l.h=l.i())}function cr(){}var hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wt(){oe.call(this,"d")}$(Wt,oe);function Pi(){oe.call(this,"c")}$(Pi,oe);var Qn={},rt=null;function fn(){return rt=rt||new Ye}Qn.La="serverreachability";function fs(l){oe.call(this,Qn.La,l)}$(fs,oe);function Yn(l){const d=fn();ht(d,new fs(d))}Qn.STAT_EVENT="statevent";function ni(l,d){oe.call(this,Qn.STAT_EVENT,l),this.stat=d}$(ni,oe);function it(l){const d=fn();ht(d,new ni(d,l))}Qn.Ma="timingevent";function ri(l,d){oe.call(this,Qn.Ma,l),this.size=d}$(ri,oe);function xn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){l()},d)}function Nt(){this.g=!0}Nt.prototype.xa=function(){this.g=!1};function dn(l,d,y,w,b,q){l.info(function(){if(l.g)if(q)for(var ne="",Ke=q.split("&"),St=0;St<Ke.length;St++){var Ue=Ke[St].split("=");if(1<Ue.length){var Dt=Ue[0];Ue=Ue[1];var vt=Dt.split("_");ne=2<=vt.length&&vt[1]=="type"?ne+(Dt+"="+Ue+"&"):ne+(Dt+"=redacted&")}}else ne=null;else ne=q;return"XMLHTTP REQ ("+w+") [attempt "+b+"]: "+d+`
`+y+`
`+ne})}function ii(l,d,y,w,b,q,ne){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+b+"]: "+d+`
`+y+`
`+q+" "+ne})}function pn(l,d,y,w){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+Hs(l,y)+(w?" "+w:"")})}function si(l,d){l.info(function(){return"TIMEOUT: "+d})}Nt.prototype.info=function(){};function Hs(l,d){if(!l.g)return d;if(!d)return null;try{var y=JSON.parse(d);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var w=y[l];if(!(2>w.length)){var b=w[1];if(Array.isArray(b)&&!(1>b.length)){var q=b[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ne=1;ne<b.length;ne++)b[ne]=""}}}}return Kn(y)}catch{return d}}var qt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ds={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mn;function kr(){}$(kr,ti),kr.prototype.g=function(){return new XMLHttpRequest},kr.prototype.i=function(){return{}},mn=new kr;function gn(l,d,y,w){this.j=l,this.i=d,this.l=y,this.R=w||1,this.U=new Gn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $s}function $s(){this.i=null,this.g="",this.h=!1}var ye={},N={};function Z(l,d,y){l.L=1,l.v=Di(Dn(d)),l.m=y,l.P=!0,ce(l,null)}function ce(l,d){l.F=Date.now(),Ce(l),l.A=Dn(l.v);var y=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Li(y.i,"t",w),l.C=0,y=l.j.J,l.h=new $s,l.g=_l(l.j,y?d:null,!l.m),0<l.O&&(l.M=new Cr(T(l.Y,l,l.g),l.O)),d=l.U,y=l.g,w=l.ca;var b="readystatechange";Array.isArray(b)||(b&&(Pr[0]=b.toString()),b=Pr);for(var q=0;q<b.length;q++){var ne=Xr(y,b[q],w||d.handleEvent,!1,d.h||d);if(!ne)break;d.g[ne.key]=ne}d=l.H?A(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Yn(),dn(l.i,l.u,l.A,l.l,l.R,l.m)}gn.prototype.ca=function(l){l=l.target;const d=this.M;d&&_n(l)==3?d.j():this.Y(l)},gn.prototype.Y=function(l){try{if(l==this.g)e:{const vt=_n(this.g);var d=this.g.Ba();const Jn=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||Xo(this.g)))){this.J||vt!=4||d==7||(d==8||0>=Jn?Yn(3):Yn(2)),Ft(this);var y=this.g.Z();this.X=y;t:if(Ge(this)){var w=Xo(this.g);l="";var b=w.length,q=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gt(this),yn(this);var ne="";break t}this.h.i=new p.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,l+=this.h.i.decode(w[d],{stream:!(q&&d==b-1)});w.length=0,this.h.g+=l,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=y==200,ii(this.i,this.u,this.A,this.l,this.R,vt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,St=this.g;if((Ke=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(Ke)){var Ue=Ke;break t}}Ue=null}if(y=Ue)pn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ft(this,y);else{this.o=!1,this.s=3,it(12),Gt(this),yn(this);break e}}if(this.P){y=!0;let Ln;for(;!this.J&&this.C<ne.length;)if(Ln=yt(this,ne),Ln==N){vt==4&&(this.s=4,it(14),y=!1),pn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ln==ye){this.s=4,it(15),pn(this.i,this.l,ne,"[Invalid Chunk]"),y=!1;break}else pn(this.i,this.l,Ln,null),ft(this,Ln);if(Ge(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||ne.length!=0||this.h.h||(this.s=1,it(16),y=!1),this.o=this.o&&y,!y)pn(this.i,this.l,ne,"[Invalid Chunked Response]"),Gt(this),yn(this);else if(0<ne.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),Zo(Dt),Dt.M=!0,it(11))}}else pn(this.i,this.l,ne,null),ft(this,ne);vt==4&&Gt(this),this.o&&!this.J&&(vt==4?to(this.j,this):(this.o=!1,Ce(this)))}else Ys(this.g),y==400&&0<ne.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),Gt(this),yn(this)}}}catch{}finally{}};function Ge(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function yt(l,d){var y=l.C,w=d.indexOf(`
`,y);return w==-1?N:(y=Number(d.substring(y,w)),isNaN(y)?ye:(w+=1,w+y>d.length?N:(d=d.slice(w,w+y),l.C=w+y,d)))}gn.prototype.cancel=function(){this.J=!0,Gt(this)};function Ce(l){l.S=Date.now()+l.I,At(l,l.I)}function At(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=xn(T(l.ba,l),d)}function Ft(l){l.B&&(p.clearTimeout(l.B),l.B=null)}gn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(si(this.i,this.A),this.L!=2&&(Yn(),it(17)),Gt(this),this.s=2,yn(this)):At(this,this.S-l)};function yn(l){l.j.G==0||l.J||to(l.j,l)}function Gt(l){Ft(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,nn(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function ft(l,d){try{var y=l.j;if(y.G!=0&&(y.g==l||rn(y.h,l))){if(!l.K&&rn(y.h,l)&&y.G==3){try{var w=y.Da.g.parse(d)}catch{w=null}if(Array.isArray(w)&&w.length==3){var b=w;if(b[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)eo(y),mr(y);else break e;Zs(y),it(18)}}else y.za=b[1],0<y.za-y.T&&37500>b[2]&&y.F&&y.v==0&&!y.C&&(y.C=xn(T(y.Za,y),6e3));if(1>=sl(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else ci(y,11)}else if((l.K||y.g==l)&&eo(y),!ie(d))for(b=y.Da.g.parse(d),d=0;d<b.length;d++){let Ue=b[d];if(y.T=Ue[0],Ue=Ue[1],y.G==2)if(Ue[0]=="c"){y.K=Ue[1],y.ia=Ue[2];const Dt=Ue[3];Dt!=null&&(y.la=Dt,y.j.info("VER="+y.la));const vt=Ue[4];vt!=null&&(y.Aa=vt,y.j.info("SVER="+y.Aa));const Jn=Ue[5];Jn!=null&&typeof Jn=="number"&&0<Jn&&(w=1.5*Jn,y.L=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;const Ln=l.g;if(Ln){const Es=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Es){var q=w.h;q.g||Es.indexOf("spdy")==-1&&Es.indexOf("quic")==-1&&Es.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Go(q,q.h),q.h=null))}if(w.D){const ro=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;ro&&(w.ya=ro,Qe(w.I,w.D,ro))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),w=y;var ne=l;if(w.qa=vl(w,w.J?w.ia:null,w.W),ne.K){ol(w.h,ne);var Ke=ne,St=w.L;St&&(Ke.I=St),Ke.B&&(Ft(Ke),Ce(Ke)),w.g=ne}else _s(w);0<y.i.length&&Lr(y)}else Ue[0]!="stop"&&Ue[0]!="close"||ci(y,7);else y.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?ci(y,7):Ut(y):Ue[0]!="noop"&&y.l&&y.l.ta(Ue),y.v=0)}}Yn(4)}catch{}}var ps=class{constructor(l,d){this.g=l,this.map=d}};function xr(l){this.l=l||10,p.PerformanceNavigationTiming?(l=p.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function sl(l){return l.h?1:l.g?l.g.size:0}function rn(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function Go(l,d){l.g?l.g.add(d):l.h=d}function ol(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}xr.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function al(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const y of l.g.values())d=d.concat(y.D);return d}return W(l.i)}function Ws(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var d=[],y=l.length,w=0;w<y;w++)d.push(l[w]);return d}d=[],y=0;for(w in l)d[y++]=l[w];return d}function qs(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var d=[];l=l.length;for(var y=0;y<l;y++)d.push(y);return d}d=[],y=0;for(const w in l)d[y++]=w;return d}}}function ki(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var y=qs(l),w=Ws(l),b=w.length,q=0;q<b;q++)d.call(void 0,w[q],y&&y[q],l)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pc(l,d){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var w=l[y].indexOf("="),b=null;if(0<=w){var q=l[y].substring(0,w);b=l[y].substring(w+1)}else q=l[y];d(q,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function oi(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof oi){this.h=l.h,gs(this,l.j),this.o=l.o,this.g=l.g,xi(this,l.s),this.l=l.l;var d=l.i,y=new Nr;y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),Ni(this,y),this.m=l.m}else l&&(d=String(l).match(ms))?(this.h=!1,gs(this,d[1]||"",!0),this.o=Fe(d[2]||""),this.g=Fe(d[3]||"",!0),xi(this,d[4]),this.l=Fe(d[5]||"",!0),Ni(this,d[6]||"",!0),this.m=Fe(d[7]||"")):(this.h=!1,this.i=new Nr(null,this.h))}oi.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Vi(d,Gs,!0),":");var y=this.g;return(y||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Vi(d,Gs,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Vi(y,y.charAt(0)=="/"?cl:ul,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Vi(y,Ko)),l.join("")};function Dn(l){return new oi(l)}function gs(l,d,y){l.j=y?Fe(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function xi(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Ni(l,d,y){d instanceof Nr?(l.i=d,Dr(l.i,l.h)):(y||(d=Vi(d,hl)),l.i=new Nr(d,l.h))}function Qe(l,d,y){l.i.set(d,y)}function Di(l){return Qe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Fe(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Vi(l,d,y){return typeof l=="string"?(l=encodeURI(l).replace(d,ll),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function ll(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Gs=/[#\/\?@]/g,ul=/[#\?:]/g,cl=/[#\?]/g,hl=/[#\?@]/g,Ko=/#/g;function Nr(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function bt(l){l.g||(l.g=new Map,l.h=0,l.i&&pc(l.i,function(d,y){l.add(decodeURIComponent(d.replace(/\+/g," ")),y)}))}i=Nr.prototype,i.add=function(l,d){bt(this),this.i=null,l=Xn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(d),this.h+=1,this};function hr(l,d){bt(l),d=Xn(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function fr(l,d){return bt(l),d=Xn(l,d),l.g.has(d)}i.forEach=function(l,d){bt(this),this.g.forEach(function(y,w){y.forEach(function(b){l.call(d,b,w,this)},this)},this)},i.na=function(){bt(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),y=[];for(let w=0;w<d.length;w++){const b=l[w];for(let q=0;q<b.length;q++)y.push(d[w])}return y},i.V=function(l){bt(this);let d=[];if(typeof l=="string")fr(this,l)&&(d=d.concat(this.g.get(Xn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)d=d.concat(l[y])}return d},i.set=function(l,d){return bt(this),this.i=null,l=Xn(this,l),fr(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Li(l,d,y){hr(l,d),0<y.length&&(l.i=null,l.g.set(Xn(l,d),W(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var y=0;y<d.length;y++){var w=d[y];const q=encodeURIComponent(String(w)),ne=this.V(w);for(w=0;w<ne.length;w++){var b=q;ne[w]!==""&&(b+="="+encodeURIComponent(String(ne[w]))),l.push(b)}}return this.i=l.join("&")};function Xn(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Dr(l,d){d&&!l.j&&(bt(l),l.i=null,l.g.forEach(function(y,w){var b=w.toLowerCase();w!=b&&(hr(this,w),Li(this,b,y))},l)),l.j=d}function mc(l,d){const y=new Nt;if(p.Image){const w=new Image;w.onload=V(vn,y,"TestLoadImage: loaded",!0,d,w),w.onerror=V(vn,y,"TestLoadImage: error",!1,d,w),w.onabort=V(vn,y,"TestLoadImage: abort",!1,d,w),w.ontimeout=V(vn,y,"TestLoadImage: timeout",!1,d,w),p.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else d(!1)}function fl(l,d){const y=new Nt,w=new AbortController,b=setTimeout(()=>{w.abort(),vn(y,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:w.signal}).then(q=>{clearTimeout(b),q.ok?vn(y,"TestPingServer: ok",!0,d):vn(y,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),vn(y,"TestPingServer: error",!1,d)})}function vn(l,d,y,w,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),w(y)}catch{}}function gc(){this.g=new ei}function dl(l,d,y){const w=y||"";try{ki(l,function(b,q){let ne=b;v(b)&&(ne=Kn(b)),d.push(w+q+"="+encodeURIComponent(ne))})}catch(b){throw d.push(w+"type="+encodeURIComponent("_badmap")),b}}function ai(l){this.l=l.Ub||null,this.j=l.eb||!1}$(ai,ti),ai.prototype.g=function(){return new ys(this.l,this.j)},ai.prototype.i=(function(l){return function(){return l}})({});function ys(l,d){Ye.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(ys,Ye),i=ys.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,pr(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||p).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function pl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?dr(this):pr(this),this.readyState==3&&pl(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,dr(this))},i.Qa=function(l){this.g&&(this.response=l,dr(this))},i.ga=function(){this.g&&dr(this)};function dr(l){l.readyState=4,l.l=null,l.j=null,l.v=null,pr(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var y=d.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=d.next();return l.join(`\r
`)};function pr(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function li(l){let d="";return we(l,function(y,w){d+=w,d+=":",d+=y,d+=`\r
`}),d}function Oi(l,d,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=li(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):Qe(l,d,y))}function st(l){Ye.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(st,Ye);var yc=/^https?$/i,Qo=["POST","PUT"];i=st.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mn.g(),this.v=this.o?ur(this.o):ur(mn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(q){vs(this,q);return}if(l=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var b in w)y.set(b,w[b]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const q of w.keys())y.set(q,w.get(q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),b=p.FormData&&l instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Qo,d,void 0))||w||b||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of y)this.g.setRequestHeader(q,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qs(this),this.u=!0,this.g.send(l),this.u=!1}catch(q){vs(this,q)}};function vs(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Ks(l),Vn(l)}function Ks(l){l.A||(l.A=!0,ht(l,"complete"),ht(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ht(this,"complete"),ht(this,"abort"),Vn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vn(this,!0)),st.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Yo(this):this.bb())},i.bb=function(){Yo(this)};function Yo(l){if(l.h&&typeof h<"u"&&(!l.v[1]||_n(l)!=4||l.Z()!=2)){if(l.u&&_n(l)==4)Ci(l.Ea,0,l);else if(ht(l,"readystatechange"),_n(l)==4){l.h=!1;try{const ne=l.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var y;if(!(y=d)){var w;if(w=ne===0){var b=String(l.D).match(ms)[1]||null;!b&&p.self&&p.self.location&&(b=p.self.location.protocol.slice(0,-1)),w=!yc.test(b?b.toLowerCase():"")}y=w}if(y)ht(l,"complete"),ht(l,"success");else{l.m=6;try{var q=2<_n(l)?l.g.statusText:""}catch{q=""}l.l=q+" ["+l.Z()+"]",Ks(l)}}finally{Vn(l)}}}}function Vn(l,d){if(l.g){Qs(l);const y=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ht(l,"ready");try{y.onreadystatechange=w}catch{}}}function Qs(l){l.I&&(p.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function _n(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),Zr(d)}};function Xo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Ys(l){const d={};l=(l.g&&2<=_n(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(ie(l[w]))continue;var y=k(l[w]);const b=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=d[b]||[];d[b]=q,q.push(y)}L(d,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vr(l,d,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||d}function Jo(l){this.Aa=0,this.i=[],this.j=new Nt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vr("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vr("baseRetryDelayMs",5e3,l),this.cb=Vr("retryDelaySeedMs",1e4,l),this.Wa=Vr("forwardChannelMaxRetries",2,l),this.wa=Vr("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new xr(l&&l.concurrentRequestLimit),this.Da=new gc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Jo.prototype,i.la=8,i.G=1,i.connect=function(l,d,y,w){it(0),this.W=l,this.H=d||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.I=vl(this,null,this.W),Lr(this)};function Ut(l){if(Xs(l),l.G==3){var d=l.U++,y=Dn(l.I);if(Qe(y,"SID",l.K),Qe(y,"RID",d),Qe(y,"TYPE","terminate"),ui(l,y),d=new gn(l,l.j,d),d.L=2,d.v=Di(Dn(y)),y=!1,p.navigator&&p.navigator.sendBeacon)try{y=p.navigator.sendBeacon(d.v.toString(),"")}catch{}!y&&p.Image&&(new Image().src=d.v,y=!0),y||(d.g=_l(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ce(d)}yl(l)}function mr(l){l.g&&(Zo(l),l.g.cancel(),l.g=null)}function Xs(l){mr(l),l.u&&(p.clearTimeout(l.u),l.u=null),eo(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&p.clearTimeout(l.s),l.s=null)}function Lr(l){if(!Nn(l.h)&&!l.s){l.s=!0;var d=l.Ga;$e||ae(),re||($e(),re=!0),Ee.add(d,l),l.B=0}}function vc(l,d){return sl(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=xn(T(l.Ga,l,d),gl(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const b=new gn(this,this.j,l);let q=this.o;if(this.S&&(q?(q=A(q),D(q,this.S)):q=this.S),this.m!==null||this.O||(b.H=q,q=null),this.P)e:{for(var d=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(d+=w,4096<d){d=y;break e}if(d===4096||y===this.i.length-1){d=y+1;break e}}d=1e3}else d=1e3;d=Mi(this,b,d),y=Dn(this.I),Qe(y,"RID",l),Qe(y,"CVER",22),this.D&&Qe(y,"X-HTTP-Session-Id",this.D),ui(this,y),q&&(this.O?d="headers="+encodeURIComponent(String(li(q)))+"&"+d:this.m&&Oi(y,this.m,q)),Go(this.h,b),this.Ua&&Qe(y,"TYPE","init"),this.P?(Qe(y,"$req",d),Qe(y,"SID","null"),b.T=!0,Z(b,y,null)):Z(b,y,d),this.G=2}}else this.G==3&&(l?Js(this,l):this.i.length==0||Nn(this.h)||Js(this))};function Js(l,d){var y;d?y=d.l:y=l.U++;const w=Dn(l.I);Qe(w,"SID",l.K),Qe(w,"RID",y),Qe(w,"AID",l.T),ui(l,w),l.m&&l.o&&Oi(w,l.m,l.o),y=new gn(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Mi(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Go(l.h,y),Z(y,w,d)}function ui(l,d){l.H&&we(l.H,function(y,w){Qe(d,w,y)}),l.l&&ki({},function(y,w){Qe(d,w,y)})}function Mi(l,d,y){y=Math.min(l.i.length,y);var w=l.l?T(l.l.Na,l.l,l):null;e:{var b=l.i;let q=-1;for(;;){const ne=["count="+y];q==-1?0<y?(q=b[0].g,ne.push("ofs="+q)):q=0:ne.push("ofs="+q);let Ke=!0;for(let St=0;St<y;St++){let Ue=b[St].g;const Dt=b[St].map;if(Ue-=q,0>Ue)q=Math.max(0,b[St].g-100),Ke=!1;else try{dl(Dt,ne,"req"+Ue+"_")}catch{w&&w(Dt)}}if(Ke){w=ne.join("&");break e}}}return l=l.i.splice(0,y),d.D=l,w}function _s(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;$e||ae(),re||($e(),re=!0),Ee.add(d,l),l.v=0}}function Zs(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=xn(T(l.Fa,l),gl(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,ml(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=xn(T(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),mr(this),ml(this))};function Zo(l){l.A!=null&&(p.clearTimeout(l.A),l.A=null)}function ml(l){l.g=new gn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Dn(l.qa);Qe(d,"RID","rpc"),Qe(d,"SID",l.K),Qe(d,"AID",l.T),Qe(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Qe(d,"TO",l.ja),Qe(d,"TYPE","xmlhttp"),ui(l,d),l.m&&l.o&&Oi(d,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Di(Dn(d)),y.m=null,y.P=!0,ce(y,l)}i.Za=function(){this.C!=null&&(this.C=null,mr(this),Zs(this),it(19))};function eo(l){l.C!=null&&(p.clearTimeout(l.C),l.C=null)}function to(l,d){var y=null;if(l.g==d){eo(l),Zo(l),l.g=null;var w=2}else if(rn(l.h,d))y=d.D,ol(l.h,d),w=1;else return;if(l.G!=0){if(d.o)if(w==1){y=d.m?d.m.length:0,d=Date.now()-d.F;var b=l.B;w=fn(),ht(w,new ri(w,y)),Lr(l)}else _s(l);else if(b=d.s,b==3||b==0&&0<d.X||!(w==1&&vc(l,d)||w==2&&Zs(l)))switch(y&&0<y.length&&(d=l.h,d.i=d.i.concat(y)),b){case 1:ci(l,5);break;case 4:ci(l,10);break;case 3:ci(l,6);break;default:ci(l,2)}}}function gl(l,d){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*d}function ci(l,d){if(l.j.info("Error code "+d),d==2){var y=T(l.fb,l),w=l.Xa;const b=!w;w=new oi(w||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||gs(w,"https"),Di(w),b?mc(w.toString(),y):fl(w.toString(),y)}else it(2);l.G=0,l.l&&l.l.sa(d),yl(l),Xs(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function yl(l){if(l.G=0,l.ka=[],l.l){const d=al(l.h);(d.length!=0||l.i.length!=0)&&(j(l.ka,d),j(l.ka,l.i),l.h.i.length=0,W(l.i),l.i.length=0),l.l.ra()}}function vl(l,d,y){var w=y instanceof oi?Dn(y):new oi(y);if(w.g!="")d&&(w.g=d+"."+w.g),xi(w,w.s);else{var b=p.location;w=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var q=new oi(null);w&&gs(q,w),d&&(q.g=d),b&&xi(q,b),y&&(q.l=y),w=q}return y=l.D,d=l.ya,y&&d&&Qe(w,y,d),Qe(w,"VER",l.la),ui(l,w),w}function _l(l,d,y){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new st(new ai({eb:y})):new st(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ea(){}i=ea.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function no(){}no.prototype.g=function(l,d){return new sn(l,d)};function sn(l,d){Ye.call(this),this.g=new Jo(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!ie(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ie(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Or(this)}$(sn,Ye),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Ut(this.g)},sn.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=Kn(l),l=y);d.i.push(new ps(d.Ya++,l)),d.G==3&&Lr(d)},sn.prototype.N=function(){this.g.l=null,delete this.j,Ut(this.g),delete this.g,sn.aa.N.call(this)};function El(l){Wt.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const y in d){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}$(El,Wt);function wl(){Pi.call(this),this.status=1}$(wl,Pi);function Or(l){this.g=l}$(Or,ea),Or.prototype.ua=function(){ht(this.g,"a")},Or.prototype.ta=function(l){ht(this.g,new El(l))},Or.prototype.sa=function(l){ht(this.g,new wl)},Or.prototype.ra=function(){ht(this.g,"b")},no.prototype.createWebChannel=no.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,zy=function(){return new no},jy=function(){return fn()},Uy=Qn,df={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qt.NO_ERROR=0,qt.TIMEOUT=8,qt.HTTP_ERROR=6,Iu=qt,ds.COMPLETE="complete",by=ds,cr.EventType=hn,hn.OPEN="a",hn.CLOSE="b",hn.ERROR="c",hn.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,Na=cr,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,Fy=st}).apply(typeof gu<"u"?gu:typeof self<"u"?self:typeof window<"u"?window:{});const tg="@firebase/firestore",ng="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new xy("@firebase/firestore");function Io(){return bs.logLevel}function ue(i,...e){if(bs.logLevel<=ze.DEBUG){const n=e.map($f);bs.debug(`Firestore (${zo}): ${i}`,...n)}}function Ii(i,...e){if(bs.logLevel<=ze.ERROR){const n=e.map($f);bs.error(`Firestore (${zo}): ${i}`,...n)}}function Do(i,...e){if(bs.logLevel<=ze.WARN){const n=e.map($f);bs.warn(`Firestore (${zo}): ${i}`,...n)}}function $f(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,By(i,s,n)}function By(i,e,n){let s=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ii(s),new Error(s)}function qe(i,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,i||By(e,a,s)}function ke(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends jo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class W0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class q0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class G0{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new wi,e.enqueueRetryable((()=>a(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await a(this.currentUser)}))},p=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new wi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qe(typeof s.accessToken=="string",31837,{l:s}),new Hy(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class K0{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q0{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new K0(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y0{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,x0(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const a=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>a(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?a(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rg(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=X0(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<n&&(s+=e.charAt(a[u]%62))}return s}}function Le(i,e){return i<e?-1:i>e?1:0}function pf(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const a=i.charAt(s),u=e.charAt(s);if(a!==u)return Qh(a)===Qh(u)?Le(a,u):Qh(a)?1:-1}return Le(i.length,e.length)}const J0=55296,Z0=57343;function Qh(i){const e=i.charCodeAt(0);return e>=J0&&e<=Z0}function Vo(i,e,n){return i.length===e.length&&i.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="__name__";class jr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ie(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return jr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const u=jr.compareSegments(e.get(a),n.get(a));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const s=jr.isNumericId(e),a=jr.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?jr.extractNumericId(e).compare(jr.extractNumericId(n)):pf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return es.fromString(e.substring(4,e.length-2))}}class tt extends jr{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const eA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends jr{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return eA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ig}static keyField(){return new Ht([ig])}static fromServerFormat(e){const n=[];let s="",a=0;const u=()=>{if(s.length===0)throw new ge(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<e.length;){const p=e[a];if(p==="\\"){if(a+1===e.length)throw new ge(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ge(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else p==="`"?(h=!h,a++):p!=="."||h?(s+=p,a++):(u(),a++)}if(u(),h)throw new ge(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(tt.fromString(e))}static fromName(e){return new Te(tt.fromString(e).popFirst(5))}static empty(){return new Te(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(i,e,n){if(!n)throw new ge(Y.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function tA(i,e,n,s){if(e===!0&&s===!0)throw new ge(Y.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function sg(i){if(!Te.isDocumentKey(i))throw new ge(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function og(i){if(Te.isDocumentKey(i))throw new ge(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Wy(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function qf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ie(12329,{type:typeof i})}function Gr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ge(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qf(i);throw new ge(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Za(i,e){if(!Wy(i))throw new ge(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(a&&typeof h!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ge(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag=-62135596800,lg=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*lg);return new nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ag)throw new ge(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lg}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Za(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ag;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:wt("string",nt._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new nt(0,0))}static max(){return new Pe(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=-1;function nA(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Pe.fromTimestamp(s===1e9?new nt(n+1,0):new nt(n,s));return new rs(a,Te.empty(),e)}function rA(i){return new rs(i.readTime,i.key,Ha)}class rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new rs(Pe.min(),Te.empty(),Ha)}static max(){return new rs(Pe.max(),Te.empty(),Ha)}}function iA(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(i.documentKey,e.documentKey),n!==0?n:Le(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(i){if(i.code!==Y.FAILED_PRECONDITION||i.message!==sA)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,s)=>{n(e)}))}static reject(e){return new Q(((n,s)=>{s(e)}))}static waitFor(e){return new Q(((n,s)=>{let a=0,u=0,h=!1;e.forEach((p=>{++a,p.next((()=>{++u,h&&u===a&&n()}),(g=>s(g)))})),h=!0,u===a&&n()}))}static or(e){let n=Q.resolve(!1);for(const s of e)n=n.next((a=>a?Q.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,u)=>{s.push(n.call(this,a,u))})),this.waitFor(s)}static mapArray(e,n){return new Q(((s,a)=>{const u=e.length,h=new Array(u);let p=0;for(let g=0;g<u;g++){const v=g;n(e[v]).next((E=>{h[v]=E,++p,p===u&&s(h)}),(E=>a(E)))}}))}static doWhile(e,n){return new Q(((s,a)=>{const u=()=>{e()===!0?n().next((()=>{u()}),a):s()};u()}))}}function aA(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ho(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=-1;function Xu(i){return i==null}function Fu(i){return i===0&&1/i==-1/0}function lA(i){return typeof i=="number"&&Number.isInteger(i)&&!Fu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="";function uA(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=ug(e)),e=cA(i.get(n),e);return ug(e)}function cA(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const u=i.charAt(a);switch(u){case"\0":n+="";break;case qy:n+="";break;default:n+=u}}return n}function ug(i){return i+qy+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function us(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Gy(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yu(this.root,e,this.comparator,!0)}}class yu{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,s,a,u){this.key=e,this.value=n,this.color=s??Bt.RED,this.left=a??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,u){return new Bt(e??this.key,n??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,n,s),null):u===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Bt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,s,a,u){return this}insert(e,n,s){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hg(this.data.getIterator())}getIteratorFrom(e){return new hg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class hg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new bn([])}unionWith(e){let n=new Pt(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Ky("Invalid base64 string: "+u):u}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(a){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);return u})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const hA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(i){if(qe(!!i,39018),typeof i=="string"){let e=0;const n=hA.exec(i);if(qe(!!n,46558,{timestamp:i}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(i.seconds),nanos:gt(i.nanos)}}function gt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ss(i){return typeof i=="string"?$t.fromBase64String(i):$t.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="server_timestamp",Yy="__type__",Xy="__previous_value__",Jy="__local_write_time__";function Kf(i){return(i?.mapValue?.fields||{})[Yy]?.stringValue===Qy}function Ju(i){const e=i.mapValue.fields[Xy];return Kf(e)?Ju(e):e}function $a(i){const e=is(i.mapValue.fields[Jy].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,n,s,a,u,h,p,g,v,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=E}}const bu="(default)";class Wa{constructor(e,n){this.projectId=e,this.database=n||bu}static empty(){return new Wa("","")}get isDefaultDatabase(){return this.database===bu}isEqual(e){return e instanceof Wa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="__type__",dA="__max__",vu={mapValue:{}},ev="__vector__",Uu="value";function os(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Kf(i)?4:mA(i)?9007199254740991:pA(i)?10:11:Ie(28295,{value:i})}function Kr(i,e){if(i===e)return!0;const n=os(i);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return $a(i).isEqual($a(e));case 3:return(function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const h=is(a.timestampValue),p=is(u.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(a,u){return ss(a.bytesValue).isEqual(ss(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(a,u){return gt(a.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(a.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(i,e);case 2:return(function(a,u){if("integerValue"in a&&"integerValue"in u)return gt(a.integerValue)===gt(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const h=gt(a.doubleValue),p=gt(u.doubleValue);return h===p?Fu(h)===Fu(p):isNaN(h)&&isNaN(p)}return!1})(i,e);case 9:return Vo(i.arrayValue.values||[],e.arrayValue.values||[],Kr);case 10:case 11:return(function(a,u){const h=a.mapValue.fields||{},p=u.mapValue.fields||{};if(cg(h)!==cg(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Kr(h[g],p[g])))return!1;return!0})(i,e);default:return Ie(52216,{left:i})}}function qa(i,e){return(i.values||[]).find((n=>Kr(n,e)))!==void 0}function Lo(i,e){if(i===e)return 0;const n=os(i),s=os(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const p=gt(u.integerValue||u.doubleValue),g=gt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return fg(i.timestampValue,e.timestampValue);case 4:return fg($a(i),$a(e));case 5:return pf(i.stringValue,e.stringValue);case 6:return(function(u,h){const p=ss(u),g=ss(h);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const p=u.split("/"),g=h.split("/");for(let v=0;v<p.length&&v<g.length;v++){const E=Le(p[v],g[v]);if(E!==0)return E}return Le(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const p=Le(gt(u.latitude),gt(h.latitude));return p!==0?p:Le(gt(u.longitude),gt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return dg(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const p=u.fields||{},g=h.fields||{},v=p[Uu]?.arrayValue,E=g[Uu]?.arrayValue,S=Le(v?.values?.length||0,E?.values?.length||0);return S!==0?S:dg(v,E)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===vu.mapValue&&h===vu.mapValue)return 0;if(u===vu.mapValue)return 1;if(h===vu.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),v=h.fields||{},E=Object.keys(v);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const T=pf(g[S],E[S]);if(T!==0)return T;const V=Lo(p[g[S]],v[E[S]]);if(V!==0)return V}return Le(g.length,E.length)})(i.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function fg(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Le(i,e);const n=is(i),s=is(e),a=Le(n.seconds,s.seconds);return a!==0?a:Le(n.nanos,s.nanos)}function dg(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const u=Lo(n[a],s[a]);if(u)return u}return Le(n.length,s.length)}function Oo(i){return mf(i)}function mf(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=is(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ss(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Te.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",a=!0;for(const u of n.values||[])a?a=!1:s+=",",s+=mf(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",u=!0;for(const h of s)u?u=!1:a+=",",a+=`${h}:${mf(n.fields[h])}`;return a+"}"})(i.mapValue):Ie(61005,{value:i})}function Ru(i){switch(os(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ju(i);return e?16+Ru(e):16;case 5:return 2*i.stringValue.length;case 6:return ss(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,u)=>a+Ru(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let a=0;return us(s.fields,((u,h)=>{a+=u.length+Ru(h)})),a})(i.mapValue);default:throw Ie(13486,{value:i})}}function gf(i){return!!i&&"integerValue"in i}function Qf(i){return!!i&&"arrayValue"in i}function pg(i){return!!i&&"nullValue"in i}function mg(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Cu(i){return!!i&&"mapValue"in i}function pA(i){return(i?.mapValue?.fields||{})[Zy]?.stringValue===ev}function Ma(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return us(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ma(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ma(i.arrayValue.values[n]);return e}return{...i}}function mA(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===dA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Cu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ma(n)}setAll(e){let n=Ht.emptyPath(),s={},a=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=p.popLast()}h?s[p.lastSegment()]=Ma(h):a.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,a)}delete(e){const n=this.field(e.popLast());Cu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Cu(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){us(n,((a,u)=>e[a]=u));for(const a of s)delete e[a]}clone(){return new Cn(Ma(this.value))}}function tv(i){const e=[];return us(i.fields,((n,s)=>{const a=new Ht([n]);if(Cu(s)){const u=tv(s.mapValue).fields;if(u.length===0)e.push(a);else for(const h of u)e.push(a.child(h))}else e.push(a)})),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,s,a,u,h,p){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new en(e,0,Pe.min(),Pe.min(),Pe.min(),Cn.empty(),0)}static newFoundDocument(e,n,s,a){return new en(e,1,n,Pe.min(),s,a,0)}static newNoDocument(e,n){return new en(e,2,n,Pe.min(),Pe.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Pe.min(),Pe.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n){this.position=e,this.inclusive=n}}function gg(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const u=e[a],h=i.position[a];if(u.field.isKeyField()?s=Te.comparator(Te.fromName(h.referenceValue),n.key):s=Lo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function yg(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Kr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n="asc"){this.field=e,this.dir=n}}function gA(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{}class Ct extends nv{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new vA(e,n,s):n==="array-contains"?new wA(e,s):n==="in"?new TA(e,s):n==="not-in"?new AA(e,s):n==="array-contains-any"?new SA(e,s):new Ct(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new _A(e,s):new EA(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Lo(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(Lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qr extends nv{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qr(e,n)}matches(e){return rv(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rv(i){return i.op==="and"}function iv(i){return yA(i)&&rv(i)}function yA(i){for(const e of i.filters)if(e instanceof Qr)return!1;return!0}function yf(i){if(i instanceof Ct)return i.field.canonicalString()+i.op.toString()+Oo(i.value);if(iv(i))return i.filters.map((e=>yf(e))).join(",");{const e=i.filters.map((n=>yf(n))).join(",");return`${i.op}(${e})`}}function sv(i,e){return i instanceof Ct?(function(s,a){return a instanceof Ct&&s.op===a.op&&s.field.isEqual(a.field)&&Kr(s.value,a.value)})(i,e):i instanceof Qr?(function(s,a){return a instanceof Qr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((u,h,p)=>u&&sv(h,a.filters[p])),!0):!1})(i,e):void Ie(19439)}function ov(i){return i instanceof Ct?(function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`})(i):i instanceof Qr?(function(n){return n.op.toString()+" {"+n.getFilters().map(ov).join(" ,")+"}"})(i):"Filter"}class vA extends Ct{constructor(e,n,s){super(e,n,s),this.key=Te.fromName(s.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class _A extends Ct{constructor(e,n){super(e,"in",n),this.keys=av("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class EA extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=av("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function av(i,e){return(e.arrayValue?.values||[]).map((n=>Te.fromName(n.referenceValue)))}class wA extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qf(n)&&qa(n.arrayValue,this.value)}}class TA extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qa(this.value.arrayValue,n)}}class AA extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qa(this.value.arrayValue,n)}}class SA extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>qa(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n=null,s=[],a=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=h,this.endAt=p,this.Te=null}}function vg(i,e=null,n=[],s=[],a=null,u=null,h=null){return new IA(i,e,n,s,a,u,h)}function Yf(i){const e=ke(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>yf(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Xu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Oo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Oo(s))).join(",")),e.Te=n}return e.Te}function Xf(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!gA(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!sv(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!yg(i.startAt,e.startAt)&&yg(i.endAt,e.endAt)}function vf(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n=null,s=[],a=[],u=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function RA(i,e,n,s,a,u,h,p){return new Zu(i,e,n,s,a,u,h,p)}function Jf(i){return new Zu(i)}function _g(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function CA(i){return i.collectionGroup!==null}function Fa(i){const e=ke(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Pt(Ht.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new zu(u,s))})),n.has(Ht.keyField().canonicalString())||e.Ie.push(new zu(Ht.keyField(),s))}return e.Ie}function zr(i){const e=ke(i);return e.Ee||(e.Ee=PA(e,Fa(i))),e.Ee}function PA(i,e){if(i.limitType==="F")return vg(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((a=>{const u=a.dir==="desc"?"asc":"desc";return new zu(a.field,u)}));const n=i.endAt?new ju(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ju(i.startAt.position,i.startAt.inclusive):null;return vg(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function _f(i,e,n){return new Zu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function ec(i,e){return Xf(zr(i),zr(e))&&i.limitType===e.limitType}function lv(i){return`${Yf(zr(i))}|lt:${i.limitType}`}function Ro(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>ov(a))).join(", ")}]`),Xu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Oo(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Oo(a))).join(",")),`Target(${s})`})(zr(i))}; limitType=${i.limitType})`}function tc(i,e){return e.isFoundDocument()&&(function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Te.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,a){for(const u of Fa(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0})(i,e)&&(function(s,a){return!(s.startAt&&!(function(h,p,g){const v=gg(h,p,g);return h.inclusive?v<=0:v<0})(s.startAt,Fa(s),a)||s.endAt&&!(function(h,p,g){const v=gg(h,p,g);return h.inclusive?v>=0:v>0})(s.endAt,Fa(s),a))})(i,e)}function kA(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function uv(i){return(e,n)=>{let s=!1;for(const a of Fa(i)){const u=xA(a,e,n);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function xA(i,e,n){const s=i.field.isKeyField()?Te.comparator(e.key,n.key):(function(u,h,p){const g=h.data.field(u),v=p.data.field(u);return g!==null&&v!==null?Lo(g,v):Ie(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ie(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,((n,s)=>{for(const[a,u]of s)e(a,u)}))}isEmpty(){return Gy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=new ct(Te.comparator);function Ri(){return NA}const cv=new ct(Te.comparator);function Da(...i){let e=cv;for(const n of i)e=e.insert(n.key,n);return e}function hv(i){let e=cv;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ms(){return ba()}function fv(){return ba()}function ba(){return new zs((i=>i.toString()),((i,e)=>i.isEqual(e)))}const DA=new ct(Te.comparator),VA=new Pt(Te.comparator);function Oe(...i){let e=VA;for(const n of i)e=e.add(n);return e}const LA=new Pt(Le);function OA(){return LA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fu(e)?"-0":e}}function dv(i){return{integerValue:""+i}}function pv(i,e){return lA(e)?dv(e):Zf(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this._=void 0}}function MA(i,e,n){return i instanceof Bu?(function(a,u){const h={fields:{[Yy]:{stringValue:Qy},[Jy]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&Kf(u)&&(u=Ju(u)),u&&(h.fields[Xy]=u),{mapValue:h}})(n,e):i instanceof Ga?gv(i,e):i instanceof Ka?yv(i,e):(function(a,u){const h=mv(a,u),p=Eg(h)+Eg(a.Ae);return gf(h)&&gf(a.Ae)?dv(p):Zf(a.serializer,p)})(i,e)}function FA(i,e,n){return i instanceof Ga?gv(i,e):i instanceof Ka?yv(i,e):n}function mv(i,e){return i instanceof Qa?(function(s){return gf(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Bu extends nc{}class Ga extends nc{constructor(e){super(),this.elements=e}}function gv(i,e){const n=vv(e);for(const s of i.elements)n.some((a=>Kr(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Ka extends nc{constructor(e){super(),this.elements=e}}function yv(i,e){let n=vv(e);for(const s of i.elements)n=n.filter((a=>!Kr(a,s)));return{arrayValue:{values:n}}}class Qa extends nc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Eg(i){return gt(i.integerValue||i.doubleValue)}function vv(i){return Qf(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n){this.field=e,this.transform=n}}function UA(i,e){return i.field.isEqual(e.field)&&(function(s,a){return s instanceof Ga&&a instanceof Ga||s instanceof Ka&&a instanceof Ka?Vo(s.elements,a.elements,Kr):s instanceof Qa&&a instanceof Qa?Kr(s.Ae,a.Ae):s instanceof Bu&&a instanceof Bu})(i.transform,e.transform)}class jA{constructor(e,n){this.version=e,this.transformResults=n}}class Ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class rc{}function _v(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new wv(i.key,Ar.none()):new el(i.key,i.data,Ar.none());{const n=i.data,s=Cn.empty();let a=new Pt(Ht.comparator);for(let u of e.fields)if(!a.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),a=a.add(u)}return new cs(i.key,s,new bn(a.toArray()),Ar.none())}}function zA(i,e,n){i instanceof el?(function(a,u,h){const p=a.value.clone(),g=Tg(a.fieldTransforms,u,h.transformResults);p.setAll(g),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):i instanceof cs?(function(a,u,h){if(!Pu(a.precondition,u))return void u.convertToUnknownDocument(h.version);const p=Tg(a.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Ev(a)),g.setAll(p),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,n):(function(a,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Ua(i,e,n,s){return i instanceof el?(function(u,h,p,g){if(!Pu(u.precondition,h))return p;const v=u.value.clone(),E=Ag(u.fieldTransforms,g,h);return v.setAll(E),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(i,e,n,s):i instanceof cs?(function(u,h,p,g){if(!Pu(u.precondition,h))return p;const v=Ag(u.fieldTransforms,g,h),E=h.data;return E.setAll(Ev(u)),E.setAll(v),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(i,e,n,s):(function(u,h,p){return Pu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(i,e,n)}function BA(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),u=mv(s.transform,a||null);u!=null&&(n===null&&(n=Cn.empty()),n.set(s.field,u))}return n||null}function wg(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Vo(s,a,((u,h)=>UA(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class el extends rc{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class cs extends rc{constructor(e,n,s,a,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Ev(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function Tg(i,e,n){const s=new Map;qe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let a=0;a<n.length;a++){const u=i[a],h=u.transform,p=e.data.field(u.field);s.set(u.field,FA(h,p,n[a]))}return s}function Ag(i,e,n){const s=new Map;for(const a of i){const u=a.transform,h=n.data.field(a.field);s.set(a.field,MA(u,h,e))}return s}class wv extends rc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HA extends rc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&zA(u,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ua(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ua(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=fv();return this.mutations.forEach((a=>{const u=e.get(a.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=n.has(a.key)?null:p;const g=_v(h,p);g!==null&&s.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(Pe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Oe())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,((n,s)=>wg(n,s)))&&Vo(this.baseMutations,e.baseMutations,((n,s)=>wg(n,s)))}}class ed{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return DA})();const u=e.mutations;for(let h=0;h<u.length;h++)a=a.insert(u[h].key,s[h].version);return new ed(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,je;function GA(i){switch(i){case Y.OK:return Ie(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Ie(15467,{code:i})}}function Tv(i){if(i===void 0)return Ii("GRPC error has no .code"),Y.UNKNOWN;switch(i){case Et.OK:return Y.OK;case Et.CANCELLED:return Y.CANCELLED;case Et.UNKNOWN:return Y.UNKNOWN;case Et.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Et.INTERNAL:return Y.INTERNAL;case Et.UNAVAILABLE:return Y.UNAVAILABLE;case Et.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Et.NOT_FOUND:return Y.NOT_FOUND;case Et.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Et.ABORTED:return Y.ABORTED;case Et.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Et.DATA_LOSS:return Y.DATA_LOSS;default:return Ie(39323,{code:i})}}(je=Et||(Et={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=new es([4294967295,4294967295],0);function Sg(i){const e=KA().encode(i),n=new My;return n.update(e),new Uint8Array(n.digest())}function Ig(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new es([n,s],0),new es([a,u],0)]}class td{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Va(`Invalid padding: ${n}`);if(s<0)throw new Va(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Va(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Va(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=es.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(es.fromNumber(s)));return a.compare(QA)===1&&(a=new es([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Sg(e),[s,a]=Ig(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,a,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new td(u,a,n);return s.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=Sg(e),[s,a]=Ig(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,a,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Va extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n,s,a,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,tl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ic(Pe.min(),a,new ct(Le),Ri(),Oe())}}class tl{constructor(e,n,s,a,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new tl(s,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class Av{constructor(e,n){this.targetId=e,this.Ce=n}}class Sv{constructor(e,n,s=$t.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Rg{constructor(){this.ve=0,this.Fe=Cg(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Oe(),n=Oe(),s=Oe();return this.Fe.forEach(((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ie(38017,{changeType:u})}})),new tl(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Cg()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class YA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ri(),this.Je=_u(),this.He=_u(),this.Ye=new ct(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const u=a.target;if(vf(u))if(s===0){const h=new Te(u.path);this.et(n,h,en.newNoDocument(h,Pe.min()))}else qe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,v)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=n;let h,p;try{h=ss(s).toUint8Array()}catch(g){if(g instanceof Ky)return Do("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new td(h,a,u)}catch(g){return Do(g instanceof Va?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((u=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const p=this.ot(h);if(p){if(u.current&&vf(p.target)){const g=new Te(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,en.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Oe();this.He.forEach(((u,h)=>{let p=!0;h.forEachWhile((g=>{const v=this.ot(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const a=new ic(e,n,this.Ye,this.je,s);return this.je=Ri(),this.Je=_u(),this.He=_u(),this.Ye=new ct(Le),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Rg,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Rg),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _u(){return new ct(Te.comparator)}function Cg(){return new ct(Te.comparator)}const XA={asc:"ASCENDING",desc:"DESCENDING"},JA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZA={and:"AND",or:"OR"};class eS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ef(i,e){return i.useProto3Json||Xu(e)?e:{value:e}}function Hu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Iv(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function tS(i,e){return Hu(i,e.toTimestamp())}function Br(i){return qe(!!i,49232),Pe.fromTimestamp((function(n){const s=is(n);return new nt(s.seconds,s.nanos)})(i))}function nd(i,e){return wf(i,e).canonicalString()}function wf(i,e){const n=(function(a){return new tt(["projects",a.projectId,"databases",a.database])})(i).child("documents");return e===void 0?n:n.child(e)}function Rv(i){const e=tt.fromString(i);return qe(Nv(e),10190,{key:e.toString()}),e}function Tf(i,e){return nd(i.databaseId,e.path)}function Yh(i,e){const n=Rv(e);if(n.get(1)!==i.databaseId.projectId)throw new ge(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ge(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Te(Pv(n))}function Cv(i,e){return nd(i.databaseId,e)}function nS(i){const e=Rv(i);return e.length===4?tt.emptyPath():Pv(e)}function Af(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Pv(i){return qe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Pg(i,e,n){return{name:Tf(i,e),fields:n.value.mapValue.fields}}function rS(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ie(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=(function(v,E){return v.useProto3Json?(qe(E===void 0||typeof E=="string",58123),$t.fromBase64String(E||"")):(qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),$t.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(v){const E=v.code===void 0?Y.UNKNOWN:Tv(v.code);return new ge(E,v.message||"")})(h);n=new Sv(s,a,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Yh(i,s.document.name),u=Br(s.document.updateTime),h=s.document.createTime?Br(s.document.createTime):Pe.min(),p=new Cn({mapValue:{fields:s.document.fields}}),g=en.newFoundDocument(a,u,h,p),v=s.targetIds||[],E=s.removedTargetIds||[];n=new ku(v,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Yh(i,s.document),u=s.readTime?Br(s.readTime):Pe.min(),h=en.newNoDocument(a,u),p=s.removedTargetIds||[];n=new ku([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Yh(i,s.document),u=s.removedTargetIds||[];n=new ku([],u,a,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,h=new qA(a,u),p=s.targetId;n=new Av(p,h)}}return n}function iS(i,e){let n;if(e instanceof el)n={update:Pg(i,e.key,e.value)};else if(e instanceof wv)n={delete:Tf(i,e.key)};else if(e instanceof cs)n={update:Pg(i,e.key,e.data),updateMask:dS(e.fieldMask)};else{if(!(e instanceof HA))return Ie(16599,{Vt:e.type});n={verify:Tf(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const p=h.transform;if(p instanceof Bu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ga)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ka)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Qa)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw Ie(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,u){return u.updateTime!==void 0?{updateTime:tS(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ie(27497)})(i,e.precondition)),n}function sS(i,e){return i&&i.length>0?(qe(e!==void 0,14353),i.map((n=>(function(a,u){let h=a.updateTime?Br(a.updateTime):Br(u);return h.isEqual(Pe.min())&&(h=Br(u)),new jA(h,a.transformResults||[])})(n,e)))):[]}function oS(i,e){return{documents:[Cv(i,e.path)]}}function aS(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Cv(i,a);const u=(function(v){if(v.length!==0)return xv(Qr.create(v,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(v){if(v.length!==0)return v.map((E=>(function(T){return{field:Co(T.field),direction:cS(T.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=Ef(i,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:n,parent:a}}function lS(i){let e=nS(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){qe(s===1,65062);const E=n.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const T=kv(S);return T instanceof Qr&&iv(T)?T.getFilters():[T]})(n.where));let h=[];n.orderBy&&(h=(function(S){return S.map((T=>(function($){return new zu(Po($.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(T)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let T;return T=typeof S=="object"?S.value:S,Xu(T)?null:T})(n.limit));let g=null;n.startAt&&(g=(function(S){const T=!!S.before,V=S.values||[];return new ju(V,T)})(n.startAt));let v=null;return n.endAt&&(v=(function(S){const T=!S.before,V=S.values||[];return new ju(V,T)})(n.endAt)),RA(e,a,h,u,p,"F",g,v)}function uS(i,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kv(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Po(n.unaryFilter.field);return Ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Po(n.unaryFilter.field);return Ct.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Po(n.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Po(n.unaryFilter.field);return Ct.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Ct.create(Po(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Qr.create(n.compositeFilter.filters.map((s=>kv(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(i):Ie(30097,{filter:i})}function cS(i){return XA[i]}function hS(i){return JA[i]}function fS(i){return ZA[i]}function Co(i){return{fieldPath:i.canonicalString()}}function Po(i){return Ht.fromServerFormat(i.fieldPath)}function xv(i){return i instanceof Ct?(function(n){if(n.op==="=="){if(mg(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NAN"}};if(pg(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mg(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NOT_NAN"}};if(pg(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Co(n.field),op:hS(n.op),value:n.value}}})(i):i instanceof Qr?(function(n){const s=n.getFilters().map((a=>xv(a)));return s.length===1?s[0]:{compositeFilter:{op:fS(n.op),filters:s}}})(i):Ie(54877,{filter:i})}function dS(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Nv(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,s,a,u=Pe.min(),h=Pe.min(),p=$t.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.yt=e}}function mS(i){const e=lS({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?_f(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.Cn=new yS}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(rs.min())}updateCollectionGroup(e,n,s){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class yS{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Pt(tt.comparator),u=!a.has(s);return this.index[n]=a.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Pt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dv=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(Dv,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mo(0)}static cr(){return new Mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="LruGarbageCollector",vS=1048576;function Ng([i,e],[n,s]){const a=Le(i,n);return a===0?Le(e,s):a}class _S{constructor(e){this.Ir=e,this.buffer=new Pt(Ng),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Ng(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ES{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(xg,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ho(n)?ue(xg,"Ignoring IndexedDB error during garbage collection: ",n):await Bo(n)}await this.Vr(3e5)}))}}class wS{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Yu.ce);const s=new _S(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(kg)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kg):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,u,h,p,g,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),a=this.params.maximumSequenceNumbersToCollect):a=S,h=Date.now(),this.nthSequenceNumber(e,a)))).next((S=>(s=S,p=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(v=Date.now(),Io()<=ze.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${a} in `+(p-h)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(v-g)+`ms
Total Duration: ${v-E}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:S}))))}}function TS(i,e){return new wS(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.changes=new zs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Q.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Ua(s.mutation,a,bn.empty(),nt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Oe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Oe()){const a=Ms();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((u=>{let h=Da();return u.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=Ms();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Oe())))}populateOverlays(e,n,s){const a=[];return s.forEach((u=>{n.has(u)||a.push(u)})),this.documentOverlayCache.getOverlays(e,a).next((u=>{u.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,s,a){let u=Ri();const h=ba(),p=(function(){return ba()})();return n.forEach(((g,v)=>{const E=s.get(v.key);a.has(v.key)&&(E===void 0||E.mutation instanceof cs)?u=u.insert(v.key,v):E!==void 0?(h.set(v.key,E.mutation.getFieldMask()),Ua(E.mutation,v,E.mutation.getFieldMask(),nt.now())):h.set(v.key,bn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((v,E)=>h.set(v,E))),n.forEach(((v,E)=>p.set(v,new SS(E,h.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=ba();let a=new ct(((h,p)=>h-p)),u=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const v=n.get(g);if(v===null)return;let E=s.get(g)||bn.empty();E=p.applyToLocalView(v,E),s.set(g,E);const S=(a.get(p.batchId)||Oe()).add(g);a=a.insert(p.batchId,S)}))})).next((()=>{const h=[],p=a.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),v=g.key,E=g.value,S=fv();E.forEach((T=>{if(!u.has(T)){const V=_v(n.get(T),s.get(T));V!==null&&S.set(T,V),u=u.add(T)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,S))}return Q.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(h){return Te.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-u.size):Q.resolve(Ms());let p=Ha,g=u;return h.next((v=>Q.forEach(v,((E,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(E)?Q.resolve():this.remoteDocumentCache.getEntry(e,E).next((T=>{g=g.insert(E,T)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,g,v,Oe()))).next((E=>({batchId:p,changes:hv(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((s=>{let a=Da();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const u=n.collectionGroup;let h=Da();return this.indexManager.getCollectionParents(e,u).next((p=>Q.forEach(p,(g=>{const v=(function(S,T){return new Zu(T,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next((E=>{E.forEach(((S,T)=>{h=h.insert(S,T)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,a)))).next((h=>{u.forEach(((g,v)=>{const E=v.getKey();h.get(E)===null&&(h=h.insert(E,en.newInvalidDocument(E)))}));let p=Da();return h.forEach(((g,v)=>{const E=u.get(g);E!==void 0&&Ua(E.mutation,v,bn.empty(),nt.now()),tc(n,v)&&(p=p.insert(g,v))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Br(a.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:mS(a.bundledQuery),readTime:Br(a.readTime)}})(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.overlays=new ct(Te.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ms();return Q.forEach(n,(a=>this.getOverlay(e,a).next((u=>{u!==null&&s.set(a,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,u)=>{this.St(e,n,u)})),Q.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),Q.resolve()}getOverlaysForCollection(e,n,s){const a=Ms(),u=n.length+1,h=new Te(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,v=g.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>s&&a.set(g.getKey(),g)}return Q.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let u=new ct(((v,E)=>v-E));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let E=u.get(v.largestBatchId);E===null&&(E=Ms(),u=u.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const p=Ms(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,E)=>p.set(v,E))),!(p.size()>=a)););return Q.resolve(p)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new WA(n,s));let u=this.qr.get(n);u===void 0&&(u=Oe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this.Qr=new Pt(Mt.$r),this.Ur=new Pt(Mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Mt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Mt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Te(new tt([])),s=new Mt(n,e),a=new Mt(n,e+1),u=[];return this.Ur.forEachInRange([s,a],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new tt([])),s=new Mt(n,e),a=new Mt(n,e+1);let u=Oe();return this.Ur.forEachInRange([s,a],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Mt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Mt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Mt.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new $A(u,n,s,a);this.mutationQueue.push(h);for(const p of a)this.Zr=this.Zr.add(new Mt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Q.resolve(h)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),u=a<0?0:a;return Q.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Gf:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Mt(n,0),a=new Mt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,a],(h=>{const p=this.Xr(h.Yr);u.push(p)})),Q.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(Le);return n.forEach((a=>{const u=new Mt(a,0),h=new Mt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(p=>{s=s.add(p.Yr)}))})),Q.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let u=s;Te.isDocumentKey(u)||(u=u.child(""));const h=new Mt(new Te(u),0);let p=new Pt(Le);return this.Zr.forEachWhile((g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(p=p.add(g.Yr)),!0)}),h),Q.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Q.forEach(n.mutations,(a=>{const u=new Mt(a.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Mt(n,0),a=this.Zr.firstAfterOrEqual(s);return Q.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.ri=e,this.docs=(function(){return new ct(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),u=a?a.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Q.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=Ri();return n.forEach((a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():en.newInvalidDocument(a))})),Q.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let u=Ri();const h=n.path,p=new Te(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:v,value:{document:E}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||iA(rA(E),s)<=0||(a.has(E.key)||tc(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Q.resolve(u)}getAllFromCollectionGroup(e,n,s,a){Ie(9500)}ii(e,n){return Q.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new NS(this)}getSize(e){return Q.resolve(this.size)}}class NS extends AS{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.persistence=e,this.si=new zs((n=>Yf(n)),Xf),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new rd,this.targetCount=0,this.ai=Mo.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Mo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,s){let a=0;const u=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),a++)})),Q.waitFor(u).next((()=>a))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return Q.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),Q.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,u=[];return a&&n.forEach((h=>{u.push(a.markPotentiallyOrphaned(e,h))})),Q.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return Q.resolve(s)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n){this.ui={},this.overlays={},this.ci=new Yu(0),this.li=!1,this.li=!0,this.hi=new PS,this.referenceDelegate=e(this),this.Pi=new DS(this),this.indexManager=new gS,this.remoteDocumentCache=(function(a){return new xS(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new pS(n),this.Ii=new RS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new kS(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const a=new VS(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((u=>this.referenceDelegate.di(a).next((()=>u)))).toPromise().then((u=>(a.raiseOnCommittedEvent(),u)))}Ai(e,n){return Q.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class VS extends oA{constructor(e){super(),this.currentSequenceNumber=e}}class id{constructor(e){this.persistence=e,this.Ri=new rd,this.Vi=null}static mi(e){return new id(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),Q.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(s=>{const a=Te.fromPath(s);return this.gi(e,a).next((u=>{u||n.removeEntry(a,Pe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class $u{constructor(e,n){this.persistence=e,this.pi=new zs((s=>uA(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=TS(this,n)}static mi(e,n){return new $u(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((s,a)=>this.br(e,s,a).next((u=>u?Q.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.ii(e,(h=>this.br(e,h,n).next((p=>{p||(s++,u.removeEntry(h,Pe.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ru(e.data.value)),n}br(e,n,s){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return Q.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Oe(),a=Oe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new sd(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return CT()?8:aA(IT())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,a,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new LS;return this.Ss(e,n,h).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,h,p.size)}))})).next((()=>u.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Io()<=ze.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(Io()<=ze.DEBUG&&ue("QueryEngine","Query:",Ro(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Io()<=ze.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(n))):Q.resolve())}ys(e,n){if(_g(n))return Q.resolve(null);let s=zr(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=_f(n,null,"F"),s=zr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Oe(...u);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const v=this.Ds(n,p);return this.Cs(n,v,h,g.readTime)?this.ys(e,_f(n,null,"F")):this.vs(e,v,n,g)}))))})))))}ws(e,n,s,a){return _g(n)||a.isEqual(Pe.min())?Q.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,a)?Q.resolve(null):(Io()<=ze.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ro(n)),this.vs(e,h,n,nA(a,Ha)).next((p=>p)))}))}Ds(e,n){let s=new Pt(uv(e));return n.forEach(((a,u)=>{tc(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Ss(e,n,s){return Io()<=ze.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ro(n)),this.ps.getDocumentsMatchingQuery(e,n,rs.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="LocalStore",MS=3e8;class FS{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new ct(Le),this.xs=new zs((u=>Yf(u)),Xf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function bS(i,e,n,s){return new FS(i,e,n,s)}async function Lv(i,e){const n=ke(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((u=>(a=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],p=[];let g=Oe();for(const v of a){h.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}for(const v of u){p.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((v=>({Ls:v,removedBatchIds:h,addedBatchIds:p})))}))}))}function US(i,e){const n=ke(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,v,E){const S=v.batch,T=S.keys();let V=Q.resolve();return T.forEach(($=>{V=V.next((()=>E.getEntry(g,$))).next((W=>{const j=v.docVersions.get($);qe(j!==null,48541),W.version.compareTo(j)<0&&(S.applyToRemoteDocument(W,v),W.isValidDocument()&&(W.setReadTime(v.commitVersion),E.addEntry(W)))}))})),V.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Oe();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(g=g.add(p.batch.mutations[v].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function Ov(i){const e=ke(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function jS(i,e){const n=ke(i),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const p=[];e.targetChanges.forEach(((E,S)=>{const T=a.get(S);if(!T)return;p.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S))));let V=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?V=V.withResumeToken($t.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),a=a.insert(S,V),(function(W,j,G){return W.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=MS?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(T,V,E)&&p.push(n.Pi.updateTargetData(u,V))}));let g=Ri(),v=Oe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(zS(u,h,e.documentUpdates).next((E=>{g=E.ks,v=E.qs}))),!s.isEqual(Pe.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(E)}return Q.waitFor(p).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,v))).next((()=>g))})).then((u=>(n.Ms=a,u)))}function zS(i,e,n){let s=Oe(),a=Oe();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Ri();return n.forEach(((p,g)=>{const v=u.get(p);g.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(p)),g.isNoDocument()&&g.version.isEqual(Pe.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):ue(od,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",g.version)})),{ks:h,qs:a}}))}function BS(i,e){const n=ke(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Gf),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function HS(i,e){const n=ke(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((u=>u?(a=u,Q.resolve(a)):n.Pi.allocateTargetId(s).next((h=>(a=new Xi(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Sf(i,e,n){const s=ke(i),a=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!Ho(h))throw h;ue(od,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function Dg(i,e,n){const s=ke(i);let a=Pe.min(),u=Oe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,v,E){const S=ke(g),T=S.xs.get(E);return T!==void 0?Q.resolve(S.Ms.get(T)):S.Pi.getTargetData(v,E)})(s,h,zr(e)).next((p=>{if(p)return a=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,p.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?a:Pe.min(),n?u:Oe()))).next((p=>($S(s,kA(e),p),{documents:p,Qs:u})))))}function $S(i,e,n){let s=i.Os.get(e)||Pe.min();n.forEach(((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class Vg{constructor(){this.activeTargetIds=OA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WS{constructor(){this.Mo=new Vg,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Vg,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="ConnectivityMonitor";class Og{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(Lg,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(Lg,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eu=null;function If(){return Eu===null?Eu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Eu++,"0x"+Eu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="RestConnection",GS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===bu?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,u){const h=If(),p=this.zo(e,n.toUriEncodedString());ue(Xh,`Sending RPC '${e}' ${h}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,a,u);const{host:v}=new URL(p),E=Bf(v);return this.Jo(e,p,g,s,E).then((S=>(ue(Xh,`Received RPC '${e}' ${h}: `,S),S)),(S=>{throw Do(Xh,`RPC '${e}' ${h} failed with error: `,S,"url: ",p,"request:",s),S}))}Ho(e,n,s,a,u,h){return this.Go(e,n,s,a,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,u)=>e[u]=a)),s&&s.headers.forEach(((a,u)=>e[u]=a))}zo(e,n){const s=GS[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class YS extends KS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,u){const h=If();return new Promise(((p,g)=>{const v=new Fy;v.setWithCredentials(!0),v.listenOnce(by.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Iu.NO_ERROR:const S=v.getResponseJson();ue(Jt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),p(S);break;case Iu.TIMEOUT:ue(Jt,`RPC '${e}' ${h} timed out`),g(new ge(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Iu.HTTP_ERROR:const T=v.getStatus();if(ue(Jt,`RPC '${e}' ${h} failed with status:`,T,"response text:",v.getResponseText()),T>0){let V=v.getResponseJson();Array.isArray(V)&&(V=V[0]);const $=V?.error;if($&&$.status&&$.message){const W=(function(G){const ie=G.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(ie)>=0?ie:Y.UNKNOWN})($.status);g(new ge(W,$.message))}else g(new ge(Y.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new ge(Y.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ue(Jt,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(a);ue(Jt,`RPC '${e}' ${h} sending request:`,a),v.send(n,"POST",E,s,15)}))}T_(e,n,s){const a=If(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=zy(),p=jy(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ue(Jt,`Creating RPC '${e}' stream ${a}: ${E}`,g);const S=h.createWebChannel(E,g);this.I_(S);let T=!1,V=!1;const $=new QS({Yo:j=>{V?ue(Jt,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(T||(ue(Jt,`Opening RPC '${e}' stream ${a} transport.`),S.open(),T=!0),ue(Jt,`RPC '${e}' stream ${a} sending:`,j),S.send(j))},Zo:()=>S.close()}),W=(j,G,ie)=>{j.listen(G,(se=>{try{ie(se)}catch(fe){setTimeout((()=>{throw fe}),0)}}))};return W(S,Na.EventType.OPEN,(()=>{V||(ue(Jt,`RPC '${e}' stream ${a} transport opened.`),$.o_())})),W(S,Na.EventType.CLOSE,(()=>{V||(V=!0,ue(Jt,`RPC '${e}' stream ${a} transport closed`),$.a_(),this.E_(S))})),W(S,Na.EventType.ERROR,(j=>{V||(V=!0,Do(Jt,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),$.a_(new ge(Y.UNAVAILABLE,"The operation could not be completed")))})),W(S,Na.EventType.MESSAGE,(j=>{if(!V){const G=j.data[0];qe(!!G,16349);const ie=G,se=ie?.error||ie[0]?.error;if(se){ue(Jt,`RPC '${e}' stream ${a} received error:`,se);const fe=se.status;let pe=(function(A){const R=Et[A];if(R!==void 0)return Tv(R)})(fe),we=se.message;pe===void 0&&(pe=Y.INTERNAL,we="Unknown error status: "+fe+" with message "+se.message),V=!0,$.a_(new ge(pe,we)),S.close()}else ue(Jt,`RPC '${e}' stream ${a} received:`,G),$.u_(G)}})),W(p,Uy.STAT_EVENT,(j=>{j.stat===df.PROXY?ue(Jt,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===df.NOPROXY&&ue(Jt,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Jh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(i){return new eS(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n,s=1e3,a=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ue("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="PersistentStream";class Fv{constructor(e,n,s,a,u,h,p,g){this.Mi=e,this.S_=s,this.b_=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Mv(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Ii(n.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new ge(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(Mg,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(Mg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XS extends Fv{constructor(e,n,s,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=rS(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Pe.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Pe.min():h.readTime?Br(h.readTime):Pe.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Af(this.serializer),n.addTarget=(function(u,h){let p;const g=h.target;if(p=vf(g)?{documents:oS(u,g)}:{query:aS(u,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=Iv(u,h.resumeToken);const v=Ef(u,h.expectedCount);v!==null&&(p.expectedCount=v)}else if(h.snapshotVersion.compareTo(Pe.min())>0){p.readTime=Hu(u,h.snapshotVersion.toTimestamp());const v=Ef(u,h.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const s=uS(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Af(this.serializer),n.removeTarget=e,this.q_(n)}}class JS extends Fv{constructor(e,n,s,a,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=sS(e.writeResults,e.commitTime),s=Br(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Af(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>iS(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{}class e1 extends ZS{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ge(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,wf(n,s),a,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(Y.UNKNOWN,u.toString())}))}Ho(e,n,s,a,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,wf(n,s),a,h,p,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ge(Y.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class t1{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ii(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="RemoteStore";class n1{constructor(e,n,s,a,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Bs(this)&&(ue(Us,"Restarting streams for network reachability change."),await(async function(g){const v=ke(g);v.Ea.add(4),await nl(v),v.Ra.set("Unknown"),v.Ea.delete(4),await oc(v)})(this))}))})),this.Ra=new t1(s,a)}}async function oc(i){if(Bs(i))for(const e of i.da)await e(!0)}async function nl(i){for(const e of i.da)await e(!1)}function bv(i,e){const n=ke(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),cd(n)?ud(n):$o(n).O_()&&ld(n,e))}function ad(i,e){const n=ke(i),s=$o(n);n.Ia.delete(e),s.O_()&&Uv(n,e),n.Ia.size===0&&(s.O_()?s.L_():Bs(n)&&n.Ra.set("Unknown"))}function ld(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$o(i).Y_(e)}function Uv(i,e){i.Va.Ue(e),$o(i).Z_(e)}function ud(i){i.Va=new YA({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),$o(i).start(),i.Ra.ua()}function cd(i){return Bs(i)&&!$o(i).x_()&&i.Ia.size>0}function Bs(i){return ke(i).Ea.size===0}function jv(i){i.Va=void 0}async function r1(i){i.Ra.set("Online")}async function i1(i){i.Ia.forEach(((e,n)=>{ld(i,e)}))}async function s1(i,e){jv(i),cd(i)?(i.Ra.ha(e),ud(i)):i.Ra.set("Unknown")}async function o1(i,e,n){if(i.Ra.set("Online"),e instanceof Sv&&e.state===2&&e.cause)try{await(async function(a,u){const h=u.cause;for(const p of u.targetIds)a.Ia.has(p)&&(await a.remoteSyncer.rejectListen(p,h),a.Ia.delete(p),a.Va.removeTarget(p))})(i,e)}catch(s){ue(Us,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Wu(i,s)}else if(e instanceof ku?i.Va.Ze(e):e instanceof Av?i.Va.st(e):i.Va.tt(e),!n.isEqual(Pe.min()))try{const s=await Ov(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const p=u.Va.Tt(h);return p.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(v);E&&u.Ia.set(v,E.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,v)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken($t.EMPTY_BYTE_STRING,E.snapshotVersion)),Uv(u,g);const S=new Xi(E.target,g,v,E.sequenceNumber);ld(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(i,n)}catch(s){ue(Us,"Failed to raise snapshot:",s),await Wu(i,s)}}async function Wu(i,e,n){if(!Ho(e))throw e;i.Ea.add(1),await nl(i),i.Ra.set("Offline"),n||(n=()=>Ov(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(Us,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await oc(i)}))}function zv(i,e){return e().catch((n=>Wu(i,n,e)))}async function ac(i){const e=ke(i),n=as(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gf;for(;a1(e);)try{const a=await BS(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,l1(e,a)}catch(a){await Wu(e,a)}Bv(e)&&Hv(e)}function a1(i){return Bs(i)&&i.Ta.length<10}function l1(i,e){i.Ta.push(e);const n=as(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Bv(i){return Bs(i)&&!as(i).x_()&&i.Ta.length>0}function Hv(i){as(i).start()}async function u1(i){as(i).ra()}async function c1(i){const e=as(i);for(const n of i.Ta)e.ea(n.mutations)}async function h1(i,e,n){const s=i.Ta.shift(),a=ed.from(s,e,n);await zv(i,(()=>i.remoteSyncer.applySuccessfulWrite(a))),await ac(i)}async function f1(i,e){e&&as(i).X_&&await(async function(s,a){if((function(h){return GA(h)&&h!==Y.ABORTED})(a.code)){const u=s.Ta.shift();as(s).B_(),await zv(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,a))),await ac(s)}})(i,e),Bv(i)&&Hv(i)}async function Fg(i,e){const n=ke(i);n.asyncQueue.verifyOperationInProgress(),ue(Us,"RemoteStore received new credentials");const s=Bs(n);n.Ea.add(3),await nl(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await oc(n)}async function d1(i,e){const n=ke(i);e?(n.Ea.delete(2),await oc(n)):e||(n.Ea.add(2),await nl(n),n.Ra.set("Unknown"))}function $o(i){return i.ma||(i.ma=(function(n,s,a){const u=ke(n);return u.sa(),new XS(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)})(i.datastore,i.asyncQueue,{Xo:r1.bind(null,i),t_:i1.bind(null,i),r_:s1.bind(null,i),H_:o1.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),cd(i)?ud(i):i.Ra.set("Unknown")):(await i.ma.stop(),jv(i))}))),i.ma}function as(i){return i.fa||(i.fa=(function(n,s,a){const u=ke(n);return u.sa(),new JS(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:u1.bind(null,i),r_:f1.bind(null,i),ta:c1.bind(null,i),na:h1.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await ac(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(Us,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n,s,a,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,u){const h=Date.now()+s,p=new hd(e,n,h,a,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fd(i,e){if(Ii("AsyncQueue",`${e}: ${i}`),Ho(i))return new ge(Y.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{static emptySet(e){return new xo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Te.comparator(n.key,s.key):(n,s)=>Te.comparator(n.key,s.key),this.keyedMap=Da(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new xo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(){this.ga=new ct(Te.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Fo{constructor(e,n,s,a,u,h,p,g,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,u){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new Fo(e,n,xo.emptySet(n),h,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ec(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class m1{constructor(){this.queries=Ug(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=ke(n),u=a.queries;a.queries=Ug(),u.forEach(((h,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new ge(Y.ABORTED,"Firestore shutting down"))}}function Ug(){return new zs((i=>lv(i)),ec)}async function $v(i,e){const n=ke(i);let s=3;const a=e.query;let u=n.queries.get(a);u?!u.ba()&&e.Da()&&(s=2):(u=new p1,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(a,!0);break;case 1:u.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(h){const p=fd(h,`Initialization of query '${Ro(e.query)}' failed`);return void e.onError(p)}n.queries.set(a,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&dd(n)}async function Wv(i,e){const n=ke(i),s=e.query;let a=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?a=e.Da()?0:1:!u.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function g1(i,e){const n=ke(i);let s=!1;for(const a of e){const u=a.query,h=n.queries.get(u);if(h){for(const p of h.Sa)p.Fa(a)&&(s=!0);h.wa=a}}s&&dd(n)}function y1(i,e,n){const s=ke(i),a=s.queries.get(e);if(a)for(const u of a.Sa)u.onError(n);s.queries.delete(e)}function dd(i){i.Ca.forEach((e=>{e.next()}))}var Rf,jg;(jg=Rf||(Rf={})).Ma="default",jg.Cache="cache";class qv{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Fo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e){this.key=e}}class Kv{constructor(e){this.key=e}}class v1{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Oe(),this.mutatedKeys=Oe(),this.eu=uv(e),this.tu=new xo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new bg,a=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=a,p=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((E,S)=>{const T=a.get(E),V=tc(this.query,S)?S:null,$=!!T&&this.mutatedKeys.has(T.key),W=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let j=!1;T&&V?T.data.isEqual(V.data)?$!==W&&(s.track({type:3,doc:V}),j=!0):this.su(T,V)||(s.track({type:2,doc:V}),j=!0,(g&&this.eu(V,g)>0||v&&this.eu(V,v)<0)&&(p=!0)):!T&&V?(s.track({type:0,doc:V}),j=!0):T&&!V&&(s.track({type:1,doc:T}),j=!0,(g||v)&&(p=!0)),j&&(V?(h=h.add(V),u=W?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,S)=>(function(V,$){const W=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:j})}};return W(V)-W($)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),a=a??!1;const p=n&&!a?this._u():[],g=this.Xa.size===0&&this.current&&!a?1:0,v=g!==this.Za;return this.Za=g,h.length!==0||v?{snapshot:new Fo(this.query,e.tu,u,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Oe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Kv(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Gv(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Oe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const pd="SyncEngine";class _1{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class E1{constructor(e){this.key=e,this.hu=!1}}class w1{constructor(e,n,s,a,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new zs((p=>lv(p)),ec),this.Iu=new Map,this.Eu=new Set,this.du=new ct(Te.comparator),this.Au=new Map,this.Ru=new rd,this.Vu={},this.mu=new Map,this.fu=Mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function T1(i,e,n=!0){const s=e_(i);let a;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.lu()):a=await Qv(s,e,n,!0),a}async function A1(i,e){const n=e_(i);await Qv(n,e,!0,!1)}async function Qv(i,e,n,s){const a=await HS(i.localStore,zr(e)),u=a.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await S1(i,e,u,h==="current",a.resumeToken)),i.isPrimaryClient&&n&&bv(i.remoteStore,a),p}async function S1(i,e,n,s,a){i.pu=(S,T,V)=>(async function(W,j,G,ie){let se=j.view.ru(G);se.Cs&&(se=await Dg(W.localStore,j.query,!1).then((({documents:L})=>j.view.ru(L,se))));const fe=ie&&ie.targetChanges.get(j.targetId),pe=ie&&ie.targetMismatches.get(j.targetId)!=null,we=j.view.applyChanges(se,W.isPrimaryClient,fe,pe);return Bg(W,j.targetId,we.au),we.snapshot})(i,S,T,V);const u=await Dg(i.localStore,e,!0),h=new v1(e,u.Qs),p=h.ru(u.documents),g=tl.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=h.applyChanges(p,i.isPrimaryClient,g);Bg(i,n,v.au);const E=new _1(e,n,h);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),v.snapshot}async function I1(i,e,n){const s=ke(i),a=s.Tu.get(e),u=s.Iu.get(a.targetId);if(u.length>1)return s.Iu.set(a.targetId,u.filter((h=>!ec(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Sf(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&ad(s.remoteStore,a.targetId),Cf(s,a.targetId)})).catch(Bo)):(Cf(s,a.targetId),await Sf(s.localStore,a.targetId,!0))}async function R1(i,e){const n=ke(i),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ad(n.remoteStore,s.targetId))}async function C1(i,e,n){const s=L1(i);try{const a=await(function(h,p){const g=ke(h),v=nt.now(),E=p.reduce(((V,$)=>V.add($.key)),Oe());let S,T;return g.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let $=Ri(),W=Oe();return g.Ns.getEntries(V,E).next((j=>{$=j,$.forEach(((G,ie)=>{ie.isValidDocument()||(W=W.add(G))}))})).next((()=>g.localDocuments.getOverlayedDocuments(V,$))).next((j=>{S=j;const G=[];for(const ie of p){const se=BA(ie,S.get(ie.key).overlayedDocument);se!=null&&G.push(new cs(ie.key,se,tv(se.value.mapValue),Ar.exists(!0)))}return g.mutationQueue.addMutationBatch(V,v,G,p)})).next((j=>{T=j;const G=j.applyToLocalDocumentSet(S,W);return g.documentOverlayCache.saveOverlays(V,j.batchId,G)}))})).then((()=>({batchId:T.batchId,changes:hv(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(h,p,g){let v=h.Vu[h.currentUser.toKey()];v||(v=new ct(Le)),v=v.insert(p,g),h.Vu[h.currentUser.toKey()]=v})(s,a.batchId,n),await rl(s,a.changes),await ac(s.remoteStore)}catch(a){const u=fd(a,"Failed to persist write");n.reject(u)}}async function Yv(i,e){const n=ke(i);try{const s=await jS(n.localStore,e);e.targetChanges.forEach(((a,u)=>{const h=n.Au.get(u);h&&(qe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?h.hu=!0:a.modifiedDocuments.size>0?qe(h.hu,14607):a.removedDocuments.size>0&&(qe(h.hu,42227),h.hu=!1))})),await rl(n,s,e)}catch(s){await Bo(s)}}function zg(i,e,n){const s=ke(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((u,h)=>{const p=h.view.va(e);p.snapshot&&a.push(p.snapshot)})),(function(h,p){const g=ke(h);g.onlineState=p;let v=!1;g.queries.forEach(((E,S)=>{for(const T of S.Sa)T.va(p)&&(v=!0)})),v&&dd(g)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function P1(i,e,n){const s=ke(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),u=a&&a.key;if(u){let h=new ct(Te.comparator);h=h.insert(u,en.newNoDocument(u,Pe.min()));const p=Oe().add(u),g=new ic(Pe.min(),new Map,new ct(Le),h,p);await Yv(s,g),s.du=s.du.remove(u),s.Au.delete(e),md(s)}else await Sf(s.localStore,e,!1).then((()=>Cf(s,e,n))).catch(Bo)}async function k1(i,e){const n=ke(i),s=e.batch.batchId;try{const a=await US(n.localStore,e);Jv(n,s,null),Xv(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await rl(n,a)}catch(a){await Bo(a)}}async function x1(i,e,n){const s=ke(i);try{const a=await(function(h,p){const g=ke(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let E;return g.mutationQueue.lookupMutationBatch(v,p).next((S=>(qe(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(v,S)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E))).next((()=>g.localDocuments.getDocuments(v,E)))}))})(s.localStore,e);Jv(s,e,n),Xv(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await rl(s,a)}catch(a){await Bo(a)}}function Xv(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Jv(i,e,n){const s=ke(i);let a=s.Vu[s.currentUser.toKey()];if(a){const u=a.get(e);u&&(n?u.reject(n):u.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Cf(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||Zv(i,s)}))}function Zv(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(ad(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),md(i))}function Bg(i,e,n){for(const s of n)s instanceof Gv?(i.Ru.addReference(s.key,e),N1(i,s)):s instanceof Kv?(ue(pd,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Zv(i,s.key)):Ie(19791,{wu:s})}function N1(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ue(pd,"New document in limbo: "+n),i.Eu.add(s),md(i))}function md(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Te(tt.fromString(e)),s=i.fu.next();i.Au.set(s,new E1(n)),i.du=i.du.insert(n,s),bv(i.remoteStore,new Xi(zr(Jf(n.path)),s,"TargetPurposeLimboResolution",Yu.ce))}}async function rl(i,e,n){const s=ke(i),a=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{h.push(s.pu(g,e,n).then((v=>{if((v||n)&&s.isPrimaryClient){const E=v?!v.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(v){a.push(v);const E=sd.As(g.targetId,v);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(a),await(async function(g,v){const E=ke(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Q.forEach(v,(T=>Q.forEach(T.Es,(V=>E.persistence.referenceDelegate.addReference(S,T.targetId,V))).next((()=>Q.forEach(T.ds,(V=>E.persistence.referenceDelegate.removeReference(S,T.targetId,V)))))))))}catch(S){if(!Ho(S))throw S;ue(od,"Failed to update sequence numbers: "+S)}for(const S of v){const T=S.targetId;if(!S.fromCache){const V=E.Ms.get(T),$=V.snapshotVersion,W=V.withLastLimboFreeSnapshotVersion($);E.Ms=E.Ms.insert(T,W)}}})(s.localStore,u))}async function D1(i,e){const n=ke(i);if(!n.currentUser.isEqual(e)){ue(pd,"User change. New user:",e.toKey());const s=await Lv(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new ge(Y.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await rl(n,s.Ls)}}function V1(i,e){const n=ke(i),s=n.Au.get(e);if(s&&s.hu)return Oe().add(s.key);{let a=Oe();const u=n.Iu.get(e);if(!u)return a;for(const h of u){const p=n.Tu.get(h);a=a.unionWith(p.view.nu)}return a}}function e_(i){const e=ke(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P1.bind(null,e),e.Pu.H_=g1.bind(null,e.eventManager),e.Pu.yu=y1.bind(null,e.eventManager),e}function L1(i){const e=ke(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=k1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x1.bind(null,e),e}class qu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return bS(this.persistence,new OS,e.initialUser,this.serializer)}Cu(e){return new Vv(id.mi,this.serializer)}Du(e){return new WS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qu.provider={build:()=>new qu};class O1 extends qu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qe(this.persistence.referenceDelegate instanceof $u,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ES(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new Vv((s=>$u.mi(s,n)),this.serializer)}}class Pf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>zg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=D1.bind(null,this.syncEngine),await d1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new m1})()}createDatastore(e){const n=sc(e.databaseInfo.databaseId),s=(function(u){return new YS(u)})(e.databaseInfo);return(function(u,h,p,g){return new e1(u,h,p,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,u,h,p){return new n1(s,a,u,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>zg(this.syncEngine,n,0)),(function(){return Og.v()?new Og:new qS})())}createSyncEngine(e,n){return(function(a,u,h,p,g,v,E){const S=new w1(a,u,h,p,g,v);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=ke(n);ue(Us,"RemoteStore shutting down."),s.Ea.add(5),await nl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pf.provider={build:()=>new Pf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="FirestoreClient";class M1{constructor(e,n,s,a,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Zt.UNAUTHENTICATED,this.clientId=Wf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ue(ls,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ue(ls,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=fd(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Zh(i,e){i.asyncQueue.verifyOperationInProgress(),ue(ls,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async a=>{s.isEqual(a)||(await Lv(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Hg(i,e){i.asyncQueue.verifyOperationInProgress();const n=await F1(i);ue(ls,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>Fg(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,a)=>Fg(e.remoteStore,a))),i._onlineComponents=e}async function F1(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(ls,"Using user provided OfflineComponentProvider");try{await Zh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Y.FAILED_PRECONDITION||a.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Do("Error using user provided cache. Falling back to memory cache: "+n),await Zh(i,new qu)}}else ue(ls,"Using default OfflineComponentProvider"),await Zh(i,new O1(void 0));return i._offlineComponents}async function n_(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(ls,"Using user provided OnlineComponentProvider"),await Hg(i,i._uninitializedComponentsProvider._online)):(ue(ls,"Using default OnlineComponentProvider"),await Hg(i,new Pf))),i._onlineComponents}function b1(i){return n_(i).then((e=>e.syncEngine))}async function r_(i){const e=await n_(i),n=e.eventManager;return n.onListen=T1.bind(null,e.syncEngine),n.onUnlisten=I1.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=A1.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=R1.bind(null,e.syncEngine),n}function U1(i,e,n={}){const s=new wi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,v){const E=new t_({next:T=>{E.Nu(),h.enqueueAndForget((()=>Wv(u,S)));const V=T.docs.has(p);!V&&T.fromCache?v.reject(new ge(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&T.fromCache&&g&&g.source==="server"?v.reject(new ge(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(T)},error:T=>v.reject(T)}),S=new qv(Jf(p.path),E,{includeMetadataChanges:!0,qa:!0});return $v(u,S)})(await r_(i),i.asyncQueue,e,n,s))),s.promise}function j1(i,e,n={}){const s=new wi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,v){const E=new t_({next:T=>{E.Nu(),h.enqueueAndForget((()=>Wv(u,S))),T.fromCache&&g.source==="server"?v.reject(new ge(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(T)},error:T=>v.reject(T)}),S=new qv(p,E,{includeMetadataChanges:!0,qa:!0});return $v(u,S)})(await r_(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="firestore.googleapis.com",Wg=!0;class qg{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s_,this.ssl=Wg}else this.host=e.host,this.ssl=e.ssl??Wg;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Dv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vS)throw new ge(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i_(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lc{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new W0;switch(s.type){case"firstParty":return new Q0(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=$g.get(n);s&&(ue("ComponentProvider","Removing Datastore"),$g.delete(n),s.terminate())})(this),Promise.resolve()}}function z1(i,e,n,s={}){i=Gr(i,lc);const a=Bf(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${n}`;a&&(ET(`https://${p}`),ST("Firestore",!0)),u.host!==s_&&u.host!==p&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:a,emulatorOptions:s};if(!Lu(g,h)&&(i._setSettings(g),s.mockUserToken)){let v,E;if(typeof s.mockUserToken=="string")v=s.mockUserToken,E=Zt.MOCK_USER;else{v=wT(s.mockUserToken,i._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ge(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(S)}i._authCredentials=new q0(new Hy(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new uc(this.firestore,e,this._query)}}class Tt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Za(n,Tt._jsonSchema))return new Tt(e,s||null,new Te(tt.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:wt("string",Tt._jsonSchemaVersion),referencePath:wt("string")};class ts extends uc{constructor(e,n,s){super(e,n,Jf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new Te(e))}withConverter(e){return new ts(this.firestore,e,this._path)}}function kf(i,e,...n){if(i=ns(i),$y("collection","path",e),i instanceof lc){const s=tt.fromString(e,...n);return og(s),new ts(i,null,s)}{if(!(i instanceof Tt||i instanceof ts))throw new ge(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return og(s),new ts(i.firestore,null,s)}}function Hr(i,e,...n){if(i=ns(i),arguments.length===1&&(e=Wf.newId()),$y("doc","path",e),i instanceof lc){const s=tt.fromString(e,...n);return sg(s),new Tt(i,null,new Te(s))}{if(!(i instanceof Tt||i instanceof ts))throw new ge(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return sg(s),new Tt(i.firestore,i instanceof ts?i.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="AsyncQueue";class Kg{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Mv(this,"async_queue_retry"),this._c=()=>{const s=Jh();s&&ue(Gg,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Jh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Jh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new wi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ho(e))throw e;ue(Gg,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ii("INTERNAL UNHANDLED ERROR: ",Qg(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=hd.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(a),a}uc(){this.nc&&Ie(47125,{Pc:Qg(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Qg(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Wo extends lc{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Kg,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Kg(e),this._firestoreClient=void 0,await e}}}function B1(i,e){const n=typeof i=="object"?i:L0(),s=typeof i=="string"?i:bu,a=k0(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const u=vT("firestore");u&&z1(a,...u)}return a}function gd(i){if(i._terminated)throw new ge(Y.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||H1(i),i._firestoreClient}function H1(i){const e=i._freezeSettings(),n=(function(a,u,h,p){return new fA(a,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,i_(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new M1(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(a){const u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sr($t.fromBase64String(e))}catch(n){throw new ge(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sr($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:sr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Za(e,sr._jsonSchema))return sr.fromBase64String(e.bytes)}}sr._jsonSchemaVersion="firestore/bytes/1.0",sr._jsonSchema={type:wt("string",sr._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$r._jsonSchemaVersion}}static fromJSON(e){if(Za(e,$r._jsonSchema))return new $r(e.latitude,e.longitude)}}$r._jsonSchemaVersion="firestore/geoPoint/1.0",$r._jsonSchema={type:wt("string",$r._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Za(e,Wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Wr(e.vectorValues);throw new ge(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wr._jsonSchemaVersion="firestore/vectorValue/1.0",Wr._jsonSchema={type:wt("string",Wr._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=/^__.*__$/;class W1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new el(e,this.data,n,this.fieldTransforms)}}class o_{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new cs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function a_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:i})}}class yd{constructor(e,n,s,a,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new yd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(a_(this.Ac)&&$1.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class q1{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||sc(e)}Cc(e,n,s,a=!1){return new yd({Ac:e,methodName:n,Dc:s,path:Ht.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vd(i){const e=i._freezeSettings(),n=sc(i._databaseId);return new q1(i._databaseId,!!e.ignoreUndefinedProperties,n)}function l_(i,e,n,s,a,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,a);Ed("Data must be an object, but it was:",h,s);const p=u_(s,h);let g,v;if(u.merge)g=new bn(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const T=xf(e,S,n);if(!h.contains(T))throw new ge(Y.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);h_(E,T)||E.push(T)}g=new bn(E),v=h.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,v=h.fieldTransforms;return new W1(new Cn(p),g,v)}class fc extends hc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fc}}class _d extends hc{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Qa(e.serializer,pv(e.serializer,this.Fc));return new bA(e.path,n)}isEqual(e){return e instanceof _d&&this.Fc===e.Fc}}function G1(i,e,n,s){const a=i.Cc(1,e,n);Ed("Data must be an object, but it was:",a,s);const u=[],h=Cn.empty();us(s,((g,v)=>{const E=wd(e,g,n);v=ns(v);const S=a.yc(E);if(v instanceof fc)u.push(E);else{const T=dc(v,S);T!=null&&(u.push(E),h.set(E,T))}}));const p=new bn(u);return new o_(h,p,a.fieldTransforms)}function K1(i,e,n,s,a,u){const h=i.Cc(1,e,n),p=[xf(e,s,n)],g=[a];if(u.length%2!=0)throw new ge(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)p.push(xf(e,u[T])),g.push(u[T+1]);const v=[],E=Cn.empty();for(let T=p.length-1;T>=0;--T)if(!h_(v,p[T])){const V=p[T];let $=g[T];$=ns($);const W=h.yc(V);if($ instanceof fc)v.push(V);else{const j=dc($,W);j!=null&&(v.push(V),E.set(V,j))}}const S=new bn(v);return new o_(E,S,h.fieldTransforms)}function dc(i,e){if(c_(i=ns(i)))return Ed("Unsupported field value:",e,i),u_(i,e);if(i instanceof hc)return(function(s,a){if(!a_(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(a);u&&a.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const u=[];let h=0;for(const p of s){let g=dc(p,a.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,a){if((s=ns(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pv(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=nt.fromDate(s);return{timestampValue:Hu(a.serializer,u)}}if(s instanceof nt){const u=new nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hu(a.serializer,u)}}if(s instanceof $r)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof sr)return{bytesValue:Iv(a.serializer,s._byteString)};if(s instanceof Tt){const u=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw a.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:nd(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Wr)return(function(h,p){return{mapValue:{fields:{[Zy]:{stringValue:ev},[Uu]:{arrayValue:{values:h.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return Zf(p.serializer,v)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${qf(s)}`)})(i,e)}function u_(i,e){const n={};return Gy(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(i,((s,a)=>{const u=dc(a,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function c_(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof nt||i instanceof $r||i instanceof sr||i instanceof Tt||i instanceof hc||i instanceof Wr)}function Ed(i,e,n){if(!c_(n)||!Wy(n)){const s=qf(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function xf(i,e,n){if((e=ns(e))instanceof cc)return e._internalPath;if(typeof e=="string")return wd(i,e);throw Gu("Field path arguments must be of type string or ",i,!1,void 0,n)}const Q1=new RegExp("[~\\*/\\[\\]]");function wd(i,e,n){if(e.search(Q1)>=0)throw Gu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new cc(...e.split("."))._internalPath}catch{throw Gu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Gu(i,e,n,s,a){const u=s&&!s.isEmpty(),h=a!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${a}`),g+=")"),new ge(Y.INVALID_ARGUMENT,p+i+g)}function h_(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,n,s,a,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Y1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(d_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Y1 extends f_{data(){return super.data()}}function d_(i,e){return typeof e=="string"?wd(i,e):e instanceof cc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ge(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class J1{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return us(e,((a,u)=>{s[a]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Uu].arrayValue?.values?.map((s=>gt(s.doubleValue)));return new Wr(n)}convertGeoPoint(e){return new $r(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ju(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp($a(e));default:return null}}convertTimestamp(e){const n=is(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);qe(Nv(s),9688,{name:e});const a=new Wa(s.get(1),s.get(3)),u=new Te(s.popFirst(5));return a.isEqual(n)||Ii(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class La{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fs extends f_{constructor(e,n,s,a,u,h){super(e,n,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(d_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Fs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fs._jsonSchema={type:wt("string",Fs._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class xu extends Fs{data(e={}){return super.data(e)}}class No{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new La(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new xu(this._firestore,this._userDataWriter,s.key,s,new La(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,u){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map((p=>{const g=new xu(a._firestore,a._userDataWriter,p.doc.key,p.doc,new La(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new xu(a._firestore,a._userDataWriter,p.doc.key,p.doc,new La(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,E=-1;return p.type!==0&&(v=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),E=h.indexOf(p.doc.key)),{type:Z1(p.type),doc:g,oldIndex:v,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=No._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),a.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Z1(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(i){i=Gr(i,Tt);const e=Gr(i.firestore,Wo);return U1(gd(e),i._key).then((n=>nI(e,i,n)))}No._jsonSchemaVersion="firestore/querySnapshot/1.0",No._jsonSchema={type:wt("string",No._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class m_ extends J1{constructor(e){super(),this.firestore=e}convertBytes(e){return new sr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function eI(i){i=Gr(i,uc);const e=Gr(i.firestore,Wo),n=gd(e),s=new m_(e);return X1(i._query),j1(n,i._query).then((a=>new No(e,s,i,a)))}function tI(i,e,n){i=Gr(i,Tt);const s=Gr(i.firestore,Wo),a=p_(i.converter,e);return Td(s,[l_(vd(s),"setDoc",i._key,a,i.converter!==null,n).toMutation(i._key,Ar.none())])}function Nf(i,e,n,...s){i=Gr(i,Tt);const a=Gr(i.firestore,Wo),u=vd(a);let h;return h=typeof(e=ns(e))=="string"||e instanceof cc?K1(u,"updateDoc",i._key,e,n,s):G1(u,"updateDoc",i._key,e),Td(a,[h.toMutation(i._key,Ar.exists(!0))])}function g_(i,e){const n=Gr(i.firestore,Wo),s=Hr(i),a=p_(i.converter,e);return Td(n,[l_(vd(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,Ar.exists(!1))]).then((()=>s))}function Td(i,e){return(function(s,a){const u=new wi;return s.asyncQueue.enqueueAndForget((async()=>C1(await b1(s),a,u))),u.promise})(gd(i),e)}function nI(i,e,n){const s=n.docs.get(e._key),a=new m_(i);return new Fs(i,a,e._key,s,new La(n.hasPendingWrites,n.fromCache),e.converter)}function rI(i){return new _d("increment",i)}(function(e,n=!0){(function(a){zo=a})(V0),Mu(new za("firestore",((s,{instanceIdentifier:a,options:u})=>{const h=s.getProvider("app").getImmediate(),p=new Wo(new G0(s.getProvider("auth-internal")),new Y0(h,s.getProvider("app-check-internal")),(function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ge(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wa(v.options.projectId,E)})(h,a),h);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),ko(tg,ng,e),ko(tg,ng,"esm2020")})();var iI="firebase",sI="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ko(iI,sI,"app");const oI={apiKey:"AIzaSyAInviShyIYmFRuifWhgHLBb78hi95uN_Q",authDomain:"f7e-database.firebaseapp.com",projectId:"f7e-database",storageBucket:"f7e-database.firebasestorage.app",messagingSenderId:"642686760461",appId:"1:642686760461:web:2549e76e002e3091340744",measurementId:"G-SVZZGFVLP0"},aI=Vy(oI),or=B1(aI),y_=B.createContext(),lI=({children:i})=>{const[e,n]=B.useState(()=>{try{const u=localStorage.getItem("currentUser");return u?JSON.parse(u):null}catch{return localStorage.removeItem("currentUser"),null}}),[s,a]=B.useState(!e);return B.useEffect(()=>{e&&e.id?(localStorage.setItem("currentUser",JSON.stringify(e)),localStorage.setItem("currentUserId",e.id)):(localStorage.removeItem("currentUser"),localStorage.removeItem("currentUserId"))},[e]),B.useEffect(()=>{const u=localStorage.getItem("currentUserId");if(!u){n(null),a(!1);return}(async()=>{a(!0);try{const p=Hr(or,"users",u),g=await qo(p);if(g.exists()){const v=g.data();v.id=u,n(v)}else n(null)}catch(p){console.error("Error fetching user:",p),n(null)}finally{a(!1)}})()},[]),x.jsx(y_.Provider,{value:{currentUser:e,setCurrentUser:n,loading:s},children:i})},il=()=>B.useContext(y_);function uI(){const{currentUser:i}=il(),[e,n]=B.useState(null),[s,a]=B.useState({x:0,y:0}),u=B.useRef(null),h=(p,g)=>{e===p?n(null):(a({x:g.pageX,y:g.pageY}),n(p))};return B.useEffect(()=>{const p=g=>{u.current&&!u.current.contains(g.target)&&n(null)};return e&&document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[e]),B.useEffect(()=>{if(!e||!u.current)return;const p=u.current.getBoundingClientRect(),g=window.innerWidth;let v=s.x;p.right>g&&(v=Math.max(0,s.x-p.width)),a(E=>({...E,x:v}))},[e,s.x]),x.jsxs("div",{className:"min-h-screen flex flex-col",children:[x.jsx("div",{className:"background"}),x.jsx("div",{className:"circle-button profile-button",onClick:p=>h("profile",p)}),x.jsx("div",{className:"circle-button menu-button",onClick:p=>h("menu",p)}),e&&x.jsxs("div",{ref:u,className:"popup",style:{top:`${s.y}px`,left:`${s.x}px`,position:"absolute"},children:[e==="profile"&&x.jsxs(x.Fragment,{children:[x.jsx(Os,{to:"/new-user",children:"New User/Login"}),i?x.jsx(Os,{to:`/profile/${i.id}`,children:"Profile"}):x.jsx("span",{style:{color:"gray"},children:"Profile (login first)"}),x.jsx(Os,{to:"/creator-page",children:" Creator Page "}),x.jsx(Os,{to:"/active-projects",style:{color:"red"}})]}),e==="menu"&&x.jsxs(x.Fragment,{children:[x.jsx("a",{href:"#",children:"Watch"}),x.jsx("a",{href:"#",children:"Read"}),x.jsx("a",{href:"#",children:"Listen"}),x.jsx("a",{href:"#",children:"Play"}),x.jsx("a",{href:"#",children:"Events"}),x.jsx("a",{href:"#",children:"Search"}),x.jsx(Os,{to:"/",children:"Home"})]})]}),x.jsx("div",{className:"title2",children:"Faction Seven"}),x.jsx("div",{className:"slogan",children:"Your one-stop media source"}),x.jsxs("main",{className:"flex-grow container mx-auto p-4",children:[x.jsx(Cw,{})," "]})]})}function cI(){return x.jsxs("div",{className:"main-container",children:[x.jsxs("div",{className:"sidebar left",children:[x.jsxs("div",{className:"suggested",children:[x.jsx("img",{src:"media1.jpg",alt:"Media 1"}),x.jsx("a",{href:"#",children:"Urban Echoes"})]}),x.jsxs("div",{className:"suggested",children:[x.jsx("img",{src:"media2.jpg",alt:"Media 2"}),x.jsx("a",{href:"#",children:"Moonlit Strands"})]})]}),x.jsxs("div",{className:"featured",children:[x.jsxs("h2",{children:['Featured Content: "Just for Kicks" by'," ",x.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),x.jsx("div",{className:"youtube-embed-container",children:x.jsx("iframe",{className:"youtube-embed",src:"https://www.youtube.com/embed/P0h0rO7eods?si=MMQiYKH9NEHZJ61p",title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),x.jsx("div",{className:"sidebar right",children:x.jsxs("div",{className:"news",children:[x.jsx("h3",{children:"Site News"}),x.jsx("p",{children:"Faction Seven content platform up and running! Main page features and modules fully (mostly) functional."})]})}),x.jsxs("div",{className:"showcases",children:[x.jsxs("div",{className:"showcase-2",children:[x.jsxs("h4",{children:['"R E L A X" by'," ",x.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),x.jsx("div",{className:"youtube-embed-container",children:x.jsx("iframe",{className:"responsive-image",src:"https://drive.google.com/file/d/1PhvScbMV0aXOONmudS8SIr4F_KJiajKM/preview",title:"image",allow:"autoplay",allowFullScreen:!0})})]}),x.jsxs("div",{className:"showcase-3",children:[x.jsxs("h4",{children:["Nevereign: Shadow Rising by"," ",x.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),x.jsx("div",{className:"text-embed-container",children:x.jsx("iframe",{src:"https://docs.google.com/document/d/1yEb24TJz9DchfmO80x89cFe9qKe9uPGzHoAASy4KsNk/preview",title:"Nevereign: Shadow Rising",width:"640",height:"480",allow:"autoplay"})}),"Read the whole story"," ",x.jsx("a",{href:"https://Patreon.com/FactionSevenEntertainment",style:{color:"red"},children:"here"}),"."]})]}),x.jsx("div",{className:"spotlight-list",children:x.jsxs("ul",{children:[x.jsx("li",{children:x.jsx("a",{href:"#",children:"[4] Iris.exe  Short horror game"})}),x.jsx("li",{children:x.jsx("a",{href:"#",children:"[5] Selenes Vault  Digital comic"})}),x.jsx("li",{children:x.jsx("a",{href:"#",children:"[6] Synth Sketches  Concept art"})}),x.jsx("li",{children:x.jsx("a",{href:"#",children:"[7] Rooftop Hymns  Poetry"})}),x.jsx("li",{children:x.jsx("a",{href:"#",children:"[8] Last Light  Animated short"})}),x.jsx("li",{children:x.jsx("a",{href:"#",children:"[9] Outskirts  Creator podcast"})}),x.jsx("li",{children:x.jsx("a",{href:"#",children:"[10] F7 Monthly Jam Results"})})]})})]})}const Yg={Government:0,Infrastructure:0,Security:0,Commerce:0,Industry:0,Research:0,Background:0};function hI(){const[i,e]=B.useState(""),[n,s]=B.useState("Government"),[a,u]=B.useState(""),[h,p]=B.useState(""),{setCurrentUser:g}=il(),v=Mf(),E=async()=>{if(!i)return p("Please enter a name.");try{const V=await g_(kf(or,"users"),{name:i,faction:n,kudos:Yg});p(`User created with auto-ID: ${V.id}`)}catch(V){console.error(V),p("Error creating user.")}},S=async()=>{if(!i||!a)return p("Enter both name and custom ID.");try{await tI(Hr(or,"users",a),{name:i,faction:n,kudos:Yg}),p(`User created with custom ID: ${a}`)}catch(V){console.error(V),p("Error creating user.")}},T=async()=>{if(!a)return p("Enter your user ID to login.");try{const V=Hr(or,"users",a),$=await qo(V);if($.exists()){const W=$.data();g({id:a,...W}),p(`Logged in as ${W.name} (Faction: ${W.faction})`),v(`/profile/${a}`)}else p("No such user found.")}catch(V){console.error(V),p("Login failed.")}};return x.jsxs("div",{style:{maxWidth:"400px",margin:"auto",padding:"1rem"},children:[x.jsx("h2",{children:"Create New User"}),x.jsx("label",{children:"Name:"}),x.jsx("input",{style:{color:"black"},type:"text",value:i,onChange:V=>e(V.target.value),placeholder:"Enter your name"}),x.jsx("br",{}),x.jsx("label",{children:"Faction:"}),x.jsxs("select",{style:{color:"black"},value:n,onChange:V=>s(V.target.value),children:[x.jsx("option",{value:"Government",children:"Government"}),x.jsx("option",{value:"Infrastructure",children:"Infrastructure"}),x.jsx("option",{value:"Security",children:"Security"}),x.jsx("option",{value:"Commerce",children:"Commerce"}),x.jsx("option",{value:"Industry",children:"Industry"}),x.jsx("option",{value:"Research",children:"Research"}),x.jsx("option",{value:"Background",children:"Background"})]}),x.jsx("br",{}),x.jsx("label",{children:"Custom ID (optional):"}),x.jsx("input",{style:{color:"black"},type:"text",value:a,onChange:V=>u(V.target.value),placeholder:"Optional custom ID"}),x.jsx("br",{}),x.jsxs("div",{style:{marginTop:"1rem"},children:[x.jsx("button",{onClick:E,children:"Create User (Auto-ID)"}),x.jsx("button",{onClick:S,style:{marginLeft:"1rem"},children:"Create User (Custom ID)"})]}),x.jsx("div",{style:{marginTop:"1rem"},children:x.jsx("button",{onClick:T,children:"Login"})}),h&&x.jsx("p",{style:{marginTop:"1rem"},children:h})]})}function fI(){return x.jsxs("div",{style:{color:"red"},children:[x.jsx("h1",{children:"Active Projects"}),x.jsx("p",{children:"List of ongoing projects will go here..."})]})}/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:v_,setPrototypeOf:Xg,isFrozen:dI,getPrototypeOf:pI,getOwnPropertyDescriptor:mI}=Object;let{freeze:un,seal:ar,create:__}=Object,{apply:Df,construct:Vf}=typeof Reflect<"u"&&Reflect;un||(un=function(e){return e});ar||(ar=function(e){return e});Df||(Df=function(e,n,s){return e.apply(n,s)});Vf||(Vf=function(e,n){return new e(...n)});const wu=cn(Array.prototype.forEach),gI=cn(Array.prototype.lastIndexOf),Jg=cn(Array.prototype.pop),Ra=cn(Array.prototype.push),yI=cn(Array.prototype.splice),Nu=cn(String.prototype.toLowerCase),ef=cn(String.prototype.toString),Zg=cn(String.prototype.match),Ca=cn(String.prototype.replace),vI=cn(String.prototype.indexOf),_I=cn(String.prototype.trim),Tr=cn(Object.prototype.hasOwnProperty),ln=cn(RegExp.prototype.test),Pa=EI(TypeError);function cn(i){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return Df(i,e,s)}}function EI(i){return function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return Vf(i,n)}}function Ve(i,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Nu;Xg&&Xg(i,null);let s=e.length;for(;s--;){let a=e[s];if(typeof a=="string"){const u=n(a);u!==a&&(dI(e)||(e[s]=u),a=u)}i[a]=!0}return i}function wI(i){for(let e=0;e<i.length;e++)Tr(i,e)||(i[e]=null);return i}function _i(i){const e=__(null);for(const[n,s]of v_(i))Tr(i,n)&&(Array.isArray(s)?e[n]=wI(s):s&&typeof s=="object"&&s.constructor===Object?e[n]=_i(s):e[n]=s);return e}function ka(i,e){for(;i!==null;){const s=mI(i,e);if(s){if(s.get)return cn(s.get);if(typeof s.value=="function")return cn(s.value)}i=pI(i)}function n(){return null}return n}const ey=un(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),tf=un(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),nf=un(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),TI=un(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),rf=un(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),AI=un(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ty=un(["#text"]),ny=un(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),sf=un(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ry=un(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Tu=un(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),SI=ar(/\{\{[\w\W]*|[\w\W]*\}\}/gm),II=ar(/<%[\w\W]*|[\w\W]*%>/gm),RI=ar(/\$\{[\w\W]*/gm),CI=ar(/^data-[\-\w.\u00B7-\uFFFF]+$/),PI=ar(/^aria-[\-\w]+$/),E_=ar(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),kI=ar(/^(?:\w+script|data):/i),xI=ar(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),w_=ar(/^html$/i),NI=ar(/^[a-z][.\w]*(-[.\w]+)+$/i);var iy=Object.freeze({__proto__:null,ARIA_ATTR:PI,ATTR_WHITESPACE:xI,CUSTOM_ELEMENT:NI,DATA_ATTR:CI,DOCTYPE_NAME:w_,ERB_EXPR:II,IS_ALLOWED_URI:E_,IS_SCRIPT_OR_DATA:kI,MUSTACHE_EXPR:SI,TMPLIT_EXPR:RI});const xa={element:1,text:3,progressingInstruction:7,comment:8,document:9},DI=function(){return typeof window>"u"?null:window},VI=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let s=null;const a="data-tt-policy-suffix";n&&n.hasAttribute(a)&&(s=n.getAttribute(a));const u="dompurify"+(s?"#"+s:"");try{return e.createPolicy(u,{createHTML(h){return h},createScriptURL(h){return h}})}catch{return console.warn("TrustedTypes policy "+u+" could not be created."),null}},sy=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function T_(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:DI();const e=ye=>T_(ye);if(e.version="3.2.6",e.removed=[],!i||!i.document||i.document.nodeType!==xa.document||!i.Element)return e.isSupported=!1,e;let{document:n}=i;const s=n,a=s.currentScript,{DocumentFragment:u,HTMLTemplateElement:h,Node:p,Element:g,NodeFilter:v,NamedNodeMap:E=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:S,DOMParser:T,trustedTypes:V}=i,$=g.prototype,W=ka($,"cloneNode"),j=ka($,"remove"),G=ka($,"nextSibling"),ie=ka($,"childNodes"),se=ka($,"parentNode");if(typeof h=="function"){const ye=n.createElement("template");ye.content&&ye.content.ownerDocument&&(n=ye.content.ownerDocument)}let fe,pe="";const{implementation:we,createNodeIterator:L,createDocumentFragment:A,getElementsByTagName:R}=n,{importNode:D}=s;let k=sy();e.isSupported=typeof v_=="function"&&typeof se=="function"&&we&&we.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:F,ERB_EXPR:C,TMPLIT_EXPR:Je,DATA_ATTR:kt,ARIA_ATTR:xt,IS_SCRIPT_OR_DATA:$e,ATTR_WHITESPACE:re,CUSTOM_ELEMENT:Ee}=iy;let{IS_ALLOWED_URI:ae}=iy,M=null;const K=Ve({},[...ey,...tf,...nf,...rf,...ty]);let oe=null;const xe=Ve({},[...ny,...sf,...ry,...Tu]);let ve=Object.seal(__(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ne=null,Me=null,be=!0,We=!0,pt=!1,Un=!0,Pn=!1,kn=!0,tn=!1,Ir=!1,Xr=!1,jn=!1,Jr=!1,lr=!1,zn=!0,Bn=!1;const hs="user-content-";let Rr=!0,Hn=!1,$n={},Ye=null;const ht=Ve({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Wn=null;const Ci=Ve({},["audio","video","img","source","image","track"]);let qn=null;const Cr=Ve({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Gn="http://www.w3.org/1998/Math/MathML",Pr="http://www.w3.org/2000/svg",nn="http://www.w3.org/1999/xhtml";let Kn=nn,Zr=!1,ei=null;const ti=Ve({},[Gn,Pr,nn],ef);let ur=Ve({},["mi","mo","mn","ms","mtext"]),cr=Ve({},["annotation-xml"]);const hn=Ve({},["title","style","font","a","script"]);let Wt=null;const Pi=["application/xhtml+xml","text/html"],Qn="text/html";let rt=null,fn=null;const fs=n.createElement("form"),Yn=function(N){return N instanceof RegExp||N instanceof Function},ni=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(fn&&fn===N)){if((!N||typeof N!="object")&&(N={}),N=_i(N),Wt=Pi.indexOf(N.PARSER_MEDIA_TYPE)===-1?Qn:N.PARSER_MEDIA_TYPE,rt=Wt==="application/xhtml+xml"?ef:Nu,M=Tr(N,"ALLOWED_TAGS")?Ve({},N.ALLOWED_TAGS,rt):K,oe=Tr(N,"ALLOWED_ATTR")?Ve({},N.ALLOWED_ATTR,rt):xe,ei=Tr(N,"ALLOWED_NAMESPACES")?Ve({},N.ALLOWED_NAMESPACES,ef):ti,qn=Tr(N,"ADD_URI_SAFE_ATTR")?Ve(_i(Cr),N.ADD_URI_SAFE_ATTR,rt):Cr,Wn=Tr(N,"ADD_DATA_URI_TAGS")?Ve(_i(Ci),N.ADD_DATA_URI_TAGS,rt):Ci,Ye=Tr(N,"FORBID_CONTENTS")?Ve({},N.FORBID_CONTENTS,rt):ht,Ne=Tr(N,"FORBID_TAGS")?Ve({},N.FORBID_TAGS,rt):_i({}),Me=Tr(N,"FORBID_ATTR")?Ve({},N.FORBID_ATTR,rt):_i({}),$n=Tr(N,"USE_PROFILES")?N.USE_PROFILES:!1,be=N.ALLOW_ARIA_ATTR!==!1,We=N.ALLOW_DATA_ATTR!==!1,pt=N.ALLOW_UNKNOWN_PROTOCOLS||!1,Un=N.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Pn=N.SAFE_FOR_TEMPLATES||!1,kn=N.SAFE_FOR_XML!==!1,tn=N.WHOLE_DOCUMENT||!1,jn=N.RETURN_DOM||!1,Jr=N.RETURN_DOM_FRAGMENT||!1,lr=N.RETURN_TRUSTED_TYPE||!1,Xr=N.FORCE_BODY||!1,zn=N.SANITIZE_DOM!==!1,Bn=N.SANITIZE_NAMED_PROPS||!1,Rr=N.KEEP_CONTENT!==!1,Hn=N.IN_PLACE||!1,ae=N.ALLOWED_URI_REGEXP||E_,Kn=N.NAMESPACE||nn,ur=N.MATHML_TEXT_INTEGRATION_POINTS||ur,cr=N.HTML_INTEGRATION_POINTS||cr,ve=N.CUSTOM_ELEMENT_HANDLING||{},N.CUSTOM_ELEMENT_HANDLING&&Yn(N.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ve.tagNameCheck=N.CUSTOM_ELEMENT_HANDLING.tagNameCheck),N.CUSTOM_ELEMENT_HANDLING&&Yn(N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ve.attributeNameCheck=N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),N.CUSTOM_ELEMENT_HANDLING&&typeof N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ve.allowCustomizedBuiltInElements=N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Pn&&(We=!1),Jr&&(jn=!0),$n&&(M=Ve({},ty),oe=[],$n.html===!0&&(Ve(M,ey),Ve(oe,ny)),$n.svg===!0&&(Ve(M,tf),Ve(oe,sf),Ve(oe,Tu)),$n.svgFilters===!0&&(Ve(M,nf),Ve(oe,sf),Ve(oe,Tu)),$n.mathMl===!0&&(Ve(M,rf),Ve(oe,ry),Ve(oe,Tu))),N.ADD_TAGS&&(M===K&&(M=_i(M)),Ve(M,N.ADD_TAGS,rt)),N.ADD_ATTR&&(oe===xe&&(oe=_i(oe)),Ve(oe,N.ADD_ATTR,rt)),N.ADD_URI_SAFE_ATTR&&Ve(qn,N.ADD_URI_SAFE_ATTR,rt),N.FORBID_CONTENTS&&(Ye===ht&&(Ye=_i(Ye)),Ve(Ye,N.FORBID_CONTENTS,rt)),Rr&&(M["#text"]=!0),tn&&Ve(M,["html","head","body"]),M.table&&(Ve(M,["tbody"]),delete Ne.tbody),N.TRUSTED_TYPES_POLICY){if(typeof N.TRUSTED_TYPES_POLICY.createHTML!="function")throw Pa('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof N.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Pa('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');fe=N.TRUSTED_TYPES_POLICY,pe=fe.createHTML("")}else fe===void 0&&(fe=VI(V,a)),fe!==null&&typeof pe=="string"&&(pe=fe.createHTML(""));un&&un(N),fn=N}},it=Ve({},[...tf,...nf,...TI]),ri=Ve({},[...rf,...AI]),xn=function(N){let Z=se(N);(!Z||!Z.tagName)&&(Z={namespaceURI:Kn,tagName:"template"});const ce=Nu(N.tagName),Ge=Nu(Z.tagName);return ei[N.namespaceURI]?N.namespaceURI===Pr?Z.namespaceURI===nn?ce==="svg":Z.namespaceURI===Gn?ce==="svg"&&(Ge==="annotation-xml"||ur[Ge]):!!it[ce]:N.namespaceURI===Gn?Z.namespaceURI===nn?ce==="math":Z.namespaceURI===Pr?ce==="math"&&cr[Ge]:!!ri[ce]:N.namespaceURI===nn?Z.namespaceURI===Pr&&!cr[Ge]||Z.namespaceURI===Gn&&!ur[Ge]?!1:!ri[ce]&&(hn[ce]||!it[ce]):!!(Wt==="application/xhtml+xml"&&ei[N.namespaceURI]):!1},Nt=function(N){Ra(e.removed,{element:N});try{se(N).removeChild(N)}catch{j(N)}},dn=function(N,Z){try{Ra(e.removed,{attribute:Z.getAttributeNode(N),from:Z})}catch{Ra(e.removed,{attribute:null,from:Z})}if(Z.removeAttribute(N),N==="is")if(jn||Jr)try{Nt(Z)}catch{}else try{Z.setAttribute(N,"")}catch{}},ii=function(N){let Z=null,ce=null;if(Xr)N="<remove></remove>"+N;else{const Ce=Zg(N,/^[\r\n\t ]+/);ce=Ce&&Ce[0]}Wt==="application/xhtml+xml"&&Kn===nn&&(N='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+N+"</body></html>");const Ge=fe?fe.createHTML(N):N;if(Kn===nn)try{Z=new T().parseFromString(Ge,Wt)}catch{}if(!Z||!Z.documentElement){Z=we.createDocument(Kn,"template",null);try{Z.documentElement.innerHTML=Zr?pe:Ge}catch{}}const yt=Z.body||Z.documentElement;return N&&ce&&yt.insertBefore(n.createTextNode(ce),yt.childNodes[0]||null),Kn===nn?R.call(Z,tn?"html":"body")[0]:tn?Z.documentElement:yt},pn=function(N){return L.call(N.ownerDocument||N,N,v.SHOW_ELEMENT|v.SHOW_COMMENT|v.SHOW_TEXT|v.SHOW_PROCESSING_INSTRUCTION|v.SHOW_CDATA_SECTION,null)},si=function(N){return N instanceof S&&(typeof N.nodeName!="string"||typeof N.textContent!="string"||typeof N.removeChild!="function"||!(N.attributes instanceof E)||typeof N.removeAttribute!="function"||typeof N.setAttribute!="function"||typeof N.namespaceURI!="string"||typeof N.insertBefore!="function"||typeof N.hasChildNodes!="function")},Hs=function(N){return typeof p=="function"&&N instanceof p};function qt(ye,N,Z){wu(ye,ce=>{ce.call(e,N,Z,fn)})}const ds=function(N){let Z=null;if(qt(k.beforeSanitizeElements,N,null),si(N))return Nt(N),!0;const ce=rt(N.nodeName);if(qt(k.uponSanitizeElement,N,{tagName:ce,allowedTags:M}),kn&&N.hasChildNodes()&&!Hs(N.firstElementChild)&&ln(/<[/\w!]/g,N.innerHTML)&&ln(/<[/\w!]/g,N.textContent)||N.nodeType===xa.progressingInstruction||kn&&N.nodeType===xa.comment&&ln(/<[/\w]/g,N.data))return Nt(N),!0;if(!M[ce]||Ne[ce]){if(!Ne[ce]&&kr(ce)&&(ve.tagNameCheck instanceof RegExp&&ln(ve.tagNameCheck,ce)||ve.tagNameCheck instanceof Function&&ve.tagNameCheck(ce)))return!1;if(Rr&&!Ye[ce]){const Ge=se(N)||N.parentNode,yt=ie(N)||N.childNodes;if(yt&&Ge){const Ce=yt.length;for(let At=Ce-1;At>=0;--At){const Ft=W(yt[At],!0);Ft.__removalCount=(N.__removalCount||0)+1,Ge.insertBefore(Ft,G(N))}}}return Nt(N),!0}return N instanceof g&&!xn(N)||(ce==="noscript"||ce==="noembed"||ce==="noframes")&&ln(/<\/no(script|embed|frames)/i,N.innerHTML)?(Nt(N),!0):(Pn&&N.nodeType===xa.text&&(Z=N.textContent,wu([F,C,Je],Ge=>{Z=Ca(Z,Ge," ")}),N.textContent!==Z&&(Ra(e.removed,{element:N.cloneNode()}),N.textContent=Z)),qt(k.afterSanitizeElements,N,null),!1)},mn=function(N,Z,ce){if(zn&&(Z==="id"||Z==="name")&&(ce in n||ce in fs))return!1;if(!(We&&!Me[Z]&&ln(kt,Z))){if(!(be&&ln(xt,Z))){if(!oe[Z]||Me[Z]){if(!(kr(N)&&(ve.tagNameCheck instanceof RegExp&&ln(ve.tagNameCheck,N)||ve.tagNameCheck instanceof Function&&ve.tagNameCheck(N))&&(ve.attributeNameCheck instanceof RegExp&&ln(ve.attributeNameCheck,Z)||ve.attributeNameCheck instanceof Function&&ve.attributeNameCheck(Z))||Z==="is"&&ve.allowCustomizedBuiltInElements&&(ve.tagNameCheck instanceof RegExp&&ln(ve.tagNameCheck,ce)||ve.tagNameCheck instanceof Function&&ve.tagNameCheck(ce))))return!1}else if(!qn[Z]){if(!ln(ae,Ca(ce,re,""))){if(!((Z==="src"||Z==="xlink:href"||Z==="href")&&N!=="script"&&vI(ce,"data:")===0&&Wn[N])){if(!(pt&&!ln($e,Ca(ce,re,"")))){if(ce)return!1}}}}}}return!0},kr=function(N){return N!=="annotation-xml"&&Zg(N,Ee)},gn=function(N){qt(k.beforeSanitizeAttributes,N,null);const{attributes:Z}=N;if(!Z||si(N))return;const ce={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:oe,forceKeepAttr:void 0};let Ge=Z.length;for(;Ge--;){const yt=Z[Ge],{name:Ce,namespaceURI:At,value:Ft}=yt,yn=rt(Ce),Gt=Ft;let ft=Ce==="value"?Gt:_I(Gt);if(ce.attrName=yn,ce.attrValue=ft,ce.keepAttr=!0,ce.forceKeepAttr=void 0,qt(k.uponSanitizeAttribute,N,ce),ft=ce.attrValue,Bn&&(yn==="id"||yn==="name")&&(dn(Ce,N),ft=hs+ft),kn&&ln(/((--!?|])>)|<\/(style|title)/i,ft)){dn(Ce,N);continue}if(ce.forceKeepAttr)continue;if(!ce.keepAttr){dn(Ce,N);continue}if(!Un&&ln(/\/>/i,ft)){dn(Ce,N);continue}Pn&&wu([F,C,Je],xr=>{ft=Ca(ft,xr," ")});const ps=rt(N.nodeName);if(!mn(ps,yn,ft)){dn(Ce,N);continue}if(fe&&typeof V=="object"&&typeof V.getAttributeType=="function"&&!At)switch(V.getAttributeType(ps,yn)){case"TrustedHTML":{ft=fe.createHTML(ft);break}case"TrustedScriptURL":{ft=fe.createScriptURL(ft);break}}if(ft!==Gt)try{At?N.setAttributeNS(At,Ce,ft):N.setAttribute(Ce,ft),si(N)?Nt(N):Jg(e.removed)}catch{dn(Ce,N)}}qt(k.afterSanitizeAttributes,N,null)},$s=function ye(N){let Z=null;const ce=pn(N);for(qt(k.beforeSanitizeShadowDOM,N,null);Z=ce.nextNode();)qt(k.uponSanitizeShadowNode,Z,null),ds(Z),gn(Z),Z.content instanceof u&&ye(Z.content);qt(k.afterSanitizeShadowDOM,N,null)};return e.sanitize=function(ye){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=null,ce=null,Ge=null,yt=null;if(Zr=!ye,Zr&&(ye="<!-->"),typeof ye!="string"&&!Hs(ye))if(typeof ye.toString=="function"){if(ye=ye.toString(),typeof ye!="string")throw Pa("dirty is not a string, aborting")}else throw Pa("toString is not a function");if(!e.isSupported)return ye;if(Ir||ni(N),e.removed=[],typeof ye=="string"&&(Hn=!1),Hn){if(ye.nodeName){const Ft=rt(ye.nodeName);if(!M[Ft]||Ne[Ft])throw Pa("root node is forbidden and cannot be sanitized in-place")}}else if(ye instanceof p)Z=ii("<!---->"),ce=Z.ownerDocument.importNode(ye,!0),ce.nodeType===xa.element&&ce.nodeName==="BODY"||ce.nodeName==="HTML"?Z=ce:Z.appendChild(ce);else{if(!jn&&!Pn&&!tn&&ye.indexOf("<")===-1)return fe&&lr?fe.createHTML(ye):ye;if(Z=ii(ye),!Z)return jn?null:lr?pe:""}Z&&Xr&&Nt(Z.firstChild);const Ce=pn(Hn?ye:Z);for(;Ge=Ce.nextNode();)ds(Ge),gn(Ge),Ge.content instanceof u&&$s(Ge.content);if(Hn)return ye;if(jn){if(Jr)for(yt=A.call(Z.ownerDocument);Z.firstChild;)yt.appendChild(Z.firstChild);else yt=Z;return(oe.shadowroot||oe.shadowrootmode)&&(yt=D.call(s,yt,!0)),yt}let At=tn?Z.outerHTML:Z.innerHTML;return tn&&M["!doctype"]&&Z.ownerDocument&&Z.ownerDocument.doctype&&Z.ownerDocument.doctype.name&&ln(w_,Z.ownerDocument.doctype.name)&&(At="<!DOCTYPE "+Z.ownerDocument.doctype.name+`>
`+At),Pn&&wu([F,C,Je],Ft=>{At=Ca(At,Ft," ")}),fe&&lr?fe.createHTML(At):At},e.setConfig=function(){let ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ni(ye),Ir=!0},e.clearConfig=function(){fn=null,Ir=!1},e.isValidAttribute=function(ye,N,Z){fn||ni({});const ce=rt(ye),Ge=rt(N);return mn(ce,Ge,Z)},e.addHook=function(ye,N){typeof N=="function"&&Ra(k[ye],N)},e.removeHook=function(ye,N){if(N!==void 0){const Z=gI(k[ye],N);return Z===-1?void 0:yI(k[ye],Z,1)[0]}return Jg(k[ye])},e.removeHooks=function(ye){k[ye]=[]},e.removeAllHooks=function(){k=sy()},e}var LI=T_();function oy(i){if(!i)return"#fff";i=i.replace("#","");const e=parseInt(i.substr(0,2),16),n=parseInt(i.substr(2,2),16),s=parseInt(i.substr(4,2),16);return(e*299+n*587+s*114)/1e3>=128?"#000":"#fff"}function OI({initialBio:i="",editable:e=!1,isOwner:n=!1,onSave:s,backgroundColor:a="#222222",textColor:u,fontFamily:h}){const p=Mf(),[g,v]=B.useState(i),[E,S]=B.useState(!1),T=async()=>{s&&await s(g),S(!1)},V=()=>{if(!g)return"No bio yet.";const W=LI.sanitize(g.replace(/href="(\/[^"]*)"/g,'data-internal="$1" href="$1"'));return x.jsx("span",{style:{color:u||oy(a),fontFamily:h||"inherit"},dangerouslySetInnerHTML:{__html:W},onClick:j=>{const G=j.target.getAttribute("data-internal");G&&(j.preventDefault(),p(G))}})},$=u||oy(a);return x.jsx("div",{style:{backgroundColor:a,color:$,fontFamily:h||"inherit",padding:"1rem",borderRadius:"6px",margin:"1rem 0"},children:E?x.jsxs(x.Fragment,{children:[x.jsx("textarea",{value:g,onChange:W=>v(W.target.value),style:{width:"100%",minHeight:"80px",margin:"0.5rem 0",padding:"0.5rem",borderRadius:"6px",backgroundColor:a,color:$,fontFamily:h||"inherit",border:"1px solid #555"}}),e&&n&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:T,style:{marginTop:"0.5rem",padding:"0.5rem 1rem",background:"#444",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Save"}),x.jsx("button",{onClick:()=>S(!1),style:{marginLeft:"0.5rem",padding:"0.5rem 1rem",background:"gray",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cancel"})]})]}):x.jsxs(x.Fragment,{children:[V(),e&&n&&!E&&x.jsx("button",{onClick:()=>S(!0),style:{marginTop:"0.5rem",padding:"0.5rem 1rem",background:"#444",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Edit"})]})})}const Ti={vale:{name:"Vale",className:"vale",preview:{background:"linear-gradient(to bottom right, #1b2a2f, #2e3e3f)",color:"#c0ffd4"}},neon:{name:"Neon Glow",className:"neon",preview:{background:"black",color:"#0ff"}},pastel:{name:"Pastel Dreams",className:"pastel",preview:{background:"#ffd",color:"#333"}}};function MI({unlockedThemes:i=[],selectedTheme:e,onChange:n,customColor:s,onCustomColorChange:a}){const[u,h]=B.useState(!1),[p,g]=B.useState(e==="custom"),v=B.useRef();B.useEffect(()=>{const T=V=>{v.current&&!v.current.contains(V.target)&&h(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const E=T=>{T==="custom"?(g(!0),n("custom")):(g(!1),n(T)),h(!1)},S=p?"Custom":Ti[e]?.name||"Select Theme";return x.jsxs("div",{ref:v,style:{position:"relative",display:"inline-block",marginTop:"1rem"},children:[x.jsx("button",{onClick:()=>h(T=>!T),style:{padding:"0.5rem 1rem",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",cursor:"pointer"},children:S}),u&&x.jsxs("div",{style:{position:"absolute",bottom:"100%",left:0,background:"#222",border:"1px solid #444",borderRadius:"6px",padding:"0.5rem 0",zIndex:10,minWidth:"150px"},children:[i.map(T=>{const V=Ti[T];return V?x.jsxs("div",{onClick:()=>E(T),style:{padding:"0.5rem 1rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",background:e===T&&!p?"#444":"transparent",color:V?.preview?.color||"#fff"},children:[x.jsx("span",{children:V.name}),x.jsx("span",{style:{width:"20px",height:"14px",background:V.preview.background,borderRadius:"4px",border:"1px solid #555"}})]},T):null}),x.jsxs("div",{onClick:()=>E("custom"),style:{padding:"0.5rem 1rem",cursor:"pointer",background:p?"#444":"transparent",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[x.jsx("span",{children:"Custom"}),x.jsx("input",{type:"color",value:s||"#ffffff",onChange:T=>a(T.target.value),style:{width:"28px",height:"18px",border:"none",padding:0,margin:0,background:"transparent"},onClick:T=>T.stopPropagation()})]})]})]})}function FI(){const{uid:i}=vy(),{currentUser:e}=il(),[n,s]=B.useState(null),[a,u]=B.useState(!0),[h,p]=B.useState("#222222"),[g,v]=B.useState(""),[E,S]=B.useState("#222222"),[T,V]=B.useState("none"),[$,W]=B.useState(!1),j=e?.id===i,ie=(()=>{const pe=Ti[T]||{preview:{}};return{primaryColor:pe.preview.background||h,secondaryColor:pe.preview.color||"#fff",fontFamily:pe.fontFamily||"inherit",borderStyle:pe.borderStyle||"none",bannerOverlay:pe.bannerOverlay||null}})();B.useEffect(()=>{if(!i)return;s(null),u(!0),(async()=>{try{const we=Hr(or,"users",i),L=await qo(we);if(L.exists()){const A=L.data();A.id=i,A.unlockedThemes=A.unlockedThemes||Object.keys(Ti),s(A),p(A.themeColor||"#222222"),v(A.bannerUrl||""),S(A.bannerUrl||A.themeColor||"#222222"),V(A.themeId||"none")}else s(null)}catch(we){console.error("Error fetching profile:",we),s(null)}finally{u(!1)}})()},[i]);const se=async()=>{if(i)try{const pe=Hr(or,"users",i);await Nf(pe,{themeColor:h,bannerUrl:g,themeId:T}),s(we=>({...we,themeColor:h,bannerUrl:g,themeId:T})),S(g),W(!1)}catch(pe){console.error("Error saving profile:",pe)}},fe=async pe=>{if(i)try{const we=Hr(or,"users",i);await Nf(we,{bio:pe}),s(L=>({...L,bio:pe}))}catch(we){console.error("Error saving bio:",we)}};return a?x.jsx("p",{children:"Loading..."}):n?x.jsxs("div",{style:{maxWidth:"900px",margin:"2rem auto",padding:"1rem",borderRadius:"12px",backgroundColor:ie.primaryColor,color:ie.secondaryColor,fontFamily:ie.fontFamily,border:ie.borderStyle,transition:"all 0.3s ease"},children:[x.jsx("div",{style:{width:"100%",height:"200px",borderRadius:"12px",marginBottom:"1rem",backgroundColor:E?void 0:h,backgroundImage:E?`url(${E})`:void 0,backgroundSize:"cover",backgroundPosition:"center",position:"relative",overflow:"hidden"},children:$&&j&&x.jsx("input",{type:"text",placeholder:"Banner Image URL",value:g,onChange:pe=>{v(pe.target.value),S(pe.target.value)},style:{position:"absolute",bottom:"10px",left:"10px",width:"70%",padding:"0.3rem",borderRadius:"6px",border:"1px solid #555",background:"#222",color:"#fff"}})}),x.jsxs("div",{style:{display:"flex",gap:"2rem"},children:[x.jsxs("div",{style:{flex:"1",background:"#222",padding:"1rem",borderRadius:"8px"},children:[x.jsx("h2",{children:"Kudos"}),x.jsx("ul",{children:n.kudos&&Object.entries(n.kudos).map(([pe,we])=>x.jsxs("li",{children:[x.jsxs("strong",{children:[pe,":"]})," ",we]},pe))})]}),x.jsxs("div",{style:{flex:"2"},children:[x.jsx("h1",{style:{marginBottom:"0.5rem"},children:n.name}),x.jsxs("p",{children:[x.jsx("strong",{children:"Faction:"})," ",n.faction]}),x.jsx(OI,{initialBio:n.bio||"",isOwner:j,editable:j,onSave:fe,themeColor:ie.secondaryColor,textColor:ie.secondaryColor,backgroundColor:ie.primaryColor}),j&&!$&&x.jsx("button",{onClick:()=>W(!0),style:{marginTop:"0.5rem",padding:"0.5rem 1rem",background:"#444",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Edit Profile"}),j&&$&&x.jsxs("div",{style:{marginTop:"1rem"},children:[x.jsxs("label",{children:["Theme Color:"," ",x.jsx("input",{type:"color",value:h,onChange:pe=>p(pe.target.value)})]}),x.jsx(MI,{unlockedThemes:n.unlockedThemes||Object.keys(Ti),selectedTheme:T,onChange:V,customColor:h,onCustomColorChange:p}),x.jsx("button",{onClick:se,style:{marginTop:"0.5rem",padding:"0.5rem 1rem",background:"#444",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Save Profile"}),x.jsx("button",{onClick:()=>W(!1),style:{marginLeft:"0.5rem",padding:"0.5rem 1rem",background:"gray",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cancel"})]}),!j&&x.jsx("p",{style:{marginTop:"1rem"},children:"View-only profile"})]})]})]}):x.jsx("p",{children:"User not found."})}function bI({type:i,src:e,title:n=""}){switch(i){case"youtube":return x.jsx("div",{className:"media-container youtube",children:x.jsx("iframe",{className:"youtube-embed",src:`https://www.youtube.com/embed/${e}`,title:n,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})});case"drive":return x.jsx("div",{className:"media-container drive",children:x.jsx("iframe",{className:"drive-embed",src:`https://drive.google.com/file/d/${e}/preview`,title:n,allow:"autoplay",allowFullScreen:!0})});case"image":return x.jsx("div",{className:"media-container image",children:x.jsx("img",{src:e,alt:n,className:"responsive-image"})});case"audio":return x.jsx("div",{className:"media-container audio",children:x.jsxs("audio",{controls:!0,children:[x.jsx("source",{src:e}),"Your browser does not support audio playback."]})});case"pdf":return x.jsx("div",{className:"media-container pdf",children:x.jsx("iframe",{src:e,title:n,className:"pdf-embed"})});default:return x.jsxs("p",{children:["Unsupported media type: ",i]})}}async function ay(i,e,n=1){const s=Hr(or,"users",i);(await qo(s)).exists()&&await Nf(s,{[`kudos.${e}`]:rI(n)})}async function UI(i){const e=Hr(or,"users",i),n=await qo(e);if(!n.exists())return null;const s=n.data().kudos||{},a=[];for(const[u,h]of Object.entries(s))h>=500?a.push({faction:u,tier:"Gold"}):h>=200?a.push({faction:u,tier:"Silver"}):h>=50&&a.push({faction:u,tier:"Bronze"});return a}const jI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAIAAAAnuUURAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAFfSURBVGhD7ZdbroMwDETJ3RerZ2HcqUItN09jhj6UnJ9GFeDTmYBo2LZt+Xr+jk8e67oeKx58yzsgW8Yg6XEOmeVNMC2l6H3fuaXPxnkMZplsRO7WnI3z4FgWyyWWPhvnQbBs1MoqfTbO46plt1BK6QNkaQ/pYpye/5AyEm2GEOJag++PFQZkBzgmnrDUcnERyT3kgOJvEOyj+5Y1OU1iE49sK2q6DlVLi1yCaOEUu6KmJpNaOuQ0PrkiL2LdtD8ODB9PoptE0Yab4xJPt2rjDuLVdel6ngU5N7Hq3z1GRCjfml3Xmpxw4knUQHsUb6CiaFdO6FsKNd3EoGgJ8rDto09YClo3D6lmKTgmeiwj4mrM0j0I+N+JMNU++IoiGOD9EiCkOzZiwhhZvgeCZbv063WD2TgPjmWtdErdYDbOg2aZl86qG8zGeYxnqbcmcVOC2TgPsmUsmls3+IUsl+UfkRT2tZ8U3h8AAAAASUVORK5CYII=",zI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAIAAAAnuUURAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAIXSURBVGhD7ZcxUsMwEEVtDpCBJhUlAz0nyVFzEnoYSnqYXCB852s2G2ktyYpQxIxfYWyJWM9fXlsej8fj0D137m/frJb1+B+W1apnHEe3Nwz6nGy/cpRrLS/kDtN23JwOLpFR5P8XjVtueR7vJEeoqFuA6Q3yhy60dPNo2XiNAnqN68kbvdwyU1GC1F0/hz22D4+7zNEX1zj8GKTGVPz4PLdLF/yoSMJTmSyzxEnf36YdGVWraNBOdDv97jc7Hn5/7dGbI7pgxkXx5dWNTRU5JOKHdiBdniJBI1pwnXGN3CxFEchOkrgiQVcy0awstSJ4fnI7+TAzd3CJXEAk0XSW1yuCOUUhnmgiS08RlFkmYaLAfDzFLENF8EeWmnDqu1sTSaia2SybzbWJF2duls0UzSyzLFumaGJb6ulurxg+lbqrHpOEZfsgzed/p1l6NRSzvHnRCL4l7ll923bC2ZJ+KG1WN1eHnTC9exjeTV7Zc/jvHp1fJ4Svn75qHF8js6sNxmmSP+nyuUOW3i38+XY7KWKJia2e8WqWGs84EyqCcCHsVm5zBQSa1RDnOgwSuPsSrcB8+pQFU4apCPxVcPtQpVzmFIFvSegKQt1arrqWI37EthREV77/iwkfMZQjCY14tyC6QtzbfOxpLZA5NMi11MAYvwq9kxSMRUos29PXG3KO1bIeq2U9Vst6rJb1WC3rsVrWYhh+AT8GPEQxrEI6AAAAAElFTkSuQmCC",BI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAIAAAAnuUURAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAJ7SURBVGhD7dXNcdswEMVxNZGiUoxm0oGuOaeFuI7koEs6SRnKs//IywYfBEWuHXnCNzsyAYLY34DS+HR7DzmUeTmUeclXnk6vsGf5mxQRr9drOvT/U0JULpdLLjRfKeLjKuNBkkRozkYtkWRBM5WFFvJAyhGRpEDzlRpycT6fGZZ1O7J3C4hWavjpyzegKJksq7dm1/MVUamUWdAEJQ4FIlVB/5lygRihzh7oLqV6GzpSprz0jU+q5fJBUlnQLY9BdG9lqtwJTVCOiBRQ542UdLWyS/zx/SfFcD90i1JERf0EbZX4vn58MvStlW0/sypiVBq6+dt5x2ptzRESiJ9PHyLIRM1HpaHOXdD7lNrdUA1FoYCidNlHWakT5atS9l2RtUu1aXuQqkiM1eVuht6hpAGxsi1Y+uTVR2i7Sdl9llXrtN3zrzq8a7qicVVDlaFevw06XwSx7DomVgWuVao2QDOVmoHFlxWfb7ms1FeTDUuncSYrFogqIyh8Ls3ExbEMJVPoXKldgEYiLF/zGYkcZFzsIRWhu5R6uHuQ7iqNu2ros/TrZj7OMKmKSmUZOrzX7sLuNKY3Vc27POmVplProauUOtFWSft4QnzG0gynaGhc4xbTn1H/hh6QzK/bREAuC2yl7GANkxWRAoqSRkXwd4ZKPYMSYqvRJL2p6hZ343BU2v/53+XicXZmIToaqlOliW00qZlWqapWdot2y9B6Sov8ohUNHWnK1Suk9HuJhkXzOx2l1kXonqzfx2epTJS6Pd1XC0YpKwZZWMDjiq0VtK/kmYW8bP5nGUPSnSlXzfUoQ6VuPFqKrDrLh82hzMuhzMuhzMuhzMrt9gtPJt0KlwCogAAAAABJRU5ErkJggg==",HI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAIAAAAnuUURAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAIDSURBVGhD7Zm9TgJBEMfRwsJCSSyp7K2priYhFpRq4wMYn0Br38D4ADRaSkWkppHa3kZKoza258AMx3of+/k/PXL3ywZ2LmH43ezd7S5sxXHcqjzb8l5tamb5OR9RkwAN4Lpkufb8XMLOsN0ZcB9FaC1ZcXZ3L2FnuHhFFzW0lpPrU+mt6A3Gk1G/d/MgMQLAiJMomUnAdL+kAwJz91DxqEmAViQwT3Uq527/kjpHh+/wW4fA1JIUo51jai+vB3IICsByOp1+j28lWIbSwxFqSU5RFEmwHHEK4aJBlinFBLiov2WRIoMV9bTUKzJAUR9LG0UGJepsaa/IQESD7h6V9dxTAm6WroVkwsvpYOmnyASK2lqGKDIholaW4YqMt6jZEqXI+IkaLLGKjIeoztJJMb1c1+IqWmhZRhVVnETzLctWZOxFf+8oZvvSWe1ZVWTHndnW5GwjsxvIZeZszoRF8uINk2KpKBKpGc/pstNgSFsgurZUS2JwyisnfyT3h40kc27apMCabV2+ZZb1F+Sdrt6SyCZXjVnUypJJpUuffcGIGC0ZNXn34kx6Wj+BLMN5ujqJn/eofbw9yiEo5hmyCtTMskJr9f+iscTRWOKAWaZnKSg1q+VmPC+bEc+s3GwpXtgnRTWuGu1xs8wuZu0J+TfNt5Z/S82eRKXSWOLYBMtW6wc8PaJ1h4nRFwAAAABJRU5ErkJggg==",$I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAIAAAAnuUURAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAMwSURBVGhD7ZZBkuIwDEWha441s+NewL3YcTDmke/WKLLjGFAopqrfIh07ivX9JXfY32633cfzVf5+Nv+Hymcqvt/vdfO2bumpbKph8nq9Xi4X7s/nsya3lttWKX3H45ErUpZUGiEmnUZfogN9kvghRC8lsQy+scpC8+nWFZ95qWqWwZzJ3DtlvAyLQBkk0fBSQkPndfBeSl+6tbEvSfBn4nA4lKk1MHiy7w471LA8S2LxjNcHuY/fFZvMtTNNZSD3SBWVqpHdL0m0w766B0VmCb2rRJYOr5ZuHmQ9QpyG1JRrJxISvZydHrKCpQmQ9fc3JtfDi0CYKLMZzFTqBNQOKXcZTEgo82U8kS7OKCrRJ4m6PsfpdFJ/p/Oldad/kYVXhAILijLOoP3tqc9vXXQi697wO2TDWQ0Qvz0dvD1LVrE9o0xV8K4o4wH+eelfq00SdlyaATy1eX+wvKNksVpZzKrlv8rfiSVxxmqAUHoFe7kBWw3pfaFFJXFBgTqsU7gAasikggxuZpx2XyKR3teNZlYxM4JEhkg3GIada3tlsEDxUjYogSSaMfrM9E3lFQtuRo67q3WC7nh6SBP+g2i+TuObD8z+kV15vJdNiTBr2/Y+XMuaFCDMPwL/dMnUJnbC9FbdA7EvOxINYhTG1RKAiqBHD0EK9AH3bFWTnpV/AU23wiuqANg8M3JFwycIdq58ewj1bo3QkchSomlYwDYPK14K/wLUXspv0nOtOwT0SDUFtW8nEnyW2bdniZGdgGltpveLINfOmSF9zVwP/NpYRXWsJZI+5H70R3SOSvRJoq7P0fkR/apKrUv5jFeEAguKMp4YOj3jsHrzgNdFJ7LuDb9DNmyvZPZlH29PsMpge0aZmkjz0idunnGw49IM4KnNB+8zVS6JG2RzlbVEdVgoXAfJsoIEVZv0JRLpfd1oZhXJ4hr0ifyKSyLLyhh9Ffum2itlXJF8evTp82tqvm5ZSszV5vtC01SCBIUFzWOwTgDC/CPoCE3uy45EgxiFcZWj4k1e1oy4pQpAR8m2357g1hKEdSTCtl4Kc0s8kfEdKl/nfb82XuFHZR4/KrPY7f4CSd+rRlyYdSsAAAAASUVORK5CYII=",WI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAlCAYAAADFniADAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAHTSURBVFhH7Ze9SgNBEMdXSxt9A0ErxTZoayGCRV5A0MLCSjAPYWEVwUqwEnwAUwhiwFZJadBKxTfwCfyYOAPjsB+zsxs8xB8c2c0dd7/7z9zmMvHxhWsYk/jZKBopZS7f9eAVR2HWWrM4ysMs1Tm+wZFzRzOLOHJu/+0BR85191ZxlIdJCoS4SAgQtIiZewouyFPhxPZpMEnB3W+szOHMT//ifLRZKH76TpbDp7jvn+Ioj0YuCf9SWoqldu/ecVSPaklBw8eaPodqUpBYrdT+Zk8BtcpGVDmbLJvmdzGGSQpeWy5vn3HmZ7h94OZbbZzlYU5qYX1ptEl4KdtbHZNYtpQvJS5S4wnMep8iIUiIX1xK8fnj1dD1zrruadDDb9JkJyUBAZkOzEsSUyclU4qlI8lNSyUFQi/TUzj7CSVCUjwhSpH2HW7uqMSKyzcOkknxsvmgJGRiHNoH7+2aMkalfEK8HITvuxCa/gqeiYR+A3VPQRqUCJUDkCnRcfwYSWql90rxsoV6iSAhEpGCEn5O/i+b4+2pWHPLC0tS+4lYbwUbnfdUKq0cQAaINXv6lsZA6ulLLgkAfwotqfF0gKJ1iiA5wLJMaGUIlRTH8tKmlfnGuU9TPzvAR0FQxgAAAABJRU5ErkJggg==",qI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAyCAIAAACsz36AAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAANFSURBVFhHzZhNlqowEIVdlztwI0xcihP2gBPHeliADJzrkBHHDbCDvFuVSgwhRhKi/e7p0z8g5OPWT4redP+NFqEo1bd1td1uNxB+QFXdKyWnC+kzSt9WQMDiFWCIRVS1P0SBGTUWhwG9avaXZncUezbbqu2vt1+hKMVu0MOr8Umr4udw6s67Y7O7XG+j/lhBhVHED8Sl7ofSOfFOARQ8vYCwJXL0+wqitBWDgORnlkA+ilKDCU75GolrhvJ8GFd+Gh0o4IoJD1L2j1FMeP4WBbXzYxTqmS06KC30LRSsgCXi+xRtKViL1qGFIyiZaStd+iXePWkDcw5jO611StIqzf4RRUlvKuS2tXSydb4VQJpdpxfyUe77Y3YFmQv5Up4qQITfLZ8vDo3dVico0HA4mmabhsJX0Y6Nu2MPj3xZYrKEQ6Pv4KOom324RJRbxyvRpm3vPpdNANwdn3cnjYAreSjQ+Pw8OdhODo7zafL5AIrB/krjZxJ6yOYwyCEjH2U8XcQVHl/laCHp4HBoLncex1y9UCjnSa9sxzVyzhEKllpE6NRH8UOS2V5otARFeGfNgFoRF4XM/PZom4yil0CJ2UbiiVAwGLQ1okFF6HRbWpKbJP2N7zLxU6DVPX22JUv42ndzMaFgeL4eqL51iwNQz10ZVp550Kds3194wD66nWC59G7gNRJPftpCpsWFcyVD4jQXcOSVxUdBp7IRKoZCz0bZOi9gVz4Kirksih5PKTRvstUqgkI5JkdXyMnWD3eLuYJHkaO5MkkSy1ar7wZouSVQAMVWEB5HjmaJ70MgC+vfR0EFvZrcChR5maICDmw3Qc1Q8ErmRii9m2nxPdiSaAG7CqAYEmwXNOvKiRRpSwCy3BIolrZ5AZLeyuNOcAd+p5krr/Bko5AlXMAfepqnCQq/fNj6IYflRIpM3SwqYFceiv2PBmYCpEpyoqQWsKspyvOBSQDvl0i382HIyFlryfJstZql7XNcMrgHpQ1d2Obn8lGyZSMLT1KzRKsYis52siSll7gqg2I7AFDyLIHKoGgSFF18ZIyrAIptRLAEdSdH07UWxXbElZZAa1HwmkLvZ/wOtcYSaC3KSO9Q3fWU0w8n6rp/C17aXNf4XQ4AAAAASUVORK5CYII=",GI={1:jI,2:zI,3:BI,4:HI,5:$I,6:WI,7:qI};function KI({contentCreatorId:i,contentCreatorFaction:e}){const{currentUser:n}=il(),s=async()=>{if(!n)return;const u=n.id,h=n.faction;try{await ay(i,h,10),await ay(u,e,1);const p=await UI(i);console.log("Milestones reached:",p)}catch(p){console.error("Error handling like:",p)}},a=GI[e];return x.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-gray-300 shadow-sm hover:shadow-md hover:scale-105 transition",children:[a&&x.jsx("img",{src:a,alt:`Faction ${e} icon`,className:"w-6 h-6 object-contain"}),x.jsx("span",{children:"Like"})]})}function QI({post:i,currentUser:e}){if(!i)return x.jsx("p",{children:"Loading..."});const n=Ti[i.themeId]||{preview:{background:"#222",color:"#fff"}};return x.jsxs("div",{className:"content-module",style:{backgroundColor:n.preview.background,color:n.preview.color,fontFamily:n.fontFamily||"inherit",borderRadius:"8px",padding:"1rem",transition:"all 0.3s ease"},children:[x.jsxs("h4",{style:{marginBottom:"0.5rem"},children:[i.title," by"," ",x.jsx("a",{href:`/profile/${i.creatorId}`,style:{color:n.preview.color,textDecoration:"underline"},children:i.creatorName})]}),x.jsx(bI,{type:i.mediaType,src:i.mediaSrc}),i.description&&x.jsx("p",{className:"content-description",children:i.description}),x.jsx(KI,{contentCreatorId:i.creatorId,contentCreatorFaction:i.creatorFaction,currentUser:e})]})}function YI(){const{uid:i}=vy(),{currentUser:e}=il(),[n,s]=B.useState(null),[a,u]=B.useState([]),[h,p]=B.useState(!0),[g,v]=B.useState({title:"",mediaType:"image",src:"",themeId:"none"}),E=e?.id===i;B.useEffect(()=>{if(!i)return;(async()=>{p(!0);try{const $=await qo(Hr(or,"users",i));if($.exists()){s($.data());const j=(await eI(kf(or,"users",i,"posts"))).docs.map(G=>({id:G.id,...G.data()}));u(j)}}catch($){console.error("Error fetching creator:",$)}finally{p(!1)}})()},[i]);const S=async()=>{if(E)try{const V=await g_(kf(or,"users",i,"posts"),g);u([...a,{id:V.id,...g}]),v({title:"",mediaType:"image",src:"",themeId:"none"})}catch(V){console.error("Error creating post:",V)}};if(h)return x.jsx("p",{children:"Loading..."});if(!n)return x.jsx("p",{children:"Creator not found."});const T=Ti[n.themeId]||{preview:{background:"#222",color:"#fff"}};return x.jsxs("div",{style:{maxWidth:"900px",margin:"2rem auto",padding:"1rem",borderRadius:"12px",backgroundColor:T.preview.background,color:T.preview.color,fontFamily:T.fontFamily||"inherit"},children:[x.jsxs("h1",{children:[n.name,"'s Content"]}),E&&x.jsxs("div",{style:{margin:"1rem 0",padding:"1rem",border:"1px solid #555",borderRadius:"8px"},children:[x.jsx("h3",{children:"New Post"}),x.jsx("input",{type:"text",placeholder:"Title",value:g.title,onChange:V=>v({...g,title:V.target.value})}),x.jsx("input",{type:"text",placeholder:"Media URL",value:g.src,onChange:V=>v({...g,src:V.target.value})}),x.jsxs("select",{value:g.mediaType,onChange:V=>v({...g,mediaType:V.target.value}),children:[x.jsx("option",{value:"image",children:"Image"}),x.jsx("option",{value:"youtube",children:"YouTube"}),x.jsx("option",{value:"video",children:"Video"})]}),x.jsxs("select",{value:g.themeId,onChange:V=>v({...g,themeId:V.target.value}),children:[x.jsx("option",{value:"none",children:"Default"}),Object.keys(Ti).map(V=>x.jsx("option",{value:V,children:Ti[V].name},V))]}),x.jsx("button",{onClick:S,children:"Upload"})]}),x.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:a.map(V=>x.jsx(QI,{post:V,currentUser:e},V.id))})]})}function XI(){return x.jsx(lI,{children:x.jsx(Jw,{children:x.jsx(kw,{children:x.jsxs(Vs,{path:"/",element:x.jsx(uI,{}),children:[x.jsx(Vs,{index:!0,element:x.jsx(cI,{})}),x.jsx(Vs,{path:"new-user",element:x.jsx(hI,{})}),x.jsx(Vs,{path:"profile/:uid",element:x.jsx(FI,{})}),x.jsx(Vs,{path:"active-projects",element:x.jsx(fI,{})}),x.jsx(Vs,{path:"creator-page",element:x.jsx(YI,{})})]})})})})}ME.createRoot(document.getElementById("root")).render(x.jsx(kE.StrictMode,{children:x.jsx(XI,{})}));
