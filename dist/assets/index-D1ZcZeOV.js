(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function uy(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Fh={exports:{}},Sa={},Uh={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function PE(){if(km)return De;km=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function A(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,$={};function j(O,K,oe){this.props=O,this.context=K,this.refs=$,this.updater=oe||M}j.prototype.isReactComponent={},j.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},j.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function G(){}G.prototype=j.prototype;function re(O,K,oe){this.props=O,this.context=K,this.refs=$,this.updater=oe||M}var J=re.prototype=new G;J.constructor=re,W(J,j.prototype),J.isPureReactComponent=!0;var ae=Array.isArray,de=Object.prototype.hasOwnProperty,Ee={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function T(O,K,oe){var ke,ve={},Ne=null,Me=null;if(K!=null)for(ke in K.ref!==void 0&&(Me=K.ref),K.key!==void 0&&(Ne=""+K.key),K)de.call(K,ke)&&!D.hasOwnProperty(ke)&&(ve[ke]=K[ke]);var Fe=arguments.length-2;if(Fe===1)ve.children=oe;else if(1<Fe){for(var qe=Array(Fe),mt=0;mt<Fe;mt++)qe[mt]=arguments[mt+2];ve.children=qe}if(O&&O.defaultProps)for(ke in Fe=O.defaultProps,Fe)ve[ke]===void 0&&(ve[ke]=Fe[ke]);return{$$typeof:i,type:O,key:Ne,ref:Me,props:ve,_owner:Ee.current}}function R(O,K){return{$$typeof:i,type:O.type,key:K,ref:O.ref,props:O.props,_owner:O._owner}}function k(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function N(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(oe){return K[oe]})}var b=/\/+/g;function C(O,K){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):K.toString(36)}function $e(O,K,oe,ke,ve){var Ne=typeof O;(Ne==="undefined"||Ne==="boolean")&&(O=null);var Me=!1;if(O===null)Me=!0;else switch(Ne){case"string":case"number":Me=!0;break;case"object":switch(O.$$typeof){case i:case e:Me=!0}}if(Me)return Me=O,ve=ve(Me),O=ke===""?"."+C(Me,0):ke,ae(ve)?(oe="",O!=null&&(oe=O.replace(b,"$&/")+"/"),$e(ve,K,oe,"",function(mt){return mt})):ve!=null&&(k(ve)&&(ve=R(ve,oe+(!ve.key||Me&&Me.key===ve.key?"":(""+ve.key).replace(b,"$&/")+"/")+O)),K.push(ve)),1;if(Me=0,ke=ke===""?".":ke+":",ae(O))for(var Fe=0;Fe<O.length;Fe++){Ne=O[Fe];var qe=ke+C(Ne,Fe);Me+=$e(Ne,K,oe,qe,ve)}else if(qe=A(O),typeof qe=="function")for(O=qe.call(O),Fe=0;!(Ne=O.next()).done;)Ne=Ne.value,qe=ke+C(Ne,Fe++),Me+=$e(Ne,K,oe,qe,ve);else if(Ne==="object")throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Me}function Ze(O,K,oe){if(O==null)return O;var ke=[],ve=0;return $e(O,ke,"","",function(Ne){return K.call(oe,Ne,ve++)}),ke}function kt(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(oe){(O._status===0||O._status===-1)&&(O._status=1,O._result=oe)},function(oe){(O._status===0||O._status===-1)&&(O._status=2,O._result=oe)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var We={current:null},se={transition:null},we={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:se,ReactCurrentOwner:Ee};function le(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:Ze,forEach:function(O,K,oe){Ze(O,function(){K.apply(this,arguments)},oe)},count:function(O){var K=0;return Ze(O,function(){K++}),K},toArray:function(O){return Ze(O,function(K){return K})||[]},only:function(O){if(!k(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},De.Component=j,De.Fragment=n,De.Profiler=a,De.PureComponent=re,De.StrictMode=s,De.Suspense=g,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=we,De.act=le,De.cloneElement=function(O,K,oe){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var ke=W({},O.props),ve=O.key,Ne=O.ref,Me=O._owner;if(K!=null){if(K.ref!==void 0&&(Ne=K.ref,Me=Ee.current),K.key!==void 0&&(ve=""+K.key),O.type&&O.type.defaultProps)var Fe=O.type.defaultProps;for(qe in K)de.call(K,qe)&&!D.hasOwnProperty(qe)&&(ke[qe]=K[qe]===void 0&&Fe!==void 0?Fe[qe]:K[qe])}var qe=arguments.length-2;if(qe===1)ke.children=oe;else if(1<qe){Fe=Array(qe);for(var mt=0;mt<qe;mt++)Fe[mt]=arguments[mt+2];ke.children=Fe}return{$$typeof:i,type:O.type,key:ve,ref:Ne,props:ke,_owner:Me}},De.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:u,_context:O},O.Consumer=O},De.createElement=T,De.createFactory=function(O){var K=T.bind(null,O);return K.type=O,K},De.createRef=function(){return{current:null}},De.forwardRef=function(O){return{$$typeof:p,render:O}},De.isValidElement=k,De.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:kt}},De.memo=function(O,K){return{$$typeof:v,type:O,compare:K===void 0?null:K}},De.startTransition=function(O){var K=se.transition;se.transition={};try{O()}finally{se.transition=K}},De.unstable_act=le,De.useCallback=function(O,K){return We.current.useCallback(O,K)},De.useContext=function(O){return We.current.useContext(O)},De.useDebugValue=function(){},De.useDeferredValue=function(O){return We.current.useDeferredValue(O)},De.useEffect=function(O,K){return We.current.useEffect(O,K)},De.useId=function(){return We.current.useId()},De.useImperativeHandle=function(O,K,oe){return We.current.useImperativeHandle(O,K,oe)},De.useInsertionEffect=function(O,K){return We.current.useInsertionEffect(O,K)},De.useLayoutEffect=function(O,K){return We.current.useLayoutEffect(O,K)},De.useMemo=function(O,K){return We.current.useMemo(O,K)},De.useReducer=function(O,K,oe){return We.current.useReducer(O,K,oe)},De.useRef=function(O){return We.current.useRef(O)},De.useState=function(O){return We.current.useState(O)},De.useSyncExternalStore=function(O,K,oe){return We.current.useSyncExternalStore(O,K,oe)},De.useTransition=function(){return We.current.useTransition()},De.version="18.3.1",De}var Nm;function Of(){return Nm||(Nm=1,Uh.exports=PE()),Uh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function xE(){if(Dm)return Sa;Dm=1;var i=Of(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(p,g,v){var E,S={},A=null,M=null;v!==void 0&&(A=""+v),g.key!==void 0&&(A=""+g.key),g.ref!==void 0&&(M=g.ref);for(E in g)s.call(g,E)&&!u.hasOwnProperty(E)&&(S[E]=g[E]);if(p&&p.defaultProps)for(E in g=p.defaultProps,g)S[E]===void 0&&(S[E]=g[E]);return{$$typeof:e,type:p,key:A,ref:M,props:S,_owner:a.current}}return Sa.Fragment=n,Sa.jsx=h,Sa.jsxs=h,Sa}var Vm;function kE(){return Vm||(Vm=1,Fh.exports=xE()),Fh.exports}var P=kE(),B=Of();const NE=uy(B);var pu={},jh={exports:{}},In={},zh={exports:{}},Bh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function DE(){return Lm||(Lm=1,(function(i){function e(se,we){var le=se.length;se.push(we);e:for(;0<le;){var O=le-1>>>1,K=se[O];if(0<a(K,we))se[O]=we,se[le]=K,le=O;else break e}}function n(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var we=se[0],le=se.pop();if(le!==we){se[0]=le;e:for(var O=0,K=se.length,oe=K>>>1;O<oe;){var ke=2*(O+1)-1,ve=se[ke],Ne=ke+1,Me=se[Ne];if(0>a(ve,le))Ne<K&&0>a(Me,ve)?(se[O]=Me,se[Ne]=le,O=Ne):(se[O]=ve,se[ke]=le,O=ke);else if(Ne<K&&0>a(Me,le))se[O]=Me,se[Ne]=le,O=Ne;else break e}}return we}function a(se,we){var le=se.sortIndex-we.sortIndex;return le!==0?le:se.id-we.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var g=[],v=[],E=1,S=null,A=3,M=!1,W=!1,$=!1,j=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(se){for(var we=n(v);we!==null;){if(we.callback===null)s(v);else if(we.startTime<=se)s(v),we.sortIndex=we.expirationTime,e(g,we);else break;we=n(v)}}function ae(se){if($=!1,J(se),!W)if(n(g)!==null)W=!0,kt(de);else{var we=n(v);we!==null&&We(ae,we.startTime-se)}}function de(se,we){W=!1,$&&($=!1,G(T),T=-1),M=!0;var le=A;try{for(J(we),S=n(g);S!==null&&(!(S.expirationTime>we)||se&&!N());){var O=S.callback;if(typeof O=="function"){S.callback=null,A=S.priorityLevel;var K=O(S.expirationTime<=we);we=i.unstable_now(),typeof K=="function"?S.callback=K:S===n(g)&&s(g),J(we)}else s(g);S=n(g)}if(S!==null)var oe=!0;else{var ke=n(v);ke!==null&&We(ae,ke.startTime-we),oe=!1}return oe}finally{S=null,A=le,M=!1}}var Ee=!1,D=null,T=-1,R=5,k=-1;function N(){return!(i.unstable_now()-k<R)}function b(){if(D!==null){var se=i.unstable_now();k=se;var we=!0;try{we=D(!0,se)}finally{we?C():(Ee=!1,D=null)}}else Ee=!1}var C;if(typeof re=="function")C=function(){re(b)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,Ze=$e.port2;$e.port1.onmessage=b,C=function(){Ze.postMessage(null)}}else C=function(){j(b,0)};function kt(se){D=se,Ee||(Ee=!0,C())}function We(se,we){T=j(function(){se(i.unstable_now())},we)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(se){se.callback=null},i.unstable_continueExecution=function(){W||M||(W=!0,kt(de))},i.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<se?Math.floor(1e3/se):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(se){switch(A){case 1:case 2:case 3:var we=3;break;default:we=A}var le=A;A=we;try{return se()}finally{A=le}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(se,we){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var le=A;A=se;try{return we()}finally{A=le}},i.unstable_scheduleCallback=function(se,we,le){var O=i.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?O+le:O):le=O,se){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=le+K,se={id:E++,callback:we,priorityLevel:se,startTime:le,expirationTime:K,sortIndex:-1},le>O?(se.sortIndex=le,e(v,se),n(g)===null&&se===n(v)&&($?(G(T),T=-1):$=!0,We(ae,le-O))):(se.sortIndex=K,e(g,se),W||M||(W=!0,kt(de))),se},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(se){var we=A;return function(){var le=A;A=we;try{return se.apply(this,arguments)}finally{A=le}}}})(Bh)),Bh}var Om;function VE(){return Om||(Om=1,zh.exports=DE()),zh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function LE(){if(Mm)return In;Mm=1;var i=Of(),e=VE();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},S={};function A(t){return g.call(S,t)?!0:g.call(E,t)?!1:v.test(t)?S[t]=!0:(E[t]=!0,!1)}function M(t,r,o,c){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function W(t,r,o,c){if(r===null||typeof r>"u"||M(t,r,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function $(t,r,o,c,f,m,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=m,this.removeEmptyString=_}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){j[t]=new $(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];j[r]=new $(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){j[t]=new $(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){j[t]=new $(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){j[t]=new $(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){j[t]=new $(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){j[t]=new $(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){j[t]=new $(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){j[t]=new $(t,5,!1,t.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function re(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(G,re);j[r]=new $(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(G,re);j[r]=new $(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(G,re);j[r]=new $(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){j[t]=new $(t,1,!1,t.toLowerCase(),null,!1,!1)}),j.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){j[t]=new $(t,1,!1,t.toLowerCase(),null,!0,!0)});function J(t,r,o,c){var f=j.hasOwnProperty(r)?j[r]:null;(f!==null?f.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(W(r,o,f,c)&&(o=null),c||f===null?A(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(r=f.attributeName,c=f.attributeNamespace,o===null?t.removeAttribute(r):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,c?t.setAttributeNS(c,r,o):t.setAttribute(r,o))))}var ae=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),Ee=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),N=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),Ze=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),We=Symbol.for("react.offscreen"),se=Symbol.iterator;function we(t){return t===null||typeof t!="object"?null:(t=se&&t[se]||t["@@iterator"],typeof t=="function"?t:null)}var le=Object.assign,O;function K(t){if(O===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);O=r&&r[1]||""}return`
`+O+t}var oe=!1;function ke(t,r){if(!t||oe)return"";oe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(H){var c=H}Reflect.construct(t,[],r)}else{try{r.call()}catch(H){c=H}t.call(r.prototype)}else{try{throw Error()}catch(H){c=H}t()}}catch(H){if(H&&c&&typeof H.stack=="string"){for(var f=H.stack.split(`
`),m=c.stack.split(`
`),_=f.length-1,I=m.length-1;1<=_&&0<=I&&f[_]!==m[I];)I--;for(;1<=_&&0<=I;_--,I--)if(f[_]!==m[I]){if(_!==1||I!==1)do if(_--,I--,0>I||f[_]!==m[I]){var x=`
`+f[_].replace(" at new "," at ");return t.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",t.displayName)),x}while(1<=_&&0<=I);break}}}finally{oe=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?K(t):""}function ve(t){switch(t.tag){case 5:return K(t.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return t=ke(t.type,!1),t;case 11:return t=ke(t.type.render,!1),t;case 1:return t=ke(t.type,!0),t;default:return""}}function Ne(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case Ee:return"Portal";case R:return"Profiler";case T:return"StrictMode";case C:return"Suspense";case $e:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case b:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ze:return r=t.displayName||null,r!==null?r:Ne(t.type)||"Memo";case kt:r=t._payload,t=t._init;try{return Ne(t(r))}catch{}}return null}function Me(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qe(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function mt(t){var r=qe(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function jn(t){t._valueTracker||(t._valueTracker=mt(t))}function xn(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return t&&(c=qe(t)?t.checked?"true":"false":t.value),t=c,t!==o?(r.setValue(t),!0):!1}function kn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tn(t,r){var o=r.checked;return le({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Rr(t,r){var o=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;o=Fe(r.value!=null?r.value:o),t._wrapperState={initialChecked:c,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Xr(t,r){r=r.checked,r!=null&&J(t,"checked",r,!1)}function zn(t,r){Xr(t,r);var o=Fe(r.value),c=r.type;if(o!=null)c==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?ur(t,r.type,o):r.hasOwnProperty("defaultValue")&&ur(t,r.type,Fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Jr(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function ur(t,r,o){(r!=="number"||kn(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Bn=Array.isArray;function Hn(t,r,o,c){if(t=t.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=r.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&c&&(t[o].defaultSelected=!0)}else{for(o=""+Fe(o),r=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function hs(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cr(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Bn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Fe(o)}}function $n(t,r){var o=Fe(r.value),c=Fe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),c!=null&&(t.defaultValue=""+c)}function Wn(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Xe(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Xe(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qn,Ci=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,c,f){MSApp.execUnsafeLocalFunction(function(){return t(r,o,c,f)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(qn=qn||document.createElement("div"),qn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=qn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Gn(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Pr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kn=["Webkit","ms","Moz","O"];Object.keys(Pr).forEach(function(t){Kn.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Pr[r]=Pr[t]})});function xr(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Pr.hasOwnProperty(t)&&Pr[t]?(""+r).trim():r+"px"}function nn(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var c=o.indexOf("--")===0,f=xr(o,r[o],c);o==="float"&&(o="cssFloat"),c?t.setProperty(o,f):t[o]=f}}var Qn=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zr(t,r){if(r){if(Qn[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function ei(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ti=null;function cr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hr=null,hn=null,Wt=null;function Pi(t){if(t=ua(t)){if(typeof hr!="function")throw Error(n(280));var r=t.stateNode;r&&(r=xl(r),hr(t.stateNode,t.type,r))}}function Yn(t){hn?Wt?Wt.push(t):Wt=[t]:hn=t}function it(){if(hn){var t=hn,r=Wt;if(Wt=hn=null,Pi(t),r)for(t=0;t<r.length;t++)Pi(r[t])}}function fn(t,r){return t(r)}function fs(){}var Xn=!1;function ni(t,r,o){if(Xn)return t(r,o);Xn=!0;try{return fn(t,r,o)}finally{Xn=!1,(hn!==null||Wt!==null)&&(fs(),it())}}function st(t,r){var o=t.stateNode;if(o===null)return null;var c=xl(o);if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var ri=!1;if(p)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){ri=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{ri=!1}function Nt(t,r,o,c,f,m,_,I,x){var H=Array.prototype.slice.call(arguments,3);try{r.apply(o,H)}catch(Z){this.onError(Z)}}var dn=!1,ii=null,pn=!1,si=null,$s={onError:function(t){dn=!0,ii=t}};function qt(t,r,o,c,f,m,_,I,x){dn=!1,ii=null,Nt.apply($s,arguments)}function ds(t,r,o,c,f,m,_,I,x){if(qt.apply(this,arguments),dn){if(dn){var H=ii;dn=!1,ii=null}else throw Error(n(198));pn||(pn=!0,si=H)}}function mn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function kr(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function gn(t){if(mn(t)!==t)throw Error(n(188))}function Ws(t){var r=t.alternate;if(!r){if(r=mn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,c=r;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return gn(f),t;if(m===c)return gn(f),r;m=m.sibling}throw Error(n(188))}if(o.return!==c.return)o=f,c=m;else{for(var _=!1,I=f.child;I;){if(I===o){_=!0,o=f,c=m;break}if(I===c){_=!0,c=f,o=m;break}I=I.sibling}if(!_){for(I=m.child;I;){if(I===o){_=!0,o=m,c=f;break}if(I===c){_=!0,c=m,o=f;break}I=I.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function ye(t){return t=Ws(t),t!==null?V(t):null}function V(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=V(t);if(r!==null)return r;t=t.sibling}return null}var ee=e.unstable_scheduleCallback,he=e.unstable_cancelCallback,Ke=e.unstable_shouldYield,vt=e.unstable_requestPaint,Ce=e.unstable_now,St=e.unstable_getCurrentPriorityLevel,bt=e.unstable_ImmediatePriority,yn=e.unstable_UserBlockingPriority,Gt=e.unstable_NormalPriority,dt=e.unstable_LowPriority,ps=e.unstable_IdlePriority,Nr=null,Dn=null;function sl(t){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(Nr,t,void 0,(t.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:al,Go=Math.log,ol=Math.LN2;function al(t){return t>>>=0,t===0?32:31-(Go(t)/ol|0)|0}var qs=64,Gs=4194304;function xi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ms(t,r){var o=t.pendingLanes;if(o===0)return 0;var c=0,f=t.suspendedLanes,m=t.pingedLanes,_=o&268435455;if(_!==0){var I=_&~f;I!==0?c=xi(I):(m&=_,m!==0&&(c=xi(m)))}else _=o&~f,_!==0?c=xi(_):m!==0&&(c=xi(m));if(c===0)return 0;if(r!==0&&r!==c&&(r&f)===0&&(f=c&-c,m=r&-r,f>=m||f===16&&(m&4194240)!==0))return r;if((c&4)!==0&&(c|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)o=31-rn(r),f=1<<o,c|=t[o],r&=~f;return c}function pc(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oi(t,r){for(var o=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes;0<m;){var _=31-rn(m),I=1<<_,x=f[_];x===-1?((I&o)===0||(I&c)!==0)&&(f[_]=pc(I,r)):x<=r&&(t.expiredLanes|=I),m&=~I}}function Vn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gs(){var t=qs;return qs<<=1,(qs&4194240)===0&&(qs=64),t}function ki(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Ni(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-rn(r),t[r]=o}function Ye(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-rn(o),m=1<<f;r[f]=0,c[f]=-1,t[f]=-1,o&=~m}}function Di(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var c=31-rn(o),f=1<<c;f&r|t[c]&r&&(t[c]|=r),o&=~f}}var be=0;function Vi(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var ll,Ks,ul,cl,hl,Ko=!1,Dr=[],Ft=null,fr=null,dr=null,Li=new Map,Jn=new Map,Vr=[],mc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fl(t,r){switch(t){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":Li.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jn.delete(r.pointerId)}}function vn(t,r,o,c,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},r!==null&&(r=ua(r),r!==null&&Ks(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function gc(t,r,o,c,f){switch(r){case"focusin":return Ft=vn(Ft,t,r,o,c,f),!0;case"dragenter":return fr=vn(fr,t,r,o,c,f),!0;case"mouseover":return dr=vn(dr,t,r,o,c,f),!0;case"pointerover":var m=f.pointerId;return Li.set(m,vn(Li.get(m)||null,t,r,o,c,f)),!0;case"gotpointercapture":return m=f.pointerId,Jn.set(m,vn(Jn.get(m)||null,t,r,o,c,f)),!0}return!1}function dl(t){var r=ws(t.target);if(r!==null){var o=mn(r);if(o!==null){if(r=o.tag,r===13){if(r=kr(o),r!==null){t.blockedOn=r,hl(t.priority,function(){ul(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ai(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Qs(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);ti=c,o.target.dispatchEvent(c),ti=null}else return r=ua(o),r!==null&&Ks(r),t.blockedOn=o,!1;r.shift()}return!0}function ys(t,r,o){ai(t)&&o.delete(r)}function pl(){Ko=!1,Ft!==null&&ai(Ft)&&(Ft=null),fr!==null&&ai(fr)&&(fr=null),dr!==null&&ai(dr)&&(dr=null),Li.forEach(ys),Jn.forEach(ys)}function pr(t,r){t.blockedOn===r&&(t.blockedOn=null,Ko||(Ko=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,pl)))}function mr(t){function r(f){return pr(f,t)}if(0<Dr.length){pr(Dr[0],t);for(var o=1;o<Dr.length;o++){var c=Dr[o];c.blockedOn===t&&(c.blockedOn=null)}}for(Ft!==null&&pr(Ft,t),fr!==null&&pr(fr,t),dr!==null&&pr(dr,t),Li.forEach(r),Jn.forEach(r),o=0;o<Vr.length;o++)c=Vr[o],c.blockedOn===t&&(c.blockedOn=null);for(;0<Vr.length&&(o=Vr[0],o.blockedOn===null);)dl(o),o.blockedOn===null&&Vr.shift()}var li=ae.ReactCurrentBatchConfig,Oi=!0;function ot(t,r,o,c){var f=be,m=li.transition;li.transition=null;try{be=1,Qo(t,r,o,c)}finally{be=f,li.transition=m}}function yc(t,r,o,c){var f=be,m=li.transition;li.transition=null;try{be=4,Qo(t,r,o,c)}finally{be=f,li.transition=m}}function Qo(t,r,o,c){if(Oi){var f=Qs(t,r,o,c);if(f===null)Pc(t,r,c,vs,o),fl(t,c);else if(gc(f,t,r,o,c))c.stopPropagation();else if(fl(t,c),r&4&&-1<mc.indexOf(t)){for(;f!==null;){var m=ua(f);if(m!==null&&ll(m),m=Qs(t,r,o,c),m===null&&Pc(t,r,c,vs,o),m===f)break;f=m}f!==null&&c.stopPropagation()}else Pc(t,r,c,null,o)}}var vs=null;function Qs(t,r,o,c){if(vs=null,t=cr(c),t=ws(t),t!==null)if(r=mn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=kr(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return vs=t,null}function Yo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(St()){case bt:return 1;case yn:return 4;case Gt:case dt:return 16;case ps:return 536870912;default:return 16}default:return 16}}var Ln=null,Ys=null,_n=null;function Xo(){if(_n)return _n;var t,r=Ys,o=r.length,c,f="value"in Ln?Ln.value:Ln.textContent,m=f.length;for(t=0;t<o&&r[t]===f[t];t++);var _=o-t;for(c=1;c<=_&&r[o-c]===f[m-c];c++);return _n=f.slice(t,1<c?1-c:void 0)}function Xs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Lr(){return!0}function Jo(){return!1}function Ut(t){function r(o,c,f,m,_){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var I in t)t.hasOwnProperty(I)&&(o=t[I],this[I]=o?o(m):m[I]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Lr:Jo,this.isPropagationStopped=Jo,this}return le(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),r}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=Ut(gr),Or=le({},gr,{view:0,detail:0}),vc=Ut(Or),Zs,ui,Mi,_s=le({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mi&&(Mi&&t.type==="mousemove"?(Zs=t.screenX-Mi.screenX,ui=t.screenY-Mi.screenY):ui=Zs=0,Mi=t),Zs)},movementY:function(t){return"movementY"in t?t.movementY:ui}}),eo=Ut(_s),Zo=le({},_s,{dataTransfer:0}),ml=Ut(Zo),to=le({},Or,{relatedTarget:0}),no=Ut(to),gl=le({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),ci=Ut(gl),yl=le({},gr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vl=Ut(yl),_l=le({},gr,{data:0}),ea=Ut(_l),ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},El={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wl(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=El[t])?!!r[t]:!1}function Mr(){return wl}var l=le({},Or,{key:function(t){if(t.key){var r=ro[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Xs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mr,charCode:function(t){return t.type==="keypress"?Xs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=Ut(l),y=le({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=Ut(y),F=le({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mr}),q=Ut(F),ie=le({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qe=Ut(ie),It=le({},_s,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ue=Ut(It),Dt=[9,13,27,32],_t=p&&"CompositionEvent"in window,Zn=null;p&&"documentMode"in document&&(Zn=document.documentMode);var On=p&&"TextEvent"in window&&!Zn,Es=p&&(!_t||Zn&&8<Zn&&11>=Zn),io=" ",Sd=!1;function Id(t,r){switch(t){case"keyup":return Dt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var so=!1;function I_(t,r){switch(t){case"compositionend":return Rd(r);case"keypress":return r.which!==32?null:(Sd=!0,io);case"textInput":return t=r.data,t===io&&Sd?null:t;default:return null}}function R_(t,r){if(so)return t==="compositionend"||!_t&&Id(t,r)?(t=Xo(),_n=Ys=Ln=null,so=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Es&&r.locale!=="ko"?null:r.data;default:return null}}var C_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!C_[t.type]:r==="textarea"}function Pd(t,r,o,c){Yn(c),r=Rl(r,"onChange"),0<r.length&&(o=new Js("onChange","change",null,o,c),t.push({event:o,listeners:r}))}var ta=null,na=null;function P_(t){qd(t,0)}function Tl(t){var r=co(t);if(xn(r))return t}function x_(t,r){if(t==="change")return r}var xd=!1;if(p){var _c;if(p){var Ec="oninput"in document;if(!Ec){var kd=document.createElement("div");kd.setAttribute("oninput","return;"),Ec=typeof kd.oninput=="function"}_c=Ec}else _c=!1;xd=_c&&(!document.documentMode||9<document.documentMode)}function Nd(){ta&&(ta.detachEvent("onpropertychange",Dd),na=ta=null)}function Dd(t){if(t.propertyName==="value"&&Tl(na)){var r=[];Pd(r,na,t,cr(t)),ni(P_,r)}}function k_(t,r,o){t==="focusin"?(Nd(),ta=r,na=o,ta.attachEvent("onpropertychange",Dd)):t==="focusout"&&Nd()}function N_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tl(na)}function D_(t,r){if(t==="click")return Tl(r)}function V_(t,r){if(t==="input"||t==="change")return Tl(r)}function L_(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var yr=typeof Object.is=="function"?Object.is:L_;function ra(t,r){if(yr(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!g.call(r,f)||!yr(t[f],r[f]))return!1}return!0}function Vd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ld(t,r){var o=Vd(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=r&&c>=r)return{node:o,offset:r-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Vd(o)}}function Od(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Od(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Md(){for(var t=window,r=kn();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=kn(t.document)}return r}function wc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function O_(t){var r=Md(),o=t.focusedElem,c=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Od(o.ownerDocument.documentElement,o)){if(c!==null&&wc(o)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!t.extend&&m>c&&(f=c,c=m,m=f),f=Ld(o,m);var _=Ld(o,c);f&&_&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),m>c?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var M_=p&&"documentMode"in document&&11>=document.documentMode,oo=null,Tc=null,ia=null,Ac=!1;function bd(t,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ac||oo==null||oo!==kn(c)||(c=oo,"selectionStart"in c&&wc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ia&&ra(ia,c)||(ia=c,c=Rl(Tc,"onSelect"),0<c.length&&(r=new Js("onSelect","select",null,r,o),t.push({event:r,listeners:c}),r.target=oo)))}function Al(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ao={animationend:Al("Animation","AnimationEnd"),animationiteration:Al("Animation","AnimationIteration"),animationstart:Al("Animation","AnimationStart"),transitionend:Al("Transition","TransitionEnd")},Sc={},Fd={};p&&(Fd=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function Sl(t){if(Sc[t])return Sc[t];if(!ao[t])return t;var r=ao[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Fd)return Sc[t]=r[o];return t}var Ud=Sl("animationend"),jd=Sl("animationiteration"),zd=Sl("animationstart"),Bd=Sl("transitionend"),Hd=new Map,$d="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(t,r){Hd.set(t,r),u(r,[t])}for(var Ic=0;Ic<$d.length;Ic++){var Rc=$d[Ic],b_=Rc.toLowerCase(),F_=Rc[0].toUpperCase()+Rc.slice(1);bi(b_,"on"+F_)}bi(Ud,"onAnimationEnd"),bi(jd,"onAnimationIteration"),bi(zd,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(Bd,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U_=new Set("cancel close invalid load scroll toggle".split(" ").concat(sa));function Wd(t,r,o){var c=t.type||"unknown-event";t.currentTarget=o,ds(c,r,void 0,t),t.currentTarget=null}function qd(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],f=c.event;c=c.listeners;e:{var m=void 0;if(r)for(var _=c.length-1;0<=_;_--){var I=c[_],x=I.instance,H=I.currentTarget;if(I=I.listener,x!==m&&f.isPropagationStopped())break e;Wd(f,I,H),m=x}else for(_=0;_<c.length;_++){if(I=c[_],x=I.instance,H=I.currentTarget,I=I.listener,x!==m&&f.isPropagationStopped())break e;Wd(f,I,H),m=x}}}if(pn)throw t=si,pn=!1,si=null,t}function et(t,r){var o=r[Lc];o===void 0&&(o=r[Lc]=new Set);var c=t+"__bubble";o.has(c)||(Gd(r,t,2,!1),o.add(c))}function Cc(t,r,o){var c=0;r&&(c|=4),Gd(o,t,c,r)}var Il="_reactListening"+Math.random().toString(36).slice(2);function oa(t){if(!t[Il]){t[Il]=!0,s.forEach(function(o){o!=="selectionchange"&&(U_.has(o)||Cc(o,!1,t),Cc(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Il]||(r[Il]=!0,Cc("selectionchange",!1,r))}}function Gd(t,r,o,c){switch(Yo(r)){case 1:var f=ot;break;case 4:f=yc;break;default:f=Qo}o=f.bind(null,r,o,t),f=void 0,!ri||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(r,o,{capture:!0,passive:f}):t.addEventListener(r,o,!0):f!==void 0?t.addEventListener(r,o,{passive:f}):t.addEventListener(r,o,!1)}function Pc(t,r,o,c,f){var m=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var I=c.stateNode.containerInfo;if(I===f||I.nodeType===8&&I.parentNode===f)break;if(_===4)for(_=c.return;_!==null;){var x=_.tag;if((x===3||x===4)&&(x=_.stateNode.containerInfo,x===f||x.nodeType===8&&x.parentNode===f))return;_=_.return}for(;I!==null;){if(_=ws(I),_===null)return;if(x=_.tag,x===5||x===6){c=m=_;continue e}I=I.parentNode}}c=c.return}ni(function(){var H=m,Z=cr(o),te=[];e:{var X=Hd.get(t);if(X!==void 0){var ue=Js,pe=t;switch(t){case"keypress":if(Xs(o)===0)break e;case"keydown":case"keyup":ue=d;break;case"focusin":pe="focus",ue=no;break;case"focusout":pe="blur",ue=no;break;case"beforeblur":case"afterblur":ue=no;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=ml;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=q;break;case Ud:case jd:case zd:ue=ci;break;case Bd:ue=Qe;break;case"scroll":ue=vc;break;case"wheel":ue=Ue;break;case"copy":case"cut":case"paste":ue=vl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=w}var me=(r&4)!==0,gt=!me&&t==="scroll",U=me?X!==null?X+"Capture":null:X;me=[];for(var L=H,z;L!==null;){z=L;var ne=z.stateNode;if(z.tag===5&&ne!==null&&(z=ne,U!==null&&(ne=st(L,U),ne!=null&&me.push(aa(L,ne,z)))),gt)break;L=L.return}0<me.length&&(X=new ue(X,pe,null,o,Z),te.push({event:X,listeners:me}))}}if((r&7)===0){e:{if(X=t==="mouseover"||t==="pointerover",ue=t==="mouseout"||t==="pointerout",X&&o!==ti&&(pe=o.relatedTarget||o.fromElement)&&(ws(pe)||pe[hi]))break e;if((ue||X)&&(X=Z.window===Z?Z:(X=Z.ownerDocument)?X.defaultView||X.parentWindow:window,ue?(pe=o.relatedTarget||o.toElement,ue=H,pe=pe?ws(pe):null,pe!==null&&(gt=mn(pe),pe!==gt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ue=null,pe=H),ue!==pe)){if(me=eo,ne="onMouseLeave",U="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(me=w,ne="onPointerLeave",U="onPointerEnter",L="pointer"),gt=ue==null?X:co(ue),z=pe==null?X:co(pe),X=new me(ne,L+"leave",ue,o,Z),X.target=gt,X.relatedTarget=z,ne=null,ws(Z)===H&&(me=new me(U,L+"enter",pe,o,Z),me.target=z,me.relatedTarget=gt,ne=me),gt=ne,ue&&pe)t:{for(me=ue,U=pe,L=0,z=me;z;z=lo(z))L++;for(z=0,ne=U;ne;ne=lo(ne))z++;for(;0<L-z;)me=lo(me),L--;for(;0<z-L;)U=lo(U),z--;for(;L--;){if(me===U||U!==null&&me===U.alternate)break t;me=lo(me),U=lo(U)}me=null}else me=null;ue!==null&&Kd(te,X,ue,me,!1),pe!==null&&gt!==null&&Kd(te,gt,pe,me,!0)}}e:{if(X=H?co(H):window,ue=X.nodeName&&X.nodeName.toLowerCase(),ue==="select"||ue==="input"&&X.type==="file")var _e=x_;else if(Cd(X))if(xd)_e=V_;else{_e=N_;var Ae=k_}else(ue=X.nodeName)&&ue.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(_e=D_);if(_e&&(_e=_e(t,H))){Pd(te,_e,o,Z);break e}Ae&&Ae(t,X,H),t==="focusout"&&(Ae=X._wrapperState)&&Ae.controlled&&X.type==="number"&&ur(X,"number",X.value)}switch(Ae=H?co(H):window,t){case"focusin":(Cd(Ae)||Ae.contentEditable==="true")&&(oo=Ae,Tc=H,ia=null);break;case"focusout":ia=Tc=oo=null;break;case"mousedown":Ac=!0;break;case"contextmenu":case"mouseup":case"dragend":Ac=!1,bd(te,o,Z);break;case"selectionchange":if(M_)break;case"keydown":case"keyup":bd(te,o,Z)}var Se;if(_t)e:{switch(t){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else so?Id(t,o)&&(Re="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Re="onCompositionStart");Re&&(Es&&o.locale!=="ko"&&(so||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&so&&(Se=Xo()):(Ln=Z,Ys="value"in Ln?Ln.value:Ln.textContent,so=!0)),Ae=Rl(H,Re),0<Ae.length&&(Re=new ea(Re,t,null,o,Z),te.push({event:Re,listeners:Ae}),Se?Re.data=Se:(Se=Rd(o),Se!==null&&(Re.data=Se)))),(Se=On?I_(t,o):R_(t,o))&&(H=Rl(H,"onBeforeInput"),0<H.length&&(Z=new ea("onBeforeInput","beforeinput",null,o,Z),te.push({event:Z,listeners:H}),Z.data=Se))}qd(te,r)})}function aa(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Rl(t,r){for(var o=r+"Capture",c=[];t!==null;){var f=t,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=st(t,o),m!=null&&c.unshift(aa(t,m,f)),m=st(t,r),m!=null&&c.push(aa(t,m,f))),t=t.return}return c}function lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Kd(t,r,o,c,f){for(var m=r._reactName,_=[];o!==null&&o!==c;){var I=o,x=I.alternate,H=I.stateNode;if(x!==null&&x===c)break;I.tag===5&&H!==null&&(I=H,f?(x=st(o,m),x!=null&&_.unshift(aa(o,x,I))):f||(x=st(o,m),x!=null&&_.push(aa(o,x,I)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var j_=/\r\n?/g,z_=/\u0000|\uFFFD/g;function Qd(t){return(typeof t=="string"?t:""+t).replace(j_,`
`).replace(z_,"")}function Cl(t,r,o){if(r=Qd(r),Qd(t)!==r&&o)throw Error(n(425))}function Pl(){}var xc=null,kc=null;function Nc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Dc=typeof setTimeout=="function"?setTimeout:void 0,B_=typeof clearTimeout=="function"?clearTimeout:void 0,Yd=typeof Promise=="function"?Promise:void 0,H_=typeof queueMicrotask=="function"?queueMicrotask:typeof Yd<"u"?function(t){return Yd.resolve(null).then(t).catch($_)}:Dc;function $_(t){setTimeout(function(){throw t})}function Vc(t,r){var o=r,c=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(c===0){t.removeChild(f),mr(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=f}while(o);mr(r)}function Fi(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Xd(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var uo=Math.random().toString(36).slice(2),br="__reactFiber$"+uo,la="__reactProps$"+uo,hi="__reactContainer$"+uo,Lc="__reactEvents$"+uo,W_="__reactListeners$"+uo,q_="__reactHandles$"+uo;function ws(t){var r=t[br];if(r)return r;for(var o=t.parentNode;o;){if(r=o[hi]||o[br]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Xd(t);t!==null;){if(o=t[br])return o;t=Xd(t)}return r}t=o,o=t.parentNode}return null}function ua(t){return t=t[br]||t[hi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function xl(t){return t[la]||null}var Oc=[],ho=-1;function Ui(t){return{current:t}}function tt(t){0>ho||(t.current=Oc[ho],Oc[ho]=null,ho--)}function Je(t,r){ho++,Oc[ho]=t.current,t.current=r}var ji={},Kt=Ui(ji),En=Ui(!1),Ts=ji;function fo(t,r){var o=t.type.contextTypes;if(!o)return ji;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in o)f[m]=r[m];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function wn(t){return t=t.childContextTypes,t!=null}function kl(){tt(En),tt(Kt)}function Jd(t,r,o){if(Kt.current!==ji)throw Error(n(168));Je(Kt,r),Je(En,o)}function Zd(t,r,o){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var f in c)if(!(f in r))throw Error(n(108,Me(t)||"Unknown",f));return le({},o,c)}function Nl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ji,Ts=Kt.current,Je(Kt,t),Je(En,En.current),!0}function ep(t,r,o){var c=t.stateNode;if(!c)throw Error(n(169));o?(t=Zd(t,r,Ts),c.__reactInternalMemoizedMergedChildContext=t,tt(En),tt(Kt),Je(Kt,t)):tt(En),Je(En,o)}var fi=null,Dl=!1,Mc=!1;function tp(t){fi===null?fi=[t]:fi.push(t)}function G_(t){Dl=!0,tp(t)}function zi(){if(!Mc&&fi!==null){Mc=!0;var t=0,r=be;try{var o=fi;for(be=1;t<o.length;t++){var c=o[t];do c=c(!0);while(c!==null)}fi=null,Dl=!1}catch(f){throw fi!==null&&(fi=fi.slice(t+1)),ee(bt,zi),f}finally{be=r,Mc=!1}}return null}var po=[],mo=0,Vl=null,Ll=0,er=[],tr=0,As=null,di=1,pi="";function Ss(t,r){po[mo++]=Ll,po[mo++]=Vl,Vl=t,Ll=r}function np(t,r,o){er[tr++]=di,er[tr++]=pi,er[tr++]=As,As=t;var c=di;t=pi;var f=32-rn(c)-1;c&=~(1<<f),o+=1;var m=32-rn(r)+f;if(30<m){var _=f-f%5;m=(c&(1<<_)-1).toString(32),c>>=_,f-=_,di=1<<32-rn(r)+f|o<<f|c,pi=m+t}else di=1<<m|o<<f|c,pi=t}function bc(t){t.return!==null&&(Ss(t,1),np(t,1,0))}function Fc(t){for(;t===Vl;)Vl=po[--mo],po[mo]=null,Ll=po[--mo],po[mo]=null;for(;t===As;)As=er[--tr],er[tr]=null,pi=er[--tr],er[tr]=null,di=er[--tr],er[tr]=null}var Mn=null,bn=null,at=!1,vr=null;function rp(t,r){var o=sr(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function ip(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Mn=t,bn=Fi(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Mn=t,bn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=As!==null?{id:di,overflow:pi}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=sr(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,Mn=t,bn=null,!0):!1;default:return!1}}function Uc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jc(t){if(at){var r=bn;if(r){var o=r;if(!ip(t,r)){if(Uc(t))throw Error(n(418));r=Fi(o.nextSibling);var c=Mn;r&&ip(t,r)?rp(c,o):(t.flags=t.flags&-4097|2,at=!1,Mn=t)}}else{if(Uc(t))throw Error(n(418));t.flags=t.flags&-4097|2,at=!1,Mn=t}}}function sp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mn=t}function Ol(t){if(t!==Mn)return!1;if(!at)return sp(t),at=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Nc(t.type,t.memoizedProps)),r&&(r=bn)){if(Uc(t))throw op(),Error(n(418));for(;r;)rp(t,r),r=Fi(r.nextSibling)}if(sp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){bn=Fi(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}bn=null}}else bn=Mn?Fi(t.stateNode.nextSibling):null;return!0}function op(){for(var t=bn;t;)t=Fi(t.nextSibling)}function go(){bn=Mn=null,at=!1}function zc(t){vr===null?vr=[t]:vr.push(t)}var K_=ae.ReactCurrentBatchConfig;function ca(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var c=o.stateNode}if(!c)throw Error(n(147,t));var f=c,m=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(_){var I=f.refs;_===null?delete I[m]:I[m]=_},r._stringRef=m,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Ml(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function ap(t){var r=t._init;return r(t._payload)}function lp(t){function r(U,L){if(t){var z=U.deletions;z===null?(U.deletions=[L],U.flags|=16):z.push(L)}}function o(U,L){if(!t)return null;for(;L!==null;)r(U,L),L=L.sibling;return null}function c(U,L){for(U=new Map;L!==null;)L.key!==null?U.set(L.key,L):U.set(L.index,L),L=L.sibling;return U}function f(U,L){return U=Qi(U,L),U.index=0,U.sibling=null,U}function m(U,L,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<L?(U.flags|=2,L):z):(U.flags|=2,L)):(U.flags|=1048576,L)}function _(U){return t&&U.alternate===null&&(U.flags|=2),U}function I(U,L,z,ne){return L===null||L.tag!==6?(L=Dh(z,U.mode,ne),L.return=U,L):(L=f(L,z),L.return=U,L)}function x(U,L,z,ne){var _e=z.type;return _e===D?Z(U,L,z.props.children,ne,z.key):L!==null&&(L.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===kt&&ap(_e)===L.type)?(ne=f(L,z.props),ne.ref=ca(U,L,z),ne.return=U,ne):(ne=ou(z.type,z.key,z.props,null,U.mode,ne),ne.ref=ca(U,L,z),ne.return=U,ne)}function H(U,L,z,ne){return L===null||L.tag!==4||L.stateNode.containerInfo!==z.containerInfo||L.stateNode.implementation!==z.implementation?(L=Vh(z,U.mode,ne),L.return=U,L):(L=f(L,z.children||[]),L.return=U,L)}function Z(U,L,z,ne,_e){return L===null||L.tag!==7?(L=Ds(z,U.mode,ne,_e),L.return=U,L):(L=f(L,z),L.return=U,L)}function te(U,L,z){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Dh(""+L,U.mode,z),L.return=U,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case de:return z=ou(L.type,L.key,L.props,null,U.mode,z),z.ref=ca(U,null,L),z.return=U,z;case Ee:return L=Vh(L,U.mode,z),L.return=U,L;case kt:var ne=L._init;return te(U,ne(L._payload),z)}if(Bn(L)||we(L))return L=Ds(L,U.mode,z,null),L.return=U,L;Ml(U,L)}return null}function X(U,L,z,ne){var _e=L!==null?L.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return _e!==null?null:I(U,L,""+z,ne);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case de:return z.key===_e?x(U,L,z,ne):null;case Ee:return z.key===_e?H(U,L,z,ne):null;case kt:return _e=z._init,X(U,L,_e(z._payload),ne)}if(Bn(z)||we(z))return _e!==null?null:Z(U,L,z,ne,null);Ml(U,z)}return null}function ue(U,L,z,ne,_e){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return U=U.get(z)||null,I(L,U,""+ne,_e);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case de:return U=U.get(ne.key===null?z:ne.key)||null,x(L,U,ne,_e);case Ee:return U=U.get(ne.key===null?z:ne.key)||null,H(L,U,ne,_e);case kt:var Ae=ne._init;return ue(U,L,z,Ae(ne._payload),_e)}if(Bn(ne)||we(ne))return U=U.get(z)||null,Z(L,U,ne,_e,null);Ml(L,ne)}return null}function pe(U,L,z,ne){for(var _e=null,Ae=null,Se=L,Re=L=0,Ot=null;Se!==null&&Re<z.length;Re++){Se.index>Re?(Ot=Se,Se=null):Ot=Se.sibling;var He=X(U,Se,z[Re],ne);if(He===null){Se===null&&(Se=Ot);break}t&&Se&&He.alternate===null&&r(U,Se),L=m(He,L,Re),Ae===null?_e=He:Ae.sibling=He,Ae=He,Se=Ot}if(Re===z.length)return o(U,Se),at&&Ss(U,Re),_e;if(Se===null){for(;Re<z.length;Re++)Se=te(U,z[Re],ne),Se!==null&&(L=m(Se,L,Re),Ae===null?_e=Se:Ae.sibling=Se,Ae=Se);return at&&Ss(U,Re),_e}for(Se=c(U,Se);Re<z.length;Re++)Ot=ue(Se,U,Re,z[Re],ne),Ot!==null&&(t&&Ot.alternate!==null&&Se.delete(Ot.key===null?Re:Ot.key),L=m(Ot,L,Re),Ae===null?_e=Ot:Ae.sibling=Ot,Ae=Ot);return t&&Se.forEach(function(Yi){return r(U,Yi)}),at&&Ss(U,Re),_e}function me(U,L,z,ne){var _e=we(z);if(typeof _e!="function")throw Error(n(150));if(z=_e.call(z),z==null)throw Error(n(151));for(var Ae=_e=null,Se=L,Re=L=0,Ot=null,He=z.next();Se!==null&&!He.done;Re++,He=z.next()){Se.index>Re?(Ot=Se,Se=null):Ot=Se.sibling;var Yi=X(U,Se,He.value,ne);if(Yi===null){Se===null&&(Se=Ot);break}t&&Se&&Yi.alternate===null&&r(U,Se),L=m(Yi,L,Re),Ae===null?_e=Yi:Ae.sibling=Yi,Ae=Yi,Se=Ot}if(He.done)return o(U,Se),at&&Ss(U,Re),_e;if(Se===null){for(;!He.done;Re++,He=z.next())He=te(U,He.value,ne),He!==null&&(L=m(He,L,Re),Ae===null?_e=He:Ae.sibling=He,Ae=He);return at&&Ss(U,Re),_e}for(Se=c(U,Se);!He.done;Re++,He=z.next())He=ue(Se,U,Re,He.value,ne),He!==null&&(t&&He.alternate!==null&&Se.delete(He.key===null?Re:He.key),L=m(He,L,Re),Ae===null?_e=He:Ae.sibling=He,Ae=He);return t&&Se.forEach(function(CE){return r(U,CE)}),at&&Ss(U,Re),_e}function gt(U,L,z,ne){if(typeof z=="object"&&z!==null&&z.type===D&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case de:e:{for(var _e=z.key,Ae=L;Ae!==null;){if(Ae.key===_e){if(_e=z.type,_e===D){if(Ae.tag===7){o(U,Ae.sibling),L=f(Ae,z.props.children),L.return=U,U=L;break e}}else if(Ae.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===kt&&ap(_e)===Ae.type){o(U,Ae.sibling),L=f(Ae,z.props),L.ref=ca(U,Ae,z),L.return=U,U=L;break e}o(U,Ae);break}else r(U,Ae);Ae=Ae.sibling}z.type===D?(L=Ds(z.props.children,U.mode,ne,z.key),L.return=U,U=L):(ne=ou(z.type,z.key,z.props,null,U.mode,ne),ne.ref=ca(U,L,z),ne.return=U,U=ne)}return _(U);case Ee:e:{for(Ae=z.key;L!==null;){if(L.key===Ae)if(L.tag===4&&L.stateNode.containerInfo===z.containerInfo&&L.stateNode.implementation===z.implementation){o(U,L.sibling),L=f(L,z.children||[]),L.return=U,U=L;break e}else{o(U,L);break}else r(U,L);L=L.sibling}L=Vh(z,U.mode,ne),L.return=U,U=L}return _(U);case kt:return Ae=z._init,gt(U,L,Ae(z._payload),ne)}if(Bn(z))return pe(U,L,z,ne);if(we(z))return me(U,L,z,ne);Ml(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,L!==null&&L.tag===6?(o(U,L.sibling),L=f(L,z),L.return=U,U=L):(o(U,L),L=Dh(z,U.mode,ne),L.return=U,U=L),_(U)):o(U,L)}return gt}var yo=lp(!0),up=lp(!1),bl=Ui(null),Fl=null,vo=null,Bc=null;function Hc(){Bc=vo=Fl=null}function $c(t){var r=bl.current;tt(bl),t._currentValue=r}function Wc(t,r,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===o)break;t=t.return}}function _o(t,r){Fl=t,Bc=vo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Tn=!0),t.firstContext=null)}function nr(t){var r=t._currentValue;if(Bc!==t)if(t={context:t,memoizedValue:r,next:null},vo===null){if(Fl===null)throw Error(n(308));vo=t,Fl.dependencies={lanes:0,firstContext:t}}else vo=vo.next=t;return r}var Is=null;function qc(t){Is===null?Is=[t]:Is.push(t)}function cp(t,r,o,c){var f=r.interleaved;return f===null?(o.next=o,qc(r)):(o.next=f.next,f.next=o),r.interleaved=o,mi(t,c)}function mi(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Bi=!1;function Gc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hp(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gi(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Hi(t,r,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Be&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,mi(t,o)}return f=c.interleaved,f===null?(r.next=r,qc(c)):(r.next=f.next,f.next=r),c.interleaved=r,mi(t,o)}function Ul(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,Di(t,o)}}function fp(t,r){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?f=m=_:m=m.next=_,o=o.next}while(o!==null);m===null?f=m=r:m=m.next=r}else f=m=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function jl(t,r,o,c){var f=t.updateQueue;Bi=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,I=f.shared.pending;if(I!==null){f.shared.pending=null;var x=I,H=x.next;x.next=null,_===null?m=H:_.next=H,_=x;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,I=Z.lastBaseUpdate,I!==_&&(I===null?Z.firstBaseUpdate=H:I.next=H,Z.lastBaseUpdate=x))}if(m!==null){var te=f.baseState;_=0,Z=H=x=null,I=m;do{var X=I.lane,ue=I.eventTime;if((c&X)===X){Z!==null&&(Z=Z.next={eventTime:ue,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var pe=t,me=I;switch(X=r,ue=o,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){te=pe.call(ue,te,X);break e}te=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,X=typeof pe=="function"?pe.call(ue,te,X):pe,X==null)break e;te=le({},te,X);break e;case 2:Bi=!0}}I.callback!==null&&I.lane!==0&&(t.flags|=64,X=f.effects,X===null?f.effects=[I]:X.push(I))}else ue={eventTime:ue,lane:X,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Z===null?(H=Z=ue,x=te):Z=Z.next=ue,_|=X;if(I=I.next,I===null){if(I=f.shared.pending,I===null)break;X=I,I=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);if(Z===null&&(x=te),f.baseState=x,f.firstBaseUpdate=H,f.lastBaseUpdate=Z,r=f.shared.interleaved,r!==null){f=r;do _|=f.lane,f=f.next;while(f!==r)}else m===null&&(f.shared.lanes=0);Ps|=_,t.lanes=_,t.memoizedState=te}}function dp(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],f=c.callback;if(f!==null){if(c.callback=null,c=o,typeof f!="function")throw Error(n(191,f));f.call(c)}}}var ha={},Fr=Ui(ha),fa=Ui(ha),da=Ui(ha);function Rs(t){if(t===ha)throw Error(n(174));return t}function Kc(t,r){switch(Je(da,r),Je(fa,t),Je(Fr,ha),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ft(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ft(r,t)}tt(Fr),Je(Fr,r)}function Eo(){tt(Fr),tt(fa),tt(da)}function pp(t){Rs(da.current);var r=Rs(Fr.current),o=ft(r,t.type);r!==o&&(Je(fa,t),Je(Fr,o))}function Qc(t){fa.current===t&&(tt(Fr),tt(fa))}var lt=Ui(0);function zl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Yc=[];function Xc(){for(var t=0;t<Yc.length;t++)Yc[t]._workInProgressVersionPrimary=null;Yc.length=0}var Bl=ae.ReactCurrentDispatcher,Jc=ae.ReactCurrentBatchConfig,Cs=0,ut=null,Rt=null,Vt=null,Hl=!1,pa=!1,ma=0,Q_=0;function Qt(){throw Error(n(321))}function Zc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!yr(t[o],r[o]))return!1;return!0}function eh(t,r,o,c,f,m){if(Cs=m,ut=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Bl.current=t===null||t.memoizedState===null?Z_:eE,t=o(c,f),pa){m=0;do{if(pa=!1,ma=0,25<=m)throw Error(n(301));m+=1,Vt=Rt=null,r.updateQueue=null,Bl.current=tE,t=o(c,f)}while(pa)}if(Bl.current=ql,r=Rt!==null&&Rt.next!==null,Cs=0,Vt=Rt=ut=null,Hl=!1,r)throw Error(n(300));return t}function th(){var t=ma!==0;return ma=0,t}function Ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?ut.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function rr(){if(Rt===null){var t=ut.alternate;t=t!==null?t.memoizedState:null}else t=Rt.next;var r=Vt===null?ut.memoizedState:Vt.next;if(r!==null)Vt=r,Rt=t;else{if(t===null)throw Error(n(310));Rt=t,t={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Vt===null?ut.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function ga(t,r){return typeof r=="function"?r(t):r}function nh(t){var r=rr(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=Rt,f=c.baseQueue,m=o.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}c.baseQueue=f=m,o.pending=null}if(f!==null){m=f.next,c=c.baseState;var I=_=null,x=null,H=m;do{var Z=H.lane;if((Cs&Z)===Z)x!==null&&(x=x.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),c=H.hasEagerState?H.eagerState:t(c,H.action);else{var te={lane:Z,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};x===null?(I=x=te,_=c):x=x.next=te,ut.lanes|=Z,Ps|=Z}H=H.next}while(H!==null&&H!==m);x===null?_=c:x.next=I,yr(c,r.memoizedState)||(Tn=!0),r.memoizedState=c,r.baseState=_,r.baseQueue=x,o.lastRenderedState=c}if(t=o.interleaved,t!==null){f=t;do m=f.lane,ut.lanes|=m,Ps|=m,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function rh(t){var r=rr(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=o.dispatch,f=o.pending,m=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do m=t(m,_.action),_=_.next;while(_!==f);yr(m,r.memoizedState)||(Tn=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,c]}function mp(){}function gp(t,r){var o=ut,c=rr(),f=r(),m=!yr(c.memoizedState,f);if(m&&(c.memoizedState=f,Tn=!0),c=c.queue,ih(_p.bind(null,o,c,t),[t]),c.getSnapshot!==r||m||Vt!==null&&Vt.memoizedState.tag&1){if(o.flags|=2048,ya(9,vp.bind(null,o,c,f,r),void 0,null),Lt===null)throw Error(n(349));(Cs&30)!==0||yp(o,r,f)}return f}function yp(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=ut.updateQueue,r===null?(r={lastEffect:null,stores:null},ut.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function vp(t,r,o,c){r.value=o,r.getSnapshot=c,Ep(r)&&wp(t)}function _p(t,r,o){return o(function(){Ep(r)&&wp(t)})}function Ep(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!yr(t,o)}catch{return!0}}function wp(t){var r=mi(t,1);r!==null&&Tr(r,t,1,-1)}function Tp(t){var r=Ur();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:t},r.queue=t,t=t.dispatch=J_.bind(null,ut,t),[r.memoizedState,t]}function ya(t,r,o,c){return t={tag:t,create:r,destroy:o,deps:c,next:null},r=ut.updateQueue,r===null?(r={lastEffect:null,stores:null},ut.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,r.lastEffect=t)),t}function Ap(){return rr().memoizedState}function $l(t,r,o,c){var f=Ur();ut.flags|=t,f.memoizedState=ya(1|r,o,void 0,c===void 0?null:c)}function Wl(t,r,o,c){var f=rr();c=c===void 0?null:c;var m=void 0;if(Rt!==null){var _=Rt.memoizedState;if(m=_.destroy,c!==null&&Zc(c,_.deps)){f.memoizedState=ya(r,o,m,c);return}}ut.flags|=t,f.memoizedState=ya(1|r,o,m,c)}function Sp(t,r){return $l(8390656,8,t,r)}function ih(t,r){return Wl(2048,8,t,r)}function Ip(t,r){return Wl(4,2,t,r)}function Rp(t,r){return Wl(4,4,t,r)}function Cp(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Pp(t,r,o){return o=o!=null?o.concat([t]):null,Wl(4,4,Cp.bind(null,r,t),o)}function sh(){}function xp(t,r){var o=rr();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Zc(r,c[1])?c[0]:(o.memoizedState=[t,r],t)}function kp(t,r){var o=rr();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Zc(r,c[1])?c[0]:(t=t(),o.memoizedState=[t,r],t)}function Np(t,r,o){return(Cs&21)===0?(t.baseState&&(t.baseState=!1,Tn=!0),t.memoizedState=o):(yr(o,r)||(o=gs(),ut.lanes|=o,Ps|=o,t.baseState=!0),r)}function Y_(t,r){var o=be;be=o!==0&&4>o?o:4,t(!0);var c=Jc.transition;Jc.transition={};try{t(!1),r()}finally{be=o,Jc.transition=c}}function Dp(){return rr().memoizedState}function X_(t,r,o){var c=Gi(t);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},Vp(t))Lp(r,o);else if(o=cp(t,r,o,c),o!==null){var f=an();Tr(o,t,c,f),Op(o,r,c)}}function J_(t,r,o){var c=Gi(t),f={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(Vp(t))Lp(r,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var _=r.lastRenderedState,I=m(_,o);if(f.hasEagerState=!0,f.eagerState=I,yr(I,_)){var x=r.interleaved;x===null?(f.next=f,qc(r)):(f.next=x.next,x.next=f),r.interleaved=f;return}}catch{}finally{}o=cp(t,r,f,c),o!==null&&(f=an(),Tr(o,t,c,f),Op(o,r,c))}}function Vp(t){var r=t.alternate;return t===ut||r!==null&&r===ut}function Lp(t,r){pa=Hl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Op(t,r,o){if((o&4194240)!==0){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,Di(t,o)}}var ql={readContext:nr,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},Z_={readContext:nr,useCallback:function(t,r){return Ur().memoizedState=[t,r===void 0?null:r],t},useContext:nr,useEffect:Sp,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,$l(4194308,4,Cp.bind(null,r,t),o)},useLayoutEffect:function(t,r){return $l(4194308,4,t,r)},useInsertionEffect:function(t,r){return $l(4,2,t,r)},useMemo:function(t,r){var o=Ur();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var c=Ur();return r=o!==void 0?o(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=X_.bind(null,ut,t),[c.memoizedState,t]},useRef:function(t){var r=Ur();return t={current:t},r.memoizedState=t},useState:Tp,useDebugValue:sh,useDeferredValue:function(t){return Ur().memoizedState=t},useTransition:function(){var t=Tp(!1),r=t[0];return t=Y_.bind(null,t[1]),Ur().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var c=ut,f=Ur();if(at){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),Lt===null)throw Error(n(349));(Cs&30)!==0||yp(c,r,o)}f.memoizedState=o;var m={value:o,getSnapshot:r};return f.queue=m,Sp(_p.bind(null,c,m,t),[t]),c.flags|=2048,ya(9,vp.bind(null,c,m,o,r),void 0,null),o},useId:function(){var t=Ur(),r=Lt.identifierPrefix;if(at){var o=pi,c=di;o=(c&~(1<<32-rn(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=ma++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Q_++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},eE={readContext:nr,useCallback:xp,useContext:nr,useEffect:ih,useImperativeHandle:Pp,useInsertionEffect:Ip,useLayoutEffect:Rp,useMemo:kp,useReducer:nh,useRef:Ap,useState:function(){return nh(ga)},useDebugValue:sh,useDeferredValue:function(t){var r=rr();return Np(r,Rt.memoizedState,t)},useTransition:function(){var t=nh(ga)[0],r=rr().memoizedState;return[t,r]},useMutableSource:mp,useSyncExternalStore:gp,useId:Dp,unstable_isNewReconciler:!1},tE={readContext:nr,useCallback:xp,useContext:nr,useEffect:ih,useImperativeHandle:Pp,useInsertionEffect:Ip,useLayoutEffect:Rp,useMemo:kp,useReducer:rh,useRef:Ap,useState:function(){return rh(ga)},useDebugValue:sh,useDeferredValue:function(t){var r=rr();return Rt===null?r.memoizedState=t:Np(r,Rt.memoizedState,t)},useTransition:function(){var t=rh(ga)[0],r=rr().memoizedState;return[t,r]},useMutableSource:mp,useSyncExternalStore:gp,useId:Dp,unstable_isNewReconciler:!1};function _r(t,r){if(t&&t.defaultProps){r=le({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function oh(t,r,o,c){r=t.memoizedState,o=o(c,r),o=o==null?r:le({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Gl={isMounted:function(t){return(t=t._reactInternals)?mn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var c=an(),f=Gi(t),m=gi(c,f);m.payload=r,o!=null&&(m.callback=o),r=Hi(t,m,f),r!==null&&(Tr(r,t,f,c),Ul(r,t,f))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var c=an(),f=Gi(t),m=gi(c,f);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=Hi(t,m,f),r!==null&&(Tr(r,t,f,c),Ul(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=an(),c=Gi(t),f=gi(o,c);f.tag=2,r!=null&&(f.callback=r),r=Hi(t,f,c),r!==null&&(Tr(r,t,c,o),Ul(r,t,c))}};function Mp(t,r,o,c,f,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,_):r.prototype&&r.prototype.isPureReactComponent?!ra(o,c)||!ra(f,m):!0}function bp(t,r,o){var c=!1,f=ji,m=r.contextType;return typeof m=="object"&&m!==null?m=nr(m):(f=wn(r)?Ts:Kt.current,c=r.contextTypes,m=(c=c!=null)?fo(t,f):ji),r=new r(o,m),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Gl,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=m),r}function Fp(t,r,o,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==t&&Gl.enqueueReplaceState(r,r.state,null)}function ah(t,r,o,c){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs={},Gc(t);var m=r.contextType;typeof m=="object"&&m!==null?f.context=nr(m):(m=wn(r)?Ts:Kt.current,f.context=fo(t,m)),f.state=t.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(oh(t,r,m,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&Gl.enqueueReplaceState(f,f.state,null),jl(t,o,f,c),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function wo(t,r){try{var o="",c=r;do o+=ve(c),c=c.return;while(c);var f=o}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:r,stack:f,digest:null}}function lh(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function uh(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var nE=typeof WeakMap=="function"?WeakMap:Map;function Up(t,r,o){o=gi(-1,o),o.tag=3,o.payload={element:null};var c=r.value;return o.callback=function(){eu||(eu=!0,Sh=c),uh(t,r)},o}function jp(t,r,o){o=gi(-1,o),o.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;o.payload=function(){return c(f)},o.callback=function(){uh(t,r)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){uh(t,r),typeof c!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function zp(t,r,o){var c=t.pingCache;if(c===null){c=t.pingCache=new nE;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(f.add(o),t=gE.bind(null,t,r,o),r.then(t,t))}function Bp(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Hp(t,r,o,c,f){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=gi(-1,1),r.tag=2,Hi(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=f,t)}var rE=ae.ReactCurrentOwner,Tn=!1;function on(t,r,o,c){r.child=t===null?up(r,null,o,c):yo(r,t.child,o,c)}function $p(t,r,o,c,f){o=o.render;var m=r.ref;return _o(r,f),c=eh(t,r,o,c,m,f),o=th(),t!==null&&!Tn?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,yi(t,r,f)):(at&&o&&bc(r),r.flags|=1,on(t,r,c,f),r.child)}function Wp(t,r,o,c,f){if(t===null){var m=o.type;return typeof m=="function"&&!Nh(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=m,qp(t,r,m,c,f)):(t=ou(o.type,null,c,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,(t.lanes&f)===0){var _=m.memoizedProps;if(o=o.compare,o=o!==null?o:ra,o(_,c)&&t.ref===r.ref)return yi(t,r,f)}return r.flags|=1,t=Qi(m,c),t.ref=r.ref,t.return=r,r.child=t}function qp(t,r,o,c,f){if(t!==null){var m=t.memoizedProps;if(ra(m,c)&&t.ref===r.ref)if(Tn=!1,r.pendingProps=c=m,(t.lanes&f)!==0)(t.flags&131072)!==0&&(Tn=!0);else return r.lanes=t.lanes,yi(t,r,f)}return ch(t,r,o,c,f)}function Gp(t,r,o){var c=r.pendingProps,f=c.children,m=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Ao,Fn),Fn|=o;else{if((o&1073741824)===0)return t=m!==null?m.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Je(Ao,Fn),Fn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:o,Je(Ao,Fn),Fn|=c}else m!==null?(c=m.baseLanes|o,r.memoizedState=null):c=o,Je(Ao,Fn),Fn|=c;return on(t,r,f,o),r.child}function Kp(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function ch(t,r,o,c,f){var m=wn(o)?Ts:Kt.current;return m=fo(r,m),_o(r,f),o=eh(t,r,o,c,m,f),c=th(),t!==null&&!Tn?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,yi(t,r,f)):(at&&c&&bc(r),r.flags|=1,on(t,r,o,f),r.child)}function Qp(t,r,o,c,f){if(wn(o)){var m=!0;Nl(r)}else m=!1;if(_o(r,f),r.stateNode===null)Ql(t,r),bp(r,o,c),ah(r,o,c,f),c=!0;else if(t===null){var _=r.stateNode,I=r.memoizedProps;_.props=I;var x=_.context,H=o.contextType;typeof H=="object"&&H!==null?H=nr(H):(H=wn(o)?Ts:Kt.current,H=fo(r,H));var Z=o.getDerivedStateFromProps,te=typeof Z=="function"||typeof _.getSnapshotBeforeUpdate=="function";te||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==c||x!==H)&&Fp(r,_,c,H),Bi=!1;var X=r.memoizedState;_.state=X,jl(r,c,_,f),x=r.memoizedState,I!==c||X!==x||En.current||Bi?(typeof Z=="function"&&(oh(r,o,Z,c),x=r.memoizedState),(I=Bi||Mp(r,o,I,c,X,x,H))?(te||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=x),_.props=c,_.state=x,_.context=H,c=I):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{_=r.stateNode,hp(t,r),I=r.memoizedProps,H=r.type===r.elementType?I:_r(r.type,I),_.props=H,te=r.pendingProps,X=_.context,x=o.contextType,typeof x=="object"&&x!==null?x=nr(x):(x=wn(o)?Ts:Kt.current,x=fo(r,x));var ue=o.getDerivedStateFromProps;(Z=typeof ue=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==te||X!==x)&&Fp(r,_,c,x),Bi=!1,X=r.memoizedState,_.state=X,jl(r,c,_,f);var pe=r.memoizedState;I!==te||X!==pe||En.current||Bi?(typeof ue=="function"&&(oh(r,o,ue,c),pe=r.memoizedState),(H=Bi||Mp(r,o,H,c,X,pe,x)||!1)?(Z||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,pe,x),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,pe,x)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===t.memoizedProps&&X===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&X===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=pe),_.props=c,_.state=pe,_.context=x,c=H):(typeof _.componentDidUpdate!="function"||I===t.memoizedProps&&X===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&X===t.memoizedState||(r.flags|=1024),c=!1)}return hh(t,r,o,c,m,f)}function hh(t,r,o,c,f,m){Kp(t,r);var _=(r.flags&128)!==0;if(!c&&!_)return f&&ep(r,o,!1),yi(t,r,m);c=r.stateNode,rE.current=r;var I=_&&typeof o.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&_?(r.child=yo(r,t.child,null,m),r.child=yo(r,null,I,m)):on(t,r,I,m),r.memoizedState=c.state,f&&ep(r,o,!0),r.child}function Yp(t){var r=t.stateNode;r.pendingContext?Jd(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Jd(t,r.context,!1),Kc(t,r.containerInfo)}function Xp(t,r,o,c,f){return go(),zc(f),r.flags|=256,on(t,r,o,c),r.child}var fh={dehydrated:null,treeContext:null,retryLane:0};function dh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Jp(t,r,o){var c=r.pendingProps,f=lt.current,m=!1,_=(r.flags&128)!==0,I;if((I=_)||(I=t!==null&&t.memoizedState===null?!1:(f&2)!==0),I?(m=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),Je(lt,f&1),t===null)return jc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(_=c.children,t=c.fallback,m?(c=r.mode,m=r.child,_={mode:"hidden",children:_},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=_):m=au(_,c,0,null),t=Ds(t,c,o,null),m.return=r,t.return=r,m.sibling=t,r.child=m,r.child.memoizedState=dh(o),r.memoizedState=fh,t):ph(r,_));if(f=t.memoizedState,f!==null&&(I=f.dehydrated,I!==null))return iE(t,r,_,c,I,f,o);if(m){m=c.fallback,_=r.mode,f=t.child,I=f.sibling;var x={mode:"hidden",children:c.children};return(_&1)===0&&r.child!==f?(c=r.child,c.childLanes=0,c.pendingProps=x,r.deletions=null):(c=Qi(f,x),c.subtreeFlags=f.subtreeFlags&14680064),I!==null?m=Qi(I,m):(m=Ds(m,_,o,null),m.flags|=2),m.return=r,c.return=r,c.sibling=m,r.child=c,c=m,m=r.child,_=t.child.memoizedState,_=_===null?dh(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=t.childLanes&~o,r.memoizedState=fh,c}return m=t.child,t=m.sibling,c=Qi(m,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=o),c.return=r,c.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=c,r.memoizedState=null,c}function ph(t,r){return r=au({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Kl(t,r,o,c){return c!==null&&zc(c),yo(r,t.child,null,o),t=ph(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function iE(t,r,o,c,f,m,_){if(o)return r.flags&256?(r.flags&=-257,c=lh(Error(n(422))),Kl(t,r,_,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(m=c.fallback,f=r.mode,c=au({mode:"visible",children:c.children},f,0,null),m=Ds(m,f,_,null),m.flags|=2,c.return=r,m.return=r,c.sibling=m,r.child=c,(r.mode&1)!==0&&yo(r,t.child,null,_),r.child.memoizedState=dh(_),r.memoizedState=fh,m);if((r.mode&1)===0)return Kl(t,r,_,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var I=c.dgst;return c=I,m=Error(n(419)),c=lh(m,c,void 0),Kl(t,r,_,c)}if(I=(_&t.childLanes)!==0,Tn||I){if(c=Lt,c!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|_))!==0?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,mi(t,f),Tr(c,t,f,-1))}return kh(),c=lh(Error(n(421))),Kl(t,r,_,c)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=yE.bind(null,t),f._reactRetry=r,null):(t=m.treeContext,bn=Fi(f.nextSibling),Mn=r,at=!0,vr=null,t!==null&&(er[tr++]=di,er[tr++]=pi,er[tr++]=As,di=t.id,pi=t.overflow,As=r),r=ph(r,c.children),r.flags|=4096,r)}function Zp(t,r,o){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),Wc(t.return,r,o)}function mh(t,r,o,c,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=o,m.tailMode=f)}function em(t,r,o){var c=r.pendingProps,f=c.revealOrder,m=c.tail;if(on(t,r,c.children,o),c=lt.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zp(t,o,r);else if(t.tag===19)Zp(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(Je(lt,c),(r.mode&1)===0)r.memoizedState=null;else switch(f){case"forwards":for(o=r.child,f=null;o!==null;)t=o.alternate,t!==null&&zl(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),mh(r,!1,f,o,m);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&zl(t)===null){r.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}mh(r,!0,o,null,m);break;case"together":mh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ql(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function yi(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ps|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Qi(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Qi(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function sE(t,r,o){switch(r.tag){case 3:Yp(r),go();break;case 5:pp(r);break;case 1:wn(r.type)&&Nl(r);break;case 4:Kc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,f=r.memoizedProps.value;Je(bl,c._currentValue),c._currentValue=f;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(Je(lt,lt.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?Jp(t,r,o):(Je(lt,lt.current&1),t=yi(t,r,o),t!==null?t.sibling:null);Je(lt,lt.current&1);break;case 19:if(c=(o&r.childLanes)!==0,(t.flags&128)!==0){if(c)return em(t,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Je(lt,lt.current),c)break;return null;case 22:case 23:return r.lanes=0,Gp(t,r,o)}return yi(t,r,o)}var tm,gh,nm,rm;tm=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},gh=function(){},nm=function(t,r,o,c){var f=t.memoizedProps;if(f!==c){t=r.stateNode,Rs(Fr.current);var m=null;switch(o){case"input":f=tn(t,f),c=tn(t,c),m=[];break;case"select":f=le({},f,{value:void 0}),c=le({},c,{value:void 0}),m=[];break;case"textarea":f=hs(t,f),c=hs(t,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=Pl)}Zr(o,c);var _;o=null;for(H in f)if(!c.hasOwnProperty(H)&&f.hasOwnProperty(H)&&f[H]!=null)if(H==="style"){var I=f[H];for(_ in I)I.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(a.hasOwnProperty(H)?m||(m=[]):(m=m||[]).push(H,null));for(H in c){var x=c[H];if(I=f?.[H],c.hasOwnProperty(H)&&x!==I&&(x!=null||I!=null))if(H==="style")if(I){for(_ in I)!I.hasOwnProperty(_)||x&&x.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in x)x.hasOwnProperty(_)&&I[_]!==x[_]&&(o||(o={}),o[_]=x[_])}else o||(m||(m=[]),m.push(H,o)),o=x;else H==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,I=I?I.__html:void 0,x!=null&&I!==x&&(m=m||[]).push(H,x)):H==="children"?typeof x!="string"&&typeof x!="number"||(m=m||[]).push(H,""+x):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(a.hasOwnProperty(H)?(x!=null&&H==="onScroll"&&et("scroll",t),m||I===x||(m=[])):(m=m||[]).push(H,x))}o&&(m=m||[]).push("style",o);var H=m;(r.updateQueue=H)&&(r.flags|=4)}},rm=function(t,r,o,c){o!==c&&(r.flags|=4)};function va(t,r){if(!at)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Yt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(r)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=o,r}function oE(t,r,o){var c=r.pendingProps;switch(Fc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(r),null;case 1:return wn(r.type)&&kl(),Yt(r),null;case 3:return c=r.stateNode,Eo(),tt(En),tt(Kt),Xc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(Ol(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,vr!==null&&(Ch(vr),vr=null))),gh(t,r),Yt(r),null;case 5:Qc(r);var f=Rs(da.current);if(o=r.type,t!==null&&r.stateNode!=null)nm(t,r,o,c,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(n(166));return Yt(r),null}if(t=Rs(Fr.current),Ol(r)){c=r.stateNode,o=r.type;var m=r.memoizedProps;switch(c[br]=r,c[la]=m,t=(r.mode&1)!==0,o){case"dialog":et("cancel",c),et("close",c);break;case"iframe":case"object":case"embed":et("load",c);break;case"video":case"audio":for(f=0;f<sa.length;f++)et(sa[f],c);break;case"source":et("error",c);break;case"img":case"image":case"link":et("error",c),et("load",c);break;case"details":et("toggle",c);break;case"input":Rr(c,m),et("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},et("invalid",c);break;case"textarea":Cr(c,m),et("invalid",c)}Zr(o,m),f=null;for(var _ in m)if(m.hasOwnProperty(_)){var I=m[_];_==="children"?typeof I=="string"?c.textContent!==I&&(m.suppressHydrationWarning!==!0&&Cl(c.textContent,I,t),f=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(m.suppressHydrationWarning!==!0&&Cl(c.textContent,I,t),f=["children",""+I]):a.hasOwnProperty(_)&&I!=null&&_==="onScroll"&&et("scroll",c)}switch(o){case"input":jn(c),Jr(c,m,!0);break;case"textarea":jn(c),Wn(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Pl)}c=f,r.updateQueue=c,c!==null&&(r.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xe(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=_.createElement(o,{is:c.is}):(t=_.createElement(o),o==="select"&&(_=t,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):t=_.createElementNS(t,o),t[br]=r,t[la]=c,tm(t,r,!1,!1),r.stateNode=t;e:{switch(_=ei(o,c),o){case"dialog":et("cancel",t),et("close",t),f=c;break;case"iframe":case"object":case"embed":et("load",t),f=c;break;case"video":case"audio":for(f=0;f<sa.length;f++)et(sa[f],t);f=c;break;case"source":et("error",t),f=c;break;case"img":case"image":case"link":et("error",t),et("load",t),f=c;break;case"details":et("toggle",t),f=c;break;case"input":Rr(t,c),f=tn(t,c),et("invalid",t);break;case"option":f=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},f=le({},c,{value:void 0}),et("invalid",t);break;case"textarea":Cr(t,c),f=hs(t,c),et("invalid",t);break;default:f=c}Zr(o,f),I=f;for(m in I)if(I.hasOwnProperty(m)){var x=I[m];m==="style"?nn(t,x):m==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Ci(t,x)):m==="children"?typeof x=="string"?(o!=="textarea"||x!=="")&&Gn(t,x):typeof x=="number"&&Gn(t,""+x):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(a.hasOwnProperty(m)?x!=null&&m==="onScroll"&&et("scroll",t):x!=null&&J(t,m,x,_))}switch(o){case"input":jn(t),Jr(t,c,!1);break;case"textarea":jn(t),Wn(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Fe(c.value));break;case"select":t.multiple=!!c.multiple,m=c.value,m!=null?Hn(t,!!c.multiple,m,!1):c.defaultValue!=null&&Hn(t,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=Pl)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Yt(r),null;case 6:if(t&&r.stateNode!=null)rm(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(n(166));if(o=Rs(da.current),Rs(Fr.current),Ol(r)){if(c=r.stateNode,o=r.memoizedProps,c[br]=r,(m=c.nodeValue!==o)&&(t=Mn,t!==null))switch(t.tag){case 3:Cl(c.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cl(c.nodeValue,o,(t.mode&1)!==0)}m&&(r.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[br]=r,r.stateNode=c}return Yt(r),null;case 13:if(tt(lt),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(at&&bn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)op(),go(),r.flags|=98560,m=!1;else if(m=Ol(r),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(n(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[br]=r}else go(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Yt(r),m=!1}else vr!==null&&(Ch(vr),vr=null),m=!0;if(!m)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(lt.current&1)!==0?Ct===0&&(Ct=3):kh())),r.updateQueue!==null&&(r.flags|=4),Yt(r),null);case 4:return Eo(),gh(t,r),t===null&&oa(r.stateNode.containerInfo),Yt(r),null;case 10:return $c(r.type._context),Yt(r),null;case 17:return wn(r.type)&&kl(),Yt(r),null;case 19:if(tt(lt),m=r.memoizedState,m===null)return Yt(r),null;if(c=(r.flags&128)!==0,_=m.rendering,_===null)if(c)va(m,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(_=zl(t),_!==null){for(r.flags|=128,va(m,!1),c=_.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=o,o=r.child;o!==null;)m=o,t=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,t=_.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Je(lt,lt.current&1|2),r.child}t=t.sibling}m.tail!==null&&Ce()>So&&(r.flags|=128,c=!0,va(m,!1),r.lanes=4194304)}else{if(!c)if(t=zl(_),t!==null){if(r.flags|=128,c=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),va(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!at)return Yt(r),null}else 2*Ce()-m.renderingStartTime>So&&o!==1073741824&&(r.flags|=128,c=!0,va(m,!1),r.lanes=4194304);m.isBackwards?(_.sibling=r.child,r.child=_):(o=m.last,o!==null?o.sibling=_:r.child=_,m.last=_)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Ce(),r.sibling=null,o=lt.current,Je(lt,c?o&1|2:o&1),r):(Yt(r),null);case 22:case 23:return xh(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(Fn&1073741824)!==0&&(Yt(r),r.subtreeFlags&6&&(r.flags|=8192)):Yt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function aE(t,r){switch(Fc(r),r.tag){case 1:return wn(r.type)&&kl(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Eo(),tt(En),tt(Kt),Xc(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return Qc(r),null;case 13:if(tt(lt),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));go()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return tt(lt),null;case 4:return Eo(),null;case 10:return $c(r.type._context),null;case 22:case 23:return xh(),null;case 24:return null;default:return null}}var Yl=!1,Xt=!1,lE=typeof WeakSet=="function"?WeakSet:Set,fe=null;function To(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){pt(t,r,c)}else o.current=null}function yh(t,r,o){try{o()}catch(c){pt(t,r,c)}}var im=!1;function uE(t,r){if(xc=Oi,t=Md(),wc(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var _=0,I=-1,x=-1,H=0,Z=0,te=t,X=null;t:for(;;){for(var ue;te!==o||f!==0&&te.nodeType!==3||(I=_+f),te!==m||c!==0&&te.nodeType!==3||(x=_+c),te.nodeType===3&&(_+=te.nodeValue.length),(ue=te.firstChild)!==null;)X=te,te=ue;for(;;){if(te===t)break t;if(X===o&&++H===f&&(I=_),X===m&&++Z===c&&(x=_),(ue=te.nextSibling)!==null)break;te=X,X=te.parentNode}te=ue}o=I===-1||x===-1?null:{start:I,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(kc={focusedElem:t,selectionRange:o},Oi=!1,fe=r;fe!==null;)if(r=fe,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,fe=t;else for(;fe!==null;){r=fe;try{var pe=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,gt=pe.memoizedState,U=r.stateNode,L=U.getSnapshotBeforeUpdate(r.elementType===r.type?me:_r(r.type,me),gt);U.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var z=r.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ne){pt(r,r.return,ne)}if(t=r.sibling,t!==null){t.return=r.return,fe=t;break}fe=r.return}return pe=im,im=!1,pe}function _a(t,r,o){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&t)===t){var m=f.destroy;f.destroy=void 0,m!==void 0&&yh(r,o,m)}f=f.next}while(f!==c)}}function Xl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var c=o.create;o.destroy=c()}o=o.next}while(o!==r)}}function vh(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function sm(t){var r=t.alternate;r!==null&&(t.alternate=null,sm(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[br],delete r[la],delete r[Lc],delete r[W_],delete r[q_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function om(t){return t.tag===5||t.tag===3||t.tag===4}function am(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||om(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _h(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Pl));else if(c!==4&&(t=t.child,t!==null))for(_h(t,r,o),t=t.sibling;t!==null;)_h(t,r,o),t=t.sibling}function Eh(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Eh(t,r,o),t=t.sibling;t!==null;)Eh(t,r,o),t=t.sibling}var jt=null,Er=!1;function $i(t,r,o){for(o=o.child;o!==null;)lm(t,r,o),o=o.sibling}function lm(t,r,o){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(Nr,o)}catch{}switch(o.tag){case 5:Xt||To(o,r);case 6:var c=jt,f=Er;jt=null,$i(t,r,o),jt=c,Er=f,jt!==null&&(Er?(t=jt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):jt.removeChild(o.stateNode));break;case 18:jt!==null&&(Er?(t=jt,o=o.stateNode,t.nodeType===8?Vc(t.parentNode,o):t.nodeType===1&&Vc(t,o),mr(t)):Vc(jt,o.stateNode));break;case 4:c=jt,f=Er,jt=o.stateNode.containerInfo,Er=!0,$i(t,r,o),jt=c,Er=f;break;case 0:case 11:case 14:case 15:if(!Xt&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,_=m.destroy;m=m.tag,_!==void 0&&((m&2)!==0||(m&4)!==0)&&yh(o,r,_),f=f.next}while(f!==c)}$i(t,r,o);break;case 1:if(!Xt&&(To(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(I){pt(o,r,I)}$i(t,r,o);break;case 21:$i(t,r,o);break;case 22:o.mode&1?(Xt=(c=Xt)||o.memoizedState!==null,$i(t,r,o),Xt=c):$i(t,r,o);break;default:$i(t,r,o)}}function um(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new lE),r.forEach(function(c){var f=vE.bind(null,t,c);o.has(c)||(o.add(c),c.then(f,f))})}}function wr(t,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];try{var m=t,_=r,I=_;e:for(;I!==null;){switch(I.tag){case 5:jt=I.stateNode,Er=!1;break e;case 3:jt=I.stateNode.containerInfo,Er=!0;break e;case 4:jt=I.stateNode.containerInfo,Er=!0;break e}I=I.return}if(jt===null)throw Error(n(160));lm(m,_,f),jt=null,Er=!1;var x=f.alternate;x!==null&&(x.return=null),f.return=null}catch(H){pt(f,r,H)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)cm(r,t),r=r.sibling}function cm(t,r){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wr(r,t),jr(t),c&4){try{_a(3,t,t.return),Xl(3,t)}catch(me){pt(t,t.return,me)}try{_a(5,t,t.return)}catch(me){pt(t,t.return,me)}}break;case 1:wr(r,t),jr(t),c&512&&o!==null&&To(o,o.return);break;case 5:if(wr(r,t),jr(t),c&512&&o!==null&&To(o,o.return),t.flags&32){var f=t.stateNode;try{Gn(f,"")}catch(me){pt(t,t.return,me)}}if(c&4&&(f=t.stateNode,f!=null)){var m=t.memoizedProps,_=o!==null?o.memoizedProps:m,I=t.type,x=t.updateQueue;if(t.updateQueue=null,x!==null)try{I==="input"&&m.type==="radio"&&m.name!=null&&Xr(f,m),ei(I,_);var H=ei(I,m);for(_=0;_<x.length;_+=2){var Z=x[_],te=x[_+1];Z==="style"?nn(f,te):Z==="dangerouslySetInnerHTML"?Ci(f,te):Z==="children"?Gn(f,te):J(f,Z,te,H)}switch(I){case"input":zn(f,m);break;case"textarea":$n(f,m);break;case"select":var X=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var ue=m.value;ue!=null?Hn(f,!!m.multiple,ue,!1):X!==!!m.multiple&&(m.defaultValue!=null?Hn(f,!!m.multiple,m.defaultValue,!0):Hn(f,!!m.multiple,m.multiple?[]:"",!1))}f[la]=m}catch(me){pt(t,t.return,me)}}break;case 6:if(wr(r,t),jr(t),c&4){if(t.stateNode===null)throw Error(n(162));f=t.stateNode,m=t.memoizedProps;try{f.nodeValue=m}catch(me){pt(t,t.return,me)}}break;case 3:if(wr(r,t),jr(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{mr(r.containerInfo)}catch(me){pt(t,t.return,me)}break;case 4:wr(r,t),jr(t);break;case 13:wr(r,t),jr(t),f=t.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(Ah=Ce())),c&4&&um(t);break;case 22:if(Z=o!==null&&o.memoizedState!==null,t.mode&1?(Xt=(H=Xt)||Z,wr(r,t),Xt=H):wr(r,t),jr(t),c&8192){if(H=t.memoizedState!==null,(t.stateNode.isHidden=H)&&!Z&&(t.mode&1)!==0)for(fe=t,Z=t.child;Z!==null;){for(te=fe=Z;fe!==null;){switch(X=fe,ue=X.child,X.tag){case 0:case 11:case 14:case 15:_a(4,X,X.return);break;case 1:To(X,X.return);var pe=X.stateNode;if(typeof pe.componentWillUnmount=="function"){c=X,o=X.return;try{r=c,pe.props=r.memoizedProps,pe.state=r.memoizedState,pe.componentWillUnmount()}catch(me){pt(c,o,me)}}break;case 5:To(X,X.return);break;case 22:if(X.memoizedState!==null){dm(te);continue}}ue!==null?(ue.return=X,fe=ue):dm(te)}Z=Z.sibling}e:for(Z=null,te=t;;){if(te.tag===5){if(Z===null){Z=te;try{f=te.stateNode,H?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(I=te.stateNode,x=te.memoizedProps.style,_=x!=null&&x.hasOwnProperty("display")?x.display:null,I.style.display=xr("display",_))}catch(me){pt(t,t.return,me)}}}else if(te.tag===6){if(Z===null)try{te.stateNode.nodeValue=H?"":te.memoizedProps}catch(me){pt(t,t.return,me)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===t)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===t)break e;for(;te.sibling===null;){if(te.return===null||te.return===t)break e;Z===te&&(Z=null),te=te.return}Z===te&&(Z=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:wr(r,t),jr(t),c&4&&um(t);break;case 21:break;default:wr(r,t),jr(t)}}function jr(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(om(o)){var c=o;break e}o=o.return}throw Error(n(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Gn(f,""),c.flags&=-33);var m=am(t);Eh(t,m,f);break;case 3:case 4:var _=c.stateNode.containerInfo,I=am(t);_h(t,I,_);break;default:throw Error(n(161))}}catch(x){pt(t,t.return,x)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function cE(t,r,o){fe=t,hm(t)}function hm(t,r,o){for(var c=(t.mode&1)!==0;fe!==null;){var f=fe,m=f.child;if(f.tag===22&&c){var _=f.memoizedState!==null||Yl;if(!_){var I=f.alternate,x=I!==null&&I.memoizedState!==null||Xt;I=Yl;var H=Xt;if(Yl=_,(Xt=x)&&!H)for(fe=f;fe!==null;)_=fe,x=_.child,_.tag===22&&_.memoizedState!==null?pm(f):x!==null?(x.return=_,fe=x):pm(f);for(;m!==null;)fe=m,hm(m),m=m.sibling;fe=f,Yl=I,Xt=H}fm(t)}else(f.subtreeFlags&8772)!==0&&m!==null?(m.return=f,fe=m):fm(t)}}function fm(t){for(;fe!==null;){var r=fe;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Xt||Xl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!Xt)if(o===null)c.componentDidMount();else{var f=r.elementType===r.type?o.memoizedProps:_r(r.type,o.memoizedProps);c.componentDidUpdate(f,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&dp(r,m,c);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}dp(r,_,o)}break;case 5:var I=r.stateNode;if(o===null&&r.flags&4){o=I;var x=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&o.focus();break;case"img":x.src&&(o.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var H=r.alternate;if(H!==null){var Z=H.memoizedState;if(Z!==null){var te=Z.dehydrated;te!==null&&mr(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Xt||r.flags&512&&vh(r)}catch(X){pt(r,r.return,X)}}if(r===t){fe=null;break}if(o=r.sibling,o!==null){o.return=r.return,fe=o;break}fe=r.return}}function dm(t){for(;fe!==null;){var r=fe;if(r===t){fe=null;break}var o=r.sibling;if(o!==null){o.return=r.return,fe=o;break}fe=r.return}}function pm(t){for(;fe!==null;){var r=fe;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Xl(4,r)}catch(x){pt(r,o,x)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var f=r.return;try{c.componentDidMount()}catch(x){pt(r,f,x)}}var m=r.return;try{vh(r)}catch(x){pt(r,m,x)}break;case 5:var _=r.return;try{vh(r)}catch(x){pt(r,_,x)}}}catch(x){pt(r,r.return,x)}if(r===t){fe=null;break}var I=r.sibling;if(I!==null){I.return=r.return,fe=I;break}fe=r.return}}var hE=Math.ceil,Jl=ae.ReactCurrentDispatcher,wh=ae.ReactCurrentOwner,ir=ae.ReactCurrentBatchConfig,Be=0,Lt=null,Et=null,zt=0,Fn=0,Ao=Ui(0),Ct=0,Ea=null,Ps=0,Zl=0,Th=0,wa=null,An=null,Ah=0,So=1/0,vi=null,eu=!1,Sh=null,Wi=null,tu=!1,qi=null,nu=0,Ta=0,Ih=null,ru=-1,iu=0;function an(){return(Be&6)!==0?Ce():ru!==-1?ru:ru=Ce()}function Gi(t){return(t.mode&1)===0?1:(Be&2)!==0&&zt!==0?zt&-zt:K_.transition!==null?(iu===0&&(iu=gs()),iu):(t=be,t!==0||(t=window.event,t=t===void 0?16:Yo(t.type)),t)}function Tr(t,r,o,c){if(50<Ta)throw Ta=0,Ih=null,Error(n(185));Ni(t,o,c),((Be&2)===0||t!==Lt)&&(t===Lt&&((Be&2)===0&&(Zl|=o),Ct===4&&Ki(t,zt)),Sn(t,c),o===1&&Be===0&&(r.mode&1)===0&&(So=Ce()+500,Dl&&zi()))}function Sn(t,r){var o=t.callbackNode;oi(t,r);var c=ms(t,t===Lt?zt:0);if(c===0)o!==null&&he(o),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(o!=null&&he(o),r===1)t.tag===0?G_(gm.bind(null,t)):tp(gm.bind(null,t)),H_(function(){(Be&6)===0&&zi()}),o=null;else{switch(Vi(c)){case 1:o=bt;break;case 4:o=yn;break;case 16:o=Gt;break;case 536870912:o=ps;break;default:o=Gt}o=Sm(o,mm.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function mm(t,r){if(ru=-1,iu=0,(Be&6)!==0)throw Error(n(327));var o=t.callbackNode;if(Io()&&t.callbackNode!==o)return null;var c=ms(t,t===Lt?zt:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||r)r=su(t,c);else{r=c;var f=Be;Be|=2;var m=vm();(Lt!==t||zt!==r)&&(vi=null,So=Ce()+500,ks(t,r));do try{pE();break}catch(I){ym(t,I)}while(!0);Hc(),Jl.current=m,Be=f,Et!==null?r=0:(Lt=null,zt=0,r=Ct)}if(r!==0){if(r===2&&(f=Vn(t),f!==0&&(c=f,r=Rh(t,f))),r===1)throw o=Ea,ks(t,0),Ki(t,c),Sn(t,Ce()),o;if(r===6)Ki(t,c);else{if(f=t.current.alternate,(c&30)===0&&!fE(f)&&(r=su(t,c),r===2&&(m=Vn(t),m!==0&&(c=m,r=Rh(t,m))),r===1))throw o=Ea,ks(t,0),Ki(t,c),Sn(t,Ce()),o;switch(t.finishedWork=f,t.finishedLanes=c,r){case 0:case 1:throw Error(n(345));case 2:Ns(t,An,vi);break;case 3:if(Ki(t,c),(c&130023424)===c&&(r=Ah+500-Ce(),10<r)){if(ms(t,0)!==0)break;if(f=t.suspendedLanes,(f&c)!==c){an(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=Dc(Ns.bind(null,t,An,vi),r);break}Ns(t,An,vi);break;case 4:if(Ki(t,c),(c&4194240)===c)break;for(r=t.eventTimes,f=-1;0<c;){var _=31-rn(c);m=1<<_,_=r[_],_>f&&(f=_),c&=~m}if(c=f,c=Ce()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*hE(c/1960))-c,10<c){t.timeoutHandle=Dc(Ns.bind(null,t,An,vi),c);break}Ns(t,An,vi);break;case 5:Ns(t,An,vi);break;default:throw Error(n(329))}}}return Sn(t,Ce()),t.callbackNode===o?mm.bind(null,t):null}function Rh(t,r){var o=wa;return t.current.memoizedState.isDehydrated&&(ks(t,r).flags|=256),t=su(t,r),t!==2&&(r=An,An=o,r!==null&&Ch(r)),t}function Ch(t){An===null?An=t:An.push.apply(An,t)}function fE(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var f=o[c],m=f.getSnapshot;f=f.value;try{if(!yr(m(),f))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ki(t,r){for(r&=~Th,r&=~Zl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-rn(r),c=1<<o;t[o]=-1,r&=~c}}function gm(t){if((Be&6)!==0)throw Error(n(327));Io();var r=ms(t,0);if((r&1)===0)return Sn(t,Ce()),null;var o=su(t,r);if(t.tag!==0&&o===2){var c=Vn(t);c!==0&&(r=c,o=Rh(t,c))}if(o===1)throw o=Ea,ks(t,0),Ki(t,r),Sn(t,Ce()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Ns(t,An,vi),Sn(t,Ce()),null}function Ph(t,r){var o=Be;Be|=1;try{return t(r)}finally{Be=o,Be===0&&(So=Ce()+500,Dl&&zi())}}function xs(t){qi!==null&&qi.tag===0&&(Be&6)===0&&Io();var r=Be;Be|=1;var o=ir.transition,c=be;try{if(ir.transition=null,be=1,t)return t()}finally{be=c,ir.transition=o,Be=r,(Be&6)===0&&zi()}}function xh(){Fn=Ao.current,tt(Ao)}function ks(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,B_(o)),Et!==null)for(o=Et.return;o!==null;){var c=o;switch(Fc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&kl();break;case 3:Eo(),tt(En),tt(Kt),Xc();break;case 5:Qc(c);break;case 4:Eo();break;case 13:tt(lt);break;case 19:tt(lt);break;case 10:$c(c.type._context);break;case 22:case 23:xh()}o=o.return}if(Lt=t,Et=t=Qi(t.current,null),zt=Fn=r,Ct=0,Ea=null,Th=Zl=Ps=0,An=wa=null,Is!==null){for(r=0;r<Is.length;r++)if(o=Is[r],c=o.interleaved,c!==null){o.interleaved=null;var f=c.next,m=o.pending;if(m!==null){var _=m.next;m.next=f,c.next=_}o.pending=c}Is=null}return t}function ym(t,r){do{var o=Et;try{if(Hc(),Bl.current=ql,Hl){for(var c=ut.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Hl=!1}if(Cs=0,Vt=Rt=ut=null,pa=!1,ma=0,wh.current=null,o===null||o.return===null){Ct=1,Ea=r,Et=null;break}e:{var m=t,_=o.return,I=o,x=r;if(r=zt,I.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var H=x,Z=I,te=Z.tag;if((Z.mode&1)===0&&(te===0||te===11||te===15)){var X=Z.alternate;X?(Z.updateQueue=X.updateQueue,Z.memoizedState=X.memoizedState,Z.lanes=X.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ue=Bp(_);if(ue!==null){ue.flags&=-257,Hp(ue,_,I,m,r),ue.mode&1&&zp(m,H,r),r=ue,x=H;var pe=r.updateQueue;if(pe===null){var me=new Set;me.add(x),r.updateQueue=me}else pe.add(x);break e}else{if((r&1)===0){zp(m,H,r),kh();break e}x=Error(n(426))}}else if(at&&I.mode&1){var gt=Bp(_);if(gt!==null){(gt.flags&65536)===0&&(gt.flags|=256),Hp(gt,_,I,m,r),zc(wo(x,I));break e}}m=x=wo(x,I),Ct!==4&&(Ct=2),wa===null?wa=[m]:wa.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var U=Up(m,x,r);fp(m,U);break e;case 1:I=x;var L=m.type,z=m.stateNode;if((m.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Wi===null||!Wi.has(z)))){m.flags|=65536,r&=-r,m.lanes|=r;var ne=jp(m,I,r);fp(m,ne);break e}}m=m.return}while(m!==null)}Em(o)}catch(_e){r=_e,Et===o&&o!==null&&(Et=o=o.return);continue}break}while(!0)}function vm(){var t=Jl.current;return Jl.current=ql,t===null?ql:t}function kh(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Lt===null||(Ps&268435455)===0&&(Zl&268435455)===0||Ki(Lt,zt)}function su(t,r){var o=Be;Be|=2;var c=vm();(Lt!==t||zt!==r)&&(vi=null,ks(t,r));do try{dE();break}catch(f){ym(t,f)}while(!0);if(Hc(),Be=o,Jl.current=c,Et!==null)throw Error(n(261));return Lt=null,zt=0,Ct}function dE(){for(;Et!==null;)_m(Et)}function pE(){for(;Et!==null&&!Ke();)_m(Et)}function _m(t){var r=Am(t.alternate,t,Fn);t.memoizedProps=t.pendingProps,r===null?Em(t):Et=r,wh.current=null}function Em(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=oE(o,r,Fn),o!==null){Et=o;return}}else{if(o=aE(o,r),o!==null){o.flags&=32767,Et=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ct=6,Et=null;return}}if(r=r.sibling,r!==null){Et=r;return}Et=r=t}while(r!==null);Ct===0&&(Ct=5)}function Ns(t,r,o){var c=be,f=ir.transition;try{ir.transition=null,be=1,mE(t,r,o,c)}finally{ir.transition=f,be=c}return null}function mE(t,r,o,c){do Io();while(qi!==null);if((Be&6)!==0)throw Error(n(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var m=o.lanes|o.childLanes;if(Ye(t,m),t===Lt&&(Et=Lt=null,zt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||tu||(tu=!0,Sm(Gt,function(){return Io(),null})),m=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||m){m=ir.transition,ir.transition=null;var _=be;be=1;var I=Be;Be|=4,wh.current=null,uE(t,o),cm(o,t),O_(kc),Oi=!!xc,kc=xc=null,t.current=o,cE(o),vt(),Be=I,be=_,ir.transition=m}else t.current=o;if(tu&&(tu=!1,qi=t,nu=f),m=t.pendingLanes,m===0&&(Wi=null),sl(o.stateNode),Sn(t,Ce()),r!==null)for(c=t.onRecoverableError,o=0;o<r.length;o++)f=r[o],c(f.value,{componentStack:f.stack,digest:f.digest});if(eu)throw eu=!1,t=Sh,Sh=null,t;return(nu&1)!==0&&t.tag!==0&&Io(),m=t.pendingLanes,(m&1)!==0?t===Ih?Ta++:(Ta=0,Ih=t):Ta=0,zi(),null}function Io(){if(qi!==null){var t=Vi(nu),r=ir.transition,o=be;try{if(ir.transition=null,be=16>t?16:t,qi===null)var c=!1;else{if(t=qi,qi=null,nu=0,(Be&6)!==0)throw Error(n(331));var f=Be;for(Be|=4,fe=t.current;fe!==null;){var m=fe,_=m.child;if((fe.flags&16)!==0){var I=m.deletions;if(I!==null){for(var x=0;x<I.length;x++){var H=I[x];for(fe=H;fe!==null;){var Z=fe;switch(Z.tag){case 0:case 11:case 15:_a(8,Z,m)}var te=Z.child;if(te!==null)te.return=Z,fe=te;else for(;fe!==null;){Z=fe;var X=Z.sibling,ue=Z.return;if(sm(Z),Z===H){fe=null;break}if(X!==null){X.return=ue,fe=X;break}fe=ue}}}var pe=m.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var gt=me.sibling;me.sibling=null,me=gt}while(me!==null)}}fe=m}}if((m.subtreeFlags&2064)!==0&&_!==null)_.return=m,fe=_;else e:for(;fe!==null;){if(m=fe,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:_a(9,m,m.return)}var U=m.sibling;if(U!==null){U.return=m.return,fe=U;break e}fe=m.return}}var L=t.current;for(fe=L;fe!==null;){_=fe;var z=_.child;if((_.subtreeFlags&2064)!==0&&z!==null)z.return=_,fe=z;else e:for(_=L;fe!==null;){if(I=fe,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:Xl(9,I)}}catch(_e){pt(I,I.return,_e)}if(I===_){fe=null;break e}var ne=I.sibling;if(ne!==null){ne.return=I.return,fe=ne;break e}fe=I.return}}if(Be=f,zi(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(Nr,t)}catch{}c=!0}return c}finally{be=o,ir.transition=r}}return!1}function wm(t,r,o){r=wo(o,r),r=Up(t,r,1),t=Hi(t,r,1),r=an(),t!==null&&(Ni(t,1,r),Sn(t,r))}function pt(t,r,o){if(t.tag===3)wm(t,t,o);else for(;r!==null;){if(r.tag===3){wm(r,t,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Wi===null||!Wi.has(c))){t=wo(o,t),t=jp(r,t,1),r=Hi(r,t,1),t=an(),r!==null&&(Ni(r,1,t),Sn(r,t));break}}r=r.return}}function gE(t,r,o){var c=t.pingCache;c!==null&&c.delete(r),r=an(),t.pingedLanes|=t.suspendedLanes&o,Lt===t&&(zt&o)===o&&(Ct===4||Ct===3&&(zt&130023424)===zt&&500>Ce()-Ah?ks(t,0):Th|=o),Sn(t,r)}function Tm(t,r){r===0&&((t.mode&1)===0?r=1:(r=Gs,Gs<<=1,(Gs&130023424)===0&&(Gs=4194304)));var o=an();t=mi(t,r),t!==null&&(Ni(t,r,o),Sn(t,o))}function yE(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Tm(t,o)}function vE(t,r){var o=0;switch(t.tag){case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(r),Tm(t,o)}var Am;Am=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||En.current)Tn=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return Tn=!1,sE(t,r,o);Tn=(t.flags&131072)!==0}else Tn=!1,at&&(r.flags&1048576)!==0&&np(r,Ll,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Ql(t,r),t=r.pendingProps;var f=fo(r,Kt.current);_o(r,o),f=eh(null,r,c,t,f,o);var m=th();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,wn(c)?(m=!0,Nl(r)):m=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Gc(r),f.updater=Gl,r.stateNode=f,f._reactInternals=r,ah(r,c,t,o),r=hh(null,r,c,!0,m,o)):(r.tag=0,at&&m&&bc(r),on(null,r,f,o),r=r.child),r;case 16:c=r.elementType;e:{switch(Ql(t,r),t=r.pendingProps,f=c._init,c=f(c._payload),r.type=c,f=r.tag=EE(c),t=_r(c,t),f){case 0:r=ch(null,r,c,t,o);break e;case 1:r=Qp(null,r,c,t,o);break e;case 11:r=$p(null,r,c,t,o);break e;case 14:r=Wp(null,r,c,_r(c.type,t),o);break e}throw Error(n(306,c,""))}return r;case 0:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:_r(c,f),ch(t,r,c,f,o);case 1:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:_r(c,f),Qp(t,r,c,f,o);case 3:e:{if(Yp(r),t===null)throw Error(n(387));c=r.pendingProps,m=r.memoizedState,f=m.element,hp(t,r),jl(r,c,null,o);var _=r.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){f=wo(Error(n(423)),r),r=Xp(t,r,c,o,f);break e}else if(c!==f){f=wo(Error(n(424)),r),r=Xp(t,r,c,o,f);break e}else for(bn=Fi(r.stateNode.containerInfo.firstChild),Mn=r,at=!0,vr=null,o=up(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(go(),c===f){r=yi(t,r,o);break e}on(t,r,c,o)}r=r.child}return r;case 5:return pp(r),t===null&&jc(r),c=r.type,f=r.pendingProps,m=t!==null?t.memoizedProps:null,_=f.children,Nc(c,f)?_=null:m!==null&&Nc(c,m)&&(r.flags|=32),Kp(t,r),on(t,r,_,o),r.child;case 6:return t===null&&jc(r),null;case 13:return Jp(t,r,o);case 4:return Kc(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=yo(r,null,c,o):on(t,r,c,o),r.child;case 11:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:_r(c,f),$p(t,r,c,f,o);case 7:return on(t,r,r.pendingProps,o),r.child;case 8:return on(t,r,r.pendingProps.children,o),r.child;case 12:return on(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(c=r.type._context,f=r.pendingProps,m=r.memoizedProps,_=f.value,Je(bl,c._currentValue),c._currentValue=_,m!==null)if(yr(m.value,_)){if(m.children===f.children&&!En.current){r=yi(t,r,o);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var I=m.dependencies;if(I!==null){_=m.child;for(var x=I.firstContext;x!==null;){if(x.context===c){if(m.tag===1){x=gi(-1,o&-o),x.tag=2;var H=m.updateQueue;if(H!==null){H=H.shared;var Z=H.pending;Z===null?x.next=x:(x.next=Z.next,Z.next=x),H.pending=x}}m.lanes|=o,x=m.alternate,x!==null&&(x.lanes|=o),Wc(m.return,o,r),I.lanes|=o;break}x=x.next}}else if(m.tag===10)_=m.type===r.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(n(341));_.lanes|=o,I=_.alternate,I!==null&&(I.lanes|=o),Wc(_,o,r),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===r){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}on(t,r,f.children,o),r=r.child}return r;case 9:return f=r.type,c=r.pendingProps.children,_o(r,o),f=nr(f),c=c(f),r.flags|=1,on(t,r,c,o),r.child;case 14:return c=r.type,f=_r(c,r.pendingProps),f=_r(c.type,f),Wp(t,r,c,f,o);case 15:return qp(t,r,r.type,r.pendingProps,o);case 17:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:_r(c,f),Ql(t,r),r.tag=1,wn(c)?(t=!0,Nl(r)):t=!1,_o(r,o),bp(r,c,f),ah(r,c,f,o),hh(null,r,c,!0,t,o);case 19:return em(t,r,o);case 22:return Gp(t,r,o)}throw Error(n(156,r.tag))};function Sm(t,r){return ee(t,r)}function _E(t,r,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(t,r,o,c){return new _E(t,r,o,c)}function Nh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function EE(t){if(typeof t=="function")return Nh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===b)return 11;if(t===Ze)return 14}return 2}function Qi(t,r){var o=t.alternate;return o===null?(o=sr(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function ou(t,r,o,c,f,m){var _=2;if(c=t,typeof t=="function")Nh(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case D:return Ds(o.children,f,m,r);case T:_=8,f|=8;break;case R:return t=sr(12,o,r,f|2),t.elementType=R,t.lanes=m,t;case C:return t=sr(13,o,r,f),t.elementType=C,t.lanes=m,t;case $e:return t=sr(19,o,r,f),t.elementType=$e,t.lanes=m,t;case We:return au(o,f,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:_=10;break e;case N:_=9;break e;case b:_=11;break e;case Ze:_=14;break e;case kt:_=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=sr(_,o,r,f),r.elementType=t,r.type=c,r.lanes=m,r}function Ds(t,r,o,c){return t=sr(7,t,c,r),t.lanes=o,t}function au(t,r,o,c){return t=sr(22,t,c,r),t.elementType=We,t.lanes=o,t.stateNode={isHidden:!1},t}function Dh(t,r,o){return t=sr(6,t,null,r),t.lanes=o,t}function Vh(t,r,o){return r=sr(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function wE(t,r,o,c,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ki(0),this.expirationTimes=ki(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Lh(t,r,o,c,f,m,_,I,x){return t=new wE(t,r,o,I,x),r===1?(r=1,m===!0&&(r|=8)):r=0,m=sr(3,null,null,r),t.current=m,m.stateNode=t,m.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gc(m),t}function TE(t,r,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ee,key:c==null?null:""+c,children:t,containerInfo:r,implementation:o}}function Im(t){if(!t)return ji;t=t._reactInternals;e:{if(mn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(wn(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(wn(o))return Zd(t,o,r)}return r}function Rm(t,r,o,c,f,m,_,I,x){return t=Lh(o,c,!0,t,f,m,_,I,x),t.context=Im(null),o=t.current,c=an(),f=Gi(o),m=gi(c,f),m.callback=r??null,Hi(o,m,f),t.current.lanes=f,Ni(t,f,c),Sn(t,c),t}function lu(t,r,o,c){var f=r.current,m=an(),_=Gi(f);return o=Im(o),r.context===null?r.context=o:r.pendingContext=o,r=gi(m,_),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=Hi(f,r,_),t!==null&&(Tr(t,f,_,m),Ul(t,f,_)),_}function uu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cm(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Oh(t,r){Cm(t,r),(t=t.alternate)&&Cm(t,r)}function AE(){return null}var Pm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mh(t){this._internalRoot=t}cu.prototype.render=Mh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));lu(t,r,null,null)},cu.prototype.unmount=Mh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;xs(function(){lu(null,t,null,null)}),r[hi]=null}};function cu(t){this._internalRoot=t}cu.prototype.unstable_scheduleHydration=function(t){if(t){var r=cl();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Vr.length&&r!==0&&r<Vr[o].priority;o++);Vr.splice(o,0,t),o===0&&dl(t)}};function bh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xm(){}function SE(t,r,o,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var H=uu(_);m.call(H)}}var _=Rm(r,c,t,0,null,!1,!1,"",xm);return t._reactRootContainer=_,t[hi]=_.current,oa(t.nodeType===8?t.parentNode:t),xs(),_}for(;f=t.lastChild;)t.removeChild(f);if(typeof c=="function"){var I=c;c=function(){var H=uu(x);I.call(H)}}var x=Lh(t,0,!1,null,null,!1,!1,"",xm);return t._reactRootContainer=x,t[hi]=x.current,oa(t.nodeType===8?t.parentNode:t),xs(function(){lu(r,x,o,c)}),x}function fu(t,r,o,c,f){var m=o._reactRootContainer;if(m){var _=m;if(typeof f=="function"){var I=f;f=function(){var x=uu(_);I.call(x)}}lu(r,_,t,f)}else _=SE(o,r,t,f,c);return uu(_)}ll=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=xi(r.pendingLanes);o!==0&&(Di(r,o|1),Sn(r,Ce()),(Be&6)===0&&(So=Ce()+500,zi()))}break;case 13:xs(function(){var c=mi(t,1);if(c!==null){var f=an();Tr(c,t,1,f)}}),Oh(t,1)}},Ks=function(t){if(t.tag===13){var r=mi(t,134217728);if(r!==null){var o=an();Tr(r,t,134217728,o)}Oh(t,134217728)}},ul=function(t){if(t.tag===13){var r=Gi(t),o=mi(t,r);if(o!==null){var c=an();Tr(o,t,r,c)}Oh(t,r)}},cl=function(){return be},hl=function(t,r){var o=be;try{return be=t,r()}finally{be=o}},hr=function(t,r,o){switch(r){case"input":if(zn(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==t&&c.form===t.form){var f=xl(c);if(!f)throw Error(n(90));xn(c),zn(c,f)}}}break;case"textarea":$n(t,o);break;case"select":r=o.value,r!=null&&Hn(t,!!o.multiple,r,!1)}},fn=Ph,fs=xs;var IE={usingClientEntryPoint:!1,Events:[ua,co,xl,Yn,it,Ph]},Aa={findFiberByHostInstance:ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RE={bundleType:Aa.bundleType,version:Aa.version,rendererPackageName:Aa.rendererPackageName,rendererConfig:Aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ae.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ye(t),t===null?null:t.stateNode},findFiberByHostInstance:Aa.findFiberByHostInstance||AE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{Nr=du.inject(RE),Dn=du}catch{}}return In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IE,In.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bh(r))throw Error(n(200));return TE(t,r,null,o)},In.createRoot=function(t,r){if(!bh(t))throw Error(n(299));var o=!1,c="",f=Pm;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=Lh(t,1,!1,null,null,o,!1,c,f),t[hi]=r.current,oa(t.nodeType===8?t.parentNode:t),new Mh(r)},In.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=ye(r),t=t===null?null:t.stateNode,t},In.flushSync=function(t){return xs(t)},In.hydrate=function(t,r,o){if(!hu(r))throw Error(n(200));return fu(null,t,r,!0,o)},In.hydrateRoot=function(t,r,o){if(!bh(t))throw Error(n(405));var c=o!=null&&o.hydratedSources||null,f=!1,m="",_=Pm;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=Rm(r,null,t,1,o??null,f,!1,m,_),t[hi]=r.current,oa(t),c)for(t=0;t<c.length;t++)o=c[t],f=o._getVersion,f=f(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,f]:r.mutableSourceEagerHydrationData.push(o,f);return new cu(r)},In.render=function(t,r,o){if(!hu(r))throw Error(n(200));return fu(null,t,r,!1,o)},In.unmountComponentAtNode=function(t){if(!hu(t))throw Error(n(40));return t._reactRootContainer?(xs(function(){fu(null,null,t,!1,function(){t._reactRootContainer=null,t[hi]=null})}),!0):!1},In.unstable_batchedUpdates=Ph,In.unstable_renderSubtreeIntoContainer=function(t,r,o,c){if(!hu(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return fu(t,r,o,!1,c)},In.version="18.3.1-next-f1338f8080-20240426",In}var bm;function OE(){if(bm)return jh.exports;bm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),jh.exports=LE(),jh.exports}var Fm;function ME(){if(Fm)return pu;Fm=1;var i=OE();return pu.createRoot=i.createRoot,pu.hydrateRoot=i.hydrateRoot,pu}var bE=ME();const FE=uy(bE);/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Um="popstate";function UE(i={}){function e(s,a){let{pathname:u,search:h,hash:p}=s.location;return of("",{pathname:u,search:h,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:ja(a)}return zE(e,n,null,i)}function ct(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function qr(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jE(){return Math.random().toString(36).substring(2,10)}function jm(i,e){return{usr:i.state,key:i.key,idx:e}}function of(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Uo(e):e,state:n,key:e&&e.key||s||jE()}}function ja({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Uo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function zE(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:u=!1}=s,h=a.history,p="POP",g=null,v=E();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function E(){return(h.state||{idx:null}).idx}function S(){p="POP";let j=E(),G=j==null?null:j-v;v=j,g&&g({action:p,location:$.location,delta:G})}function A(j,G){p="PUSH";let re=of($.location,j,G);v=E()+1;let J=jm(re,v),ae=$.createHref(re);try{h.pushState(J,"",ae)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;a.location.assign(ae)}u&&g&&g({action:p,location:$.location,delta:1})}function M(j,G){p="REPLACE";let re=of($.location,j,G);v=E();let J=jm(re,v),ae=$.createHref(re);h.replaceState(J,"",ae),u&&g&&g({action:p,location:$.location,delta:0})}function W(j){return BE(j)}let $={get action(){return p},get location(){return i(a,h)},listen(j){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(Um,S),g=j,()=>{a.removeEventListener(Um,S),g=null}},createHref(j){return e(a,j)},createURL:W,encodeLocation(j){let G=W(j);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:A,replace:M,go(j){return h.go(j)}};return $}function BE(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:ja(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function cy(i,e,n="/"){return HE(i,e,n,!1)}function HE(i,e,n,s){let a=typeof e=="string"?Uo(e):e,u=Ai(a.pathname||"/",n);if(u==null)return null;let h=hy(i);$E(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let v=tw(u);p=ZE(h[g],v,s)}return p}function hy(i,e=[],n=[],s="",a=!1){let u=(h,p,g=a,v)=>{let E={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;ct(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=Ei([s,E.relativePath]),A=n.concat(E);h.children&&h.children.length>0&&(ct(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),hy(h.children,e,A,S,g)),!(h.path==null&&!h.index)&&e.push({path:S,score:XE(S,h.index),routesMeta:A})};return i.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))u(h,p);else for(let g of fy(h.path))u(h,p,!0,g)}),e}function fy(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return a?[u,""]:[u];let h=fy(s.join("/")),p=[];return p.push(...h.map(g=>g===""?u:[u,g].join("/"))),a&&p.push(...h),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function $E(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:JE(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var WE=/^:[\w-]+$/,qE=3,GE=2,KE=1,QE=10,YE=-2,zm=i=>i==="*";function XE(i,e){let n=i.split("/"),s=n.length;return n.some(zm)&&(s+=YE),e&&(s+=GE),n.filter(a=>!zm(a)).reduce((a,u)=>a+(WE.test(u)?qE:u===""?KE:QE),s)}function JE(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function ZE(i,e,n=!1){let{routesMeta:s}=i,a={},u="/",h=[];for(let p=0;p<s.length;++p){let g=s[p],v=p===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=Du({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},E),A=g.route;if(!S&&v&&n&&!s[s.length-1].route.index&&(S=Du({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(a,S.params),h.push({params:a,pathname:Ei([u,S.pathname]),pathnameBase:sw(Ei([u,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(u=Ei([u,S.pathnameBase]))}return h}function Du(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=ew(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let u=a[0],h=u.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:s.reduce((v,{paramName:E,isOptional:S},A)=>{if(E==="*"){let W=p[A]||"";h=u.slice(0,u.length-W.length).replace(/(.)\/+$/,"$1")}const M=p[A];return S&&!M?v[E]=void 0:v[E]=(M||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:i}}function ew(i,e=!1,n=!0){qr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function tw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ai(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function nw(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?Uo(i):i;return{pathname:n?n.startsWith("/")?n:rw(n,e):e,search:ow(s),hash:aw(a)}}function rw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Hh(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dy(i){let e=iw(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function py(i,e,n,s=!1){let a;typeof i=="string"?a=Uo(i):(a={...i},ct(!a.pathname||!a.pathname.includes("?"),Hh("?","pathname","search",a)),ct(!a.pathname||!a.pathname.includes("#"),Hh("#","pathname","hash",a)),ct(!a.search||!a.search.includes("#"),Hh("#","search","hash",a)));let u=i===""||a.pathname==="",h=u?"/":a.pathname,p;if(h==null)p=n;else{let S=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),S-=1;a.pathname=A.join("/")}p=S>=0?e[S]:"/"}let g=nw(a,p),v=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(v||E)&&(g.pathname+="/"),g}var Ei=i=>i.join("/").replace(/\/\/+/g,"/"),sw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),ow=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,aw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function lw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var my=["POST","PUT","PATCH","DELETE"];new Set(my);var uw=["GET",...my];new Set(uw);var jo=B.createContext(null);jo.displayName="DataRouter";var Ku=B.createContext(null);Ku.displayName="DataRouterState";B.createContext(!1);var gy=B.createContext({isTransitioning:!1});gy.displayName="ViewTransition";var cw=B.createContext(new Map);cw.displayName="Fetchers";var hw=B.createContext(null);hw.displayName="Await";var Yr=B.createContext(null);Yr.displayName="Navigation";var Ya=B.createContext(null);Ya.displayName="Location";var Ir=B.createContext({outlet:null,matches:[],isDataRoute:!1});Ir.displayName="Route";var Mf=B.createContext(null);Mf.displayName="RouteError";function fw(i,{relative:e}={}){ct(Xa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(Yr),{hash:a,pathname:u,search:h}=Ja(i,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:Ei([n,u])),s.createHref({pathname:p,search:h,hash:a})}function Xa(){return B.useContext(Ya)!=null}function zs(){return ct(Xa(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Ya).location}var yy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vy(i){B.useContext(Yr).static||B.useLayoutEffect(i)}function bf(){let{isDataRoute:i}=B.useContext(Ir);return i?Cw():dw()}function dw(){ct(Xa(),"useNavigate() may be used only in the context of a <Router> component.");let i=B.useContext(jo),{basename:e,navigator:n}=B.useContext(Yr),{matches:s}=B.useContext(Ir),{pathname:a}=zs(),u=JSON.stringify(dy(s)),h=B.useRef(!1);return vy(()=>{h.current=!0}),B.useCallback((g,v={})=>{if(qr(h.current,yy),!h.current)return;if(typeof g=="number"){n.go(g);return}let E=py(g,JSON.parse(u),a,v.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ei([e,E.pathname])),(v.replace?n.replace:n.push)(E,v.state,v)},[e,n,u,a,i])}var pw=B.createContext(null);function mw(i){let e=B.useContext(Ir).outlet;return e&&B.createElement(pw.Provider,{value:i},e)}function _y(){let{matches:i}=B.useContext(Ir),e=i[i.length-1];return e?e.params:{}}function Ja(i,{relative:e}={}){let{matches:n}=B.useContext(Ir),{pathname:s}=zs(),a=JSON.stringify(dy(n));return B.useMemo(()=>py(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function gw(i,e){return Ey(i,e)}function Ey(i,e,n,s){ct(Xa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=B.useContext(Yr),{matches:u}=B.useContext(Ir),h=u[u.length-1],p=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",E=h&&h.route;{let G=E&&E.path||"";wy(g,!E||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let S=zs(),A;if(e){let G=typeof e=="string"?Uo(e):e;ct(v==="/"||G.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${G.pathname}" was given in the \`location\` prop.`),A=G}else A=S;let M=A.pathname||"/",W=M;if(v!=="/"){let G=v.replace(/^\//,"").split("/");W="/"+M.replace(/^\//,"").split("/").slice(G.length).join("/")}let $=cy(i,{pathname:W});qr(E||$!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),qr($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=ww($&&$.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:Ei([v,a.encodeLocation?a.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?v:Ei([v,a.encodeLocation?a.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,n,s);return e&&j?B.createElement(Ya.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},j):j}function yw(){let i=Rw(),e=lw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:a},n):null,h)}var vw=B.createElement(yw,null),_w=class extends B.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?B.createElement(Ir.Provider,{value:this.props.routeContext},B.createElement(Mf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ew({routeContext:i,match:e,children:n}){let s=B.useContext(jo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Ir.Provider,{value:i},n)}function ww(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,u=n?.errors;if(u!=null){let g=a.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);ct(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,p=-1;if(n)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:E,errors:S}=n,A=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||A){h=!0,p>=0?a=a.slice(0,p+1):a=[a[0]];break}}}return a.reduceRight((g,v,E)=>{let S,A=!1,M=null,W=null;n&&(S=u&&v.route.id?u[v.route.id]:void 0,M=v.route.errorElement||vw,h&&(p<0&&E===0?(wy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,W=null):p===E&&(A=!0,W=v.route.hydrateFallbackElement||null)));let $=e.concat(a.slice(0,E+1)),j=()=>{let G;return S?G=M:A?G=W:v.route.Component?G=B.createElement(v.route.Component,null):v.route.element?G=v.route.element:G=g,B.createElement(Ew,{match:v,routeContext:{outlet:g,matches:$,isDataRoute:n!=null},children:G})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?B.createElement(_w,{location:n.location,revalidation:n.revalidation,component:M,error:S,children:j(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):j()},null)}function Ff(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tw(i){let e=B.useContext(jo);return ct(e,Ff(i)),e}function Aw(i){let e=B.useContext(Ku);return ct(e,Ff(i)),e}function Sw(i){let e=B.useContext(Ir);return ct(e,Ff(i)),e}function Uf(i){let e=Sw(i),n=e.matches[e.matches.length-1];return ct(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Iw(){return Uf("useRouteId")}function Rw(){let i=B.useContext(Mf),e=Aw("useRouteError"),n=Uf("useRouteError");return i!==void 0?i:e.errors?.[n]}function Cw(){let{router:i}=Tw("useNavigate"),e=Uf("useNavigate"),n=B.useRef(!1);return vy(()=>{n.current=!0}),B.useCallback(async(a,u={})=>{qr(n.current,yy),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...u}))},[i,e])}var Bm={};function wy(i,e,n){!e&&!Bm[i]&&(Bm[i]=!0,qr(!1,n))}B.memo(Pw);function Pw({routes:i,future:e,state:n}){return Ey(i,void 0,n,e)}function xw(i){return mw(i.context)}function Vs(i){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kw({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:u=!1}){ct(!Xa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:h,navigator:a,static:u,future:{}}),[h,a,u]);typeof n=="string"&&(n=Uo(n));let{pathname:g="/",search:v="",hash:E="",state:S=null,key:A="default"}=n,M=B.useMemo(()=>{let W=Ai(g,h);return W==null?null:{location:{pathname:W,search:v,hash:E,state:S,key:A},navigationType:s}},[h,g,v,E,S,A,s]);return qr(M!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:B.createElement(Yr.Provider,{value:p},B.createElement(Ya.Provider,{children:e,value:M}))}function Nw({children:i,location:e}){return gw(af(i),e)}function af(i,e=[]){let n=[];return B.Children.forEach(i,(s,a)=>{if(!B.isValidElement(s))return;let u=[...e,a];if(s.type===B.Fragment){n.push.apply(n,af(s.props.children,u));return}ct(s.type===Vs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=af(s.props.children,u)),n.push(h)}),n}var Au="get",Su="application/x-www-form-urlencoded";function Qu(i){return i!=null&&typeof i.tagName=="string"}function Dw(i){return Qu(i)&&i.tagName.toLowerCase()==="button"}function Vw(i){return Qu(i)&&i.tagName.toLowerCase()==="form"}function Lw(i){return Qu(i)&&i.tagName.toLowerCase()==="input"}function Ow(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Mw(i,e){return i.button===0&&(!e||e==="_self")&&!Ow(i)}var mu=null;function bw(){if(mu===null)try{new FormData(document.createElement("form"),0),mu=!1}catch{mu=!0}return mu}var Fw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $h(i){return i!=null&&!Fw.has(i)?(qr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Su}"`),null):i}function Uw(i,e){let n,s,a,u,h;if(Vw(i)){let p=i.getAttribute("action");s=p?Ai(p,e):null,n=i.getAttribute("method")||Au,a=$h(i.getAttribute("enctype"))||Su,u=new FormData(i)}else if(Dw(i)||Lw(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||p.getAttribute("action");if(s=g?Ai(g,e):null,n=i.getAttribute("formmethod")||p.getAttribute("method")||Au,a=$h(i.getAttribute("formenctype"))||$h(p.getAttribute("enctype"))||Su,u=new FormData(p,i),!bw()){let{name:v,type:E,value:S}=i;if(E==="image"){let A=v?`${v}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else v&&u.append(v,S)}}else{if(Qu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Au,s=null,a=Su,h=i}return u&&a==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jf(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function jw(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ai(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function zw(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Bw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Hw(i,e,n){let s=await Promise.all(i.map(async a=>{let u=e.routes[a.route.id];if(u){let h=await zw(u,n);return h.links?h.links():[]}return[]}));return Gw(s.flat(1).filter(Bw).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Hm(i,e,n,s,a,u){let h=(g,v)=>n[v]?g.route.id!==n[v].route.id:!0,p=(g,v)=>n[v].pathname!==g.pathname||n[v].route.path?.endsWith("*")&&n[v].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,v)=>h(g,v)||p(g,v)):u==="data"?e.filter((g,v)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,v)||p(g,v))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function $w(i,e,{includeHydrateFallback:n}={}){return Ww(i.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let u=[a.module];return a.clientActionModule&&(u=u.concat(a.clientActionModule)),a.clientLoaderModule&&(u=u.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(u=u.concat(a.hydrateFallbackModule)),a.imports&&(u=u.concat(a.imports)),u}).flat(1))}function Ww(i){return[...new Set(i)]}function qw(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function Gw(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let u=JSON.stringify(qw(a));return n.has(u)||(n.add(u),s.push({key:u,link:a})),s},[])}function Ty(){let i=B.useContext(jo);return jf(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Kw(){let i=B.useContext(Ku);return jf(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var zf=B.createContext(void 0);zf.displayName="FrameworkContext";function Ay(){let i=B.useContext(zf);return jf(i,"You must render this element inside a <HydratedRouter> element"),i}function Qw(i,e){let n=B.useContext(zf),[s,a]=B.useState(!1),[u,h]=B.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:v,onMouseLeave:E,onTouchStart:S}=e,A=B.useRef(null);B.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let $=G=>{G.forEach(re=>{h(re.isIntersecting)})},j=new IntersectionObserver($,{threshold:.5});return A.current&&j.observe(A.current),()=>{j.disconnect()}}},[i]),B.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let M=()=>{a(!0)},W=()=>{a(!1),h(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Ia(p,M),onBlur:Ia(g,W),onMouseEnter:Ia(v,M),onMouseLeave:Ia(E,W),onTouchStart:Ia(S,M)}]:[!1,A,{}]}function Ia(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Yw({page:i,...e}){let{router:n}=Ty(),s=B.useMemo(()=>cy(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?B.createElement(Jw,{page:i,matches:s,...e}):null}function Xw(i){let{manifest:e,routeModules:n}=Ay(),[s,a]=B.useState([]);return B.useEffect(()=>{let u=!1;return Hw(i,e,n).then(h=>{u||a(h)}),()=>{u=!0}},[i,e,n]),s}function Jw({page:i,matches:e,...n}){let s=zs(),{manifest:a,routeModules:u}=Ay(),{basename:h}=Ty(),{loaderData:p,matches:g}=Kw(),v=B.useMemo(()=>Hm(i,e,g,a,s,"data"),[i,e,g,a,s]),E=B.useMemo(()=>Hm(i,e,g,a,s,"assets"),[i,e,g,a,s]),S=B.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let W=new Set,$=!1;if(e.forEach(G=>{let re=a.routes[G.route.id];!re||!re.hasLoader||(!v.some(J=>J.route.id===G.route.id)&&G.route.id in p&&u[G.route.id]?.shouldRevalidate||re.hasClientLoader?$=!0:W.add(G.route.id))}),W.size===0)return[];let j=jw(i,h,"data");return $&&W.size>0&&j.searchParams.set("_routes",e.filter(G=>W.has(G.route.id)).map(G=>G.route.id).join(",")),[j.pathname+j.search]},[h,p,s,a,v,e,i,u]),A=B.useMemo(()=>$w(E,a),[E,a]),M=Xw(E);return B.createElement(B.Fragment,null,S.map(W=>B.createElement("link",{key:W,rel:"prefetch",as:"fetch",href:W,...n})),A.map(W=>B.createElement("link",{key:W,rel:"modulepreload",href:W,...n})),M.map(({key:W,link:$})=>B.createElement("link",{key:W,nonce:n.nonce,...$})))}function Zw(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Sy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sy&&(window.__reactRouterVersion="7.8.1")}catch{}function e0({basename:i,children:e,window:n}){let s=B.useRef();s.current==null&&(s.current=UE({window:n,v5Compat:!0}));let a=s.current,[u,h]=B.useState({action:a.action,location:a.location}),p=B.useCallback(g=>{B.startTransition(()=>h(g))},[h]);return B.useLayoutEffect(()=>a.listen(p),[a,p]),B.createElement(kw,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:a})}var Iy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Os=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:u,replace:h,state:p,target:g,to:v,preventScrollReset:E,viewTransition:S,...A},M){let{basename:W}=B.useContext(Yr),$=typeof v=="string"&&Iy.test(v),j,G=!1;if(typeof v=="string"&&$&&(j=v,Sy))try{let R=new URL(window.location.href),k=v.startsWith("//")?new URL(R.protocol+v):new URL(v),N=Ai(k.pathname,W);k.origin===R.origin&&N!=null?v=N+k.search+k.hash:G=!0}catch{qr(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=fw(v,{relative:a}),[J,ae,de]=Qw(s,A),Ee=i0(v,{replace:h,state:p,target:g,preventScrollReset:E,relative:a,viewTransition:S});function D(R){e&&e(R),R.defaultPrevented||Ee(R)}let T=B.createElement("a",{...A,...de,href:j||re,onClick:G||u?e:D,ref:Zw(M,ae),target:g,"data-discover":!$&&n==="render"?"true":void 0});return J&&!$?B.createElement(B.Fragment,null,T,B.createElement(Yw,{page:re})):T});Os.displayName="Link";var t0=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:u,to:h,viewTransition:p,children:g,...v},E){let S=Ja(h,{relative:v.relative}),A=zs(),M=B.useContext(Ku),{navigator:W,basename:$}=B.useContext(Yr),j=M!=null&&u0(S)&&p===!0,G=W.encodeLocation?W.encodeLocation(S).pathname:S.pathname,re=A.pathname,J=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(re=re.toLowerCase(),J=J?J.toLowerCase():null,G=G.toLowerCase()),J&&$&&(J=Ai(J,$)||J);const ae=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let de=re===G||!a&&re.startsWith(G)&&re.charAt(ae)==="/",Ee=J!=null&&(J===G||!a&&J.startsWith(G)&&J.charAt(G.length)==="/"),D={isActive:de,isPending:Ee,isTransitioning:j},T=de?e:void 0,R;typeof s=="function"?R=s(D):R=[s,de?"active":null,Ee?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(D):u;return B.createElement(Os,{...v,"aria-current":T,className:R,ref:E,style:k,to:h,viewTransition:p},typeof g=="function"?g(D):g)});t0.displayName="NavLink";var n0=B.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:u,method:h=Au,action:p,onSubmit:g,relative:v,preventScrollReset:E,viewTransition:S,...A},M)=>{let W=a0(),$=l0(p,{relative:v}),j=h.toLowerCase()==="get"?"get":"post",G=typeof p=="string"&&Iy.test(p),re=J=>{if(g&&g(J),J.defaultPrevented)return;J.preventDefault();let ae=J.nativeEvent.submitter,de=ae?.getAttribute("formmethod")||h;W(ae||J.currentTarget,{fetcherKey:e,method:de,navigate:n,replace:a,state:u,relative:v,preventScrollReset:E,viewTransition:S})};return B.createElement("form",{ref:M,method:j,action:$,onSubmit:s?g:re,...A,"data-discover":!G&&i==="render"?"true":void 0})});n0.displayName="Form";function r0(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ry(i){let e=B.useContext(jo);return ct(e,r0(i)),e}function i0(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:u,viewTransition:h}={}){let p=bf(),g=zs(),v=Ja(i,{relative:u});return B.useCallback(E=>{if(Mw(E,e)){E.preventDefault();let S=n!==void 0?n:ja(g)===ja(v);p(i,{replace:S,state:s,preventScrollReset:a,relative:u,viewTransition:h})}},[g,p,v,n,s,e,i,a,u,h])}var s0=0,o0=()=>`__${String(++s0)}__`;function a0(){let{router:i}=Ry("useSubmit"),{basename:e}=B.useContext(Yr),n=Iw();return B.useCallback(async(s,a={})=>{let{action:u,method:h,encType:p,formData:g,body:v}=Uw(s,e);if(a.navigate===!1){let E=a.fetcherKey||o0();await i.fetch(E,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||p,flushSync:a.flushSync})}else await i.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||p,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function l0(i,{relative:e}={}){let{basename:n}=B.useContext(Yr),s=B.useContext(Ir);ct(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),u={...Ja(i||".",{relative:e})},h=zs();if(i==null){u.search=h.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(E=>E==="")){p.delete("index"),g.filter(S=>S).forEach(S=>p.append("index",S));let E=p.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ei([n,u.pathname])),ja(u)}function u0(i,{relative:e}={}){let n=B.useContext(gy);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Ry("useViewTransitionState"),a=Ja(i,{relative:e});if(!n.isTransitioning)return!1;let u=Ai(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Ai(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Du(a.pathname,h)!=null||Du(a.pathname,u)!=null}const c0=()=>{};var $m={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},h0=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=i[n++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=i[n++],h=i[n++],p=i[n++],g=((a&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Py={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const u=i[a],h=a+1<i.length,p=h?i[a+1]:0,g=a+2<i.length,v=g?i[a+2]:0,E=u>>2,S=(u&3)<<4|p>>4;let A=(p&15)<<2|v>>6,M=v&63;g||(M=64,h||(A=64)),s.push(n[E],n[S],n[A],n[M])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Cy(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):h0(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const u=n[i.charAt(a++)],p=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const S=a<i.length?n[i.charAt(a)]:64;if(++a,u==null||p==null||v==null||S==null)throw new f0;const A=u<<2|p>>4;if(s.push(A),v!==64){const M=p<<4&240|v>>2;if(s.push(M),S!==64){const W=v<<6&192|S;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class f0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d0=function(i){const e=Cy(i);return Py.encodeByteArray(e,!0)},Vu=function(i){return d0(i).replace(/\./g,"")},p0=function(i){try{return Py.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=()=>m0().__FIREBASE_DEFAULTS__,y0=()=>{if(typeof process>"u"||typeof $m>"u")return;const i=$m.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},v0=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&p0(i[1]);return e&&JSON.parse(e)},Bf=()=>{try{return c0()||g0()||y0()||v0()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},_0=i=>Bf()?.emulatorHosts?.[i],E0=i=>{const e=_0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},xy=()=>Bf()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function T0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Vu(JSON.stringify(n)),Vu(JSON.stringify(h)),""].join(".")}const Oa={};function S0(){const i={prod:[],emulator:[]};for(const e of Object.keys(Oa))Oa[e]?i.emulator.push(e):i.prod.push(e);return i}function I0(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Wm=!1;function R0(i,e){if(typeof window>"u"||typeof document>"u"||!Hf(window.location.host)||Oa[i]===e||Oa[i]||Wm)return;Oa[i]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=S0().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,M){A.setAttribute("width","24"),A.setAttribute("id",M),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function v(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Wm=!0,h()},A}function E(A,M){A.setAttribute("id",M),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function S(){const A=I0(s),M=n("text"),W=document.getElementById(M)||document.createElement("span"),$=n("learnmore"),j=document.getElementById($)||document.createElement("a"),G=n("preprendIcon"),re=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const J=A.element;p(J),E(j,$);const ae=v();g(re,G),J.append(re,W,j,ae),document.body.appendChild(J)}u?(W.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P0(){const i=Bf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function x0(){return!P0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k0(){try{return typeof indexedDB=="object"}catch{return!1}}function N0(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="FirebaseError";class zo extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=D0,Object.setPrototypeOf(this,zo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ky.prototype.create)}}class ky{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?V0(u,s):"Error",p=`${this.serviceName}: ${h} (${a}).`;return new zo(a,p,s)}}function V0(i,e){return i.replace(L0,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const L0=/\{\$([^}]+)}/g;function Lu(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const u=i[a],h=e[a];if(qm(u)&&qm(h)){if(!Lu(u,h))return!1}else if(u!==h)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function qm(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(i){return i&&i._delegate?i._delegate:i}class za{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new w0;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b0(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&h.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:M0(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function M0(i){return i===Ls?void 0:i}function b0(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new O0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ze||(ze={}));const U0={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},j0=ze.INFO,z0={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},B0=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=z0[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ny{constructor(e){this.name=e,this._logLevel=j0,this._logHandler=B0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const H0=(i,e)=>e.some(n=>i instanceof n);let Gm,Km;function $0(){return Gm||(Gm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W0(){return Km||(Km=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dy=new WeakMap,lf=new WeakMap,Vy=new WeakMap,Wh=new WeakMap,$f=new WeakMap;function q0(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Ji(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Dy.set(n,i)}).catch(()=>{}),$f.set(e,i),e}function G0(i){if(lf.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});lf.set(i,e)}let uf={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return lf.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Vy.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function K0(i){uf=i(uf)}function Q0(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(qh(this),e,...n);return Vy.set(s,e.sort?e.sort():[e]),Ji(s)}:W0().includes(i)?function(...e){return i.apply(qh(this),e),Ji(Dy.get(this))}:function(...e){return Ji(i.apply(qh(this),e))}}function Y0(i){return typeof i=="function"?Q0(i):(i instanceof IDBTransaction&&G0(i),H0(i,$0())?new Proxy(i,uf):i)}function Ji(i){if(i instanceof IDBRequest)return q0(i);if(Wh.has(i))return Wh.get(i);const e=Y0(i);return e!==i&&(Wh.set(i,e),$f.set(e,i)),e}const qh=i=>$f.get(i);function X0(i,e,{blocked:n,upgrade:s,blocking:a,terminated:u}={}){const h=indexedDB.open(i,e),p=Ji(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Ji(h.result),g.oldVersion,g.newVersion,Ji(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),a&&g.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const J0=["get","getKey","getAll","getAllKeys","count"],Z0=["put","add","delete","clear"],Gh=new Map;function Qm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Gh.get(e))return Gh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=Z0.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||J0.includes(n)))return;const u=async function(h,...p){const g=this.transaction(h,a?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(p.shift())),(await Promise.all([v[n](...p),a&&g.done]))[0]};return Gh.set(e,u),u}K0(i=>({...i,get:(e,n,s)=>Qm(e,n)||i.get(e,n,s),has:(e,n)=>!!Qm(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tT(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function tT(i){return i.getComponent()?.type==="VERSION"}const cf="@firebase/app",Ym="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Ny("@firebase/app"),nT="@firebase/app-compat",rT="@firebase/analytics-compat",iT="@firebase/analytics",sT="@firebase/app-check-compat",oT="@firebase/app-check",aT="@firebase/auth",lT="@firebase/auth-compat",uT="@firebase/database",cT="@firebase/data-connect",hT="@firebase/database-compat",fT="@firebase/functions",dT="@firebase/functions-compat",pT="@firebase/installations",mT="@firebase/installations-compat",gT="@firebase/messaging",yT="@firebase/messaging-compat",vT="@firebase/performance",_T="@firebase/performance-compat",ET="@firebase/remote-config",wT="@firebase/remote-config-compat",TT="@firebase/storage",AT="@firebase/storage-compat",ST="@firebase/firestore",IT="@firebase/ai",RT="@firebase/firestore-compat",CT="firebase",PT="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="[DEFAULT]",xT={[cf]:"fire-core",[nT]:"fire-core-compat",[iT]:"fire-analytics",[rT]:"fire-analytics-compat",[oT]:"fire-app-check",[sT]:"fire-app-check-compat",[aT]:"fire-auth",[lT]:"fire-auth-compat",[uT]:"fire-rtdb",[cT]:"fire-data-connect",[hT]:"fire-rtdb-compat",[fT]:"fire-fn",[dT]:"fire-fn-compat",[pT]:"fire-iid",[mT]:"fire-iid-compat",[gT]:"fire-fcm",[yT]:"fire-fcm-compat",[vT]:"fire-perf",[_T]:"fire-perf-compat",[ET]:"fire-rc",[wT]:"fire-rc-compat",[TT]:"fire-gcs",[AT]:"fire-gcs-compat",[ST]:"fire-fst",[RT]:"fire-fst-compat",[IT]:"fire-vertex","fire-js":"fire-js",[CT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=new Map,kT=new Map,ff=new Map;function Xm(i,e){try{i.container.addComponent(e)}catch(n){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Mu(i){const e=i.name;if(ff.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;ff.set(e,i);for(const n of Ou.values())Xm(n,i);for(const n of kT.values())Xm(n,i);return!0}function NT(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function DT(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new ky("app","Firebase",VT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=PT;function Ly(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:hf,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Zi.create("bad-app-name",{appName:String(a)});if(n||(n=xy()),!n)throw Zi.create("no-options");const u=Ou.get(a);if(u){if(Lu(n,u.options)&&Lu(s,u.config))return u;throw Zi.create("duplicate-app",{appName:a})}const h=new F0(a);for(const g of ff.values())h.addComponent(g);const p=new LT(n,s,h);return Ou.set(a,p),p}function MT(i=hf){const e=Ou.get(i);if(!e&&i===hf&&xy())return Ly();if(!e)throw Zi.create("no-app",{appName:i});return e}function ko(i,e,n){let s=xT[i]??i;n&&(s+=`-${n}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(h.join(" "));return}Mu(new za(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="firebase-heartbeat-database",FT=1,Ba="firebase-heartbeat-store";let Kh=null;function Oy(){return Kh||(Kh=X0(bT,FT,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ba)}catch(n){console.warn(n)}}}}).catch(i=>{throw Zi.create("idb-open",{originalErrorMessage:i.message})})),Kh}async function UT(i){try{const n=(await Oy()).transaction(Ba),s=await n.objectStore(Ba).get(My(i));return await n.done,s}catch(e){if(e instanceof zo)Si.warn(e.message);else{const n=Zi.create("idb-get",{originalErrorMessage:e?.message});Si.warn(n.message)}}}async function Jm(i,e){try{const s=(await Oy()).transaction(Ba,"readwrite");await s.objectStore(Ba).put(e,My(i)),await s.done}catch(n){if(n instanceof zo)Si.warn(n.message);else{const s=Zi.create("idb-set",{originalErrorMessage:n?.message});Si.warn(s.message)}}}function My(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=1024,zT=30;class BT{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $T(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Zm();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>zT){const a=WT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Si.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Zm(),{heartbeatsToSend:n,unsentEntries:s}=HT(this._heartbeatsCache.heartbeats),a=Vu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Si.warn(e),""}}}function Zm(){return new Date().toISOString().substring(0,10)}function HT(i,e=jT){const n=[];let s=i.slice();for(const a of i){const u=n.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),eg(n)>e){u.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),eg(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class $T{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k0()?N0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UT(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Jm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Jm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function eg(i){return Vu(JSON.stringify({version:2,heartbeats:i})).length}function WT(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(i){Mu(new za("platform-logger",e=>new eT(e),"PRIVATE")),Mu(new za("heartbeat",e=>new BT(e),"PRIVATE")),ko(cf,Ym,i),ko(cf,Ym,"esm2020"),ko("fire-js","")}qT("");var tg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var es,by;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,T){function R(){}R.prototype=T.prototype,D.D=T.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(k,N,b){for(var C=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)C[$e-2]=arguments[$e];return T.prototype[N].apply(k,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,T,R){R||(R=0);var k=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)k[N]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(N=0;16>N;++N)k[N]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=D.g[0],R=D.g[1],N=D.g[2];var b=D.g[3],C=T+(b^R&(N^b))+k[0]+3614090360&4294967295;T=R+(C<<7&4294967295|C>>>25),C=b+(N^T&(R^N))+k[1]+3905402710&4294967295,b=T+(C<<12&4294967295|C>>>20),C=N+(R^b&(T^R))+k[2]+606105819&4294967295,N=b+(C<<17&4294967295|C>>>15),C=R+(T^N&(b^T))+k[3]+3250441966&4294967295,R=N+(C<<22&4294967295|C>>>10),C=T+(b^R&(N^b))+k[4]+4118548399&4294967295,T=R+(C<<7&4294967295|C>>>25),C=b+(N^T&(R^N))+k[5]+1200080426&4294967295,b=T+(C<<12&4294967295|C>>>20),C=N+(R^b&(T^R))+k[6]+2821735955&4294967295,N=b+(C<<17&4294967295|C>>>15),C=R+(T^N&(b^T))+k[7]+4249261313&4294967295,R=N+(C<<22&4294967295|C>>>10),C=T+(b^R&(N^b))+k[8]+1770035416&4294967295,T=R+(C<<7&4294967295|C>>>25),C=b+(N^T&(R^N))+k[9]+2336552879&4294967295,b=T+(C<<12&4294967295|C>>>20),C=N+(R^b&(T^R))+k[10]+4294925233&4294967295,N=b+(C<<17&4294967295|C>>>15),C=R+(T^N&(b^T))+k[11]+2304563134&4294967295,R=N+(C<<22&4294967295|C>>>10),C=T+(b^R&(N^b))+k[12]+1804603682&4294967295,T=R+(C<<7&4294967295|C>>>25),C=b+(N^T&(R^N))+k[13]+4254626195&4294967295,b=T+(C<<12&4294967295|C>>>20),C=N+(R^b&(T^R))+k[14]+2792965006&4294967295,N=b+(C<<17&4294967295|C>>>15),C=R+(T^N&(b^T))+k[15]+1236535329&4294967295,R=N+(C<<22&4294967295|C>>>10),C=T+(N^b&(R^N))+k[1]+4129170786&4294967295,T=R+(C<<5&4294967295|C>>>27),C=b+(R^N&(T^R))+k[6]+3225465664&4294967295,b=T+(C<<9&4294967295|C>>>23),C=N+(T^R&(b^T))+k[11]+643717713&4294967295,N=b+(C<<14&4294967295|C>>>18),C=R+(b^T&(N^b))+k[0]+3921069994&4294967295,R=N+(C<<20&4294967295|C>>>12),C=T+(N^b&(R^N))+k[5]+3593408605&4294967295,T=R+(C<<5&4294967295|C>>>27),C=b+(R^N&(T^R))+k[10]+38016083&4294967295,b=T+(C<<9&4294967295|C>>>23),C=N+(T^R&(b^T))+k[15]+3634488961&4294967295,N=b+(C<<14&4294967295|C>>>18),C=R+(b^T&(N^b))+k[4]+3889429448&4294967295,R=N+(C<<20&4294967295|C>>>12),C=T+(N^b&(R^N))+k[9]+568446438&4294967295,T=R+(C<<5&4294967295|C>>>27),C=b+(R^N&(T^R))+k[14]+3275163606&4294967295,b=T+(C<<9&4294967295|C>>>23),C=N+(T^R&(b^T))+k[3]+4107603335&4294967295,N=b+(C<<14&4294967295|C>>>18),C=R+(b^T&(N^b))+k[8]+1163531501&4294967295,R=N+(C<<20&4294967295|C>>>12),C=T+(N^b&(R^N))+k[13]+2850285829&4294967295,T=R+(C<<5&4294967295|C>>>27),C=b+(R^N&(T^R))+k[2]+4243563512&4294967295,b=T+(C<<9&4294967295|C>>>23),C=N+(T^R&(b^T))+k[7]+1735328473&4294967295,N=b+(C<<14&4294967295|C>>>18),C=R+(b^T&(N^b))+k[12]+2368359562&4294967295,R=N+(C<<20&4294967295|C>>>12),C=T+(R^N^b)+k[5]+4294588738&4294967295,T=R+(C<<4&4294967295|C>>>28),C=b+(T^R^N)+k[8]+2272392833&4294967295,b=T+(C<<11&4294967295|C>>>21),C=N+(b^T^R)+k[11]+1839030562&4294967295,N=b+(C<<16&4294967295|C>>>16),C=R+(N^b^T)+k[14]+4259657740&4294967295,R=N+(C<<23&4294967295|C>>>9),C=T+(R^N^b)+k[1]+2763975236&4294967295,T=R+(C<<4&4294967295|C>>>28),C=b+(T^R^N)+k[4]+1272893353&4294967295,b=T+(C<<11&4294967295|C>>>21),C=N+(b^T^R)+k[7]+4139469664&4294967295,N=b+(C<<16&4294967295|C>>>16),C=R+(N^b^T)+k[10]+3200236656&4294967295,R=N+(C<<23&4294967295|C>>>9),C=T+(R^N^b)+k[13]+681279174&4294967295,T=R+(C<<4&4294967295|C>>>28),C=b+(T^R^N)+k[0]+3936430074&4294967295,b=T+(C<<11&4294967295|C>>>21),C=N+(b^T^R)+k[3]+3572445317&4294967295,N=b+(C<<16&4294967295|C>>>16),C=R+(N^b^T)+k[6]+76029189&4294967295,R=N+(C<<23&4294967295|C>>>9),C=T+(R^N^b)+k[9]+3654602809&4294967295,T=R+(C<<4&4294967295|C>>>28),C=b+(T^R^N)+k[12]+3873151461&4294967295,b=T+(C<<11&4294967295|C>>>21),C=N+(b^T^R)+k[15]+530742520&4294967295,N=b+(C<<16&4294967295|C>>>16),C=R+(N^b^T)+k[2]+3299628645&4294967295,R=N+(C<<23&4294967295|C>>>9),C=T+(N^(R|~b))+k[0]+4096336452&4294967295,T=R+(C<<6&4294967295|C>>>26),C=b+(R^(T|~N))+k[7]+1126891415&4294967295,b=T+(C<<10&4294967295|C>>>22),C=N+(T^(b|~R))+k[14]+2878612391&4294967295,N=b+(C<<15&4294967295|C>>>17),C=R+(b^(N|~T))+k[5]+4237533241&4294967295,R=N+(C<<21&4294967295|C>>>11),C=T+(N^(R|~b))+k[12]+1700485571&4294967295,T=R+(C<<6&4294967295|C>>>26),C=b+(R^(T|~N))+k[3]+2399980690&4294967295,b=T+(C<<10&4294967295|C>>>22),C=N+(T^(b|~R))+k[10]+4293915773&4294967295,N=b+(C<<15&4294967295|C>>>17),C=R+(b^(N|~T))+k[1]+2240044497&4294967295,R=N+(C<<21&4294967295|C>>>11),C=T+(N^(R|~b))+k[8]+1873313359&4294967295,T=R+(C<<6&4294967295|C>>>26),C=b+(R^(T|~N))+k[15]+4264355552&4294967295,b=T+(C<<10&4294967295|C>>>22),C=N+(T^(b|~R))+k[6]+2734768916&4294967295,N=b+(C<<15&4294967295|C>>>17),C=R+(b^(N|~T))+k[13]+1309151649&4294967295,R=N+(C<<21&4294967295|C>>>11),C=T+(N^(R|~b))+k[4]+4149444226&4294967295,T=R+(C<<6&4294967295|C>>>26),C=b+(R^(T|~N))+k[11]+3174756917&4294967295,b=T+(C<<10&4294967295|C>>>22),C=N+(T^(b|~R))+k[2]+718787259&4294967295,N=b+(C<<15&4294967295|C>>>17),C=R+(b^(N|~T))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+T&4294967295,D.g[1]=D.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+b&4294967295}s.prototype.u=function(D,T){T===void 0&&(T=D.length);for(var R=T-this.blockSize,k=this.B,N=this.h,b=0;b<T;){if(N==0)for(;b<=R;)a(this,D,b),b+=this.blockSize;if(typeof D=="string"){for(;b<T;)if(k[N++]=D.charCodeAt(b++),N==this.blockSize){a(this,k),N=0;break}}else for(;b<T;)if(k[N++]=D[b++],N==this.blockSize){a(this,k),N=0;break}}this.h=N,this.o+=T},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var T=1;T<D.length-8;++T)D[T]=0;var R=8*this.o;for(T=D.length-8;T<D.length;++T)D[T]=R&255,R/=256;for(this.u(D),D=Array(16),T=R=0;4>T;++T)for(var k=0;32>k;k+=8)D[R++]=this.g[T]>>>k&255;return D};function u(D,T){var R=p;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=T(D)}function h(D,T){this.h=T;for(var R=[],k=!0,N=D.length-1;0<=N;N--){var b=D[N]|0;k&&b==T||(R[N]=b,k=!1)}this.g=R}var p={};function g(D){return-128<=D&&128>D?u(D,function(T){return new h([T|0],0>T?-1:0)}):new h([D|0],0>D?-1:0)}function v(D){if(isNaN(D)||!isFinite(D))return S;if(0>D)return j(v(-D));for(var T=[],R=1,k=0;D>=R;k++)T[k]=D/R|0,R*=4294967296;return new h(T,0)}function E(D,T){if(D.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(D.charAt(0)=="-")return j(E(D.substring(1),T));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(T,8)),k=S,N=0;N<D.length;N+=8){var b=Math.min(8,D.length-N),C=parseInt(D.substring(N,N+b),T);8>b?(b=v(Math.pow(T,b)),k=k.j(b).add(v(C))):(k=k.j(R),k=k.add(v(C)))}return k}var S=g(0),A=g(1),M=g(16777216);i=h.prototype,i.m=function(){if($(this))return-j(this).m();for(var D=0,T=1,R=0;R<this.g.length;R++){var k=this.i(R);D+=(0<=k?k:4294967296+k)*T,T*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(W(this))return"0";if($(this))return"-"+j(this).toString(D);for(var T=v(Math.pow(D,6)),R=this,k="";;){var N=ae(R,T).g;R=G(R,N.j(T));var b=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=N,W(R))return b+k;for(;6>b.length;)b="0"+b;k=b+k}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function W(D){if(D.h!=0)return!1;for(var T=0;T<D.g.length;T++)if(D.g[T]!=0)return!1;return!0}function $(D){return D.h==-1}i.l=function(D){return D=G(this,D),$(D)?-1:W(D)?0:1};function j(D){for(var T=D.g.length,R=[],k=0;k<T;k++)R[k]=~D.g[k];return new h(R,~D.h).add(A)}i.abs=function(){return $(this)?j(this):this},i.add=function(D){for(var T=Math.max(this.g.length,D.g.length),R=[],k=0,N=0;N<=T;N++){var b=k+(this.i(N)&65535)+(D.i(N)&65535),C=(b>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);k=C>>>16,b&=65535,C&=65535,R[N]=C<<16|b}return new h(R,R[R.length-1]&-2147483648?-1:0)};function G(D,T){return D.add(j(T))}i.j=function(D){if(W(this)||W(D))return S;if($(this))return $(D)?j(this).j(j(D)):j(j(this).j(D));if($(D))return j(this.j(j(D)));if(0>this.l(M)&&0>D.l(M))return v(this.m()*D.m());for(var T=this.g.length+D.g.length,R=[],k=0;k<2*T;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<D.g.length;N++){var b=this.i(k)>>>16,C=this.i(k)&65535,$e=D.i(N)>>>16,Ze=D.i(N)&65535;R[2*k+2*N]+=C*Ze,re(R,2*k+2*N),R[2*k+2*N+1]+=b*Ze,re(R,2*k+2*N+1),R[2*k+2*N+1]+=C*$e,re(R,2*k+2*N+1),R[2*k+2*N+2]+=b*$e,re(R,2*k+2*N+2)}for(k=0;k<T;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=T;k<2*T;k++)R[k]=0;return new h(R,0)};function re(D,T){for(;(D[T]&65535)!=D[T];)D[T+1]+=D[T]>>>16,D[T]&=65535,T++}function J(D,T){this.g=D,this.h=T}function ae(D,T){if(W(T))throw Error("division by zero");if(W(D))return new J(S,S);if($(D))return T=ae(j(D),T),new J(j(T.g),j(T.h));if($(T))return T=ae(D,j(T)),new J(j(T.g),T.h);if(30<D.g.length){if($(D)||$(T))throw Error("slowDivide_ only works with positive integers.");for(var R=A,k=T;0>=k.l(D);)R=de(R),k=de(k);var N=Ee(R,1),b=Ee(k,1);for(k=Ee(k,2),R=Ee(R,2);!W(k);){var C=b.add(k);0>=C.l(D)&&(N=N.add(R),b=C),k=Ee(k,1),R=Ee(R,1)}return T=G(D,N.j(T)),new J(N,T)}for(N=S;0<=D.l(T);){for(R=Math.max(1,Math.floor(D.m()/T.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),b=v(R),C=b.j(T);$(C)||0<C.l(D);)R-=k,b=v(R),C=b.j(T);W(b)&&(b=A),N=N.add(b),D=G(D,C)}return new J(N,D)}i.A=function(D){return ae(this,D).h},i.and=function(D){for(var T=Math.max(this.g.length,D.g.length),R=[],k=0;k<T;k++)R[k]=this.i(k)&D.i(k);return new h(R,this.h&D.h)},i.or=function(D){for(var T=Math.max(this.g.length,D.g.length),R=[],k=0;k<T;k++)R[k]=this.i(k)|D.i(k);return new h(R,this.h|D.h)},i.xor=function(D){for(var T=Math.max(this.g.length,D.g.length),R=[],k=0;k<T;k++)R[k]=this.i(k)^D.i(k);return new h(R,this.h^D.h)};function de(D){for(var T=D.g.length+1,R=[],k=0;k<T;k++)R[k]=D.i(k)<<1|D.i(k-1)>>>31;return new h(R,D.h)}function Ee(D,T){var R=T>>5;T%=32;for(var k=D.g.length-R,N=[],b=0;b<k;b++)N[b]=0<T?D.i(b+R)>>>T|D.i(b+R+1)<<32-T:D.i(b+R);return new h(N,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,by=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=E,es=h}).apply(typeof tg<"u"?tg:typeof self<"u"?self:typeof window<"u"?window:{});var gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fy,Na,Uy,Iu,df,jy,zy,By;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,y){return l==Array.prototype||l==Object.prototype||(l[d]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof gu=="object"&&gu];for(var d=0;d<l.length;++d){var y=l[d];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var y=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var F=l[w];if(!(F in y))break e;y=y[F]}l=l[l.length-1],w=y[l],d=d(w),d!=w&&d!=null&&e(y,l,{configurable:!0,writable:!0,value:d})}}function u(l,d){l instanceof String&&(l+="");var y=0,w=!1,F={next:function(){if(!w&&y<l.length){var q=y++;return{value:d(q,l[q]),done:!1}}return w=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}a("Array.prototype.values",function(l){return l||function(){return u(this,function(d,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},p=this||self;function g(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function v(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function E(l,d,y){return l.call.apply(l.bind,arguments)}function S(l,d,y){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,w),l.apply(d,F)}}return function(){return l.apply(d,arguments)}}function A(l,d,y){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,A.apply(null,arguments)}function M(l,d){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function W(l,d){function y(){}y.prototype=d.prototype,l.aa=d.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(w,F,q){for(var ie=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)ie[Qe-2]=arguments[Qe];return d.prototype[F].apply(w,ie)}}function $(l){const d=l.length;if(0<d){const y=Array(d);for(let w=0;w<d;w++)y[w]=l[w];return y}return[]}function j(l,d){for(let y=1;y<arguments.length;y++){const w=arguments[y];if(g(w)){const F=l.length||0,q=w.length||0;l.length=F+q;for(let ie=0;ie<q;ie++)l[F+ie]=w[ie]}else l.push(w)}}class G{constructor(d,y){this.i=d,this.j=y,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function re(l){return/^[\s\xa0]*$/.test(l)}function J(){var l=p.navigator;return l&&(l=l.userAgent)?l:""}function ae(l){return ae[" "](l),l}ae[" "]=function(){};var de=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function Ee(l,d,y){for(const w in l)d.call(y,l[w],w,l)}function D(l,d){for(const y in l)d.call(void 0,l[y],y,l)}function T(l){const d={};for(const y in l)d[y]=l[y];return d}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,d){let y,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(y in w)l[y]=w[y];for(let q=0;q<R.length;q++)y=R[q],Object.prototype.hasOwnProperty.call(w,y)&&(l[y]=w[y])}}function N(l){var d=1;l=l.split(":");const y=[];for(;0<d&&l.length;)y.push(l.shift()),d--;return l.length&&y.push(l.join(":")),y}function b(l){p.setTimeout(()=>{throw l},0)}function C(){var l=we;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class $e{constructor(){this.h=this.g=null}add(d,y){const w=Ze.get();w.set(d,y),this.h?this.h.next=w:this.g=w,this.h=w}}var Ze=new G(()=>new kt,l=>l.reset());class kt{constructor(){this.next=this.g=this.h=null}set(d,y){this.h=d,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let We,se=!1,we=new $e,le=()=>{const l=p.Promise.resolve(void 0);We=()=>{l.then(O)}};var O=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(y){b(y)}var d=Ze;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}se=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ke=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};p.addEventListener("test",y,d),p.removeEventListener("test",y,d)}catch{}return l})();function ve(l,d){if(oe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(de){e:{try{ae(d.nodeName);var F=!0;break e}catch{}F=!1}F||(d=null)}}else y=="mouseover"?d=l.fromElement:y=="mouseout"&&(d=l.toElement);this.relatedTarget=d,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ne[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ve.aa.h.call(this)}}W(ve,oe);var Ne={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function qe(l,d,y,w,F){this.listener=l,this.proxy=null,this.src=d,this.type=y,this.capture=!!w,this.ha=F,this.key=++Fe,this.da=this.fa=!1}function mt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function jn(l){this.src=l,this.g={},this.h=0}jn.prototype.add=function(l,d,y,w,F){var q=l.toString();l=this.g[q],l||(l=this.g[q]=[],this.h++);var ie=kn(l,d,w,F);return-1<ie?(d=l[ie],y||(d.fa=!1)):(d=new qe(d,this.src,q,!!w,F),d.fa=y,l.push(d)),d};function xn(l,d){var y=d.type;if(y in l.g){var w=l.g[y],F=Array.prototype.indexOf.call(w,d,void 0),q;(q=0<=F)&&Array.prototype.splice.call(w,F,1),q&&(mt(d),l.g[y].length==0&&(delete l.g[y],l.h--))}}function kn(l,d,y,w){for(var F=0;F<l.length;++F){var q=l[F];if(!q.da&&q.listener==d&&q.capture==!!y&&q.ha==w)return F}return-1}var tn="closure_lm_"+(1e6*Math.random()|0),Rr={};function Xr(l,d,y,w,F){if(Array.isArray(d)){for(var q=0;q<d.length;q++)Xr(l,d[q],y,w,F);return null}return y=Wn(y),l&&l[Me]?l.K(d,y,v(w)?!!w.capture:!1,F):zn(l,d,y,!1,w,F)}function zn(l,d,y,w,F,q){if(!d)throw Error("Invalid event type");var ie=v(F)?!!F.capture:!!F,Qe=Cr(l);if(Qe||(l[tn]=Qe=new jn(l)),y=Qe.add(d,y,w,ie,q),y.proxy)return y;if(w=Jr(),y.proxy=w,w.src=l,w.listener=y,l.addEventListener)ke||(F=ie),F===void 0&&(F=!1),l.addEventListener(d.toString(),w,F);else if(l.attachEvent)l.attachEvent(Hn(d.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Jr(){function l(y){return d.call(l.src,l.listener,y)}const d=hs;return l}function ur(l,d,y,w,F){if(Array.isArray(d))for(var q=0;q<d.length;q++)ur(l,d[q],y,w,F);else w=v(w)?!!w.capture:!!w,y=Wn(y),l&&l[Me]?(l=l.i,d=String(d).toString(),d in l.g&&(q=l.g[d],y=kn(q,y,w,F),-1<y&&(mt(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete l.g[d],l.h--)))):l&&(l=Cr(l))&&(d=l.g[d.toString()],l=-1,d&&(l=kn(d,y,w,F)),(y=-1<l?d[l]:null)&&Bn(y))}function Bn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Me])xn(d.i,l);else{var y=l.type,w=l.proxy;d.removeEventListener?d.removeEventListener(y,w,l.capture):d.detachEvent?d.detachEvent(Hn(y),w):d.addListener&&d.removeListener&&d.removeListener(w),(y=Cr(d))?(xn(y,l),y.h==0&&(y.src=null,d[tn]=null)):mt(l)}}}function Hn(l){return l in Rr?Rr[l]:Rr[l]="on"+l}function hs(l,d){if(l.da)l=!0;else{d=new ve(d,this);var y=l.listener,w=l.ha||l.src;l.fa&&Bn(l),l=y.call(w,d)}return l}function Cr(l){return l=l[tn],l instanceof jn?l:null}var $n="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wn(l){return typeof l=="function"?l:(l[$n]||(l[$n]=function(d){return l.handleEvent(d)}),l[$n])}function Xe(){K.call(this),this.i=new jn(this),this.M=this,this.F=null}W(Xe,K),Xe.prototype[Me]=!0,Xe.prototype.removeEventListener=function(l,d,y,w){ur(this,l,d,y,w)};function ft(l,d){var y,w=l.F;if(w)for(y=[];w;w=w.F)y.push(w);if(l=l.M,w=d.type||d,typeof d=="string")d=new oe(d,l);else if(d instanceof oe)d.target=d.target||l;else{var F=d;d=new oe(w,l),k(d,F)}if(F=!0,y)for(var q=y.length-1;0<=q;q--){var ie=d.g=y[q];F=qn(ie,w,!0,d)&&F}if(ie=d.g=l,F=qn(ie,w,!0,d)&&F,F=qn(ie,w,!1,d)&&F,y)for(q=0;q<y.length;q++)ie=d.g=y[q],F=qn(ie,w,!1,d)&&F}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var y=l.g[d],w=0;w<y.length;w++)mt(y[w]);delete l.g[d],l.h--}}this.F=null},Xe.prototype.K=function(l,d,y,w){return this.i.add(String(l),d,!1,y,w)},Xe.prototype.L=function(l,d,y,w){return this.i.add(String(l),d,!0,y,w)};function qn(l,d,y,w){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var F=!0,q=0;q<d.length;++q){var ie=d[q];if(ie&&!ie.da&&ie.capture==y){var Qe=ie.listener,It=ie.ha||ie.src;ie.fa&&xn(l.i,ie),F=Qe.call(It,w)!==!1&&F}}return F&&!w.defaultPrevented}function Ci(l,d,y){if(typeof l=="function")y&&(l=A(l,y));else if(l&&typeof l.handleEvent=="function")l=A(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:p.setTimeout(l,d||0)}function Gn(l){l.g=Ci(()=>{l.g=null,l.i&&(l.i=!1,Gn(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class Pr extends K{constructor(d,y){super(),this.m=d,this.l=y,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Gn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kn(l){K.call(this),this.h=l,this.g={}}W(Kn,K);var xr=[];function nn(l){Ee(l.g,function(d,y){this.g.hasOwnProperty(y)&&Bn(d)},l),l.g={}}Kn.prototype.N=function(){Kn.aa.N.call(this),nn(this)},Kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=p.JSON.stringify,Zr=p.JSON.parse,ei=class{stringify(l){return p.JSON.stringify(l,void 0)}parse(l){return p.JSON.parse(l,void 0)}};function ti(){}ti.prototype.h=null;function cr(l){return l.h||(l.h=l.i())}function hr(){}var hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wt(){oe.call(this,"d")}W(Wt,oe);function Pi(){oe.call(this,"c")}W(Pi,oe);var Yn={},it=null;function fn(){return it=it||new Xe}Yn.La="serverreachability";function fs(l){oe.call(this,Yn.La,l)}W(fs,oe);function Xn(l){const d=fn();ft(d,new fs(d))}Yn.STAT_EVENT="statevent";function ni(l,d){oe.call(this,Yn.STAT_EVENT,l),this.stat=d}W(ni,oe);function st(l){const d=fn();ft(d,new ni(d,l))}Yn.Ma="timingevent";function ri(l,d){oe.call(this,Yn.Ma,l),this.size=d}W(ri,oe);function Nn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){l()},d)}function Nt(){this.g=!0}Nt.prototype.xa=function(){this.g=!1};function dn(l,d,y,w,F,q){l.info(function(){if(l.g)if(q)for(var ie="",Qe=q.split("&"),It=0;It<Qe.length;It++){var Ue=Qe[It].split("=");if(1<Ue.length){var Dt=Ue[0];Ue=Ue[1];var _t=Dt.split("_");ie=2<=_t.length&&_t[1]=="type"?ie+(Dt+"="+Ue+"&"):ie+(Dt+"=redacted&")}}else ie=null;else ie=q;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+d+`
`+y+`
`+ie})}function ii(l,d,y,w,F,q,ie){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+d+`
`+y+`
`+q+" "+ie})}function pn(l,d,y,w){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+$s(l,y)+(w?" "+w:"")})}function si(l,d){l.info(function(){return"TIMEOUT: "+d})}Nt.prototype.info=function(){};function $s(l,d){if(!l.g)return d;if(!d)return null;try{var y=JSON.parse(d);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var w=y[l];if(!(2>w.length)){var F=w[1];if(Array.isArray(F)&&!(1>F.length)){var q=F[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ie=1;ie<F.length;ie++)F[ie]=""}}}}return Qn(y)}catch{return d}}var qt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ds={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mn;function kr(){}W(kr,ti),kr.prototype.g=function(){return new XMLHttpRequest},kr.prototype.i=function(){return{}},mn=new kr;function gn(l,d,y,w){this.j=l,this.i=d,this.l=y,this.R=w||1,this.U=new Kn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ws}function Ws(){this.i=null,this.g="",this.h=!1}var ye={},V={};function ee(l,d,y){l.L=1,l.v=Di(Vn(d)),l.m=y,l.P=!0,he(l,null)}function he(l,d){l.F=Date.now(),Ce(l),l.A=Vn(l.v);var y=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Li(y.i,"t",w),l.C=0,y=l.j.J,l.h=new Ws,l.g=_l(l.j,y?d:null,!l.m),0<l.O&&(l.M=new Pr(A(l.Y,l,l.g),l.O)),d=l.U,y=l.g,w=l.ca;var F="readystatechange";Array.isArray(F)||(F&&(xr[0]=F.toString()),F=xr);for(var q=0;q<F.length;q++){var ie=Xr(y,F[q],w||d.handleEvent,!1,d.h||d);if(!ie)break;d.g[ie.key]=ie}d=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Xn(),dn(l.i,l.u,l.A,l.l,l.R,l.m)}gn.prototype.ca=function(l){l=l.target;const d=this.M;d&&_n(l)==3?d.j():this.Y(l)},gn.prototype.Y=function(l){try{if(l==this.g)e:{const _t=_n(this.g);var d=this.g.Ba();const Zn=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||Xo(this.g)))){this.J||_t!=4||d==7||(d==8||0>=Zn?Xn(3):Xn(2)),bt(this);var y=this.g.Z();this.X=y;t:if(Ke(this)){var w=Xo(this.g);l="";var F=w.length,q=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gt(this),yn(this);var ie="";break t}this.h.i=new p.TextDecoder}for(d=0;d<F;d++)this.h.h=!0,l+=this.h.i.decode(w[d],{stream:!(q&&d==F-1)});w.length=0,this.h.g+=l,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=y==200,ii(this.i,this.u,this.A,this.l,this.R,_t,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,It=this.g;if((Qe=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Qe)){var Ue=Qe;break t}}Ue=null}if(y=Ue)pn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dt(this,y);else{this.o=!1,this.s=3,st(12),Gt(this),yn(this);break e}}if(this.P){y=!0;let On;for(;!this.J&&this.C<ie.length;)if(On=vt(this,ie),On==V){_t==4&&(this.s=4,st(14),y=!1),pn(this.i,this.l,null,"[Incomplete Response]");break}else if(On==ye){this.s=4,st(15),pn(this.i,this.l,ie,"[Invalid Chunk]"),y=!1;break}else pn(this.i,this.l,On,null),dt(this,On);if(Ke(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||ie.length!=0||this.h.h||(this.s=1,st(16),y=!1),this.o=this.o&&y,!y)pn(this.i,this.l,ie,"[Invalid Chunked Response]"),Gt(this),yn(this);else if(0<ie.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Zo(Dt),Dt.M=!0,st(11))}}else pn(this.i,this.l,ie,null),dt(this,ie);_t==4&&Gt(this),this.o&&!this.J&&(_t==4?no(this.j,this):(this.o=!1,Ce(this)))}else Xs(this.g),y==400&&0<ie.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Gt(this),yn(this)}}}catch{}finally{}};function Ke(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function vt(l,d){var y=l.C,w=d.indexOf(`
`,y);return w==-1?V:(y=Number(d.substring(y,w)),isNaN(y)?ye:(w+=1,w+y>d.length?V:(d=d.slice(w,w+y),l.C=w+y,d)))}gn.prototype.cancel=function(){this.J=!0,Gt(this)};function Ce(l){l.S=Date.now()+l.I,St(l,l.I)}function St(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Nn(A(l.ba,l),d)}function bt(l){l.B&&(p.clearTimeout(l.B),l.B=null)}gn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(si(this.i,this.A),this.L!=2&&(Xn(),st(17)),Gt(this),this.s=2,yn(this)):St(this,this.S-l)};function yn(l){l.j.G==0||l.J||no(l.j,l)}function Gt(l){bt(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,nn(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function dt(l,d){try{var y=l.j;if(y.G!=0&&(y.g==l||rn(y.h,l))){if(!l.K&&rn(y.h,l)&&y.G==3){try{var w=y.Da.g.parse(d)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)to(y),gr(y);else break e;eo(y),st(18)}}else y.za=F[1],0<y.za-y.T&&37500>F[2]&&y.F&&y.v==0&&!y.C&&(y.C=Nn(A(y.Za,y),6e3));if(1>=sl(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else ci(y,11)}else if((l.K||y.g==l)&&to(y),!re(d))for(F=y.Da.g.parse(d),d=0;d<F.length;d++){let Ue=F[d];if(y.T=Ue[0],Ue=Ue[1],y.G==2)if(Ue[0]=="c"){y.K=Ue[1],y.ia=Ue[2];const Dt=Ue[3];Dt!=null&&(y.la=Dt,y.j.info("VER="+y.la));const _t=Ue[4];_t!=null&&(y.Aa=_t,y.j.info("SVER="+y.Aa));const Zn=Ue[5];Zn!=null&&typeof Zn=="number"&&0<Zn&&(w=1.5*Zn,y.L=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;const On=l.g;if(On){const Es=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Es){var q=w.h;q.g||Es.indexOf("spdy")==-1&&Es.indexOf("quic")==-1&&Es.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Go(q,q.h),q.h=null))}if(w.D){const io=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;io&&(w.ya=io,Ye(w.I,w.D,io))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),w=y;var ie=l;if(w.qa=vl(w,w.J?w.ia:null,w.W),ie.K){ol(w.h,ie);var Qe=ie,It=w.L;It&&(Qe.I=It),Qe.B&&(bt(Qe),Ce(Qe)),w.g=ie}else _s(w);0<y.i.length&&Or(y)}else Ue[0]!="stop"&&Ue[0]!="close"||ci(y,7);else y.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?ci(y,7):Ut(y):Ue[0]!="noop"&&y.l&&y.l.ta(Ue),y.v=0)}}Xn(4)}catch{}}var ps=class{constructor(l,d){this.g=l,this.map=d}};function Nr(l){this.l=l||10,p.PerformanceNavigationTiming?(l=p.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function sl(l){return l.h?1:l.g?l.g.size:0}function rn(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function Go(l,d){l.g?l.g.add(d):l.h=d}function ol(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}Nr.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function al(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const y of l.g.values())d=d.concat(y.D);return d}return $(l.i)}function qs(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var d=[],y=l.length,w=0;w<y;w++)d.push(l[w]);return d}d=[],y=0;for(w in l)d[y++]=l[w];return d}function Gs(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var d=[];l=l.length;for(var y=0;y<l;y++)d.push(y);return d}d=[],y=0;for(const w in l)d[y++]=w;return d}}}function xi(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var y=Gs(l),w=qs(l),F=w.length,q=0;q<F;q++)d.call(void 0,w[q],y&&y[q],l)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pc(l,d){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var w=l[y].indexOf("="),F=null;if(0<=w){var q=l[y].substring(0,w);F=l[y].substring(w+1)}else q=l[y];d(q,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function oi(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof oi){this.h=l.h,gs(this,l.j),this.o=l.o,this.g=l.g,ki(this,l.s),this.l=l.l;var d=l.i,y=new Dr;y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),Ni(this,y),this.m=l.m}else l&&(d=String(l).match(ms))?(this.h=!1,gs(this,d[1]||"",!0),this.o=be(d[2]||""),this.g=be(d[3]||"",!0),ki(this,d[4]),this.l=be(d[5]||"",!0),Ni(this,d[6]||"",!0),this.m=be(d[7]||"")):(this.h=!1,this.i=new Dr(null,this.h))}oi.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Vi(d,Ks,!0),":");var y=this.g;return(y||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Vi(d,Ks,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Vi(y,y.charAt(0)=="/"?cl:ul,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Vi(y,Ko)),l.join("")};function Vn(l){return new oi(l)}function gs(l,d,y){l.j=y?be(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function ki(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Ni(l,d,y){d instanceof Dr?(l.i=d,Vr(l.i,l.h)):(y||(d=Vi(d,hl)),l.i=new Dr(d,l.h))}function Ye(l,d,y){l.i.set(d,y)}function Di(l){return Ye(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function be(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Vi(l,d,y){return typeof l=="string"?(l=encodeURI(l).replace(d,ll),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function ll(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ks=/[#\/\?@]/g,ul=/[#\?:]/g,cl=/[#\?]/g,hl=/[#\?@]/g,Ko=/#/g;function Dr(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Ft(l){l.g||(l.g=new Map,l.h=0,l.i&&pc(l.i,function(d,y){l.add(decodeURIComponent(d.replace(/\+/g," ")),y)}))}i=Dr.prototype,i.add=function(l,d){Ft(this),this.i=null,l=Jn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(d),this.h+=1,this};function fr(l,d){Ft(l),d=Jn(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function dr(l,d){return Ft(l),d=Jn(l,d),l.g.has(d)}i.forEach=function(l,d){Ft(this),this.g.forEach(function(y,w){y.forEach(function(F){l.call(d,F,w,this)},this)},this)},i.na=function(){Ft(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),y=[];for(let w=0;w<d.length;w++){const F=l[w];for(let q=0;q<F.length;q++)y.push(d[w])}return y},i.V=function(l){Ft(this);let d=[];if(typeof l=="string")dr(this,l)&&(d=d.concat(this.g.get(Jn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)d=d.concat(l[y])}return d},i.set=function(l,d){return Ft(this),this.i=null,l=Jn(this,l),dr(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Li(l,d,y){fr(l,d),0<y.length&&(l.i=null,l.g.set(Jn(l,d),$(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var y=0;y<d.length;y++){var w=d[y];const q=encodeURIComponent(String(w)),ie=this.V(w);for(w=0;w<ie.length;w++){var F=q;ie[w]!==""&&(F+="="+encodeURIComponent(String(ie[w]))),l.push(F)}}return this.i=l.join("&")};function Jn(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Vr(l,d){d&&!l.j&&(Ft(l),l.i=null,l.g.forEach(function(y,w){var F=w.toLowerCase();w!=F&&(fr(this,w),Li(this,F,y))},l)),l.j=d}function mc(l,d){const y=new Nt;if(p.Image){const w=new Image;w.onload=M(vn,y,"TestLoadImage: loaded",!0,d,w),w.onerror=M(vn,y,"TestLoadImage: error",!1,d,w),w.onabort=M(vn,y,"TestLoadImage: abort",!1,d,w),w.ontimeout=M(vn,y,"TestLoadImage: timeout",!1,d,w),p.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else d(!1)}function fl(l,d){const y=new Nt,w=new AbortController,F=setTimeout(()=>{w.abort(),vn(y,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:w.signal}).then(q=>{clearTimeout(F),q.ok?vn(y,"TestPingServer: ok",!0,d):vn(y,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(F),vn(y,"TestPingServer: error",!1,d)})}function vn(l,d,y,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(y)}catch{}}function gc(){this.g=new ei}function dl(l,d,y){const w=y||"";try{xi(l,function(F,q){let ie=F;v(F)&&(ie=Qn(F)),d.push(w+q+"="+encodeURIComponent(ie))})}catch(F){throw d.push(w+"type="+encodeURIComponent("_badmap")),F}}function ai(l){this.l=l.Ub||null,this.j=l.eb||!1}W(ai,ti),ai.prototype.g=function(){return new ys(this.l,this.j)},ai.prototype.i=(function(l){return function(){return l}})({});function ys(l,d){Xe.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}W(ys,Xe),i=ys.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,mr(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||p).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,mr(this)),this.g&&(this.readyState=3,mr(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function pl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?pr(this):mr(this),this.readyState==3&&pl(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,pr(this))},i.Qa=function(l){this.g&&(this.response=l,pr(this))},i.ga=function(){this.g&&pr(this)};function pr(l){l.readyState=4,l.l=null,l.j=null,l.v=null,mr(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var y=d.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=d.next();return l.join(`\r
`)};function mr(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function li(l){let d="";return Ee(l,function(y,w){d+=w,d+=":",d+=y,d+=`\r
`}),d}function Oi(l,d,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=li(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):Ye(l,d,y))}function ot(l){Xe.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}W(ot,Xe);var yc=/^https?$/i,Qo=["POST","PUT"];i=ot.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mn.g(),this.v=this.o?cr(this.o):cr(mn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(q){vs(this,q);return}if(l=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)y.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const q of w.keys())y.set(q,w.get(q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),F=p.FormData&&l instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Qo,d,void 0))||w||F||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ie]of y)this.g.setRequestHeader(q,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(l),this.u=!1}catch(q){vs(this,q)}};function vs(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Qs(l),Ln(l)}function Qs(l){l.A||(l.A=!0,ft(l,"complete"),ft(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ft(this,"complete"),ft(this,"abort"),Ln(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ln(this,!0)),ot.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Yo(this):this.bb())},i.bb=function(){Yo(this)};function Yo(l){if(l.h&&typeof h<"u"&&(!l.v[1]||_n(l)!=4||l.Z()!=2)){if(l.u&&_n(l)==4)Ci(l.Ea,0,l);else if(ft(l,"readystatechange"),_n(l)==4){l.h=!1;try{const ie=l.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var y;if(!(y=d)){var w;if(w=ie===0){var F=String(l.D).match(ms)[1]||null;!F&&p.self&&p.self.location&&(F=p.self.location.protocol.slice(0,-1)),w=!yc.test(F?F.toLowerCase():"")}y=w}if(y)ft(l,"complete"),ft(l,"success");else{l.m=6;try{var q=2<_n(l)?l.g.statusText:""}catch{q=""}l.l=q+" ["+l.Z()+"]",Qs(l)}}finally{Ln(l)}}}}function Ln(l,d){if(l.g){Ys(l);const y=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ft(l,"ready");try{y.onreadystatechange=w}catch{}}}function Ys(l){l.I&&(p.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function _n(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),Zr(d)}};function Xo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Xs(l){const d={};l=(l.g&&2<=_n(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(re(l[w]))continue;var y=N(l[w]);const F=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=d[F]||[];d[F]=q,q.push(y)}D(d,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lr(l,d,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||d}function Jo(l){this.Aa=0,this.i=[],this.j=new Nt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lr("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lr("baseRetryDelayMs",5e3,l),this.cb=Lr("retryDelaySeedMs",1e4,l),this.Wa=Lr("forwardChannelMaxRetries",2,l),this.wa=Lr("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Nr(l&&l.concurrentRequestLimit),this.Da=new gc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Jo.prototype,i.la=8,i.G=1,i.connect=function(l,d,y,w){st(0),this.W=l,this.H=d||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.I=vl(this,null,this.W),Or(this)};function Ut(l){if(Js(l),l.G==3){var d=l.U++,y=Vn(l.I);if(Ye(y,"SID",l.K),Ye(y,"RID",d),Ye(y,"TYPE","terminate"),ui(l,y),d=new gn(l,l.j,d),d.L=2,d.v=Di(Vn(y)),y=!1,p.navigator&&p.navigator.sendBeacon)try{y=p.navigator.sendBeacon(d.v.toString(),"")}catch{}!y&&p.Image&&(new Image().src=d.v,y=!0),y||(d.g=_l(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ce(d)}yl(l)}function gr(l){l.g&&(Zo(l),l.g.cancel(),l.g=null)}function Js(l){gr(l),l.u&&(p.clearTimeout(l.u),l.u=null),to(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&p.clearTimeout(l.s),l.s=null)}function Or(l){if(!Dn(l.h)&&!l.s){l.s=!0;var d=l.Ga;We||le(),se||(We(),se=!0),we.add(d,l),l.B=0}}function vc(l,d){return sl(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Nn(A(l.Ga,l,d),gl(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const F=new gn(this,this.j,l);let q=this.o;if(this.S&&(q?(q=T(q),k(q,this.S)):q=this.S),this.m!==null||this.O||(F.H=q,q=null),this.P)e:{for(var d=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(d+=w,4096<d){d=y;break e}if(d===4096||y===this.i.length-1){d=y+1;break e}}d=1e3}else d=1e3;d=Mi(this,F,d),y=Vn(this.I),Ye(y,"RID",l),Ye(y,"CVER",22),this.D&&Ye(y,"X-HTTP-Session-Id",this.D),ui(this,y),q&&(this.O?d="headers="+encodeURIComponent(String(li(q)))+"&"+d:this.m&&Oi(y,this.m,q)),Go(this.h,F),this.Ua&&Ye(y,"TYPE","init"),this.P?(Ye(y,"$req",d),Ye(y,"SID","null"),F.T=!0,ee(F,y,null)):ee(F,y,d),this.G=2}}else this.G==3&&(l?Zs(this,l):this.i.length==0||Dn(this.h)||Zs(this))};function Zs(l,d){var y;d?y=d.l:y=l.U++;const w=Vn(l.I);Ye(w,"SID",l.K),Ye(w,"RID",y),Ye(w,"AID",l.T),ui(l,w),l.m&&l.o&&Oi(w,l.m,l.o),y=new gn(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Mi(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Go(l.h,y),ee(y,w,d)}function ui(l,d){l.H&&Ee(l.H,function(y,w){Ye(d,w,y)}),l.l&&xi({},function(y,w){Ye(d,w,y)})}function Mi(l,d,y){y=Math.min(l.i.length,y);var w=l.l?A(l.l.Na,l.l,l):null;e:{var F=l.i;let q=-1;for(;;){const ie=["count="+y];q==-1?0<y?(q=F[0].g,ie.push("ofs="+q)):q=0:ie.push("ofs="+q);let Qe=!0;for(let It=0;It<y;It++){let Ue=F[It].g;const Dt=F[It].map;if(Ue-=q,0>Ue)q=Math.max(0,F[It].g-100),Qe=!1;else try{dl(Dt,ie,"req"+Ue+"_")}catch{w&&w(Dt)}}if(Qe){w=ie.join("&");break e}}}return l=l.i.splice(0,y),d.D=l,w}function _s(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;We||le(),se||(We(),se=!0),we.add(d,l),l.v=0}}function eo(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Nn(A(l.Fa,l),gl(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,ml(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Nn(A(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),gr(this),ml(this))};function Zo(l){l.A!=null&&(p.clearTimeout(l.A),l.A=null)}function ml(l){l.g=new gn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Vn(l.qa);Ye(d,"RID","rpc"),Ye(d,"SID",l.K),Ye(d,"AID",l.T),Ye(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ye(d,"TO",l.ja),Ye(d,"TYPE","xmlhttp"),ui(l,d),l.m&&l.o&&Oi(d,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Di(Vn(d)),y.m=null,y.P=!0,he(y,l)}i.Za=function(){this.C!=null&&(this.C=null,gr(this),eo(this),st(19))};function to(l){l.C!=null&&(p.clearTimeout(l.C),l.C=null)}function no(l,d){var y=null;if(l.g==d){to(l),Zo(l),l.g=null;var w=2}else if(rn(l.h,d))y=d.D,ol(l.h,d),w=1;else return;if(l.G!=0){if(d.o)if(w==1){y=d.m?d.m.length:0,d=Date.now()-d.F;var F=l.B;w=fn(),ft(w,new ri(w,y)),Or(l)}else _s(l);else if(F=d.s,F==3||F==0&&0<d.X||!(w==1&&vc(l,d)||w==2&&eo(l)))switch(y&&0<y.length&&(d=l.h,d.i=d.i.concat(y)),F){case 1:ci(l,5);break;case 4:ci(l,10);break;case 3:ci(l,6);break;default:ci(l,2)}}}function gl(l,d){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*d}function ci(l,d){if(l.j.info("Error code "+d),d==2){var y=A(l.fb,l),w=l.Xa;const F=!w;w=new oi(w||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||gs(w,"https"),Di(w),F?mc(w.toString(),y):fl(w.toString(),y)}else st(2);l.G=0,l.l&&l.l.sa(d),yl(l),Js(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function yl(l){if(l.G=0,l.ka=[],l.l){const d=al(l.h);(d.length!=0||l.i.length!=0)&&(j(l.ka,d),j(l.ka,l.i),l.h.i.length=0,$(l.i),l.i.length=0),l.l.ra()}}function vl(l,d,y){var w=y instanceof oi?Vn(y):new oi(y);if(w.g!="")d&&(w.g=d+"."+w.g),ki(w,w.s);else{var F=p.location;w=F.protocol,d=d?d+"."+F.hostname:F.hostname,F=+F.port;var q=new oi(null);w&&gs(q,w),d&&(q.g=d),F&&ki(q,F),y&&(q.l=y),w=q}return y=l.D,d=l.ya,y&&d&&Ye(w,y,d),Ye(w,"VER",l.la),ui(l,w),w}function _l(l,d,y){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new ot(new ai({eb:y})):new ot(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ea(){}i=ea.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ro(){}ro.prototype.g=function(l,d){return new sn(l,d)};function sn(l,d){Xe.call(this),this.g=new Jo(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!re(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!re(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Mr(this)}W(sn,Xe),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Ut(this.g)},sn.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=Qn(l),l=y);d.i.push(new ps(d.Ya++,l)),d.G==3&&Or(d)},sn.prototype.N=function(){this.g.l=null,delete this.j,Ut(this.g),delete this.g,sn.aa.N.call(this)};function El(l){Wt.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const y in d){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}W(El,Wt);function wl(){Pi.call(this),this.status=1}W(wl,Pi);function Mr(l){this.g=l}W(Mr,ea),Mr.prototype.ua=function(){ft(this.g,"a")},Mr.prototype.ta=function(l){ft(this.g,new El(l))},Mr.prototype.sa=function(l){ft(this.g,new wl)},Mr.prototype.ra=function(){ft(this.g,"b")},ro.prototype.createWebChannel=ro.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,By=function(){return new ro},zy=function(){return fn()},jy=Yn,df={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qt.NO_ERROR=0,qt.TIMEOUT=8,qt.HTTP_ERROR=6,Iu=qt,ds.COMPLETE="complete",Uy=ds,hr.EventType=hn,hn.OPEN="a",hn.CLOSE="b",hn.ERROR="c",hn.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,Na=hr,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,Fy=ot}).apply(typeof gu<"u"?gu:typeof self<"u"?self:typeof window<"u"?window:{});const ng="@firebase/firestore",rg="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new Ny("@firebase/firestore");function Ro(){return Fs.logLevel}function ce(i,...e){if(Fs.logLevel<=ze.DEBUG){const n=e.map(Wf);Fs.debug(`Firestore (${Bo}): ${i}`,...n)}}function Ii(i,...e){if(Fs.logLevel<=ze.ERROR){const n=e.map(Wf);Fs.error(`Firestore (${Bo}): ${i}`,...n)}}function Vo(i,...e){if(Fs.logLevel<=ze.WARN){const n=e.map(Wf);Fs.warn(`Firestore (${Bo}): ${i}`,...n)}}function Wf(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Hy(i,s,n)}function Hy(i,e,n){let s=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ii(s),new Error(s)}function Ge(i,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,i||Hy(e,a,s)}function xe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends zo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class KT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class QT{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new wi,e.enqueueRetryable((()=>a(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await a(this.currentUser)}))},p=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new wi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new $y(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class YT{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XT{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new YT(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ig{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JT{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,DT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const a=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>a(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?a(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ig(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ig(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=ZT(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<n&&(s+=e.charAt(a[u]%62))}return s}}function Le(i,e){return i<e?-1:i>e?1:0}function pf(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const a=i.charAt(s),u=e.charAt(s);if(a!==u)return Qh(a)===Qh(u)?Le(a,u):Qh(a)?1:-1}return Le(i.length,e.length)}const eA=55296,tA=57343;function Qh(i){const e=i.charCodeAt(0);return e>=eA&&e<=tA}function Lo(i,e,n){return i.length===e.length&&i.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="__name__";class zr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ie(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return zr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const u=zr.compareSegments(e.get(a),n.get(a));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const s=zr.isNumericId(e),a=zr.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?zr.extractNumericId(e).compare(zr.extractNumericId(n)):pf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return es.fromString(e.substring(4,e.length-2))}}class nt extends zr{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const nA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends zr{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return nA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sg}static keyField(){return new Ht([sg])}static fromServerFormat(e){const n=[];let s="",a=0;const u=()=>{if(s.length===0)throw new ge(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<e.length;){const p=e[a];if(p==="\\"){if(a+1===e.length)throw new ge(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ge(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else p==="`"?(h=!h,a++):p!=="."||h?(s+=p,a++):(u(),a++)}if(u(),h)throw new ge(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(nt.fromString(e))}static fromName(e){return new Te(nt.fromString(e).popFirst(5))}static empty(){return new Te(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(i,e,n){if(!n)throw new ge(Y.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function rA(i,e,n,s){if(e===!0&&s===!0)throw new ge(Y.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function og(i){if(!Te.isDocumentKey(i))throw new ge(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ag(i){if(Te.isDocumentKey(i))throw new ge(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function qy(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Gf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ie(12329,{type:typeof i})}function Gr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ge(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gf(i);throw new ge(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Za(i,e){if(!qy(i))throw new ge(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(a&&typeof h!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ge(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=-62135596800,ug=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*ug);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lg)throw new ge(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ug}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Za(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Tt("string",rt._jsonSchemaVersion),seconds:Tt("number"),nanoseconds:Tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new rt(0,0))}static max(){return new Pe(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=-1;function iA(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Pe.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new rs(a,Te.empty(),e)}function sA(i){return new rs(i.readTime,i.key,Ha)}class rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new rs(Pe.min(),Te.empty(),Ha)}static max(){return new rs(Pe.max(),Te.empty(),Ha)}}function oA(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(i.documentKey,e.documentKey),n!==0?n:Le(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(i){if(i.code!==Y.FAILED_PRECONDITION||i.message!==aA)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,s)=>{n(e)}))}static reject(e){return new Q(((n,s)=>{s(e)}))}static waitFor(e){return new Q(((n,s)=>{let a=0,u=0,h=!1;e.forEach((p=>{++a,p.next((()=>{++u,h&&u===a&&n()}),(g=>s(g)))})),h=!0,u===a&&n()}))}static or(e){let n=Q.resolve(!1);for(const s of e)n=n.next((a=>a?Q.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,u)=>{s.push(n.call(this,a,u))})),this.waitFor(s)}static mapArray(e,n){return new Q(((s,a)=>{const u=e.length,h=new Array(u);let p=0;for(let g=0;g<u;g++){const v=g;n(e[v]).next((E=>{h[v]=E,++p,p===u&&s(h)}),(E=>a(E)))}}))}static doWhile(e,n){return new Q(((s,a)=>{const u=()=>{e()===!0?n().next((()=>{u()}),a):s()};u()}))}}function uA(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $o(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=-1;function Xu(i){return i==null}function bu(i){return i===0&&1/i==-1/0}function cA(i){return typeof i=="number"&&Number.isInteger(i)&&!bu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="";function hA(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=cg(e)),e=fA(i.get(n),e);return cg(e)}function fA(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const u=i.charAt(a);switch(u){case"\0":n+="";break;case Gy:n+="";break;default:n+=u}}return n}function cg(i){return i+Gy+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function us(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Ky(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yu(this.root,e,this.comparator,!0)}}class yu{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,s,a,u){this.key=e,this.value=n,this.color=s??Bt.RED,this.left=a??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,u){return new Bt(e??this.key,n??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,n,s),null):u===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Bt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,s,a,u){return this}insert(e,n,s){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fg(this.data.getIterator())}getIteratorFrom(e){return new fg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class fg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Un([])}unionWith(e){let n=new xt(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Qy("Invalid base64 string: "+u):u}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(a){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);return u})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const dA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const n=dA.exec(i);if(Ge(!!n,46558,{timestamp:i}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(i.seconds),nanos:yt(i.nanos)}}function yt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ss(i){return typeof i=="string"?$t.fromBase64String(i):$t.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="server_timestamp",Xy="__type__",Jy="__previous_value__",Zy="__local_write_time__";function Qf(i){return(i?.mapValue?.fields||{})[Xy]?.stringValue===Yy}function Ju(i){const e=i.mapValue.fields[Jy];return Qf(e)?Ju(e):e}function $a(i){const e=is(i.mapValue.fields[Zy].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n,s,a,u,h,p,g,v,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=E}}const Fu="(default)";class Wa{constructor(e,n){this.projectId=e,this.database=n||Fu}static empty(){return new Wa("","")}get isDefaultDatabase(){return this.database===Fu}isEqual(e){return e instanceof Wa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="__type__",mA="__max__",vu={mapValue:{}},tv="__vector__",Uu="value";function os(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Qf(i)?4:yA(i)?9007199254740991:gA(i)?10:11:Ie(28295,{value:i})}function Kr(i,e){if(i===e)return!0;const n=os(i);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return $a(i).isEqual($a(e));case 3:return(function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const h=is(a.timestampValue),p=is(u.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(a,u){return ss(a.bytesValue).isEqual(ss(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(a,u){return yt(a.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(a.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(i,e);case 2:return(function(a,u){if("integerValue"in a&&"integerValue"in u)return yt(a.integerValue)===yt(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const h=yt(a.doubleValue),p=yt(u.doubleValue);return h===p?bu(h)===bu(p):isNaN(h)&&isNaN(p)}return!1})(i,e);case 9:return Lo(i.arrayValue.values||[],e.arrayValue.values||[],Kr);case 10:case 11:return(function(a,u){const h=a.mapValue.fields||{},p=u.mapValue.fields||{};if(hg(h)!==hg(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Kr(h[g],p[g])))return!1;return!0})(i,e);default:return Ie(52216,{left:i})}}function qa(i,e){return(i.values||[]).find((n=>Kr(n,e)))!==void 0}function Oo(i,e){if(i===e)return 0;const n=os(i),s=os(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const p=yt(u.integerValue||u.doubleValue),g=yt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return dg(i.timestampValue,e.timestampValue);case 4:return dg($a(i),$a(e));case 5:return pf(i.stringValue,e.stringValue);case 6:return(function(u,h){const p=ss(u),g=ss(h);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const p=u.split("/"),g=h.split("/");for(let v=0;v<p.length&&v<g.length;v++){const E=Le(p[v],g[v]);if(E!==0)return E}return Le(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const p=Le(yt(u.latitude),yt(h.latitude));return p!==0?p:Le(yt(u.longitude),yt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return pg(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const p=u.fields||{},g=h.fields||{},v=p[Uu]?.arrayValue,E=g[Uu]?.arrayValue,S=Le(v?.values?.length||0,E?.values?.length||0);return S!==0?S:pg(v,E)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===vu.mapValue&&h===vu.mapValue)return 0;if(u===vu.mapValue)return 1;if(h===vu.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),v=h.fields||{},E=Object.keys(v);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const A=pf(g[S],E[S]);if(A!==0)return A;const M=Oo(p[g[S]],v[E[S]]);if(M!==0)return M}return Le(g.length,E.length)})(i.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function dg(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Le(i,e);const n=is(i),s=is(e),a=Le(n.seconds,s.seconds);return a!==0?a:Le(n.nanos,s.nanos)}function pg(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const u=Oo(n[a],s[a]);if(u)return u}return Le(n.length,s.length)}function Mo(i){return mf(i)}function mf(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=is(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ss(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Te.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",a=!0;for(const u of n.values||[])a?a=!1:s+=",",s+=mf(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",u=!0;for(const h of s)u?u=!1:a+=",",a+=`${h}:${mf(n.fields[h])}`;return a+"}"})(i.mapValue):Ie(61005,{value:i})}function Ru(i){switch(os(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ju(i);return e?16+Ru(e):16;case 5:return 2*i.stringValue.length;case 6:return ss(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,u)=>a+Ru(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let a=0;return us(s.fields,((u,h)=>{a+=u.length+Ru(h)})),a})(i.mapValue);default:throw Ie(13486,{value:i})}}function gf(i){return!!i&&"integerValue"in i}function Yf(i){return!!i&&"arrayValue"in i}function mg(i){return!!i&&"nullValue"in i}function gg(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Cu(i){return!!i&&"mapValue"in i}function gA(i){return(i?.mapValue?.fields||{})[ev]?.stringValue===tv}function Ma(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return us(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ma(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ma(i.arrayValue.values[n]);return e}return{...i}}function yA(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===mA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Cu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ma(n)}setAll(e){let n=Ht.emptyPath(),s={},a=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=p.popLast()}h?s[p.lastSegment()]=Ma(h):a.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,a)}delete(e){const n=this.field(e.popLast());Cu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Cu(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){us(n,((a,u)=>e[a]=u));for(const a of s)delete e[a]}clone(){return new Cn(Ma(this.value))}}function nv(i){const e=[];return us(i.fields,((n,s)=>{const a=new Ht([n]);if(Cu(s)){const u=nv(s.mapValue).fields;if(u.length===0)e.push(a);else for(const h of u)e.push(a.child(h))}else e.push(a)})),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,s,a,u,h,p){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new en(e,0,Pe.min(),Pe.min(),Pe.min(),Cn.empty(),0)}static newFoundDocument(e,n,s,a){return new en(e,1,n,Pe.min(),s,a,0)}static newNoDocument(e,n){return new en(e,2,n,Pe.min(),Pe.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Pe.min(),Pe.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n){this.position=e,this.inclusive=n}}function yg(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const u=e[a],h=i.position[a];if(u.field.isKeyField()?s=Te.comparator(Te.fromName(h.referenceValue),n.key):s=Oo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function vg(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Kr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n="asc"){this.field=e,this.dir=n}}function vA(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{}class Pt extends rv{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new EA(e,n,s):n==="array-contains"?new AA(e,s):n==="in"?new SA(e,s):n==="not-in"?new IA(e,s):n==="array-contains-any"?new RA(e,s):new Pt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new wA(e,s):new TA(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Oo(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(Oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qr extends rv{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qr(e,n)}matches(e){return iv(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iv(i){return i.op==="and"}function sv(i){return _A(i)&&iv(i)}function _A(i){for(const e of i.filters)if(e instanceof Qr)return!1;return!0}function yf(i){if(i instanceof Pt)return i.field.canonicalString()+i.op.toString()+Mo(i.value);if(sv(i))return i.filters.map((e=>yf(e))).join(",");{const e=i.filters.map((n=>yf(n))).join(",");return`${i.op}(${e})`}}function ov(i,e){return i instanceof Pt?(function(s,a){return a instanceof Pt&&s.op===a.op&&s.field.isEqual(a.field)&&Kr(s.value,a.value)})(i,e):i instanceof Qr?(function(s,a){return a instanceof Qr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((u,h,p)=>u&&ov(h,a.filters[p])),!0):!1})(i,e):void Ie(19439)}function av(i){return i instanceof Pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Mo(n.value)}`})(i):i instanceof Qr?(function(n){return n.op.toString()+" {"+n.getFilters().map(av).join(" ,")+"}"})(i):"Filter"}class EA extends Pt{constructor(e,n,s){super(e,n,s),this.key=Te.fromName(s.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class wA extends Pt{constructor(e,n){super(e,"in",n),this.keys=lv("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class TA extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=lv("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function lv(i,e){return(e.arrayValue?.values||[]).map((n=>Te.fromName(n.referenceValue)))}class AA extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yf(n)&&qa(n.arrayValue,this.value)}}class SA extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qa(this.value.arrayValue,n)}}class IA extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qa(this.value.arrayValue,n)}}class RA extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>qa(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n=null,s=[],a=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=h,this.endAt=p,this.Te=null}}function _g(i,e=null,n=[],s=[],a=null,u=null,h=null){return new CA(i,e,n,s,a,u,h)}function Xf(i){const e=xe(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>yf(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Xu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Mo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Mo(s))).join(",")),e.Te=n}return e.Te}function Jf(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!vA(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!ov(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!vg(i.startAt,e.startAt)&&vg(i.endAt,e.endAt)}function vf(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n=null,s=[],a=[],u=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PA(i,e,n,s,a,u,h,p){return new Zu(i,e,n,s,a,u,h,p)}function Zf(i){return new Zu(i)}function Eg(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function xA(i){return i.collectionGroup!==null}function ba(i){const e=xe(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new xt(Ht.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new zu(u,s))})),n.has(Ht.keyField().canonicalString())||e.Ie.push(new zu(Ht.keyField(),s))}return e.Ie}function Br(i){const e=xe(i);return e.Ee||(e.Ee=kA(e,ba(i))),e.Ee}function kA(i,e){if(i.limitType==="F")return _g(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((a=>{const u=a.dir==="desc"?"asc":"desc";return new zu(a.field,u)}));const n=i.endAt?new ju(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ju(i.startAt.position,i.startAt.inclusive):null;return _g(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function _f(i,e,n){return new Zu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function ec(i,e){return Jf(Br(i),Br(e))&&i.limitType===e.limitType}function uv(i){return`${Xf(Br(i))}|lt:${i.limitType}`}function Co(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>av(a))).join(", ")}]`),Xu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Mo(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Mo(a))).join(",")),`Target(${s})`})(Br(i))}; limitType=${i.limitType})`}function tc(i,e){return e.isFoundDocument()&&(function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Te.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,a){for(const u of ba(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0})(i,e)&&(function(s,a){return!(s.startAt&&!(function(h,p,g){const v=yg(h,p,g);return h.inclusive?v<=0:v<0})(s.startAt,ba(s),a)||s.endAt&&!(function(h,p,g){const v=yg(h,p,g);return h.inclusive?v>=0:v>0})(s.endAt,ba(s),a))})(i,e)}function NA(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function cv(i){return(e,n)=>{let s=!1;for(const a of ba(i)){const u=DA(a,e,n);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function DA(i,e,n){const s=i.field.isKeyField()?Te.comparator(e.key,n.key):(function(u,h,p){const g=h.data.field(u),v=p.data.field(u);return g!==null&&v!==null?Oo(g,v):Ie(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ie(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,((n,s)=>{for(const[a,u]of s)e(a,u)}))}isEmpty(){return Ky(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=new ht(Te.comparator);function Ri(){return VA}const hv=new ht(Te.comparator);function Da(...i){let e=hv;for(const n of i)e=e.insert(n.key,n);return e}function fv(i){let e=hv;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ms(){return Fa()}function dv(){return Fa()}function Fa(){return new Bs((i=>i.toString()),((i,e)=>i.isEqual(e)))}const LA=new ht(Te.comparator),OA=new xt(Te.comparator);function Oe(...i){let e=OA;for(const n of i)e=e.add(n);return e}const MA=new xt(Le);function bA(){return MA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bu(e)?"-0":e}}function pv(i){return{integerValue:""+i}}function mv(i,e){return cA(e)?pv(e):ed(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this._=void 0}}function FA(i,e,n){return i instanceof Bu?(function(a,u){const h={fields:{[Xy]:{stringValue:Yy},[Zy]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&Qf(u)&&(u=Ju(u)),u&&(h.fields[Jy]=u),{mapValue:h}})(n,e):i instanceof Ga?yv(i,e):i instanceof Ka?vv(i,e):(function(a,u){const h=gv(a,u),p=wg(h)+wg(a.Ae);return gf(h)&&gf(a.Ae)?pv(p):ed(a.serializer,p)})(i,e)}function UA(i,e,n){return i instanceof Ga?yv(i,e):i instanceof Ka?vv(i,e):n}function gv(i,e){return i instanceof Qa?(function(s){return gf(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Bu extends nc{}class Ga extends nc{constructor(e){super(),this.elements=e}}function yv(i,e){const n=_v(e);for(const s of i.elements)n.some((a=>Kr(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Ka extends nc{constructor(e){super(),this.elements=e}}function vv(i,e){let n=_v(e);for(const s of i.elements)n=n.filter((a=>!Kr(a,s)));return{arrayValue:{values:n}}}class Qa extends nc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function wg(i){return yt(i.integerValue||i.doubleValue)}function _v(i){return Yf(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n){this.field=e,this.transform=n}}function zA(i,e){return i.field.isEqual(e.field)&&(function(s,a){return s instanceof Ga&&a instanceof Ga||s instanceof Ka&&a instanceof Ka?Lo(s.elements,a.elements,Kr):s instanceof Qa&&a instanceof Qa?Kr(s.Ae,a.Ae):s instanceof Bu&&a instanceof Bu})(i.transform,e.transform)}class BA{constructor(e,n){this.version=e,this.transformResults=n}}class Sr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Sr}static exists(e){return new Sr(void 0,e)}static updateTime(e){return new Sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class rc{}function Ev(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Tv(i.key,Sr.none()):new el(i.key,i.data,Sr.none());{const n=i.data,s=Cn.empty();let a=new xt(Ht.comparator);for(let u of e.fields)if(!a.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),a=a.add(u)}return new cs(i.key,s,new Un(a.toArray()),Sr.none())}}function HA(i,e,n){i instanceof el?(function(a,u,h){const p=a.value.clone(),g=Ag(a.fieldTransforms,u,h.transformResults);p.setAll(g),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):i instanceof cs?(function(a,u,h){if(!Pu(a.precondition,u))return void u.convertToUnknownDocument(h.version);const p=Ag(a.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(wv(a)),g.setAll(p),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,n):(function(a,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Ua(i,e,n,s){return i instanceof el?(function(u,h,p,g){if(!Pu(u.precondition,h))return p;const v=u.value.clone(),E=Sg(u.fieldTransforms,g,h);return v.setAll(E),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(i,e,n,s):i instanceof cs?(function(u,h,p,g){if(!Pu(u.precondition,h))return p;const v=Sg(u.fieldTransforms,g,h),E=h.data;return E.setAll(wv(u)),E.setAll(v),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(i,e,n,s):(function(u,h,p){return Pu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(i,e,n)}function $A(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),u=gv(s.transform,a||null);u!=null&&(n===null&&(n=Cn.empty()),n.set(s.field,u))}return n||null}function Tg(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Lo(s,a,((u,h)=>zA(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class el extends rc{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class cs extends rc{constructor(e,n,s,a,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function wv(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function Ag(i,e,n){const s=new Map;Ge(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let a=0;a<n.length;a++){const u=i[a],h=u.transform,p=e.data.field(u.field);s.set(u.field,UA(h,p,n[a]))}return s}function Sg(i,e,n){const s=new Map;for(const a of i){const u=a.transform,h=n.data.field(a.field);s.set(a.field,FA(u,h,e))}return s}class Tv extends rc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WA extends rc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&HA(u,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ua(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ua(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=dv();return this.mutations.forEach((a=>{const u=e.get(a.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=n.has(a.key)?null:p;const g=Ev(h,p);g!==null&&s.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(Pe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Oe())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,((n,s)=>Tg(n,s)))&&Lo(this.baseMutations,e.baseMutations,((n,s)=>Tg(n,s)))}}class td{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return LA})();const u=e.mutations;for(let h=0;h<u.length;h++)a=a.insert(u[h].key,s[h].version);return new td(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,je;function QA(i){switch(i){case Y.OK:return Ie(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Ie(15467,{code:i})}}function Av(i){if(i===void 0)return Ii("GRPC error has no .code"),Y.UNKNOWN;switch(i){case wt.OK:return Y.OK;case wt.CANCELLED:return Y.CANCELLED;case wt.UNKNOWN:return Y.UNKNOWN;case wt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case wt.INTERNAL:return Y.INTERNAL;case wt.UNAVAILABLE:return Y.UNAVAILABLE;case wt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case wt.NOT_FOUND:return Y.NOT_FOUND;case wt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case wt.ABORTED:return Y.ABORTED;case wt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case wt.DATA_LOSS:return Y.DATA_LOSS;default:return Ie(39323,{code:i})}}(je=wt||(wt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=new es([4294967295,4294967295],0);function Ig(i){const e=YA().encode(i),n=new by;return n.update(e),new Uint8Array(n.digest())}function Rg(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new es([n,s],0),new es([a,u],0)]}class nd{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Va(`Invalid padding: ${n}`);if(s<0)throw new Va(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Va(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Va(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=es.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(es.fromNumber(s)));return a.compare(XA)===1&&(a=new es([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Ig(e),[s,a]=Rg(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,a,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new nd(u,a,n);return s.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=Ig(e),[s,a]=Rg(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,a,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Va extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n,s,a,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,tl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ic(Pe.min(),a,new ht(Le),Ri(),Oe())}}class tl{constructor(e,n,s,a,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new tl(s,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class Sv{constructor(e,n){this.targetId=e,this.Ce=n}}class Iv{constructor(e,n,s=$t.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Cg{constructor(){this.ve=0,this.Fe=Pg(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Oe(),n=Oe(),s=Oe();return this.Fe.forEach(((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ie(38017,{changeType:u})}})),new tl(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Pg()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ri(),this.Je=_u(),this.He=_u(),this.Ye=new ht(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const u=a.target;if(vf(u))if(s===0){const h=new Te(u.path);this.et(n,h,en.newNoDocument(h,Pe.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,v)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=n;let h,p;try{h=ss(s).toUint8Array()}catch(g){if(g instanceof Qy)return Vo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new nd(h,a,u)}catch(g){return Vo(g instanceof Va?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((u=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const p=this.ot(h);if(p){if(u.current&&vf(p.target)){const g=new Te(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,en.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Oe();this.He.forEach(((u,h)=>{let p=!0;h.forEachWhile((g=>{const v=this.ot(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const a=new ic(e,n,this.Ye,this.je,s);return this.je=Ri(),this.Je=_u(),this.He=_u(),this.Ye=new ht(Le),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Cg,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new xt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new xt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Cg),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _u(){return new ht(Te.comparator)}function Pg(){return new ht(Te.comparator)}const ZA={asc:"ASCENDING",desc:"DESCENDING"},eS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tS={and:"AND",or:"OR"};class nS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ef(i,e){return i.useProto3Json||Xu(e)?e:{value:e}}function Hu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rv(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function rS(i,e){return Hu(i,e.toTimestamp())}function Hr(i){return Ge(!!i,49232),Pe.fromTimestamp((function(n){const s=is(n);return new rt(s.seconds,s.nanos)})(i))}function rd(i,e){return wf(i,e).canonicalString()}function wf(i,e){const n=(function(a){return new nt(["projects",a.projectId,"databases",a.database])})(i).child("documents");return e===void 0?n:n.child(e)}function Cv(i){const e=nt.fromString(i);return Ge(Dv(e),10190,{key:e.toString()}),e}function Tf(i,e){return rd(i.databaseId,e.path)}function Yh(i,e){const n=Cv(e);if(n.get(1)!==i.databaseId.projectId)throw new ge(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ge(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Te(xv(n))}function Pv(i,e){return rd(i.databaseId,e)}function iS(i){const e=Cv(i);return e.length===4?nt.emptyPath():xv(e)}function Af(i){return new nt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function xv(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function xg(i,e,n){return{name:Tf(i,e),fields:n.value.mapValue.fields}}function sS(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ie(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=(function(v,E){return v.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),$t.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),$t.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(v){const E=v.code===void 0?Y.UNKNOWN:Av(v.code);return new ge(E,v.message||"")})(h);n=new Iv(s,a,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Yh(i,s.document.name),u=Hr(s.document.updateTime),h=s.document.createTime?Hr(s.document.createTime):Pe.min(),p=new Cn({mapValue:{fields:s.document.fields}}),g=en.newFoundDocument(a,u,h,p),v=s.targetIds||[],E=s.removedTargetIds||[];n=new xu(v,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Yh(i,s.document),u=s.readTime?Hr(s.readTime):Pe.min(),h=en.newNoDocument(a,u),p=s.removedTargetIds||[];n=new xu([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Yh(i,s.document),u=s.removedTargetIds||[];n=new xu([],u,a,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,h=new KA(a,u),p=s.targetId;n=new Sv(p,h)}}return n}function oS(i,e){let n;if(e instanceof el)n={update:xg(i,e.key,e.value)};else if(e instanceof Tv)n={delete:Tf(i,e.key)};else if(e instanceof cs)n={update:xg(i,e.key,e.data),updateMask:mS(e.fieldMask)};else{if(!(e instanceof WA))return Ie(16599,{Vt:e.type});n={verify:Tf(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const p=h.transform;if(p instanceof Bu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ga)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ka)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Qa)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw Ie(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,u){return u.updateTime!==void 0?{updateTime:rS(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ie(27497)})(i,e.precondition)),n}function aS(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map((n=>(function(a,u){let h=a.updateTime?Hr(a.updateTime):Hr(u);return h.isEqual(Pe.min())&&(h=Hr(u)),new BA(h,a.transformResults||[])})(n,e)))):[]}function lS(i,e){return{documents:[Pv(i,e.path)]}}function uS(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Pv(i,a);const u=(function(v){if(v.length!==0)return Nv(Qr.create(v,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(v){if(v.length!==0)return v.map((E=>(function(A){return{field:Po(A.field),direction:fS(A.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=Ef(i,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:n,parent:a}}function cS(i){let e=iS(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ge(s===1,65062);const E=n.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const A=kv(S);return A instanceof Qr&&sv(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(S){return S.map((A=>(function(W){return new zu(xo(W.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(A)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let A;return A=typeof S=="object"?S.value:S,Xu(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(S){const A=!!S.before,M=S.values||[];return new ju(M,A)})(n.startAt));let v=null;return n.endAt&&(v=(function(S){const A=!S.before,M=S.values||[];return new ju(M,A)})(n.endAt)),PA(e,a,h,u,p,"F",g,v)}function hS(i,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kv(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=xo(n.unaryFilter.field);return Pt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=xo(n.unaryFilter.field);return Pt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=xo(n.unaryFilter.field);return Pt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=xo(n.unaryFilter.field);return Pt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Pt.create(xo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Qr.create(n.compositeFilter.filters.map((s=>kv(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(i):Ie(30097,{filter:i})}function fS(i){return ZA[i]}function dS(i){return eS[i]}function pS(i){return tS[i]}function Po(i){return{fieldPath:i.canonicalString()}}function xo(i){return Ht.fromServerFormat(i.fieldPath)}function Nv(i){return i instanceof Pt?(function(n){if(n.op==="=="){if(gg(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NAN"}};if(mg(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gg(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NAN"}};if(mg(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(n.field),op:dS(n.op),value:n.value}}})(i):i instanceof Qr?(function(n){const s=n.getFilters().map((a=>Nv(a)));return s.length===1?s[0]:{compositeFilter:{op:pS(n.op),filters:s}}})(i):Ie(54877,{filter:i})}function mS(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Dv(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,s,a,u=Pe.min(),h=Pe.min(),p=$t.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.yt=e}}function yS(i){const e=cS({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?_f(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.Cn=new _S}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(rs.min())}updateCollectionGroup(e,n,s){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class _S{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new xt(nt.comparator),u=!a.has(s);return this.index[n]=a.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new xt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vv=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(Vv,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bo(0)}static cr(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="LruGarbageCollector",ES=1048576;function Dg([i,e],[n,s]){const a=Le(i,n);return a===0?Le(e,s):a}class wS{constructor(e){this.Ir=e,this.buffer=new xt(Dg),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Dg(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TS{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(Ng,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$o(n)?ce(Ng,"Ignoring IndexedDB error during garbage collection: ",n):await Ho(n)}await this.Vr(3e5)}))}}class AS{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Yu.ce);const s=new wS(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(kg)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kg):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,u,h,p,g,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),a=this.params.maximumSequenceNumbersToCollect):a=S,h=Date.now(),this.nthSequenceNumber(e,a)))).next((S=>(s=S,p=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(v=Date.now(),Ro()<=ze.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${a} in `+(p-h)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(v-g)+`ms
Total Duration: ${v-E}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:S}))))}}function SS(i,e){return new AS(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.changes=new Bs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Q.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Ua(s.mutation,a,Un.empty(),rt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Oe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Oe()){const a=Ms();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((u=>{let h=Da();return u.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=Ms();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Oe())))}populateOverlays(e,n,s){const a=[];return s.forEach((u=>{n.has(u)||a.push(u)})),this.documentOverlayCache.getOverlays(e,a).next((u=>{u.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,s,a){let u=Ri();const h=Fa(),p=(function(){return Fa()})();return n.forEach(((g,v)=>{const E=s.get(v.key);a.has(v.key)&&(E===void 0||E.mutation instanceof cs)?u=u.insert(v.key,v):E!==void 0?(h.set(v.key,E.mutation.getFieldMask()),Ua(E.mutation,v,E.mutation.getFieldMask(),rt.now())):h.set(v.key,Un.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((v,E)=>h.set(v,E))),n.forEach(((v,E)=>p.set(v,new RS(E,h.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=Fa();let a=new ht(((h,p)=>h-p)),u=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const v=n.get(g);if(v===null)return;let E=s.get(g)||Un.empty();E=p.applyToLocalView(v,E),s.set(g,E);const S=(a.get(p.batchId)||Oe()).add(g);a=a.insert(p.batchId,S)}))})).next((()=>{const h=[],p=a.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),v=g.key,E=g.value,S=dv();E.forEach((A=>{if(!u.has(A)){const M=Ev(n.get(A),s.get(A));M!==null&&S.set(A,M),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,S))}return Q.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(h){return Te.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-u.size):Q.resolve(Ms());let p=Ha,g=u;return h.next((v=>Q.forEach(v,((E,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(E)?Q.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{g=g.insert(E,A)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,g,v,Oe()))).next((E=>({batchId:p,changes:fv(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((s=>{let a=Da();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const u=n.collectionGroup;let h=Da();return this.indexManager.getCollectionParents(e,u).next((p=>Q.forEach(p,(g=>{const v=(function(S,A){return new Zu(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next((E=>{E.forEach(((S,A)=>{h=h.insert(S,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,a)))).next((h=>{u.forEach(((g,v)=>{const E=v.getKey();h.get(E)===null&&(h=h.insert(E,en.newInvalidDocument(E)))}));let p=Da();return h.forEach(((g,v)=>{const E=u.get(g);E!==void 0&&Ua(E.mutation,v,Un.empty(),rt.now()),tc(n,v)&&(p=p.insert(g,v))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Hr(a.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:yS(a.bundledQuery),readTime:Hr(a.readTime)}})(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.overlays=new ht(Te.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ms();return Q.forEach(n,(a=>this.getOverlay(e,a).next((u=>{u!==null&&s.set(a,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,u)=>{this.St(e,n,u)})),Q.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),Q.resolve()}getOverlaysForCollection(e,n,s){const a=Ms(),u=n.length+1,h=new Te(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,v=g.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>s&&a.set(g.getKey(),g)}return Q.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let u=new ht(((v,E)=>v-E));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let E=u.get(v.largestBatchId);E===null&&(E=Ms(),u=u.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const p=Ms(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,E)=>p.set(v,E))),!(p.size()>=a)););return Q.resolve(p)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new GA(n,s));let u=this.qr.get(n);u===void 0&&(u=Oe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this.Qr=new xt(Mt.$r),this.Ur=new xt(Mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Mt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Mt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Te(new nt([])),s=new Mt(n,e),a=new Mt(n,e+1),u=[];return this.Ur.forEachInRange([s,a],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new nt([])),s=new Mt(n,e),a=new Mt(n,e+1);let u=Oe();return this.Ur.forEachInRange([s,a],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Mt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Mt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xt(Mt.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new qA(u,n,s,a);this.mutationQueue.push(h);for(const p of a)this.Zr=this.Zr.add(new Mt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Q.resolve(h)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),u=a<0?0:a;return Q.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Kf:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Mt(n,0),a=new Mt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,a],(h=>{const p=this.Xr(h.Yr);u.push(p)})),Q.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new xt(Le);return n.forEach((a=>{const u=new Mt(a,0),h=new Mt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(p=>{s=s.add(p.Yr)}))})),Q.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let u=s;Te.isDocumentKey(u)||(u=u.child(""));const h=new Mt(new Te(u),0);let p=new xt(Le);return this.Zr.forEachWhile((g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(p=p.add(g.Yr)),!0)}),h),Q.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Q.forEach(n.mutations,(a=>{const u=new Mt(a.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Mt(n,0),a=this.Zr.firstAfterOrEqual(s);return Q.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.ri=e,this.docs=(function(){return new ht(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),u=a?a.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Q.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=Ri();return n.forEach((a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():en.newInvalidDocument(a))})),Q.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let u=Ri();const h=n.path,p=new Te(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:v,value:{document:E}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||oA(sA(E),s)<=0||(a.has(E.key)||tc(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Q.resolve(u)}getAllFromCollectionGroup(e,n,s,a){Ie(9500)}ii(e,n){return Q.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new VS(this)}getSize(e){return Q.resolve(this.size)}}class VS extends IS{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.persistence=e,this.si=new Bs((n=>Xf(n)),Jf),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new id,this.targetCount=0,this.ai=bo.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,s){let a=0;const u=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),a++)})),Q.waitFor(u).next((()=>a))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return Q.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),Q.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,u=[];return a&&n.forEach((h=>{u.push(a.markPotentiallyOrphaned(e,h))})),Q.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return Q.resolve(s)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n){this.ui={},this.overlays={},this.ci=new Yu(0),this.li=!1,this.li=!0,this.hi=new kS,this.referenceDelegate=e(this),this.Pi=new LS(this),this.indexManager=new vS,this.remoteDocumentCache=(function(a){return new DS(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new gS(n),this.Ii=new PS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new NS(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const a=new OS(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((u=>this.referenceDelegate.di(a).next((()=>u)))).toPromise().then((u=>(a.raiseOnCommittedEvent(),u)))}Ai(e,n){return Q.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class OS extends lA{constructor(e){super(),this.currentSequenceNumber=e}}class sd{constructor(e){this.persistence=e,this.Ri=new id,this.Vi=null}static mi(e){return new sd(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),Q.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(s=>{const a=Te.fromPath(s);return this.gi(e,a).next((u=>{u||n.removeEntry(a,Pe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class $u{constructor(e,n){this.persistence=e,this.pi=new Bs((s=>hA(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=SS(this,n)}static mi(e,n){return new $u(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((s,a)=>this.br(e,s,a).next((u=>u?Q.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.ii(e,(h=>this.br(e,h,n).next((p=>{p||(s++,u.removeEntry(h,Pe.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ru(e.data.value)),n}br(e,n,s){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return Q.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Oe(),a=Oe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new od(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return x0()?8:uA(C0())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,a,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new MS;return this.Ss(e,n,h).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,h,p.size)}))})).next((()=>u.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Ro()<=ze.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(Ro()<=ze.DEBUG&&ce("QueryEngine","Query:",Co(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Ro()<=ze.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(n))):Q.resolve())}ys(e,n){if(Eg(n))return Q.resolve(null);let s=Br(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=_f(n,null,"F"),s=Br(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Oe(...u);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const v=this.Ds(n,p);return this.Cs(n,v,h,g.readTime)?this.ys(e,_f(n,null,"F")):this.vs(e,v,n,g)}))))})))))}ws(e,n,s,a){return Eg(n)||a.isEqual(Pe.min())?Q.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,a)?Q.resolve(null):(Ro()<=ze.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Co(n)),this.vs(e,h,n,iA(a,Ha)).next((p=>p)))}))}Ds(e,n){let s=new xt(cv(e));return n.forEach(((a,u)=>{tc(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Ss(e,n,s){return Ro()<=ze.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Co(n)),this.ps.getDocumentsMatchingQuery(e,n,rs.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="LocalStore",FS=3e8;class US{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new ht(Le),this.xs=new Bs((u=>Xf(u)),Jf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function jS(i,e,n,s){return new US(i,e,n,s)}async function Ov(i,e){const n=xe(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((u=>(a=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],p=[];let g=Oe();for(const v of a){h.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}for(const v of u){p.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((v=>({Ls:v,removedBatchIds:h,addedBatchIds:p})))}))}))}function zS(i,e){const n=xe(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,v,E){const S=v.batch,A=S.keys();let M=Q.resolve();return A.forEach((W=>{M=M.next((()=>E.getEntry(g,W))).next(($=>{const j=v.docVersions.get(W);Ge(j!==null,48541),$.version.compareTo(j)<0&&(S.applyToRemoteDocument($,v),$.isValidDocument()&&($.setReadTime(v.commitVersion),E.addEntry($)))}))})),M.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Oe();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(g=g.add(p.batch.mutations[v].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function Mv(i){const e=xe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function BS(i,e){const n=xe(i),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const p=[];e.targetChanges.forEach(((E,S)=>{const A=a.get(S);if(!A)return;p.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S))));let M=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?M=M.withResumeToken($t.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),a=a.insert(S,M),(function($,j,G){return $.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=FS?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(A,M,E)&&p.push(n.Pi.updateTargetData(u,M))}));let g=Ri(),v=Oe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(HS(u,h,e.documentUpdates).next((E=>{g=E.ks,v=E.qs}))),!s.isEqual(Pe.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(E)}return Q.waitFor(p).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,v))).next((()=>g))})).then((u=>(n.Ms=a,u)))}function HS(i,e,n){let s=Oe(),a=Oe();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Ri();return n.forEach(((p,g)=>{const v=u.get(p);g.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(p)),g.isNoDocument()&&g.version.isEqual(Pe.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):ce(ad,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",g.version)})),{ks:h,qs:a}}))}function $S(i,e){const n=xe(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Kf),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function WS(i,e){const n=xe(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((u=>u?(a=u,Q.resolve(a)):n.Pi.allocateTargetId(s).next((h=>(a=new Xi(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Sf(i,e,n){const s=xe(i),a=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!$o(h))throw h;ce(ad,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function Vg(i,e,n){const s=xe(i);let a=Pe.min(),u=Oe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,v,E){const S=xe(g),A=S.xs.get(E);return A!==void 0?Q.resolve(S.Ms.get(A)):S.Pi.getTargetData(v,E)})(s,h,Br(e)).next((p=>{if(p)return a=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,p.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?a:Pe.min(),n?u:Oe()))).next((p=>(qS(s,NA(e),p),{documents:p,Qs:u})))))}function qS(i,e,n){let s=i.Os.get(e)||Pe.min();n.forEach(((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class Lg{constructor(){this.activeTargetIds=bA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GS{constructor(){this.Mo=new Lg,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Lg,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="ConnectivityMonitor";class Mg{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(Og,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(Og,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eu=null;function If(){return Eu===null?Eu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Eu++,"0x"+Eu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="RestConnection",QS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Fu?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,u){const h=If(),p=this.zo(e,n.toUriEncodedString());ce(Xh,`Sending RPC '${e}' ${h}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,a,u);const{host:v}=new URL(p),E=Hf(v);return this.Jo(e,p,g,s,E).then((S=>(ce(Xh,`Received RPC '${e}' ${h}: `,S),S)),(S=>{throw Vo(Xh,`RPC '${e}' ${h} failed with error: `,S,"url: ",p,"request:",s),S}))}Ho(e,n,s,a,u,h){return this.Go(e,n,s,a,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,u)=>e[u]=a)),s&&s.headers.forEach(((a,u)=>e[u]=a))}zo(e,n){const s=QS[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class JS extends YS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,u){const h=If();return new Promise(((p,g)=>{const v=new Fy;v.setWithCredentials(!0),v.listenOnce(Uy.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Iu.NO_ERROR:const S=v.getResponseJson();ce(Jt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),p(S);break;case Iu.TIMEOUT:ce(Jt,`RPC '${e}' ${h} timed out`),g(new ge(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Iu.HTTP_ERROR:const A=v.getStatus();if(ce(Jt,`RPC '${e}' ${h} failed with status:`,A,"response text:",v.getResponseText()),A>0){let M=v.getResponseJson();Array.isArray(M)&&(M=M[0]);const W=M?.error;if(W&&W.status&&W.message){const $=(function(G){const re=G.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(re)>=0?re:Y.UNKNOWN})(W.status);g(new ge($,W.message))}else g(new ge(Y.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new ge(Y.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ce(Jt,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(a);ce(Jt,`RPC '${e}' ${h} sending request:`,a),v.send(n,"POST",E,s,15)}))}T_(e,n,s){const a=If(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=By(),p=zy(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ce(Jt,`Creating RPC '${e}' stream ${a}: ${E}`,g);const S=h.createWebChannel(E,g);this.I_(S);let A=!1,M=!1;const W=new XS({Yo:j=>{M?ce(Jt,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(A||(ce(Jt,`Opening RPC '${e}' stream ${a} transport.`),S.open(),A=!0),ce(Jt,`RPC '${e}' stream ${a} sending:`,j),S.send(j))},Zo:()=>S.close()}),$=(j,G,re)=>{j.listen(G,(J=>{try{re(J)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return $(S,Na.EventType.OPEN,(()=>{M||(ce(Jt,`RPC '${e}' stream ${a} transport opened.`),W.o_())})),$(S,Na.EventType.CLOSE,(()=>{M||(M=!0,ce(Jt,`RPC '${e}' stream ${a} transport closed`),W.a_(),this.E_(S))})),$(S,Na.EventType.ERROR,(j=>{M||(M=!0,Vo(Jt,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),W.a_(new ge(Y.UNAVAILABLE,"The operation could not be completed")))})),$(S,Na.EventType.MESSAGE,(j=>{if(!M){const G=j.data[0];Ge(!!G,16349);const re=G,J=re?.error||re[0]?.error;if(J){ce(Jt,`RPC '${e}' stream ${a} received error:`,J);const ae=J.status;let de=(function(T){const R=wt[T];if(R!==void 0)return Av(R)})(ae),Ee=J.message;de===void 0&&(de=Y.INTERNAL,Ee="Unknown error status: "+ae+" with message "+J.message),M=!0,W.a_(new ge(de,Ee)),S.close()}else ce(Jt,`RPC '${e}' stream ${a} received:`,G),W.u_(G)}})),$(p,jy.STAT_EVENT,(j=>{j.stat===df.PROXY?ce(Jt,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===df.NOPROXY&&ce(Jt,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Jh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(i){return new nS(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,n,s=1e3,a=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ce("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="PersistentStream";class Fv{constructor(e,n,s,a,u,h,p,g){this.Mi=e,this.S_=s,this.b_=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bv(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Ii(n.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new ge(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(bg,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(bg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ZS extends Fv{constructor(e,n,s,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=sS(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Pe.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Pe.min():h.readTime?Hr(h.readTime):Pe.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Af(this.serializer),n.addTarget=(function(u,h){let p;const g=h.target;if(p=vf(g)?{documents:lS(u,g)}:{query:uS(u,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=Rv(u,h.resumeToken);const v=Ef(u,h.expectedCount);v!==null&&(p.expectedCount=v)}else if(h.snapshotVersion.compareTo(Pe.min())>0){p.readTime=Hu(u,h.snapshotVersion.toTimestamp());const v=Ef(u,h.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const s=hS(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Af(this.serializer),n.removeTarget=e,this.q_(n)}}class e1 extends Fv{constructor(e,n,s,a,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=aS(e.writeResults,e.commitTime),s=Hr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Af(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>oS(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{}class n1 extends t1{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ge(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,wf(n,s),a,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(Y.UNKNOWN,u.toString())}))}Ho(e,n,s,a,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,wf(n,s),a,h,p,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ge(Y.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class r1{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ii(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="RemoteStore";class i1{constructor(e,n,s,a,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Hs(this)&&(ce(Us,"Restarting streams for network reachability change."),await(async function(g){const v=xe(g);v.Ea.add(4),await nl(v),v.Ra.set("Unknown"),v.Ea.delete(4),await oc(v)})(this))}))})),this.Ra=new r1(s,a)}}async function oc(i){if(Hs(i))for(const e of i.da)await e(!0)}async function nl(i){for(const e of i.da)await e(!1)}function Uv(i,e){const n=xe(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),hd(n)?cd(n):Wo(n).O_()&&ud(n,e))}function ld(i,e){const n=xe(i),s=Wo(n);n.Ia.delete(e),s.O_()&&jv(n,e),n.Ia.size===0&&(s.O_()?s.L_():Hs(n)&&n.Ra.set("Unknown"))}function ud(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wo(i).Y_(e)}function jv(i,e){i.Va.Ue(e),Wo(i).Z_(e)}function cd(i){i.Va=new JA({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Wo(i).start(),i.Ra.ua()}function hd(i){return Hs(i)&&!Wo(i).x_()&&i.Ia.size>0}function Hs(i){return xe(i).Ea.size===0}function zv(i){i.Va=void 0}async function s1(i){i.Ra.set("Online")}async function o1(i){i.Ia.forEach(((e,n)=>{ud(i,e)}))}async function a1(i,e){zv(i),hd(i)?(i.Ra.ha(e),cd(i)):i.Ra.set("Unknown")}async function l1(i,e,n){if(i.Ra.set("Online"),e instanceof Iv&&e.state===2&&e.cause)try{await(async function(a,u){const h=u.cause;for(const p of u.targetIds)a.Ia.has(p)&&(await a.remoteSyncer.rejectListen(p,h),a.Ia.delete(p),a.Va.removeTarget(p))})(i,e)}catch(s){ce(Us,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Wu(i,s)}else if(e instanceof xu?i.Va.Ze(e):e instanceof Sv?i.Va.st(e):i.Va.tt(e),!n.isEqual(Pe.min()))try{const s=await Mv(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const p=u.Va.Tt(h);return p.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(v);E&&u.Ia.set(v,E.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,v)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken($t.EMPTY_BYTE_STRING,E.snapshotVersion)),jv(u,g);const S=new Xi(E.target,g,v,E.sequenceNumber);ud(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(i,n)}catch(s){ce(Us,"Failed to raise snapshot:",s),await Wu(i,s)}}async function Wu(i,e,n){if(!$o(e))throw e;i.Ea.add(1),await nl(i),i.Ra.set("Offline"),n||(n=()=>Mv(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ce(Us,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await oc(i)}))}function Bv(i,e){return e().catch((n=>Wu(i,n,e)))}async function ac(i){const e=xe(i),n=as(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Kf;for(;u1(e);)try{const a=await $S(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,c1(e,a)}catch(a){await Wu(e,a)}Hv(e)&&$v(e)}function u1(i){return Hs(i)&&i.Ta.length<10}function c1(i,e){i.Ta.push(e);const n=as(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Hv(i){return Hs(i)&&!as(i).x_()&&i.Ta.length>0}function $v(i){as(i).start()}async function h1(i){as(i).ra()}async function f1(i){const e=as(i);for(const n of i.Ta)e.ea(n.mutations)}async function d1(i,e,n){const s=i.Ta.shift(),a=td.from(s,e,n);await Bv(i,(()=>i.remoteSyncer.applySuccessfulWrite(a))),await ac(i)}async function p1(i,e){e&&as(i).X_&&await(async function(s,a){if((function(h){return QA(h)&&h!==Y.ABORTED})(a.code)){const u=s.Ta.shift();as(s).B_(),await Bv(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,a))),await ac(s)}})(i,e),Hv(i)&&$v(i)}async function Fg(i,e){const n=xe(i);n.asyncQueue.verifyOperationInProgress(),ce(Us,"RemoteStore received new credentials");const s=Hs(n);n.Ea.add(3),await nl(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await oc(n)}async function m1(i,e){const n=xe(i);e?(n.Ea.delete(2),await oc(n)):e||(n.Ea.add(2),await nl(n),n.Ra.set("Unknown"))}function Wo(i){return i.ma||(i.ma=(function(n,s,a){const u=xe(n);return u.sa(),new ZS(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)})(i.datastore,i.asyncQueue,{Xo:s1.bind(null,i),t_:o1.bind(null,i),r_:a1.bind(null,i),H_:l1.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),hd(i)?cd(i):i.Ra.set("Unknown")):(await i.ma.stop(),zv(i))}))),i.ma}function as(i){return i.fa||(i.fa=(function(n,s,a){const u=xe(n);return u.sa(),new e1(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:h1.bind(null,i),r_:p1.bind(null,i),ta:f1.bind(null,i),na:d1.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await ac(i)):(await i.fa.stop(),i.Ta.length>0&&(ce(Us,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n,s,a,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,u){const h=Date.now()+s,p=new fd(e,n,h,a,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dd(i,e){if(Ii("AsyncQueue",`${e}: ${i}`),$o(i))return new ge(Y.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Te.comparator(n.key,s.key):(n,s)=>Te.comparator(n.key,s.key),this.keyedMap=Da(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new No;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(){this.ga=new ht(Te.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Fo{constructor(e,n,s,a,u,h,p,g,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,u){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new Fo(e,n,No.emptySet(n),h,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ec(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class y1{constructor(){this.queries=jg(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=xe(n),u=a.queries;a.queries=jg(),u.forEach(((h,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new ge(Y.ABORTED,"Firestore shutting down"))}}function jg(){return new Bs((i=>uv(i)),ec)}async function Wv(i,e){const n=xe(i);let s=3;const a=e.query;let u=n.queries.get(a);u?!u.ba()&&e.Da()&&(s=2):(u=new g1,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(a,!0);break;case 1:u.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(h){const p=dd(h,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(p)}n.queries.set(a,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&pd(n)}async function qv(i,e){const n=xe(i),s=e.query;let a=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?a=e.Da()?0:1:!u.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function v1(i,e){const n=xe(i);let s=!1;for(const a of e){const u=a.query,h=n.queries.get(u);if(h){for(const p of h.Sa)p.Fa(a)&&(s=!0);h.wa=a}}s&&pd(n)}function _1(i,e,n){const s=xe(i),a=s.queries.get(e);if(a)for(const u of a.Sa)u.onError(n);s.queries.delete(e)}function pd(i){i.Ca.forEach((e=>{e.next()}))}var Rf,zg;(zg=Rf||(Rf={})).Ma="default",zg.Cache="cache";class Gv{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Fo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e){this.key=e}}class Qv{constructor(e){this.key=e}}class E1{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Oe(),this.mutatedKeys=Oe(),this.eu=cv(e),this.tu=new No(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Ug,a=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=a,p=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((E,S)=>{const A=a.get(E),M=tc(this.query,S)?S:null,W=!!A&&this.mutatedKeys.has(A.key),$=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let j=!1;A&&M?A.data.isEqual(M.data)?W!==$&&(s.track({type:3,doc:M}),j=!0):this.su(A,M)||(s.track({type:2,doc:M}),j=!0,(g&&this.eu(M,g)>0||v&&this.eu(M,v)<0)&&(p=!0)):!A&&M?(s.track({type:0,doc:M}),j=!0):A&&!M&&(s.track({type:1,doc:A}),j=!0,(g||v)&&(p=!0)),j&&(M?(h=h.add(M),u=$?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,S)=>(function(M,W){const $=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:j})}};return $(M)-$(W)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),a=a??!1;const p=n&&!a?this._u():[],g=this.Xa.size===0&&this.current&&!a?1:0,v=g!==this.Za;return this.Za=g,h.length!==0||v?{snapshot:new Fo(this.query,e.tu,u,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ug,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Oe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Qv(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Kv(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Oe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const md="SyncEngine";class w1{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class T1{constructor(e){this.key=e,this.hu=!1}}class A1{constructor(e,n,s,a,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Bs((p=>uv(p)),ec),this.Iu=new Map,this.Eu=new Set,this.du=new ht(Te.comparator),this.Au=new Map,this.Ru=new id,this.Vu={},this.mu=new Map,this.fu=bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function S1(i,e,n=!0){const s=t_(i);let a;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.lu()):a=await Yv(s,e,n,!0),a}async function I1(i,e){const n=t_(i);await Yv(n,e,!0,!1)}async function Yv(i,e,n,s){const a=await WS(i.localStore,Br(e)),u=a.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await R1(i,e,u,h==="current",a.resumeToken)),i.isPrimaryClient&&n&&Uv(i.remoteStore,a),p}async function R1(i,e,n,s,a){i.pu=(S,A,M)=>(async function($,j,G,re){let J=j.view.ru(G);J.Cs&&(J=await Vg($.localStore,j.query,!1).then((({documents:D})=>j.view.ru(D,J))));const ae=re&&re.targetChanges.get(j.targetId),de=re&&re.targetMismatches.get(j.targetId)!=null,Ee=j.view.applyChanges(J,$.isPrimaryClient,ae,de);return Hg($,j.targetId,Ee.au),Ee.snapshot})(i,S,A,M);const u=await Vg(i.localStore,e,!0),h=new E1(e,u.Qs),p=h.ru(u.documents),g=tl.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=h.applyChanges(p,i.isPrimaryClient,g);Hg(i,n,v.au);const E=new w1(e,n,h);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),v.snapshot}async function C1(i,e,n){const s=xe(i),a=s.Tu.get(e),u=s.Iu.get(a.targetId);if(u.length>1)return s.Iu.set(a.targetId,u.filter((h=>!ec(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Sf(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&ld(s.remoteStore,a.targetId),Cf(s,a.targetId)})).catch(Ho)):(Cf(s,a.targetId),await Sf(s.localStore,a.targetId,!0))}async function P1(i,e){const n=xe(i),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ld(n.remoteStore,s.targetId))}async function x1(i,e,n){const s=M1(i);try{const a=await(function(h,p){const g=xe(h),v=rt.now(),E=p.reduce(((M,W)=>M.add(W.key)),Oe());let S,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let W=Ri(),$=Oe();return g.Ns.getEntries(M,E).next((j=>{W=j,W.forEach(((G,re)=>{re.isValidDocument()||($=$.add(G))}))})).next((()=>g.localDocuments.getOverlayedDocuments(M,W))).next((j=>{S=j;const G=[];for(const re of p){const J=$A(re,S.get(re.key).overlayedDocument);J!=null&&G.push(new cs(re.key,J,nv(J.value.mapValue),Sr.exists(!0)))}return g.mutationQueue.addMutationBatch(M,v,G,p)})).next((j=>{A=j;const G=j.applyToLocalDocumentSet(S,$);return g.documentOverlayCache.saveOverlays(M,j.batchId,G)}))})).then((()=>({batchId:A.batchId,changes:fv(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(h,p,g){let v=h.Vu[h.currentUser.toKey()];v||(v=new ht(Le)),v=v.insert(p,g),h.Vu[h.currentUser.toKey()]=v})(s,a.batchId,n),await rl(s,a.changes),await ac(s.remoteStore)}catch(a){const u=dd(a,"Failed to persist write");n.reject(u)}}async function Xv(i,e){const n=xe(i);try{const s=await BS(n.localStore,e);e.targetChanges.forEach(((a,u)=>{const h=n.Au.get(u);h&&(Ge(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?h.hu=!0:a.modifiedDocuments.size>0?Ge(h.hu,14607):a.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))})),await rl(n,s,e)}catch(s){await Ho(s)}}function Bg(i,e,n){const s=xe(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((u,h)=>{const p=h.view.va(e);p.snapshot&&a.push(p.snapshot)})),(function(h,p){const g=xe(h);g.onlineState=p;let v=!1;g.queries.forEach(((E,S)=>{for(const A of S.Sa)A.va(p)&&(v=!0)})),v&&pd(g)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function k1(i,e,n){const s=xe(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),u=a&&a.key;if(u){let h=new ht(Te.comparator);h=h.insert(u,en.newNoDocument(u,Pe.min()));const p=Oe().add(u),g=new ic(Pe.min(),new Map,new ht(Le),h,p);await Xv(s,g),s.du=s.du.remove(u),s.Au.delete(e),gd(s)}else await Sf(s.localStore,e,!1).then((()=>Cf(s,e,n))).catch(Ho)}async function N1(i,e){const n=xe(i),s=e.batch.batchId;try{const a=await zS(n.localStore,e);Zv(n,s,null),Jv(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await rl(n,a)}catch(a){await Ho(a)}}async function D1(i,e,n){const s=xe(i);try{const a=await(function(h,p){const g=xe(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let E;return g.mutationQueue.lookupMutationBatch(v,p).next((S=>(Ge(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(v,S)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E))).next((()=>g.localDocuments.getDocuments(v,E)))}))})(s.localStore,e);Zv(s,e,n),Jv(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await rl(s,a)}catch(a){await Ho(a)}}function Jv(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Zv(i,e,n){const s=xe(i);let a=s.Vu[s.currentUser.toKey()];if(a){const u=a.get(e);u&&(n?u.reject(n):u.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Cf(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||e_(i,s)}))}function e_(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(ld(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),gd(i))}function Hg(i,e,n){for(const s of n)s instanceof Kv?(i.Ru.addReference(s.key,e),V1(i,s)):s instanceof Qv?(ce(md,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||e_(i,s.key)):Ie(19791,{wu:s})}function V1(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ce(md,"New document in limbo: "+n),i.Eu.add(s),gd(i))}function gd(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Te(nt.fromString(e)),s=i.fu.next();i.Au.set(s,new T1(n)),i.du=i.du.insert(n,s),Uv(i.remoteStore,new Xi(Br(Zf(n.path)),s,"TargetPurposeLimboResolution",Yu.ce))}}async function rl(i,e,n){const s=xe(i),a=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{h.push(s.pu(g,e,n).then((v=>{if((v||n)&&s.isPrimaryClient){const E=v?!v.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(v){a.push(v);const E=od.As(g.targetId,v);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(a),await(async function(g,v){const E=xe(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Q.forEach(v,(A=>Q.forEach(A.Es,(M=>E.persistence.referenceDelegate.addReference(S,A.targetId,M))).next((()=>Q.forEach(A.ds,(M=>E.persistence.referenceDelegate.removeReference(S,A.targetId,M)))))))))}catch(S){if(!$o(S))throw S;ce(ad,"Failed to update sequence numbers: "+S)}for(const S of v){const A=S.targetId;if(!S.fromCache){const M=E.Ms.get(A),W=M.snapshotVersion,$=M.withLastLimboFreeSnapshotVersion(W);E.Ms=E.Ms.insert(A,$)}}})(s.localStore,u))}async function L1(i,e){const n=xe(i);if(!n.currentUser.isEqual(e)){ce(md,"User change. New user:",e.toKey());const s=await Ov(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new ge(Y.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await rl(n,s.Ls)}}function O1(i,e){const n=xe(i),s=n.Au.get(e);if(s&&s.hu)return Oe().add(s.key);{let a=Oe();const u=n.Iu.get(e);if(!u)return a;for(const h of u){const p=n.Tu.get(h);a=a.unionWith(p.view.nu)}return a}}function t_(i){const e=xe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k1.bind(null,e),e.Pu.H_=v1.bind(null,e.eventManager),e.Pu.yu=_1.bind(null,e.eventManager),e}function M1(i){const e=xe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D1.bind(null,e),e}class qu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return jS(this.persistence,new bS,e.initialUser,this.serializer)}Cu(e){return new Lv(sd.mi,this.serializer)}Du(e){return new GS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qu.provider={build:()=>new qu};class b1 extends qu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof $u,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new TS(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new Lv((s=>$u.mi(s,n)),this.serializer)}}class Pf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Bg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=L1.bind(null,this.syncEngine),await m1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new y1})()}createDatastore(e){const n=sc(e.databaseInfo.databaseId),s=(function(u){return new JS(u)})(e.databaseInfo);return(function(u,h,p,g){return new n1(u,h,p,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,u,h,p){return new i1(s,a,u,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>Bg(this.syncEngine,n,0)),(function(){return Mg.v()?new Mg:new KS})())}createSyncEngine(e,n){return(function(a,u,h,p,g,v,E){const S=new A1(a,u,h,p,g,v);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=xe(n);ce(Us,"RemoteStore shutting down."),s.Ea.add(5),await nl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pf.provider={build:()=>new Pf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="FirestoreClient";class F1{constructor(e,n,s,a,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Zt.UNAUTHENTICATED,this.clientId=qf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ce(ls,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ce(ls,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=dd(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Zh(i,e){i.asyncQueue.verifyOperationInProgress(),ce(ls,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async a=>{s.isEqual(a)||(await Ov(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function $g(i,e){i.asyncQueue.verifyOperationInProgress();const n=await U1(i);ce(ls,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>Fg(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,a)=>Fg(e.remoteStore,a))),i._onlineComponents=e}async function U1(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(ls,"Using user provided OfflineComponentProvider");try{await Zh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Y.FAILED_PRECONDITION||a.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Vo("Error using user provided cache. Falling back to memory cache: "+n),await Zh(i,new qu)}}else ce(ls,"Using default OfflineComponentProvider"),await Zh(i,new b1(void 0));return i._offlineComponents}async function r_(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(ls,"Using user provided OnlineComponentProvider"),await $g(i,i._uninitializedComponentsProvider._online)):(ce(ls,"Using default OnlineComponentProvider"),await $g(i,new Pf))),i._onlineComponents}function j1(i){return r_(i).then((e=>e.syncEngine))}async function i_(i){const e=await r_(i),n=e.eventManager;return n.onListen=S1.bind(null,e.syncEngine),n.onUnlisten=C1.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=I1.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=P1.bind(null,e.syncEngine),n}function z1(i,e,n={}){const s=new wi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,v){const E=new n_({next:A=>{E.Nu(),h.enqueueAndForget((()=>qv(u,S)));const M=A.docs.has(p);!M&&A.fromCache?v.reject(new ge(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&A.fromCache&&g&&g.source==="server"?v.reject(new ge(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(A)},error:A=>v.reject(A)}),S=new Gv(Zf(p.path),E,{includeMetadataChanges:!0,qa:!0});return Wv(u,S)})(await i_(i),i.asyncQueue,e,n,s))),s.promise}function B1(i,e,n={}){const s=new wi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,v){const E=new n_({next:A=>{E.Nu(),h.enqueueAndForget((()=>qv(u,S))),A.fromCache&&g.source==="server"?v.reject(new ge(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(A)},error:A=>v.reject(A)}),S=new Gv(p,E,{includeMetadataChanges:!0,qa:!0});return Wv(u,S)})(await i_(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="firestore.googleapis.com",qg=!0;class Gg{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o_,this.ssl=qg}else this.host=e.host,this.ssl=e.ssl??qg;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Vv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ES)throw new ge(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s_(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lc{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new GT;switch(s.type){case"firstParty":return new XT(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Wg.get(n);s&&(ce("ComponentProvider","Removing Datastore"),Wg.delete(n),s.terminate())})(this),Promise.resolve()}}function H1(i,e,n,s={}){i=Gr(i,lc);const a=Hf(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${n}`;a&&(T0(`https://${p}`),R0("Firestore",!0)),u.host!==o_&&u.host!==p&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:a,emulatorOptions:s};if(!Lu(g,h)&&(i._setSettings(g),s.mockUserToken)){let v,E;if(typeof s.mockUserToken=="string")v=s.mockUserToken,E=Zt.MOCK_USER;else{v=A0(s.mockUserToken,i._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ge(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(S)}i._authCredentials=new KT(new $y(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new uc(this.firestore,e,this._query)}}class At{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Za(n,At._jsonSchema))return new At(e,s||null,new Te(nt.fromString(n.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:Tt("string",At._jsonSchemaVersion),referencePath:Tt("string")};class ts extends uc{constructor(e,n,s){super(e,n,Zf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new Te(e))}withConverter(e){return new ts(this.firestore,e,this._path)}}function xf(i,e,...n){if(i=ns(i),Wy("collection","path",e),i instanceof lc){const s=nt.fromString(e,...n);return ag(s),new ts(i,null,s)}{if(!(i instanceof At||i instanceof ts))throw new ge(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...n));return ag(s),new ts(i.firestore,null,s)}}function ar(i,e,...n){if(i=ns(i),arguments.length===1&&(e=qf.newId()),Wy("doc","path",e),i instanceof lc){const s=nt.fromString(e,...n);return og(s),new At(i,null,new Te(s))}{if(!(i instanceof At||i instanceof ts))throw new ge(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...n));return og(s),new At(i.firestore,i instanceof ts?i.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="AsyncQueue";class Qg{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bv(this,"async_queue_retry"),this._c=()=>{const s=Jh();s&&ce(Kg,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Jh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Jh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new wi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$o(e))throw e;ce(Kg,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ii("INTERNAL UNHANDLED ERROR: ",Yg(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=fd.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(a),a}uc(){this.nc&&Ie(47125,{Pc:Yg(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Yg(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class qo extends lc{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Qg,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qg(e),this._firestoreClient=void 0,await e}}}function $1(i,e){const n=typeof i=="object"?i:MT(),s=typeof i=="string"?i:Fu,a=NT(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const u=E0("firestore");u&&H1(a,...u)}return a}function yd(i){if(i._terminated)throw new ge(Y.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||W1(i),i._firestoreClient}function W1(i){const e=i._freezeSettings(),n=(function(a,u,h,p){return new pA(a,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,s_(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new F1(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(a){const u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this._byteString=e}static fromBase64String(e){try{return new or($t.fromBase64String(e))}catch(n){throw new ge(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new or($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:or._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Za(e,or._jsonSchema))return or.fromBase64String(e.bytes)}}or._jsonSchemaVersion="firestore/bytes/1.0",or._jsonSchema={type:Tt("string",or._jsonSchemaVersion),bytes:Tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$r._jsonSchemaVersion}}static fromJSON(e){if(Za(e,$r._jsonSchema))return new $r(e.latitude,e.longitude)}}$r._jsonSchemaVersion="firestore/geoPoint/1.0",$r._jsonSchema={type:Tt("string",$r._jsonSchemaVersion),latitude:Tt("number"),longitude:Tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Za(e,Wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Wr(e.vectorValues);throw new ge(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wr._jsonSchemaVersion="firestore/vectorValue/1.0",Wr._jsonSchema={type:Tt("string",Wr._jsonSchemaVersion),vectorValues:Tt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=/^__.*__$/;class G1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new el(e,this.data,n,this.fieldTransforms)}}class a_{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new cs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function l_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:i})}}class vd{constructor(e,n,s,a,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(l_(this.Ac)&&q1.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class K1{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||sc(e)}Cc(e,n,s,a=!1){return new vd({Ac:e,methodName:n,Dc:s,path:Ht.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _d(i){const e=i._freezeSettings(),n=sc(i._databaseId);return new K1(i._databaseId,!!e.ignoreUndefinedProperties,n)}function u_(i,e,n,s,a,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,a);wd("Data must be an object, but it was:",h,s);const p=c_(s,h);let g,v;if(u.merge)g=new Un(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const A=kf(e,S,n);if(!h.contains(A))throw new ge(Y.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);f_(E,A)||E.push(A)}g=new Un(E),v=h.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,v=h.fieldTransforms;return new G1(new Cn(p),g,v)}class fc extends hc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fc}}class Ed extends hc{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Qa(e.serializer,mv(e.serializer,this.Fc));return new jA(e.path,n)}isEqual(e){return e instanceof Ed&&this.Fc===e.Fc}}function Q1(i,e,n,s){const a=i.Cc(1,e,n);wd("Data must be an object, but it was:",a,s);const u=[],h=Cn.empty();us(s,((g,v)=>{const E=Td(e,g,n);v=ns(v);const S=a.yc(E);if(v instanceof fc)u.push(E);else{const A=dc(v,S);A!=null&&(u.push(E),h.set(E,A))}}));const p=new Un(u);return new a_(h,p,a.fieldTransforms)}function Y1(i,e,n,s,a,u){const h=i.Cc(1,e,n),p=[kf(e,s,n)],g=[a];if(u.length%2!=0)throw new ge(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)p.push(kf(e,u[A])),g.push(u[A+1]);const v=[],E=Cn.empty();for(let A=p.length-1;A>=0;--A)if(!f_(v,p[A])){const M=p[A];let W=g[A];W=ns(W);const $=h.yc(M);if(W instanceof fc)v.push(M);else{const j=dc(W,$);j!=null&&(v.push(M),E.set(M,j))}}const S=new Un(v);return new a_(E,S,h.fieldTransforms)}function dc(i,e){if(h_(i=ns(i)))return wd("Unsupported field value:",e,i),c_(i,e);if(i instanceof hc)return(function(s,a){if(!l_(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(a);u&&a.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const u=[];let h=0;for(const p of s){let g=dc(p,a.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,a){if((s=ns(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return mv(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:Hu(a.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hu(a.serializer,u)}}if(s instanceof $r)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof or)return{bytesValue:Rv(a.serializer,s._byteString)};if(s instanceof At){const u=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw a.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:rd(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Wr)return(function(h,p){return{mapValue:{fields:{[ev]:{stringValue:tv},[Uu]:{arrayValue:{values:h.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return ed(p.serializer,v)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Gf(s)}`)})(i,e)}function c_(i,e){const n={};return Ky(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(i,((s,a)=>{const u=dc(a,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function h_(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof rt||i instanceof $r||i instanceof or||i instanceof At||i instanceof hc||i instanceof Wr)}function wd(i,e,n){if(!h_(n)||!qy(n)){const s=Gf(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function kf(i,e,n){if((e=ns(e))instanceof cc)return e._internalPath;if(typeof e=="string")return Td(i,e);throw Gu("Field path arguments must be of type string or ",i,!1,void 0,n)}const X1=new RegExp("[~\\*/\\[\\]]");function Td(i,e,n){if(e.search(X1)>=0)throw Gu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new cc(...e.split("."))._internalPath}catch{throw Gu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Gu(i,e,n,s,a){const u=s&&!s.isEmpty(),h=a!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${a}`),g+=")"),new ge(Y.INVALID_ARGUMENT,p+i+g)}function f_(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,n,s,a,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(p_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J1 extends d_{data(){return super.data()}}function p_(i,e){return typeof e=="string"?Td(i,e):e instanceof cc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ge(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eI{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return us(e,((a,u)=>{s[a]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Uu].arrayValue?.values?.map((s=>yt(s.doubleValue)));return new Wr(n)}convertGeoPoint(e){return new $r(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ju(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp($a(e));default:return null}}convertTimestamp(e){const n=is(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Ge(Dv(s),9688,{name:e});const a=new Wa(s.get(1),s.get(3)),u=new Te(s.popFirst(5));return a.isEqual(n)||Ii(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class La{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bs extends d_{constructor(e,n,s,a,u,h){super(e,n,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(p_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=bs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",bs._jsonSchema={type:Tt("string",bs._jsonSchemaVersion),bundleSource:Tt("string","DocumentSnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class ku extends bs{data(e={}){return super.data(e)}}class Do{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new La(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ku(this._firestore,this._userDataWriter,s.key,s,new La(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,u){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map((p=>{const g=new ku(a._firestore,a._userDataWriter,p.doc.key,p.doc,new La(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new ku(a._firestore,a._userDataWriter,p.doc.key,p.doc,new La(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,E=-1;return p.type!==0&&(v=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),E=h.indexOf(p.doc.key)),{type:tI(p.type),doc:g,oldIndex:v,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Do._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),a.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tI(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(i){i=Gr(i,At);const e=Gr(i.firestore,qo);return z1(yd(e),i._key).then((n=>rI(e,i,n)))}Do._jsonSchemaVersion="firestore/querySnapshot/1.0",Do._jsonSchema={type:Tt("string",Do._jsonSchemaVersion),bundleSource:Tt("string","QuerySnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class g_ extends eI{constructor(e){super(),this.firestore=e}convertBytes(e){return new or(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function nI(i){i=Gr(i,uc);const e=Gr(i.firestore,qo),n=yd(e),s=new g_(e);return Z1(i._query),B1(n,i._query).then((a=>new Do(e,s,i,a)))}function y_(i,e,n){i=Gr(i,At);const s=Gr(i.firestore,qo),a=m_(i.converter,e,n);return Ad(s,[u_(_d(s),"setDoc",i._key,a,i.converter!==null,n).toMutation(i._key,Sr.none())])}function Nf(i,e,n,...s){i=Gr(i,At);const a=Gr(i.firestore,qo),u=_d(a);let h;return h=typeof(e=ns(e))=="string"||e instanceof cc?Y1(u,"updateDoc",i._key,e,n,s):Q1(u,"updateDoc",i._key,e),Ad(a,[h.toMutation(i._key,Sr.exists(!0))])}function v_(i,e){const n=Gr(i.firestore,qo),s=ar(i),a=m_(i.converter,e);return Ad(n,[u_(_d(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,Sr.exists(!1))]).then((()=>s))}function Ad(i,e){return(function(s,a){const u=new wi;return s.asyncQueue.enqueueAndForget((async()=>x1(await j1(s),a,u))),u.promise})(yd(i),e)}function rI(i,e,n){const s=n.docs.get(e._key),a=new g_(i);return new bs(i,a,e._key,s,new La(n.hasPendingWrites,n.fromCache),e.converter)}function iI(i){return new Ed("increment",i)}(function(e,n=!0){(function(a){Bo=a})(OT),Mu(new za("firestore",((s,{instanceIdentifier:a,options:u})=>{const h=s.getProvider("app").getImmediate(),p=new qo(new QT(s.getProvider("auth-internal")),new JT(h,s.getProvider("app-check-internal")),(function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ge(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wa(v.options.projectId,E)})(h,a),h);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),ko(ng,rg,e),ko(ng,rg,"esm2020")})();var sI="firebase",oI="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ko(sI,oI,"app");const aI={apiKey:"AIzaSyAInviShyIYmFRuifWhgHLBb78hi95uN_Q",authDomain:"f7e-database.firebaseapp.com",projectId:"f7e-database",storageBucket:"f7e-database.firebasestorage.app",messagingSenderId:"642686760461",appId:"1:642686760461:web:2549e76e002e3091340744",measurementId:"G-SVZZGFVLP0"},lI=Ly(aI),Pn=$1(lI),__=B.createContext(),uI=({children:i})=>{const[e,n]=B.useState(()=>{try{const u=localStorage.getItem("currentUser");return u?JSON.parse(u):null}catch{return localStorage.removeItem("currentUser"),null}}),[s,a]=B.useState(!e);return B.useEffect(()=>{e&&e.id?(localStorage.setItem("currentUser",JSON.stringify(e)),localStorage.setItem("currentUserId",e.id)):(localStorage.removeItem("currentUser"),localStorage.removeItem("currentUserId"))},[e]),B.useEffect(()=>{const u=localStorage.getItem("currentUserId");if(!u){n(null),a(!1);return}(async()=>{a(!0);try{const p=ar(Pn,"users",u),g=await js(p);if(g.exists()){const v=g.data();v.id=u,n(v)}else n(null)}catch(p){console.error("Error fetching user:",p),n(null)}finally{a(!1)}})()},[]),P.jsx(__.Provider,{value:{currentUser:e,setCurrentUser:n,loading:s},children:i})},il=()=>B.useContext(__);function cI(){const{currentUser:i}=il(),[e,n]=B.useState(null),[s,a]=B.useState({x:0,y:0}),u=B.useRef(null),h=(p,g)=>{e===p?n(null):(a({x:g.pageX,y:g.pageY}),n(p))};return B.useEffect(()=>{const p=g=>{u.current&&!u.current.contains(g.target)&&n(null)};return e&&document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[e]),B.useEffect(()=>{if(!e||!u.current)return;const p=u.current.getBoundingClientRect(),g=window.innerWidth;let v=s.x;p.right>g&&(v=Math.max(0,s.x-p.width)),a(E=>({...E,x:v}))},[e,s.x]),P.jsxs("div",{className:"min-h-screen flex flex-col",children:[P.jsx("div",{className:"background"}),P.jsx("div",{className:"circle-button profile-button",onClick:p=>h("profile",p)}),P.jsx("div",{className:"circle-button menu-button",onClick:p=>h("menu",p)}),e&&P.jsxs("div",{ref:u,className:"popup",style:{top:`${s.y}px`,left:`${s.x}px`,position:"absolute"},children:[e==="profile"&&P.jsxs(P.Fragment,{children:[P.jsx(Os,{to:"/new-user",children:"New User/Login"}),i?P.jsx(Os,{to:`/profile/${i.id}`,children:"Profile"}):P.jsx("span",{style:{color:"gray"},children:"Profile (login first)"}),i?P.jsx(Os,{to:`/creator-page/${i.id}`,children:"View Creator Page"}):P.jsx("span",{style:{color:"gray"},children:"View Creator Page (login first)"}),P.jsx(Os,{to:"/active-projects",style:{color:"red"}})]}),e==="menu"&&P.jsxs(P.Fragment,{children:[P.jsx("a",{href:"#",children:"Watch"}),P.jsx("a",{href:"#",children:"Read"}),P.jsx("a",{href:"#",children:"Listen"}),P.jsx("a",{href:"#",children:"Play"}),P.jsx("a",{href:"#",children:"Events"}),P.jsx("a",{href:"#",children:"Search"}),P.jsx(Os,{to:"/",children:"Home"})]})]}),P.jsx("div",{className:"title2",children:"Faction Seven"}),P.jsx("div",{className:"slogan",children:"Your one-stop media source"}),P.jsxs("main",{className:"flex-grow container mx-auto p-4",children:[P.jsx(xw,{})," "]})]})}function hI(){return P.jsxs("div",{className:"main-container",children:[P.jsxs("div",{className:"sidebar left",children:[P.jsxs("div",{className:"suggested",children:[P.jsx("img",{src:"media1.jpg",alt:"Media 1"}),P.jsx("a",{href:"#",children:"Urban Echoes"})]}),P.jsxs("div",{className:"suggested",children:[P.jsx("img",{src:"media2.jpg",alt:"Media 2"}),P.jsx("a",{href:"#",children:"Moonlit Strands"})]})]}),P.jsxs("div",{className:"featured",children:[P.jsxs("h2",{children:['Featured Content: "Just for Kicks" by'," ",P.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),P.jsx("div",{className:"youtube-embed-container",children:P.jsx("iframe",{className:"youtube-embed",src:"https://www.youtube.com/embed/P0h0rO7eods?si=MMQiYKH9NEHZJ61p",title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),P.jsx("div",{className:"sidebar right",children:P.jsxs("div",{className:"news",children:[P.jsx("h3",{children:"Site News"}),P.jsx("p",{children:"Faction Seven content platform up and running! Main page features and modules fully (mostly) functional."})]})}),P.jsxs("div",{className:"showcases",children:[P.jsxs("div",{className:"showcase-2",children:[P.jsxs("h4",{children:['"R E L A X" by'," ",P.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),P.jsx("div",{className:"youtube-embed-container",children:P.jsx("iframe",{className:"responsive-image",src:"https://drive.google.com/file/d/1PhvScbMV0aXOONmudS8SIr4F_KJiajKM/preview",title:"image",allow:"autoplay",allowFullScreen:!0})})]}),P.jsxs("div",{className:"showcase-3",children:[P.jsxs("h4",{children:["Nevereign: Shadow Rising by"," ",P.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),P.jsx("div",{className:"text-embed-container",children:P.jsx("iframe",{src:"https://docs.google.com/document/d/1yEb24TJz9DchfmO80x89cFe9qKe9uPGzHoAASy4KsNk/preview",title:"Nevereign: Shadow Rising",width:"640",height:"480",allow:"autoplay"})}),"Read the whole story"," ",P.jsx("a",{href:"https://Patreon.com/FactionSevenEntertainment",style:{color:"red"},children:"here"}),"."]})]}),P.jsx("div",{className:"spotlight-list",children:P.jsxs("ul",{children:[P.jsx("li",{children:P.jsx("a",{href:"#",children:"[4] Iris.exe  Short horror game"})}),P.jsx("li",{children:P.jsx("a",{href:"#",children:"[5] Selenes Vault  Digital comic"})}),P.jsx("li",{children:P.jsx("a",{href:"#",children:"[6] Synth Sketches  Concept art"})}),P.jsx("li",{children:P.jsx("a",{href:"#",children:"[7] Rooftop Hymns  Poetry"})}),P.jsx("li",{children:P.jsx("a",{href:"#",children:"[8] Last Light  Animated short"})}),P.jsx("li",{children:P.jsx("a",{href:"#",children:"[9] Outskirts  Creator podcast"})}),P.jsx("li",{children:P.jsx("a",{href:"#",children:"[10] F7 Monthly Jam Results"})})]})})]})}const Xg={Government:0,Infrastructure:0,Security:0,Commerce:0,Industry:0,Research:0,Background:0};function fI(){const[i,e]=B.useState(""),[n,s]=B.useState("Government"),[a,u]=B.useState(""),[h,p]=B.useState(""),{setCurrentUser:g}=il(),v=bf(),E=async()=>{if(!i)return p("Please enter a name.");try{const M=await v_(xf(Pn,"users"),{name:i,faction:n,kudos:Xg});p(`User created with auto-ID: ${M.id}`)}catch(M){console.error(M),p("Error creating user.")}},S=async()=>{if(!i||!a)return p("Enter both name and custom ID.");try{await y_(ar(Pn,"users",a),{name:i,faction:n,kudos:Xg}),p(`User created with custom ID: ${a}`)}catch(M){console.error(M),p("Error creating user.")}},A=async()=>{if(!a)return p("Enter your user ID to login.");try{const M=ar(Pn,"users",a),W=await js(M);if(W.exists()){const $=W.data();g({id:a,...$}),p(`Logged in as ${$.name} (Faction: ${$.faction})`),v(`/profile/${a}`)}else p("No such user found.")}catch(M){console.error(M),p("Login failed.")}};return P.jsxs("div",{style:{maxWidth:"400px",margin:"auto",padding:"1rem"},children:[P.jsx("h2",{children:"Create New User"}),P.jsx("label",{children:"Name:"}),P.jsx("input",{style:{color:"black"},type:"text",value:i,onChange:M=>e(M.target.value),placeholder:"Enter your name"}),P.jsx("br",{}),P.jsx("label",{children:"Faction:"}),P.jsxs("select",{style:{color:"black"},value:n,onChange:M=>s(M.target.value),children:[P.jsx("option",{value:"Government",children:"Government"}),P.jsx("option",{value:"Infrastructure",children:"Infrastructure"}),P.jsx("option",{value:"Security",children:"Security"}),P.jsx("option",{value:"Commerce",children:"Commerce"}),P.jsx("option",{value:"Industry",children:"Industry"}),P.jsx("option",{value:"Research",children:"Research"}),P.jsx("option",{value:"Background",children:"Background"})]}),P.jsx("br",{}),P.jsx("label",{children:"Custom ID (optional):"}),P.jsx("input",{style:{color:"black"},type:"text",value:a,onChange:M=>u(M.target.value),placeholder:"Optional custom ID"}),P.jsx("br",{}),P.jsxs("div",{style:{marginTop:"1rem"},children:[P.jsx("button",{onClick:E,children:"Create User (Auto-ID)"}),P.jsx("button",{onClick:S,style:{marginLeft:"1rem"},children:"Create User (Custom ID)"})]}),P.jsx("div",{style:{marginTop:"1rem"},children:P.jsx("button",{onClick:A,children:"Login"})}),h&&P.jsx("p",{style:{marginTop:"1rem"},children:h})]})}function dI(){return P.jsxs("div",{style:{color:"red"},children:[P.jsx("h1",{children:"Active Projects"}),P.jsx("p",{children:"List of ongoing projects will go here..."})]})}/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:E_,setPrototypeOf:Jg,isFrozen:pI,getPrototypeOf:mI,getOwnPropertyDescriptor:gI}=Object;let{freeze:un,seal:lr,create:w_}=Object,{apply:Df,construct:Vf}=typeof Reflect<"u"&&Reflect;un||(un=function(e){return e});lr||(lr=function(e){return e});Df||(Df=function(e,n,s){return e.apply(n,s)});Vf||(Vf=function(e,n){return new e(...n)});const wu=cn(Array.prototype.forEach),yI=cn(Array.prototype.lastIndexOf),Zg=cn(Array.prototype.pop),Ra=cn(Array.prototype.push),vI=cn(Array.prototype.splice),Nu=cn(String.prototype.toLowerCase),ef=cn(String.prototype.toString),ey=cn(String.prototype.match),Ca=cn(String.prototype.replace),_I=cn(String.prototype.indexOf),EI=cn(String.prototype.trim),Ar=cn(Object.prototype.hasOwnProperty),ln=cn(RegExp.prototype.test),Pa=wI(TypeError);function cn(i){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return Df(i,e,s)}}function wI(i){return function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return Vf(i,n)}}function Ve(i,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Nu;Jg&&Jg(i,null);let s=e.length;for(;s--;){let a=e[s];if(typeof a=="string"){const u=n(a);u!==a&&(pI(e)||(e[s]=u),a=u)}i[a]=!0}return i}function TI(i){for(let e=0;e<i.length;e++)Ar(i,e)||(i[e]=null);return i}function _i(i){const e=w_(null);for(const[n,s]of E_(i))Ar(i,n)&&(Array.isArray(s)?e[n]=TI(s):s&&typeof s=="object"&&s.constructor===Object?e[n]=_i(s):e[n]=s);return e}function xa(i,e){for(;i!==null;){const s=gI(i,e);if(s){if(s.get)return cn(s.get);if(typeof s.value=="function")return cn(s.value)}i=mI(i)}function n(){return null}return n}const ty=un(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),tf=un(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),nf=un(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),AI=un(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),rf=un(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),SI=un(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ny=un(["#text"]),ry=un(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),sf=un(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),iy=un(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Tu=un(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),II=lr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),RI=lr(/<%[\w\W]*|[\w\W]*%>/gm),CI=lr(/\$\{[\w\W]*/gm),PI=lr(/^data-[\-\w.\u00B7-\uFFFF]+$/),xI=lr(/^aria-[\-\w]+$/),T_=lr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),kI=lr(/^(?:\w+script|data):/i),NI=lr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),A_=lr(/^html$/i),DI=lr(/^[a-z][.\w]*(-[.\w]+)+$/i);var sy=Object.freeze({__proto__:null,ARIA_ATTR:xI,ATTR_WHITESPACE:NI,CUSTOM_ELEMENT:DI,DATA_ATTR:PI,DOCTYPE_NAME:A_,ERB_EXPR:RI,IS_ALLOWED_URI:T_,IS_SCRIPT_OR_DATA:kI,MUSTACHE_EXPR:II,TMPLIT_EXPR:CI});const ka={element:1,text:3,progressingInstruction:7,comment:8,document:9},VI=function(){return typeof window>"u"?null:window},LI=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let s=null;const a="data-tt-policy-suffix";n&&n.hasAttribute(a)&&(s=n.getAttribute(a));const u="dompurify"+(s?"#"+s:"");try{return e.createPolicy(u,{createHTML(h){return h},createScriptURL(h){return h}})}catch{return console.warn("TrustedTypes policy "+u+" could not be created."),null}},oy=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function S_(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:VI();const e=ye=>S_(ye);if(e.version="3.2.6",e.removed=[],!i||!i.document||i.document.nodeType!==ka.document||!i.Element)return e.isSupported=!1,e;let{document:n}=i;const s=n,a=s.currentScript,{DocumentFragment:u,HTMLTemplateElement:h,Node:p,Element:g,NodeFilter:v,NamedNodeMap:E=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:S,DOMParser:A,trustedTypes:M}=i,W=g.prototype,$=xa(W,"cloneNode"),j=xa(W,"remove"),G=xa(W,"nextSibling"),re=xa(W,"childNodes"),J=xa(W,"parentNode");if(typeof h=="function"){const ye=n.createElement("template");ye.content&&ye.content.ownerDocument&&(n=ye.content.ownerDocument)}let ae,de="";const{implementation:Ee,createNodeIterator:D,createDocumentFragment:T,getElementsByTagName:R}=n,{importNode:k}=s;let N=oy();e.isSupported=typeof E_=="function"&&typeof J=="function"&&Ee&&Ee.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:b,ERB_EXPR:C,TMPLIT_EXPR:$e,DATA_ATTR:Ze,ARIA_ATTR:kt,IS_SCRIPT_OR_DATA:We,ATTR_WHITESPACE:se,CUSTOM_ELEMENT:we}=sy;let{IS_ALLOWED_URI:le}=sy,O=null;const K=Ve({},[...ty,...tf,...nf,...rf,...ny]);let oe=null;const ke=Ve({},[...ry,...sf,...iy,...Tu]);let ve=Object.seal(w_(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ne=null,Me=null,Fe=!0,qe=!0,mt=!1,jn=!0,xn=!1,kn=!0,tn=!1,Rr=!1,Xr=!1,zn=!1,Jr=!1,ur=!1,Bn=!0,Hn=!1;const hs="user-content-";let Cr=!0,$n=!1,Wn={},Xe=null;const ft=Ve({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let qn=null;const Ci=Ve({},["audio","video","img","source","image","track"]);let Gn=null;const Pr=Ve({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Kn="http://www.w3.org/1998/Math/MathML",xr="http://www.w3.org/2000/svg",nn="http://www.w3.org/1999/xhtml";let Qn=nn,Zr=!1,ei=null;const ti=Ve({},[Kn,xr,nn],ef);let cr=Ve({},["mi","mo","mn","ms","mtext"]),hr=Ve({},["annotation-xml"]);const hn=Ve({},["title","style","font","a","script"]);let Wt=null;const Pi=["application/xhtml+xml","text/html"],Yn="text/html";let it=null,fn=null;const fs=n.createElement("form"),Xn=function(V){return V instanceof RegExp||V instanceof Function},ni=function(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(fn&&fn===V)){if((!V||typeof V!="object")&&(V={}),V=_i(V),Wt=Pi.indexOf(V.PARSER_MEDIA_TYPE)===-1?Yn:V.PARSER_MEDIA_TYPE,it=Wt==="application/xhtml+xml"?ef:Nu,O=Ar(V,"ALLOWED_TAGS")?Ve({},V.ALLOWED_TAGS,it):K,oe=Ar(V,"ALLOWED_ATTR")?Ve({},V.ALLOWED_ATTR,it):ke,ei=Ar(V,"ALLOWED_NAMESPACES")?Ve({},V.ALLOWED_NAMESPACES,ef):ti,Gn=Ar(V,"ADD_URI_SAFE_ATTR")?Ve(_i(Pr),V.ADD_URI_SAFE_ATTR,it):Pr,qn=Ar(V,"ADD_DATA_URI_TAGS")?Ve(_i(Ci),V.ADD_DATA_URI_TAGS,it):Ci,Xe=Ar(V,"FORBID_CONTENTS")?Ve({},V.FORBID_CONTENTS,it):ft,Ne=Ar(V,"FORBID_TAGS")?Ve({},V.FORBID_TAGS,it):_i({}),Me=Ar(V,"FORBID_ATTR")?Ve({},V.FORBID_ATTR,it):_i({}),Wn=Ar(V,"USE_PROFILES")?V.USE_PROFILES:!1,Fe=V.ALLOW_ARIA_ATTR!==!1,qe=V.ALLOW_DATA_ATTR!==!1,mt=V.ALLOW_UNKNOWN_PROTOCOLS||!1,jn=V.ALLOW_SELF_CLOSE_IN_ATTR!==!1,xn=V.SAFE_FOR_TEMPLATES||!1,kn=V.SAFE_FOR_XML!==!1,tn=V.WHOLE_DOCUMENT||!1,zn=V.RETURN_DOM||!1,Jr=V.RETURN_DOM_FRAGMENT||!1,ur=V.RETURN_TRUSTED_TYPE||!1,Xr=V.FORCE_BODY||!1,Bn=V.SANITIZE_DOM!==!1,Hn=V.SANITIZE_NAMED_PROPS||!1,Cr=V.KEEP_CONTENT!==!1,$n=V.IN_PLACE||!1,le=V.ALLOWED_URI_REGEXP||T_,Qn=V.NAMESPACE||nn,cr=V.MATHML_TEXT_INTEGRATION_POINTS||cr,hr=V.HTML_INTEGRATION_POINTS||hr,ve=V.CUSTOM_ELEMENT_HANDLING||{},V.CUSTOM_ELEMENT_HANDLING&&Xn(V.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ve.tagNameCheck=V.CUSTOM_ELEMENT_HANDLING.tagNameCheck),V.CUSTOM_ELEMENT_HANDLING&&Xn(V.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ve.attributeNameCheck=V.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),V.CUSTOM_ELEMENT_HANDLING&&typeof V.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ve.allowCustomizedBuiltInElements=V.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),xn&&(qe=!1),Jr&&(zn=!0),Wn&&(O=Ve({},ny),oe=[],Wn.html===!0&&(Ve(O,ty),Ve(oe,ry)),Wn.svg===!0&&(Ve(O,tf),Ve(oe,sf),Ve(oe,Tu)),Wn.svgFilters===!0&&(Ve(O,nf),Ve(oe,sf),Ve(oe,Tu)),Wn.mathMl===!0&&(Ve(O,rf),Ve(oe,iy),Ve(oe,Tu))),V.ADD_TAGS&&(O===K&&(O=_i(O)),Ve(O,V.ADD_TAGS,it)),V.ADD_ATTR&&(oe===ke&&(oe=_i(oe)),Ve(oe,V.ADD_ATTR,it)),V.ADD_URI_SAFE_ATTR&&Ve(Gn,V.ADD_URI_SAFE_ATTR,it),V.FORBID_CONTENTS&&(Xe===ft&&(Xe=_i(Xe)),Ve(Xe,V.FORBID_CONTENTS,it)),Cr&&(O["#text"]=!0),tn&&Ve(O,["html","head","body"]),O.table&&(Ve(O,["tbody"]),delete Ne.tbody),V.TRUSTED_TYPES_POLICY){if(typeof V.TRUSTED_TYPES_POLICY.createHTML!="function")throw Pa('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof V.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Pa('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ae=V.TRUSTED_TYPES_POLICY,de=ae.createHTML("")}else ae===void 0&&(ae=LI(M,a)),ae!==null&&typeof de=="string"&&(de=ae.createHTML(""));un&&un(V),fn=V}},st=Ve({},[...tf,...nf,...AI]),ri=Ve({},[...rf,...SI]),Nn=function(V){let ee=J(V);(!ee||!ee.tagName)&&(ee={namespaceURI:Qn,tagName:"template"});const he=Nu(V.tagName),Ke=Nu(ee.tagName);return ei[V.namespaceURI]?V.namespaceURI===xr?ee.namespaceURI===nn?he==="svg":ee.namespaceURI===Kn?he==="svg"&&(Ke==="annotation-xml"||cr[Ke]):!!st[he]:V.namespaceURI===Kn?ee.namespaceURI===nn?he==="math":ee.namespaceURI===xr?he==="math"&&hr[Ke]:!!ri[he]:V.namespaceURI===nn?ee.namespaceURI===xr&&!hr[Ke]||ee.namespaceURI===Kn&&!cr[Ke]?!1:!ri[he]&&(hn[he]||!st[he]):!!(Wt==="application/xhtml+xml"&&ei[V.namespaceURI]):!1},Nt=function(V){Ra(e.removed,{element:V});try{J(V).removeChild(V)}catch{j(V)}},dn=function(V,ee){try{Ra(e.removed,{attribute:ee.getAttributeNode(V),from:ee})}catch{Ra(e.removed,{attribute:null,from:ee})}if(ee.removeAttribute(V),V==="is")if(zn||Jr)try{Nt(ee)}catch{}else try{ee.setAttribute(V,"")}catch{}},ii=function(V){let ee=null,he=null;if(Xr)V="<remove></remove>"+V;else{const Ce=ey(V,/^[\r\n\t ]+/);he=Ce&&Ce[0]}Wt==="application/xhtml+xml"&&Qn===nn&&(V='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+V+"</body></html>");const Ke=ae?ae.createHTML(V):V;if(Qn===nn)try{ee=new A().parseFromString(Ke,Wt)}catch{}if(!ee||!ee.documentElement){ee=Ee.createDocument(Qn,"template",null);try{ee.documentElement.innerHTML=Zr?de:Ke}catch{}}const vt=ee.body||ee.documentElement;return V&&he&&vt.insertBefore(n.createTextNode(he),vt.childNodes[0]||null),Qn===nn?R.call(ee,tn?"html":"body")[0]:tn?ee.documentElement:vt},pn=function(V){return D.call(V.ownerDocument||V,V,v.SHOW_ELEMENT|v.SHOW_COMMENT|v.SHOW_TEXT|v.SHOW_PROCESSING_INSTRUCTION|v.SHOW_CDATA_SECTION,null)},si=function(V){return V instanceof S&&(typeof V.nodeName!="string"||typeof V.textContent!="string"||typeof V.removeChild!="function"||!(V.attributes instanceof E)||typeof V.removeAttribute!="function"||typeof V.setAttribute!="function"||typeof V.namespaceURI!="string"||typeof V.insertBefore!="function"||typeof V.hasChildNodes!="function")},$s=function(V){return typeof p=="function"&&V instanceof p};function qt(ye,V,ee){wu(ye,he=>{he.call(e,V,ee,fn)})}const ds=function(V){let ee=null;if(qt(N.beforeSanitizeElements,V,null),si(V))return Nt(V),!0;const he=it(V.nodeName);if(qt(N.uponSanitizeElement,V,{tagName:he,allowedTags:O}),kn&&V.hasChildNodes()&&!$s(V.firstElementChild)&&ln(/<[/\w!]/g,V.innerHTML)&&ln(/<[/\w!]/g,V.textContent)||V.nodeType===ka.progressingInstruction||kn&&V.nodeType===ka.comment&&ln(/<[/\w]/g,V.data))return Nt(V),!0;if(!O[he]||Ne[he]){if(!Ne[he]&&kr(he)&&(ve.tagNameCheck instanceof RegExp&&ln(ve.tagNameCheck,he)||ve.tagNameCheck instanceof Function&&ve.tagNameCheck(he)))return!1;if(Cr&&!Xe[he]){const Ke=J(V)||V.parentNode,vt=re(V)||V.childNodes;if(vt&&Ke){const Ce=vt.length;for(let St=Ce-1;St>=0;--St){const bt=$(vt[St],!0);bt.__removalCount=(V.__removalCount||0)+1,Ke.insertBefore(bt,G(V))}}}return Nt(V),!0}return V instanceof g&&!Nn(V)||(he==="noscript"||he==="noembed"||he==="noframes")&&ln(/<\/no(script|embed|frames)/i,V.innerHTML)?(Nt(V),!0):(xn&&V.nodeType===ka.text&&(ee=V.textContent,wu([b,C,$e],Ke=>{ee=Ca(ee,Ke," ")}),V.textContent!==ee&&(Ra(e.removed,{element:V.cloneNode()}),V.textContent=ee)),qt(N.afterSanitizeElements,V,null),!1)},mn=function(V,ee,he){if(Bn&&(ee==="id"||ee==="name")&&(he in n||he in fs))return!1;if(!(qe&&!Me[ee]&&ln(Ze,ee))){if(!(Fe&&ln(kt,ee))){if(!oe[ee]||Me[ee]){if(!(kr(V)&&(ve.tagNameCheck instanceof RegExp&&ln(ve.tagNameCheck,V)||ve.tagNameCheck instanceof Function&&ve.tagNameCheck(V))&&(ve.attributeNameCheck instanceof RegExp&&ln(ve.attributeNameCheck,ee)||ve.attributeNameCheck instanceof Function&&ve.attributeNameCheck(ee))||ee==="is"&&ve.allowCustomizedBuiltInElements&&(ve.tagNameCheck instanceof RegExp&&ln(ve.tagNameCheck,he)||ve.tagNameCheck instanceof Function&&ve.tagNameCheck(he))))return!1}else if(!Gn[ee]){if(!ln(le,Ca(he,se,""))){if(!((ee==="src"||ee==="xlink:href"||ee==="href")&&V!=="script"&&_I(he,"data:")===0&&qn[V])){if(!(mt&&!ln(We,Ca(he,se,"")))){if(he)return!1}}}}}}return!0},kr=function(V){return V!=="annotation-xml"&&ey(V,we)},gn=function(V){qt(N.beforeSanitizeAttributes,V,null);const{attributes:ee}=V;if(!ee||si(V))return;const he={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:oe,forceKeepAttr:void 0};let Ke=ee.length;for(;Ke--;){const vt=ee[Ke],{name:Ce,namespaceURI:St,value:bt}=vt,yn=it(Ce),Gt=bt;let dt=Ce==="value"?Gt:EI(Gt);if(he.attrName=yn,he.attrValue=dt,he.keepAttr=!0,he.forceKeepAttr=void 0,qt(N.uponSanitizeAttribute,V,he),dt=he.attrValue,Hn&&(yn==="id"||yn==="name")&&(dn(Ce,V),dt=hs+dt),kn&&ln(/((--!?|])>)|<\/(style|title)/i,dt)){dn(Ce,V);continue}if(he.forceKeepAttr)continue;if(!he.keepAttr){dn(Ce,V);continue}if(!jn&&ln(/\/>/i,dt)){dn(Ce,V);continue}xn&&wu([b,C,$e],Nr=>{dt=Ca(dt,Nr," ")});const ps=it(V.nodeName);if(!mn(ps,yn,dt)){dn(Ce,V);continue}if(ae&&typeof M=="object"&&typeof M.getAttributeType=="function"&&!St)switch(M.getAttributeType(ps,yn)){case"TrustedHTML":{dt=ae.createHTML(dt);break}case"TrustedScriptURL":{dt=ae.createScriptURL(dt);break}}if(dt!==Gt)try{St?V.setAttributeNS(St,Ce,dt):V.setAttribute(Ce,dt),si(V)?Nt(V):Zg(e.removed)}catch{dn(Ce,V)}}qt(N.afterSanitizeAttributes,V,null)},Ws=function ye(V){let ee=null;const he=pn(V);for(qt(N.beforeSanitizeShadowDOM,V,null);ee=he.nextNode();)qt(N.uponSanitizeShadowNode,ee,null),ds(ee),gn(ee),ee.content instanceof u&&ye(ee.content);qt(N.afterSanitizeShadowDOM,V,null)};return e.sanitize=function(ye){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=null,he=null,Ke=null,vt=null;if(Zr=!ye,Zr&&(ye="<!-->"),typeof ye!="string"&&!$s(ye))if(typeof ye.toString=="function"){if(ye=ye.toString(),typeof ye!="string")throw Pa("dirty is not a string, aborting")}else throw Pa("toString is not a function");if(!e.isSupported)return ye;if(Rr||ni(V),e.removed=[],typeof ye=="string"&&($n=!1),$n){if(ye.nodeName){const bt=it(ye.nodeName);if(!O[bt]||Ne[bt])throw Pa("root node is forbidden and cannot be sanitized in-place")}}else if(ye instanceof p)ee=ii("<!---->"),he=ee.ownerDocument.importNode(ye,!0),he.nodeType===ka.element&&he.nodeName==="BODY"||he.nodeName==="HTML"?ee=he:ee.appendChild(he);else{if(!zn&&!xn&&!tn&&ye.indexOf("<")===-1)return ae&&ur?ae.createHTML(ye):ye;if(ee=ii(ye),!ee)return zn?null:ur?de:""}ee&&Xr&&Nt(ee.firstChild);const Ce=pn($n?ye:ee);for(;Ke=Ce.nextNode();)ds(Ke),gn(Ke),Ke.content instanceof u&&Ws(Ke.content);if($n)return ye;if(zn){if(Jr)for(vt=T.call(ee.ownerDocument);ee.firstChild;)vt.appendChild(ee.firstChild);else vt=ee;return(oe.shadowroot||oe.shadowrootmode)&&(vt=k.call(s,vt,!0)),vt}let St=tn?ee.outerHTML:ee.innerHTML;return tn&&O["!doctype"]&&ee.ownerDocument&&ee.ownerDocument.doctype&&ee.ownerDocument.doctype.name&&ln(A_,ee.ownerDocument.doctype.name)&&(St="<!DOCTYPE "+ee.ownerDocument.doctype.name+`>
`+St),xn&&wu([b,C,$e],bt=>{St=Ca(St,bt," ")}),ae&&ur?ae.createHTML(St):St},e.setConfig=function(){let ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ni(ye),Rr=!0},e.clearConfig=function(){fn=null,Rr=!1},e.isValidAttribute=function(ye,V,ee){fn||ni({});const he=it(ye),Ke=it(V);return mn(he,Ke,ee)},e.addHook=function(ye,V){typeof V=="function"&&Ra(N[ye],V)},e.removeHook=function(ye,V){if(V!==void 0){const ee=yI(N[ye],V);return ee===-1?void 0:vI(N[ye],ee,1)[0]}return Zg(N[ye])},e.removeHooks=function(ye){N[ye]=[]},e.removeAllHooks=function(){N=oy()},e}var OI=S_();function ay(i){if(!i)return"#fff";i=i.replace("#","");const e=parseInt(i.substr(0,2),16),n=parseInt(i.substr(2,2),16),s=parseInt(i.substr(4,2),16);return(e*299+n*587+s*114)/1e3>=128?"#000":"#fff"}function MI({initialBio:i="",editable:e=!1,isOwner:n=!1,onSave:s,backgroundColor:a="#222222",textColor:u,fontFamily:h}){const p=bf(),[g,v]=B.useState(i),[E,S]=B.useState(!1),A=async()=>{s&&await s(g),S(!1)},M=()=>{if(!g)return"No bio yet.";const $=OI.sanitize(g.replace(/href="(\/[^"]*)"/g,'data-internal="$1" href="$1"'));return P.jsx("span",{style:{color:u||ay(a),fontFamily:h||"inherit"},dangerouslySetInnerHTML:{__html:$},onClick:j=>{const G=j.target.getAttribute("data-internal");G&&(j.preventDefault(),p(G))}})},W=u||ay(a);return P.jsx("div",{style:{backgroundColor:a,color:W,fontFamily:h||"inherit",padding:"1rem",borderRadius:"6px",margin:"1rem 0"},children:E?P.jsxs(P.Fragment,{children:[P.jsx("textarea",{value:g,onChange:$=>v($.target.value),style:{width:"100%",minHeight:"80px",margin:"0.5rem 0",padding:"0.5rem",borderRadius:"6px",backgroundColor:a,color:W,fontFamily:h||"inherit",border:"1px solid #555"}}),e&&n&&P.jsxs(P.Fragment,{children:[P.jsx("button",{onClick:A,style:{marginTop:"0.5rem",padding:"0.5rem 1rem",background:"#444",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Save"}),P.jsx("button",{onClick:()=>S(!1),style:{marginLeft:"0.5rem",padding:"0.5rem 1rem",background:"gray",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cancel"})]})]}):P.jsxs(P.Fragment,{children:[M(),e&&n&&!E&&P.jsx("button",{onClick:()=>S(!0),style:{marginTop:"0.5rem",padding:"0.5rem 1rem",background:"#444",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Edit"})]})})}const Ti={vale:{name:"Vale",className:"vale",preview:{background:"linear-gradient(to bottom right, #1b2a2f, #2e3e3f)",color:"#c0ffd4"}},neon:{name:"Neon Glow",className:"neon",preview:{background:"black",color:"#0ff"}},pastel:{name:"Pastel Dreams",className:"pastel",preview:{background:"#ffd",color:"#333"}}};function Lf({unlockedThemes:i=[],selectedTheme:e,onChange:n,customColor:s,onCustomColorChange:a}){const[u,h]=B.useState(!1),[p,g]=B.useState(e==="custom"),v=B.useRef();B.useEffect(()=>{const A=M=>{v.current&&!v.current.contains(M.target)&&h(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const E=A=>{A==="custom"?(g(!0),n("custom")):(g(!1),n(A)),h(!1)},S=p?"Custom":Ti[e]?.name||"Select Theme";return P.jsxs("div",{ref:v,style:{position:"relative",display:"inline-block",marginTop:"1rem"},children:[P.jsx("button",{onClick:()=>h(A=>!A),style:{padding:"0.5rem 1rem",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",cursor:"pointer"},children:S}),u&&P.jsxs("div",{style:{position:"absolute",bottom:"100%",left:0,background:"#222",border:"1px solid #444",borderRadius:"6px",padding:"0.5rem 0",zIndex:10,minWidth:"150px"},children:[i.map(A=>{const M=Ti[A];return M?P.jsxs("div",{onClick:()=>E(A),style:{padding:"0.5rem 1rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",background:e===A&&!p?"#444":"transparent",color:M?.preview?.color||"#fff"},children:[P.jsx("span",{children:M.name}),P.jsx("span",{style:{width:"20px",height:"14px",background:M.preview.background,borderRadius:"4px",border:"1px solid #555"}})]},A):null}),P.jsxs("div",{onClick:()=>E("custom"),style:{padding:"0.5rem 1rem",cursor:"pointer",background:p?"#444":"transparent",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[P.jsx("span",{children:"Custom"}),P.jsx("input",{type:"color",value:s||"#ffffff",onChange:A=>a(A.target.value),style:{width:"28px",height:"18px",border:"none",padding:0,margin:0,background:"transparent"},onClick:A=>A.stopPropagation()})]})]})]})}function bI(){const{uid:i}=_y(),{currentUser:e}=il(),[n,s]=B.useState(null),[a,u]=B.useState(!0),[h,p]=B.useState("#222222"),[g,v]=B.useState(""),[E,S]=B.useState("#222222"),[A,M]=B.useState("none"),[W,$]=B.useState(!1),j=e?.id===i,re=(()=>{const de=Ti[A]||{preview:{}};return{primaryColor:de.preview.background||h,secondaryColor:de.preview.color||"#fff",fontFamily:de.fontFamily||"inherit",borderStyle:de.borderStyle||"none",bannerOverlay:de.bannerOverlay||null}})();B.useEffect(()=>{if(!i)return;s(null),u(!0),(async()=>{try{const Ee=ar(Pn,"users",i),D=await js(Ee);if(D.exists()){const T=D.data();T.id=i,T.unlockedThemes=T.unlockedThemes||Object.keys(Ti),s(T),p(T.themeColor||"#222222"),v(T.bannerUrl||""),S(T.bannerUrl||T.themeColor||"#222222"),M(T.themeId||"none")}else s(null)}catch(Ee){console.error("Error fetching profile:",Ee),s(null)}finally{u(!1)}})()},[i]);const J=async()=>{if(i)try{const de=ar(Pn,"users",i);await Nf(de,{themeColor:h,bannerUrl:g,themeId:A}),s(Ee=>({...Ee,themeColor:h,bannerUrl:g,themeId:A})),S(g),$(!1)}catch(de){console.error("Error saving profile:",de)}},ae=async de=>{if(i)try{const Ee=ar(Pn,"users",i);await Nf(Ee,{bio:de}),s(D=>({...D,bio:de}))}catch(Ee){console.error("Error saving bio:",Ee)}};return a?P.jsx("p",{children:"Loading..."}):n?P.jsxs("div",{style:{maxWidth:"900px",margin:"2rem auto",padding:"1rem",borderRadius:"12px",backgroundColor:re.primaryColor,color:re.secondaryColor,fontFamily:re.fontFamily,border:re.borderStyle,transition:"all 0.3s ease"},children:[P.jsx("div",{style:{width:"100%",height:"200px",borderRadius:"12px",marginBottom:"1rem",backgroundColor:E?void 0:h,backgroundImage:E?`url(${E})`:void 0,backgroundSize:"cover",backgroundPosition:"center",position:"relative",overflow:"hidden"},children:W&&j&&P.jsx("input",{type:"text",placeholder:"Banner Image URL",value:g,onChange:de=>{v(de.target.value),S(de.target.value)},style:{position:"absolute",bottom:"10px",left:"10px",width:"70%",padding:"0.3rem",borderRadius:"6px",border:"1px solid #555",background:"#222",color:"#fff"}})}),P.jsxs("div",{style:{display:"flex",gap:"2rem"},children:[P.jsxs("div",{style:{flex:"1",background:"#222",padding:"1rem",borderRadius:"8px"},children:[P.jsx("h2",{children:"Kudos"}),P.jsx("ul",{children:n.kudos&&Object.entries(n.kudos).map(([de,Ee])=>P.jsxs("li",{children:[P.jsxs("strong",{children:[de,":"]})," ",Ee]},de))})]}),P.jsxs("div",{style:{flex:"2"},children:[P.jsx("h1",{style:{marginBottom:"0.5rem"},children:n.name}),P.jsxs("p",{children:[P.jsx("strong",{children:"Faction:"})," ",n.faction]}),P.jsx(MI,{initialBio:n.bio||"",isOwner:j,editable:j,onSave:ae,themeColor:re.secondaryColor,textColor:re.secondaryColor,backgroundColor:re.primaryColor}),j&&!W&&P.jsx("button",{onClick:()=>$(!0),style:{marginTop:"0.5rem",padding:"0.5rem 1rem",background:"#444",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Edit Profile"}),j&&W&&P.jsxs("div",{style:{marginTop:"1rem"},children:[P.jsxs("label",{children:["Theme Color:"," ",P.jsx("input",{type:"color",value:h,onChange:de=>p(de.target.value)})]}),P.jsx(Lf,{unlockedThemes:n.unlockedThemes||Object.keys(Ti),selectedTheme:A,onChange:M,customColor:h,onCustomColorChange:p}),P.jsx("button",{onClick:J,style:{marginTop:"0.5rem",padding:"0.5rem 1rem",background:"#444",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Save Profile"}),P.jsx("button",{onClick:()=>$(!1),style:{marginLeft:"0.5rem",padding:"0.5rem 1rem",background:"gray",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cancel"})]}),!j&&P.jsx("p",{style:{marginTop:"1rem"},children:"View-only profile"})]})]})]}):P.jsx("p",{children:"User not found."})}function FI({type:i,src:e,title:n=""}){switch(i){case"youtube":return P.jsx("div",{className:"media-container youtube",children:P.jsx("iframe",{className:"youtube-embed",src:e,title:n,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})});case"gdrive":return P.jsx("div",{className:"media-container drive",children:P.jsx("iframe",{className:"drive-embed",src:e,title:n,allow:"autoplay",allowFullScreen:!0})});case"image":return P.jsx("div",{className:"media-container image",children:P.jsx("img",{src:e,alt:n,className:"responsive-image"})});case"audio":return P.jsx("div",{className:"media-container audio",children:P.jsxs("audio",{controls:!0,children:[P.jsx("source",{src:e}),"Your browser does not support audio playback."]})});case"pdf":return P.jsx("div",{className:"media-container pdf",children:P.jsx("iframe",{src:e,title:n,className:"pdf-embed"})});default:return P.jsxs("p",{children:["Unsupported media type: ",i]})}}async function ly(i,e,n=1){const s=ar(Pn,"users",i);(await js(s)).exists()&&await Nf(s,{[`kudos.${e}`]:iI(n)})}async function UI(i){const e=ar(Pn,"users",i),n=await js(e);if(!n.exists())return null;const s=n.data().kudos||{},a=[];for(const[u,h]of Object.entries(s))h>=500?a.push({faction:u,tier:"Gold"}):h>=200?a.push({faction:u,tier:"Silver"}):h>=50&&a.push({faction:u,tier:"Bronze"});return a}const jI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAIAAAAnuUURAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAFfSURBVGhD7ZdbroMwDETJ3RerZ2HcqUItN09jhj6UnJ9GFeDTmYBo2LZt+Xr+jk8e67oeKx58yzsgW8Yg6XEOmeVNMC2l6H3fuaXPxnkMZplsRO7WnI3z4FgWyyWWPhvnQbBs1MoqfTbO46plt1BK6QNkaQ/pYpye/5AyEm2GEOJag++PFQZkBzgmnrDUcnERyT3kgOJvEOyj+5Y1OU1iE49sK2q6DlVLi1yCaOEUu6KmJpNaOuQ0PrkiL2LdtD8ODB9PoptE0Yab4xJPt2rjDuLVdel6ngU5N7Hq3z1GRCjfml3Xmpxw4knUQHsUb6CiaFdO6FsKNd3EoGgJ8rDto09YClo3D6lmKTgmeiwj4mrM0j0I+N+JMNU++IoiGOD9EiCkOzZiwhhZvgeCZbv063WD2TgPjmWtdErdYDbOg2aZl86qG8zGeYxnqbcmcVOC2TgPsmUsmls3+IUsl+UfkRT2tZ8U3h8AAAAASUVORK5CYII=",zI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAIAAAAnuUURAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAIXSURBVGhD7ZcxUsMwEEVtDpCBJhUlAz0nyVFzEnoYSnqYXCB852s2G2ktyYpQxIxfYWyJWM9fXlsej8fj0D137m/frJb1+B+W1apnHEe3Nwz6nGy/cpRrLS/kDtN23JwOLpFR5P8XjVtueR7vJEeoqFuA6Q3yhy60dPNo2XiNAnqN68kbvdwyU1GC1F0/hz22D4+7zNEX1zj8GKTGVPz4PLdLF/yoSMJTmSyzxEnf36YdGVWraNBOdDv97jc7Hn5/7dGbI7pgxkXx5dWNTRU5JOKHdiBdniJBI1pwnXGN3CxFEchOkrgiQVcy0awstSJ4fnI7+TAzd3CJXEAk0XSW1yuCOUUhnmgiS08RlFkmYaLAfDzFLENF8EeWmnDqu1sTSaia2SybzbWJF2duls0UzSyzLFumaGJb6ulurxg+lbqrHpOEZfsgzed/p1l6NRSzvHnRCL4l7ll923bC2ZJ+KG1WN1eHnTC9exjeTV7Zc/jvHp1fJ4Svn75qHF8js6sNxmmSP+nyuUOW3i38+XY7KWKJia2e8WqWGs84EyqCcCHsVm5zBQSa1RDnOgwSuPsSrcB8+pQFU4apCPxVcPtQpVzmFIFvSegKQt1arrqWI37EthREV77/iwkfMZQjCY14tyC6QtzbfOxpLZA5NMi11MAYvwq9kxSMRUos29PXG3KO1bIeq2U9Vst6rJb1WC3rsVrWYhh+AT8GPEQxrEI6AAAAAElFTkSuQmCC",BI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAIAAAAnuUURAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAJ7SURBVGhD7dXNcdswEMVxNZGiUoxm0oGuOaeFuI7koEs6SRnKs//IywYfBEWuHXnCNzsyAYLY34DS+HR7DzmUeTmUeclXnk6vsGf5mxQRr9drOvT/U0JULpdLLjRfKeLjKuNBkkRozkYtkWRBM5WFFvJAyhGRpEDzlRpycT6fGZZ1O7J3C4hWavjpyzegKJksq7dm1/MVUamUWdAEJQ4FIlVB/5lygRihzh7oLqV6GzpSprz0jU+q5fJBUlnQLY9BdG9lqtwJTVCOiBRQ542UdLWyS/zx/SfFcD90i1JERf0EbZX4vn58MvStlW0/sypiVBq6+dt5x2ptzRESiJ9PHyLIRM1HpaHOXdD7lNrdUA1FoYCidNlHWakT5atS9l2RtUu1aXuQqkiM1eVuht6hpAGxsi1Y+uTVR2i7Sdl9llXrtN3zrzq8a7qicVVDlaFevw06XwSx7DomVgWuVao2QDOVmoHFlxWfb7ms1FeTDUuncSYrFogqIyh8Ls3ExbEMJVPoXKldgEYiLF/zGYkcZFzsIRWhu5R6uHuQ7iqNu2ros/TrZj7OMKmKSmUZOrzX7sLuNKY3Vc27POmVplProauUOtFWSft4QnzG0gynaGhc4xbTn1H/hh6QzK/bREAuC2yl7GANkxWRAoqSRkXwd4ZKPYMSYqvRJL2p6hZ343BU2v/53+XicXZmIToaqlOliW00qZlWqapWdot2y9B6Sov8ohUNHWnK1Suk9HuJhkXzOx2l1kXonqzfx2epTJS6Pd1XC0YpKwZZWMDjiq0VtK/kmYW8bP5nGUPSnSlXzfUoQ6VuPFqKrDrLh82hzMuhzMuhzMuhzMrt9gtPJt0KlwCogAAAAABJRU5ErkJggg==",HI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAIAAAAnuUURAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAIDSURBVGhD7Zm9TgJBEMfRwsJCSSyp7K2priYhFpRq4wMYn0Br38D4ADRaSkWkppHa3kZKoza258AMx3of+/k/PXL3ywZ2LmH43ezd7S5sxXHcqjzb8l5tamb5OR9RkwAN4Lpkufb8XMLOsN0ZcB9FaC1ZcXZ3L2FnuHhFFzW0lpPrU+mt6A3Gk1G/d/MgMQLAiJMomUnAdL+kAwJz91DxqEmAViQwT3Uq527/kjpHh+/wW4fA1JIUo51jai+vB3IICsByOp1+j28lWIbSwxFqSU5RFEmwHHEK4aJBlinFBLiov2WRIoMV9bTUKzJAUR9LG0UGJepsaa/IQESD7h6V9dxTAm6WroVkwsvpYOmnyASK2lqGKDIholaW4YqMt6jZEqXI+IkaLLGKjIeoztJJMb1c1+IqWmhZRhVVnETzLctWZOxFf+8oZvvSWe1ZVWTHndnW5GwjsxvIZeZszoRF8uINk2KpKBKpGc/pstNgSFsgurZUS2JwyisnfyT3h40kc27apMCabV2+ZZb1F+Sdrt6SyCZXjVnUypJJpUuffcGIGC0ZNXn34kx6Wj+BLMN5ujqJn/eofbw9yiEo5hmyCtTMskJr9f+iscTRWOKAWaZnKSg1q+VmPC+bEc+s3GwpXtgnRTWuGu1xs8wuZu0J+TfNt5Z/S82eRKXSWOLYBMtW6wc8PaJ1h4nRFwAAAABJRU5ErkJggg==",$I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAIAAAAnuUURAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAMwSURBVGhD7ZZBkuIwDEWha441s+NewL3YcTDmke/WKLLjGFAopqrfIh07ivX9JXfY32633cfzVf5+Nv+Hymcqvt/vdfO2bumpbKph8nq9Xi4X7s/nsya3lttWKX3H45ErUpZUGiEmnUZfogN9kvghRC8lsQy+scpC8+nWFZ95qWqWwZzJ3DtlvAyLQBkk0fBSQkPndfBeSl+6tbEvSfBn4nA4lKk1MHiy7w471LA8S2LxjNcHuY/fFZvMtTNNZSD3SBWVqpHdL0m0w766B0VmCb2rRJYOr5ZuHmQ9QpyG1JRrJxISvZydHrKCpQmQ9fc3JtfDi0CYKLMZzFTqBNQOKXcZTEgo82U8kS7OKCrRJ4m6PsfpdFJ/p/Oldad/kYVXhAILijLOoP3tqc9vXXQi697wO2TDWQ0Qvz0dvD1LVrE9o0xV8K4o4wH+eelfq00SdlyaATy1eX+wvKNksVpZzKrlv8rfiSVxxmqAUHoFe7kBWw3pfaFFJXFBgTqsU7gAasikggxuZpx2XyKR3teNZlYxM4JEhkg3GIada3tlsEDxUjYogSSaMfrM9E3lFQtuRo67q3WC7nh6SBP+g2i+TuObD8z+kV15vJdNiTBr2/Y+XMuaFCDMPwL/dMnUJnbC9FbdA7EvOxINYhTG1RKAiqBHD0EK9AH3bFWTnpV/AU23wiuqANg8M3JFwycIdq58ewj1bo3QkchSomlYwDYPK14K/wLUXspv0nOtOwT0SDUFtW8nEnyW2bdniZGdgGltpveLINfOmSF9zVwP/NpYRXWsJZI+5H70R3SOSvRJoq7P0fkR/apKrUv5jFeEAguKMp4YOj3jsHrzgNdFJ7LuDb9DNmyvZPZlH29PsMpge0aZmkjz0idunnGw49IM4KnNB+8zVS6JG2RzlbVEdVgoXAfJsoIEVZv0JRLpfd1oZhXJ4hr0ifyKSyLLyhh9Ffum2itlXJF8evTp82tqvm5ZSszV5vtC01SCBIUFzWOwTgDC/CPoCE3uy45EgxiFcZWj4k1e1oy4pQpAR8m2357g1hKEdSTCtl4Kc0s8kfEdKl/nfb82XuFHZR4/KrPY7f4CSd+rRlyYdSsAAAAASUVORK5CYII=",WI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAlCAYAAADFniADAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAHTSURBVFhH7Ze9SgNBEMdXSxt9A0ErxTZoayGCRV5A0MLCSjAPYWEVwUqwEnwAUwhiwFZJadBKxTfwCfyYOAPjsB+zsxs8xB8c2c0dd7/7z9zmMvHxhWsYk/jZKBopZS7f9eAVR2HWWrM4ysMs1Tm+wZFzRzOLOHJu/+0BR85191ZxlIdJCoS4SAgQtIiZewouyFPhxPZpMEnB3W+szOHMT//ifLRZKH76TpbDp7jvn+Ioj0YuCf9SWoqldu/ecVSPaklBw8eaPodqUpBYrdT+Zk8BtcpGVDmbLJvmdzGGSQpeWy5vn3HmZ7h94OZbbZzlYU5qYX1ptEl4KdtbHZNYtpQvJS5S4wnMep8iIUiIX1xK8fnj1dD1zrruadDDb9JkJyUBAZkOzEsSUyclU4qlI8lNSyUFQi/TUzj7CSVCUjwhSpH2HW7uqMSKyzcOkknxsvmgJGRiHNoH7+2aMkalfEK8HITvuxCa/gqeiYR+A3VPQRqUCJUDkCnRcfwYSWql90rxsoV6iSAhEpGCEn5O/i+b4+2pWHPLC0tS+4lYbwUbnfdUKq0cQAaINXv6lsZA6ulLLgkAfwotqfF0gKJ1iiA5wLJMaGUIlRTH8tKmlfnGuU9TPzvAR0FQxgAAAABJRU5ErkJggg==",qI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAyCAIAAACsz36AAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAANFSURBVFhHzZhNlqowEIVdlztwI0xcihP2gBPHeliADJzrkBHHDbCDvFuVSgwhRhKi/e7p0z8g5OPWT4redP+NFqEo1bd1td1uNxB+QFXdKyWnC+kzSt9WQMDiFWCIRVS1P0SBGTUWhwG9avaXZncUezbbqu2vt1+hKMVu0MOr8Umr4udw6s67Y7O7XG+j/lhBhVHED8Sl7ofSOfFOARQ8vYCwJXL0+wqitBWDgORnlkA+ilKDCU75GolrhvJ8GFd+Gh0o4IoJD1L2j1FMeP4WBbXzYxTqmS06KC30LRSsgCXi+xRtKViL1qGFIyiZaStd+iXePWkDcw5jO611StIqzf4RRUlvKuS2tXSydb4VQJpdpxfyUe77Y3YFmQv5Up4qQITfLZ8vDo3dVico0HA4mmabhsJX0Y6Nu2MPj3xZYrKEQ6Pv4KOom324RJRbxyvRpm3vPpdNANwdn3cnjYAreSjQ+Pw8OdhODo7zafL5AIrB/krjZxJ6yOYwyCEjH2U8XcQVHl/laCHp4HBoLncex1y9UCjnSa9sxzVyzhEKllpE6NRH8UOS2V5otARFeGfNgFoRF4XM/PZom4yil0CJ2UbiiVAwGLQ1okFF6HRbWpKbJP2N7zLxU6DVPX22JUv42ndzMaFgeL4eqL51iwNQz10ZVp550Kds3194wD66nWC59G7gNRJPftpCpsWFcyVD4jQXcOSVxUdBp7IRKoZCz0bZOi9gVz4Kirksih5PKTRvstUqgkI5JkdXyMnWD3eLuYJHkaO5MkkSy1ar7wZouSVQAMVWEB5HjmaJ70MgC+vfR0EFvZrcChR5maICDmw3Qc1Q8ErmRii9m2nxPdiSaAG7CqAYEmwXNOvKiRRpSwCy3BIolrZ5AZLeyuNOcAd+p5krr/Bko5AlXMAfepqnCQq/fNj6IYflRIpM3SwqYFceiv2PBmYCpEpyoqQWsKspyvOBSQDvl0i382HIyFlryfJstZql7XNcMrgHpQ1d2Obn8lGyZSMLT1KzRKsYis52siSll7gqg2I7AFDyLIHKoGgSFF18ZIyrAIptRLAEdSdH07UWxXbElZZAa1HwmkLvZ/wOtcYSaC3KSO9Q3fWU0w8n6rp/C17aXNf4XQ4AAAAASUVORK5CYII=",GI={1:jI,2:zI,3:BI,4:HI,5:$I,6:WI,7:qI};function KI({contentCreatorId:i,contentCreatorFaction:e}){const{currentUser:n}=il(),s=async()=>{if(!n)return;const u=n.id,h=n.faction;try{await ly(i,h,10),await ly(u,e,1);const p=await UI(i);console.log("Milestones reached:",p)}catch(p){console.error("Error handling like:",p)}},a=GI[e];return P.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-gray-300 shadow-sm hover:shadow-md hover:scale-105 transition",children:[a&&P.jsx("img",{src:a,alt:`Faction ${e} icon`,className:"w-6 h-6 object-contain"}),P.jsx("span",{children:"Like"})]})}function QI({post:i,currentUser:e}){if(!i)return P.jsx("p",{children:"Loading..."});const n=Ti[i.themeId]||{preview:{background:"#222",color:"#fff"}};return P.jsxs("div",{className:"content-module",style:{backgroundColor:n.preview.background,color:n.preview.color,fontFamily:n.fontFamily||"inherit",borderRadius:"8px",padding:"1rem",transition:"all 0.3s ease"},children:[P.jsxs("h4",{style:{marginBottom:"0.5rem"},children:[i.title," by"," ",P.jsx("a",{href:`/profile/${i.creatorId}`,style:{color:n.preview.color,textDecoration:"underline"},children:i.creatorName})]}),P.jsx(FI,{type:i.mediaType,src:i.mediaSrc}),i.description&&P.jsx("p",{className:"content-description",children:i.description}),P.jsx(KI,{contentCreatorId:i.creatorId,contentCreatorFaction:i.creatorFaction,currentUser:e})]})}function YI(){const{uid:i}=_y(),{currentUser:e}=il(),n=e?.id===i,[s,a]=B.useState(null),[u,h]=B.useState([]),[p,g]=B.useState(!0),[v,E]=B.useState(""),[S,A]=B.useState("none"),[M,W]=B.useState("#ffffff"),[$,j]=B.useState("none"),[G,re]=B.useState("#ffffff"),[J,ae]=B.useState({title:"",mediaType:"image",src:"",themeId:"none",description:"",banner:""});B.useEffect(()=>{if(!i)return;(async()=>{g(!0);try{const R=await js(ar(Pn,"users",i)),k=R.exists()?{name:R.data()?.name||"Unknown Creator",themeId:R.data()?.themeId||"none",banner:R.data()?.banner||"",...R.data()}:{name:"Unknown Creator",themeId:"none",banner:""};a(k),E(k.banner),A(k.themeId);const b=(await nI(xf(Pn,"users",i,"posts"))).docs.map($e=>{const Ze=$e.data()||{};return{id:$e.id,creatorId:i,creatorName:k.name,creatorFaction:k.faction||"Unknown",title:Ze.title||"Untitled",mediaType:Ze.mediaType||"image",mediaSrc:Ze.src||"",themeId:Ze.themeId||"none",description:Ze.description||"",date:Ze.date||null}});h(b);const C=await js(ar(Pn,"creatorPages",i));if(C.exists()){const $e=C.data();j($e.creatorPageThemeId||"none"),re($e.customColor||"#ffffff")}}catch(R){console.error("Error fetching creator:",R)}finally{g(!1)}})()},[i]);const de=async()=>{if(n)try{await y_(ar(Pn,"creatorPages",i),{creatorPageThemeId:$,customColor:G},{merge:!0}),alert("Page theme saved!")}catch(T){console.error("Error saving page theme:",T)}},Ee=async()=>{if(n)try{const T=await v_(xf(Pn,"users",i,"posts"),J);h([...u,{id:T.id,creatorId:i,creatorName:s?.name||"Unknown Creator",creatorFaction:s?.faction||"Unknown",title:J.title||"Untitled",mediaType:J.mediaType||"image",mediaSrc:J.src||"",themeId:J.themeId||"none",description:J.description||"",banner:J.banner||"",date:J.date||null}]),ae({title:"",mediaType:"image",src:"",themeId:"none",description:"",banner:""})}catch(T){console.error("Error creating post:",T)}};if(p)return P.jsx("p",{children:"Loading..."});if(!s)return P.jsx("p",{children:"Creator not found."});const D=$==="custom"?{preview:{background:G,color:"#000"}}:Ti[$]||{preview:{background:"#222",color:"#fff"}};return P.jsxs("div",{style:{maxWidth:"900px",margin:"2rem auto",padding:"1rem",borderRadius:"12px",backgroundColor:D.preview.background,color:D.preview.color,fontFamily:D.fontFamily||"inherit"},children:[P.jsx("div",{style:{width:"100%",height:"200px",backgroundImage:`url(${v})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"},children:P.jsx("h1",{style:{color:"#fff",background:"rgba(0,0,0,0.4)",padding:"0.5rem 1rem",borderRadius:"6px"},children:s.name})}),n&&P.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",border:"1px solid #3e3d3dff",borderRadius:"8px",background:"#111"},children:[P.jsx("h3",{style:{color:$==="custom"?G:"#fff"},children:"Edit Creator Theme & Banner"}),P.jsx(Lf,{unlockedThemes:Object.keys(Ti),selectedTheme:$,onChange:j,customColor:G,onCustomColorChange:re}),P.jsxs("label",{children:[P.jsxs("div",{style:{color:G},children:[" Custom Theme Color:"," "," "]}),P.jsx("input",{type:"color",value:G,onChange:T=>re(T.target.value)})]}),P.jsx("br",{}),P.jsx("input",{type:"text",placeholder:"Banner URL",value:v,onChange:T=>E(T.target.value),style:{color:"#000",width:"100%",marginTop:"0.5rem"}}),P.jsx("br",{}),P.jsx("button",{onClick:de,style:{marginTop:"0.5rem",color:$==="custom"?G:"#fff"},children:"Save Theme & Banner"})]}),n&&P.jsxs("div",{style:{margin:"1rem 0",padding:"1rem",border:"1px solid #555",borderRadius:"8px",background:"#111"},children:[P.jsx("h3",{children:"New Post"}),P.jsx("input",{type:"text",placeholder:"Title",value:J.title,onChange:T=>ae({...J,title:T.target.value}),style:{color:"#000",width:"100%",marginBottom:"0.5rem"}}),P.jsx("input",{type:"text",placeholder:"Media URL",value:J.src,onChange:T=>ae({...J,src:T.target.value}),style:{color:"#000",width:"100%",marginBottom:"0.5rem"}}),P.jsxs("select",{value:J.mediaType,onChange:T=>ae({...J,mediaType:T.target.value}),style:{color:"#000",marginBottom:"0.5rem"},children:[P.jsx("option",{value:"image",children:"Image"}),P.jsx("option",{value:"youtube",children:"YouTube"}),P.jsx("option",{value:"video",children:"Video"}),P.jsx("option",{value:"gdrive",children:"GDrive"})]}),(J.mediaType==="youtube"||J.mediaType==="gdrive")&&P.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.5rem 1rem",backgroundColor:"#333",color:"#fff",borderRadius:"6px",fontSize:"0.9rem"},children:[J.mediaType==="youtube"&&P.jsxs("p",{children:['To embed a YouTube video, click "Share"  "Embed", then copy just the `src` link. Example: ',P.jsx("br",{}),"https://www.youtube.com/embed/lqZWO5K1xtA"]}),J.mediaType==="gdrive"&&P.jsxs("p",{children:['Paste the Google Drive file share link, make sure "Anyone with the link can view" is enabled, and replace ',P.jsx("code",{children:"view"})," with ",P.jsx("code",{children:"preview"})," for in-page display."]})]}),P.jsx("br",{}),"Post theme:  ->",P.jsx(Lf,{unlockedThemes:Object.keys(Ti),selectedTheme:J.themeId,onChange:T=>ae({...J,themeId:T}),customColor:G,onCustomColorChange:re}),P.jsx("textarea",{placeholder:"Description",value:J.description,onChange:T=>ae({...J,description:T.target.value}),style:{color:"#000",width:"100%",marginBottom:"0.5rem"}}),P.jsx("button",{onClick:Ee,children:"Upload"})]}),P.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:u.map(T=>P.jsx(QI,{post:T,currentUser:e},T.id))})]})}function XI(){return P.jsx(uI,{children:P.jsx(e0,{children:P.jsx(Nw,{children:P.jsxs(Vs,{path:"/",element:P.jsx(cI,{}),children:[P.jsx(Vs,{index:!0,element:P.jsx(hI,{})}),P.jsx(Vs,{path:"new-user",element:P.jsx(fI,{})}),P.jsx(Vs,{path:"profile/:uid",element:P.jsx(bI,{})}),P.jsx(Vs,{path:"active-projects",element:P.jsx(dI,{})}),P.jsx(Vs,{path:"creator-page/:uid",element:P.jsx(YI,{})})]})})})})}FE.createRoot(document.getElementById("root")).render(P.jsx(NE.StrictMode,{children:P.jsx(XI,{})}));
