(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function wv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var wf={exports:{}},$a={},Ef={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg;function ZE(){if(Rg)return Ne;Rg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function S(L){return L===null||typeof L!="object"?null:(L=T&&L[T]||L["@@iterator"],typeof L=="function"?L:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,V={};function F(L,K,le){this.props=L,this.context=K,this.refs=V,this.updater=le||P}F.prototype.isReactComponent={},F.prototype.setState=function(L,K){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,K,"setState")},F.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function $(){}$.prototype=F.prototype;function ee(L,K,le){this.props=L,this.context=K,this.refs=V,this.updater=le||P}var Z=ee.prototype=new $;Z.constructor=ee,z(Z,F.prototype),Z.isPureReactComponent=!0;var ie=Array.isArray,ae=Object.prototype.hasOwnProperty,Ee={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function x(L,K,le){var ke,ve={},be=null,Oe=null;if(K!=null)for(ke in K.ref!==void 0&&(Oe=K.ref),K.key!==void 0&&(be=""+K.key),K)ae.call(K,ke)&&!b.hasOwnProperty(ke)&&(ve[ke]=K[ke]);var Fe=arguments.length-2;if(Fe===1)ve.children=le;else if(1<Fe){for(var qe=Array(Fe),yt=0;yt<Fe;yt++)qe[yt]=arguments[yt+2];ve.children=qe}if(L&&L.defaultProps)for(ke in Fe=L.defaultProps,Fe)ve[ke]===void 0&&(ve[ke]=Fe[ke]);return{$$typeof:r,type:L,key:be,ref:Oe,props:ve,_owner:Ee.current}}function R(L,K){return{$$typeof:r,type:L.type,key:K,ref:L.ref,props:L.props,_owner:L._owner}}function D(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function N(L){var K={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(le){return K[le]})}var j=/\/+/g;function C(L,K){return typeof L=="object"&&L!==null&&L.key!=null?N(""+L.key):K.toString(36)}function et(L,K,le,ke,ve){var be=typeof L;(be==="undefined"||be==="boolean")&&(L=null);var Oe=!1;if(L===null)Oe=!0;else switch(be){case"string":case"number":Oe=!0;break;case"object":switch(L.$$typeof){case r:case e:Oe=!0}}if(Oe)return Oe=L,ve=ve(Oe),L=ke===""?"."+C(Oe,0):ke,ie(ve)?(le="",L!=null&&(le=L.replace(j,"$&/")+"/"),et(ve,K,le,"",function(yt){return yt})):ve!=null&&(D(ve)&&(ve=R(ve,le+(!ve.key||Oe&&Oe.key===ve.key?"":(""+ve.key).replace(j,"$&/")+"/")+L)),K.push(ve)),1;if(Oe=0,ke=ke===""?".":ke+":",ie(L))for(var Fe=0;Fe<L.length;Fe++){be=L[Fe];var qe=ke+C(be,Fe);Oe+=et(be,K,le,qe,ve)}else if(qe=S(L),typeof qe=="function")for(L=qe.call(L),Fe=0;!(be=L.next()).done;)be=be.value,qe=ke+C(be,Fe++),Oe+=et(be,K,le,qe,ve);else if(be==="object")throw K=String(L),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Oe}function Dt(L,K,le){if(L==null)return L;var ke=[],ve=0;return et(L,ke,"","",function(be){return K.call(le,be,ve++)}),ke}function Mt(L){if(L._status===-1){var K=L._result;K=K(),K.then(function(le){(L._status===0||L._status===-1)&&(L._status=1,L._result=le)},function(le){(L._status===0||L._status===-1)&&(L._status=2,L._result=le)}),L._status===-1&&(L._status=0,L._result=K)}if(L._status===1)return L._result.default;throw L._result}var We={current:null},oe={transition:null},we={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:oe,ReactCurrentOwner:Ee};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:Dt,forEach:function(L,K,le){Dt(L,function(){K.apply(this,arguments)},le)},count:function(L){var K=0;return Dt(L,function(){K++}),K},toArray:function(L){return Dt(L,function(K){return K})||[]},only:function(L){if(!D(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ne.Component=F,Ne.Fragment=t,Ne.Profiler=o,Ne.PureComponent=ee,Ne.StrictMode=i,Ne.Suspense=m,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=we,Ne.act=ue,Ne.cloneElement=function(L,K,le){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var ke=z({},L.props),ve=L.key,be=L.ref,Oe=L._owner;if(K!=null){if(K.ref!==void 0&&(be=K.ref,Oe=Ee.current),K.key!==void 0&&(ve=""+K.key),L.type&&L.type.defaultProps)var Fe=L.type.defaultProps;for(qe in K)ae.call(K,qe)&&!b.hasOwnProperty(qe)&&(ke[qe]=K[qe]===void 0&&Fe!==void 0?Fe[qe]:K[qe])}var qe=arguments.length-2;if(qe===1)ke.children=le;else if(1<qe){Fe=Array(qe);for(var yt=0;yt<qe;yt++)Fe[yt]=arguments[yt+2];ke.children=Fe}return{$$typeof:r,type:L.type,key:ve,ref:be,props:ke,_owner:Oe}},Ne.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:l,_context:L},L.Consumer=L},Ne.createElement=x,Ne.createFactory=function(L){var K=x.bind(null,L);return K.type=L,K},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(L){return{$$typeof:f,render:L}},Ne.isValidElement=D,Ne.lazy=function(L){return{$$typeof:E,_payload:{_status:-1,_result:L},_init:Mt}},Ne.memo=function(L,K){return{$$typeof:y,type:L,compare:K===void 0?null:K}},Ne.startTransition=function(L){var K=oe.transition;oe.transition={};try{L()}finally{oe.transition=K}},Ne.unstable_act=ue,Ne.useCallback=function(L,K){return We.current.useCallback(L,K)},Ne.useContext=function(L){return We.current.useContext(L)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(L){return We.current.useDeferredValue(L)},Ne.useEffect=function(L,K){return We.current.useEffect(L,K)},Ne.useId=function(){return We.current.useId()},Ne.useImperativeHandle=function(L,K,le){return We.current.useImperativeHandle(L,K,le)},Ne.useInsertionEffect=function(L,K){return We.current.useInsertionEffect(L,K)},Ne.useLayoutEffect=function(L,K){return We.current.useLayoutEffect(L,K)},Ne.useMemo=function(L,K){return We.current.useMemo(L,K)},Ne.useReducer=function(L,K,le){return We.current.useReducer(L,K,le)},Ne.useRef=function(L){return We.current.useRef(L)},Ne.useState=function(L){return We.current.useState(L)},Ne.useSyncExternalStore=function(L,K,le){return We.current.useSyncExternalStore(L,K,le)},Ne.useTransition=function(){return We.current.useTransition()},Ne.version="18.3.1",Ne}var Cg;function Pd(){return Cg||(Cg=1,Ef.exports=ZE()),Ef.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg;function e0(){if(Pg)return $a;Pg=1;var r=Pd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,m,y){var E,T={},S=null,P=null;y!==void 0&&(S=""+y),m.key!==void 0&&(S=""+m.key),m.ref!==void 0&&(P=m.ref);for(E in m)i.call(m,E)&&!l.hasOwnProperty(E)&&(T[E]=m[E]);if(f&&f.defaultProps)for(E in m=f.defaultProps,m)T[E]===void 0&&(T[E]=m[E]);return{$$typeof:e,type:f,key:S,ref:P,props:T,_owner:o.current}}return $a.Fragment=t,$a.jsx=h,$a.jsxs=h,$a}var kg;function t0(){return kg||(kg=1,wf.exports=e0()),wf.exports}var _=t0(),H=Pd();const Xf=wv(H);var zu={},Tf={exports:{}},kn={},Sf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function n0(){return bg||(bg=1,(function(r){function e(oe,we){var ue=oe.length;oe.push(we);e:for(;0<ue;){var L=ue-1>>>1,K=oe[L];if(0<o(K,we))oe[L]=we,oe[ue]=K,ue=L;else break e}}function t(oe){return oe.length===0?null:oe[0]}function i(oe){if(oe.length===0)return null;var we=oe[0],ue=oe.pop();if(ue!==we){oe[0]=ue;e:for(var L=0,K=oe.length,le=K>>>1;L<le;){var ke=2*(L+1)-1,ve=oe[ke],be=ke+1,Oe=oe[be];if(0>o(ve,ue))be<K&&0>o(Oe,ve)?(oe[L]=Oe,oe[be]=ue,L=be):(oe[L]=ve,oe[ke]=ue,L=ke);else if(be<K&&0>o(Oe,ue))oe[L]=Oe,oe[be]=ue,L=be;else break e}}return we}function o(oe,we){var ue=oe.sortIndex-we.sortIndex;return ue!==0?ue:oe.id-we.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var m=[],y=[],E=1,T=null,S=3,P=!1,z=!1,V=!1,F=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(oe){for(var we=t(y);we!==null;){if(we.callback===null)i(y);else if(we.startTime<=oe)i(y),we.sortIndex=we.expirationTime,e(m,we);else break;we=t(y)}}function ie(oe){if(V=!1,Z(oe),!z)if(t(m)!==null)z=!0,Mt(ae);else{var we=t(y);we!==null&&We(ie,we.startTime-oe)}}function ae(oe,we){z=!1,V&&(V=!1,$(x),x=-1),P=!0;var ue=S;try{for(Z(we),T=t(m);T!==null&&(!(T.expirationTime>we)||oe&&!N());){var L=T.callback;if(typeof L=="function"){T.callback=null,S=T.priorityLevel;var K=L(T.expirationTime<=we);we=r.unstable_now(),typeof K=="function"?T.callback=K:T===t(m)&&i(m),Z(we)}else i(m);T=t(m)}if(T!==null)var le=!0;else{var ke=t(y);ke!==null&&We(ie,ke.startTime-we),le=!1}return le}finally{T=null,S=ue,P=!1}}var Ee=!1,b=null,x=-1,R=5,D=-1;function N(){return!(r.unstable_now()-D<R)}function j(){if(b!==null){var oe=r.unstable_now();D=oe;var we=!0;try{we=b(!0,oe)}finally{we?C():(Ee=!1,b=null)}}else Ee=!1}var C;if(typeof ee=="function")C=function(){ee(j)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,Dt=et.port2;et.port1.onmessage=j,C=function(){Dt.postMessage(null)}}else C=function(){F(j,0)};function Mt(oe){b=oe,Ee||(Ee=!0,C())}function We(oe,we){x=F(function(){oe(r.unstable_now())},we)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(oe){oe.callback=null},r.unstable_continueExecution=function(){z||P||(z=!0,Mt(ae))},r.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<oe?Math.floor(1e3/oe):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_getFirstCallbackNode=function(){return t(m)},r.unstable_next=function(oe){switch(S){case 1:case 2:case 3:var we=3;break;default:we=S}var ue=S;S=we;try{return oe()}finally{S=ue}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(oe,we){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ue=S;S=oe;try{return we()}finally{S=ue}},r.unstable_scheduleCallback=function(oe,we,ue){var L=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?L+ue:L):ue=L,oe){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ue+K,oe={id:E++,callback:we,priorityLevel:oe,startTime:ue,expirationTime:K,sortIndex:-1},ue>L?(oe.sortIndex=ue,e(y,oe),t(m)===null&&oe===t(y)&&(V?($(x),x=-1):V=!0,We(ie,ue-L))):(oe.sortIndex=K,e(m,oe),z||P||(z=!0,Mt(ae))),oe},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(oe){var we=S;return function(){var ue=S;S=we;try{return oe.apply(this,arguments)}finally{S=ue}}}})(Af)),Af}var Ng;function r0(){return Ng||(Ng=1,Sf.exports=n0()),Sf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg;function i0(){if(Dg)return kn;Dg=1;var r=Pd(),e=r0();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){h(n,s),h(n+"Capture",s)}function h(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},T={};function S(n){return m.call(T,n)?!0:m.call(E,n)?!1:y.test(n)?T[n]=!0:(E[n]=!0,!1)}function P(n,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function z(n,s,a,c){if(s===null||typeof s>"u"||P(n,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function V(n,s,a,c,d,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){F[n]=new V(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];F[s]=new V(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){F[n]=new V(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){F[n]=new V(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){F[n]=new V(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){F[n]=new V(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){F[n]=new V(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){F[n]=new V(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){F[n]=new V(n,5,!1,n.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function ee(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace($,ee);F[s]=new V(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace($,ee);F[s]=new V(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace($,ee);F[s]=new V(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){F[n]=new V(n,1,!1,n.toLowerCase(),null,!1,!1)}),F.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){F[n]=new V(n,1,!1,n.toLowerCase(),null,!0,!0)});function Z(n,s,a,c){var d=F.hasOwnProperty(s)?F[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(z(s,a,d,c)&&(a=null),c||d===null?S(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,s,a):n.setAttribute(s,a))))}var ie=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ae=Symbol.for("react.element"),Ee=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),N=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),Dt=Symbol.for("react.memo"),Mt=Symbol.for("react.lazy"),We=Symbol.for("react.offscreen"),oe=Symbol.iterator;function we(n){return n===null||typeof n!="object"?null:(n=oe&&n[oe]||n["@@iterator"],typeof n=="function"?n:null)}var ue=Object.assign,L;function K(n){if(L===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+n}var le=!1;function ke(n,s){if(!n||le)return"";le=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(q){var c=q}Reflect.construct(n,[],s)}else{try{s.call()}catch(q){c=q}n.call(s.prototype)}else{try{throw Error()}catch(q){c=q}n()}}catch(q){if(q&&c&&typeof q.stack=="string"){for(var d=q.stack.split(`
`),g=c.stack.split(`
`),w=d.length-1,I=g.length-1;1<=w&&0<=I&&d[w]!==g[I];)I--;for(;1<=w&&0<=I;w--,I--)if(d[w]!==g[I]){if(w!==1||I!==1)do if(w--,I--,0>I||d[w]!==g[I]){var k=`
`+d[w].replace(" at new "," at ");return n.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",n.displayName)),k}while(1<=w&&0<=I);break}}}finally{le=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?K(n):""}function ve(n){switch(n.tag){case 5:return K(n.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return n=ke(n.type,!1),n;case 11:return n=ke(n.type.render,!1),n;case 1:return n=ke(n.type,!0),n;default:return""}}function be(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case b:return"Fragment";case Ee:return"Portal";case R:return"Profiler";case x:return"StrictMode";case C:return"Suspense";case et:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case N:return(n.displayName||"Context")+".Consumer";case D:return(n._context.displayName||"Context")+".Provider";case j:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Dt:return s=n.displayName||null,s!==null?s:be(n.type)||"Memo";case Mt:s=n._payload,n=n._init;try{return be(n(s))}catch{}}return null}function Oe(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(s);case 8:return s===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Fe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function qe(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function yt(n){var s=qe(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Gn(n){n._valueTracker||(n._valueTracker=yt(n))}function Mn(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=qe(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function Vn(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function an(n,s){var a=s.checked;return ue({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Or(n,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Fe(s.value!=null?s.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ci(n,s){s=s.checked,s!=null&&Z(n,"checked",s,!1)}function Kn(n,s){ci(n,s);var a=Fe(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?vr(n,s.type,a):s.hasOwnProperty("defaultValue")&&vr(n,s.type,Fe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function hi(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function vr(n,s,a){(s!=="number"||Vn(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var Qn=Array.isArray;function Yn(n,s,a,c){if(n=n.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=s.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Fe(a),s=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function xs(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Lr(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Qn(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:Fe(a)}}function Xn(n,s){var a=Fe(s.value),c=Fe(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Jn(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Xe(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Xe(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Zn,zi=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(s,a,c,d)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Zn=Zn||document.createElement("div"),Zn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Zn.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function er(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tr=["Webkit","ms","Moz","O"];Object.keys(Fr).forEach(function(n){tr.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Fr[s]=Fr[n]})});function jr(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Fr.hasOwnProperty(n)&&Fr[n]?(""+s).trim():s+"px"}function ln(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=jr(a,s[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var nr=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fi(n,s){if(s){if(nr[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function di(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pi=null;function _r(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var wr=null,gn=null,Qt=null;function Ui(n){if(n=Pa(n)){if(typeof wr!="function")throw Error(t(280));var s=n.stateNode;s&&(s=tu(s),wr(n.stateNode,n.type,s))}}function rr(n){gn?Qt?Qt.push(n):Qt=[n]:gn=n}function st(){if(gn){var n=gn,s=Qt;if(Qt=gn=null,Ui(n),s)for(n=0;n<s.length;n++)Ui(s[n])}}function yn(n,s){return n(s)}function Is(){}var ir=!1;function mi(n,s,a){if(ir)return n(s,a);ir=!0;try{return yn(n,s,a)}finally{ir=!1,(gn!==null||Qt!==null)&&(Is(),st())}}function ot(n,s){var a=n.stateNode;if(a===null)return null;var c=tu(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var gi=!1;if(f)try{var On={};Object.defineProperty(On,"passive",{get:function(){gi=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{gi=!1}function Vt(n,s,a,c,d,g,w,I,k){var q=Array.prototype.slice.call(arguments,3);try{s.apply(a,q)}catch(J){this.onError(J)}}var vn=!1,yi=null,_n=!1,vi=null,io={onError:function(n){vn=!0,yi=n}};function Yt(n,s,a,c,d,g,w,I,k){vn=!1,yi=null,Vt.apply(io,arguments)}function Rs(n,s,a,c,d,g,w,I,k){if(Yt.apply(this,arguments),vn){if(vn){var q=yi;vn=!1,yi=null}else throw Error(t(198));_n||(_n=!0,vi=q)}}function wn(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function zr(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function En(n){if(wn(n)!==n)throw Error(t(188))}function so(n){var s=n.alternate;if(!s){if(s=wn(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,c=s;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return En(d),n;if(g===c)return En(d),s;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=g;else{for(var w=!1,I=d.child;I;){if(I===a){w=!0,a=d,c=g;break}if(I===c){w=!0,c=d,a=g;break}I=I.sibling}if(!w){for(I=g.child;I;){if(I===a){w=!0,a=g,c=d;break}if(I===c){w=!0,c=g,a=d;break}I=I.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function ye(n){return n=so(n),n!==null?M(n):null}function M(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=M(n);if(s!==null)return s;n=n.sibling}return null}var te=e.unstable_scheduleCallback,fe=e.unstable_cancelCallback,Ke=e.unstable_shouldYield,wt=e.unstable_requestPaint,Re=e.unstable_now,Rt=e.unstable_getCurrentPriorityLevel,Ut=e.unstable_ImmediatePriority,Tn=e.unstable_UserBlockingPriority,Xt=e.unstable_NormalPriority,mt=e.unstable_LowPriority,Cs=e.unstable_IdlePriority,Ur=null,Ln=null;function bl(n){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(Ur,n,void 0,(n.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:Dl,da=Math.log,Nl=Math.LN2;function Dl(n){return n>>>=0,n===0?32:31-(da(n)/Nl|0)|0}var oo=64,ao=4194304;function Bi(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ps(n,s){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,g=n.pingedLanes,w=a&268435455;if(w!==0){var I=w&~d;I!==0?c=Bi(I):(g&=w,g!==0&&(c=Bi(g)))}else w=a&~d,w!==0?c=Bi(w):g!==0&&(c=Bi(g));if(c===0)return 0;if(s!==0&&s!==c&&(s&d)===0&&(d=c&-c,g=s&-s,d>=g||d===16&&(g&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=c;0<s;)a=31-un(s),d=1<<a,c|=n[a],s&=~d;return c}function Qc(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _i(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,g=n.pendingLanes;0<g;){var w=31-un(g),I=1<<w,k=d[w];k===-1?((I&a)===0||(I&c)!==0)&&(d[w]=Qc(I,s)):k<=s&&(n.expiredLanes|=I),g&=~I}}function Fn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ks(){var n=oo;return oo<<=1,(oo&4194240)===0&&(oo=64),n}function Hi(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function $i(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-un(s),n[s]=a}function Ye(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-un(a),g=1<<d;s[d]=0,c[d]=-1,n[d]=-1,a&=~g}}function Wi(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-un(a),d=1<<c;d&s|n[c]&s&&(n[c]|=s),a&=~d}}var Le=0;function qi(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Ml,lo,Vl,Ol,Ll,pa=!1,Br=[],Bt=null,Er=null,Tr=null,Gi=new Map,sr=new Map,Hr=[],Yc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fl(n,s){switch(n){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":Gi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":sr.delete(s.pointerId)}}function Sn(n,s,a,c,d,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},s!==null&&(s=Pa(s),s!==null&&lo(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function Xc(n,s,a,c,d){switch(s){case"focusin":return Bt=Sn(Bt,n,s,a,c,d),!0;case"dragenter":return Er=Sn(Er,n,s,a,c,d),!0;case"mouseover":return Tr=Sn(Tr,n,s,a,c,d),!0;case"pointerover":var g=d.pointerId;return Gi.set(g,Sn(Gi.get(g)||null,n,s,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,sr.set(g,Sn(sr.get(g)||null,n,s,a,c,d)),!0}return!1}function jl(n){var s=Vs(n.target);if(s!==null){var a=wn(s);if(a!==null){if(s=a.tag,s===13){if(s=zr(a),s!==null){n.blockedOn=s,Ll(n.priority,function(){Vl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function wi(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=uo(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);pi=c,a.target.dispatchEvent(c),pi=null}else return s=Pa(a),s!==null&&lo(s),n.blockedOn=a,!1;s.shift()}return!0}function bs(n,s,a){wi(n)&&a.delete(s)}function zl(){pa=!1,Bt!==null&&wi(Bt)&&(Bt=null),Er!==null&&wi(Er)&&(Er=null),Tr!==null&&wi(Tr)&&(Tr=null),Gi.forEach(bs),sr.forEach(bs)}function Sr(n,s){n.blockedOn===s&&(n.blockedOn=null,pa||(pa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,zl)))}function Ar(n){function s(d){return Sr(d,n)}if(0<Br.length){Sr(Br[0],n);for(var a=1;a<Br.length;a++){var c=Br[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Bt!==null&&Sr(Bt,n),Er!==null&&Sr(Er,n),Tr!==null&&Sr(Tr,n),Gi.forEach(s),sr.forEach(s),a=0;a<Hr.length;a++)c=Hr[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Hr.length&&(a=Hr[0],a.blockedOn===null);)jl(a),a.blockedOn===null&&Hr.shift()}var Ei=ie.ReactCurrentBatchConfig,Ki=!0;function at(n,s,a,c){var d=Le,g=Ei.transition;Ei.transition=null;try{Le=1,ma(n,s,a,c)}finally{Le=d,Ei.transition=g}}function Jc(n,s,a,c){var d=Le,g=Ei.transition;Ei.transition=null;try{Le=4,ma(n,s,a,c)}finally{Le=d,Ei.transition=g}}function ma(n,s,a,c){if(Ki){var d=uo(n,s,a,c);if(d===null)uh(n,s,c,Ns,a),Fl(n,c);else if(Xc(d,n,s,a,c))c.stopPropagation();else if(Fl(n,c),s&4&&-1<Yc.indexOf(n)){for(;d!==null;){var g=Pa(d);if(g!==null&&Ml(g),g=uo(n,s,a,c),g===null&&uh(n,s,c,Ns,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else uh(n,s,c,null,a)}}var Ns=null;function uo(n,s,a,c){if(Ns=null,n=_r(c),n=Vs(n),n!==null)if(s=wn(n),s===null)n=null;else if(a=s.tag,a===13){if(n=zr(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Ns=n,null}function ga(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rt()){case Ut:return 1;case Tn:return 4;case Xt:case mt:return 16;case Cs:return 536870912;default:return 16}default:return 16}}var jn=null,co=null,An=null;function ya(){if(An)return An;var n,s=co,a=s.length,c,d="value"in jn?jn.value:jn.textContent,g=d.length;for(n=0;n<a&&s[n]===d[n];n++);var w=a-n;for(c=1;c<=w&&s[a-c]===d[g-c];c++);return An=d.slice(n,1<c?1-c:void 0)}function ho(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function $r(){return!0}function va(){return!1}function Ht(n){function s(a,c,d,g,w){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(a=n[I],this[I]=a?a(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?$r:va,this.isPropagationStopped=va,this}return ue(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$r)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$r)},persist:function(){},isPersistent:$r}),s}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fo=Ht(xr),Wr=ue({},xr,{view:0,detail:0}),Zc=Ht(Wr),po,Ti,Qi,Ds=ue({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Qi&&(Qi&&n.type==="mousemove"?(po=n.screenX-Qi.screenX,Ti=n.screenY-Qi.screenY):Ti=po=0,Qi=n),po)},movementY:function(n){return"movementY"in n?n.movementY:Ti}}),mo=Ht(Ds),_a=ue({},Ds,{dataTransfer:0}),Ul=Ht(_a),go=ue({},Wr,{relatedTarget:0}),yo=Ht(go),Bl=ue({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),Si=Ht(Bl),Hl=ue({},xr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),$l=Ht(Hl),Wl=ue({},xr,{data:0}),wa=Ht(Wl),vo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ql={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gl(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=ql[n])?!!s[n]:!1}function qr(){return Gl}var u=ue({},Wr,{key:function(n){if(n.key){var s=vo[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ho(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?cn[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qr,charCode:function(n){return n.type==="keypress"?ho(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ho(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=Ht(u),v=ue({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=Ht(v),U=ue({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qr}),G=Ht(U),se=ue({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qe=Ht(se),Ct=ue({},Ds,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),je=Ht(Ct),Ot=[9,13,27,32],Et=f&&"CompositionEvent"in window,or=null;f&&"documentMode"in document&&(or=document.documentMode);var zn=f&&"TextEvent"in window&&!or,Ms=f&&(!Et||or&&8<or&&11>=or),_o=" ",Ep=!1;function Tp(n,s){switch(n){case"keyup":return Ot.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var wo=!1;function Yw(n,s){switch(n){case"compositionend":return Sp(s);case"keypress":return s.which!==32?null:(Ep=!0,_o);case"textInput":return n=s.data,n===_o&&Ep?null:n;default:return null}}function Xw(n,s){if(wo)return n==="compositionend"||!Et&&Tp(n,s)?(n=ya(),An=co=jn=null,wo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ms&&s.locale!=="ko"?null:s.data;default:return null}}var Jw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ap(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Jw[n.type]:s==="textarea"}function xp(n,s,a,c){rr(c),s=Jl(s,"onChange"),0<s.length&&(a=new fo("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var Ea=null,Ta=null;function Zw(n){Hp(n,0)}function Kl(n){var s=xo(n);if(Mn(s))return n}function eE(n,s){if(n==="change")return s}var Ip=!1;if(f){var eh;if(f){var th="oninput"in document;if(!th){var Rp=document.createElement("div");Rp.setAttribute("oninput","return;"),th=typeof Rp.oninput=="function"}eh=th}else eh=!1;Ip=eh&&(!document.documentMode||9<document.documentMode)}function Cp(){Ea&&(Ea.detachEvent("onpropertychange",Pp),Ta=Ea=null)}function Pp(n){if(n.propertyName==="value"&&Kl(Ta)){var s=[];xp(s,Ta,n,_r(n)),mi(Zw,s)}}function tE(n,s,a){n==="focusin"?(Cp(),Ea=s,Ta=a,Ea.attachEvent("onpropertychange",Pp)):n==="focusout"&&Cp()}function nE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Kl(Ta)}function rE(n,s){if(n==="click")return Kl(s)}function iE(n,s){if(n==="input"||n==="change")return Kl(s)}function sE(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Ir=typeof Object.is=="function"?Object.is:sE;function Sa(n,s){if(Ir(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!m.call(s,d)||!Ir(n[d],s[d]))return!1}return!0}function kp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function bp(n,s){var a=kp(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kp(a)}}function Np(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Np(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Dp(){for(var n=window,s=Vn();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Vn(n.document)}return s}function nh(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function oE(n){var s=Dp(),a=n.focusedElem,c=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&Np(a.ownerDocument.documentElement,a)){if(c!==null&&nh(a)){if(s=c.start,n=c.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!n.extend&&g>c&&(d=c,c=g,g=d),d=bp(a,g);var w=bp(a,c);d&&w&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==w.node||n.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),n.removeAllRanges(),g>c?(n.addRange(s),n.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var aE=f&&"documentMode"in document&&11>=document.documentMode,Eo=null,rh=null,Aa=null,ih=!1;function Mp(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ih||Eo==null||Eo!==Vn(c)||(c=Eo,"selectionStart"in c&&nh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Aa&&Sa(Aa,c)||(Aa=c,c=Jl(rh,"onSelect"),0<c.length&&(s=new fo("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=Eo)))}function Ql(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var To={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},sh={},Vp={};f&&(Vp=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function Yl(n){if(sh[n])return sh[n];if(!To[n])return n;var s=To[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Vp)return sh[n]=s[a];return n}var Op=Yl("animationend"),Lp=Yl("animationiteration"),Fp=Yl("animationstart"),jp=Yl("transitionend"),zp=new Map,Up="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(n,s){zp.set(n,s),l(s,[n])}for(var oh=0;oh<Up.length;oh++){var ah=Up[oh],lE=ah.toLowerCase(),uE=ah[0].toUpperCase()+ah.slice(1);Yi(lE,"on"+uE)}Yi(Op,"onAnimationEnd"),Yi(Lp,"onAnimationIteration"),Yi(Fp,"onAnimationStart"),Yi("dblclick","onDoubleClick"),Yi("focusin","onFocus"),Yi("focusout","onBlur"),Yi(jp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cE=new Set("cancel close invalid load scroll toggle".split(" ").concat(xa));function Bp(n,s,a){var c=n.type||"unknown-event";n.currentTarget=a,Rs(c,s,void 0,n),n.currentTarget=null}function Hp(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var w=c.length-1;0<=w;w--){var I=c[w],k=I.instance,q=I.currentTarget;if(I=I.listener,k!==g&&d.isPropagationStopped())break e;Bp(d,I,q),g=k}else for(w=0;w<c.length;w++){if(I=c[w],k=I.instance,q=I.currentTarget,I=I.listener,k!==g&&d.isPropagationStopped())break e;Bp(d,I,q),g=k}}}if(_n)throw n=vi,_n=!1,vi=null,n}function tt(n,s){var a=s[mh];a===void 0&&(a=s[mh]=new Set);var c=n+"__bubble";a.has(c)||($p(s,n,2,!1),a.add(c))}function lh(n,s,a){var c=0;s&&(c|=4),$p(a,n,c,s)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function Ia(n){if(!n[Xl]){n[Xl]=!0,i.forEach(function(a){a!=="selectionchange"&&(cE.has(a)||lh(a,!1,n),lh(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Xl]||(s[Xl]=!0,lh("selectionchange",!1,s))}}function $p(n,s,a,c){switch(ga(s)){case 1:var d=at;break;case 4:d=Jc;break;default:d=ma}a=d.bind(null,s,a,n),d=void 0,!gi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(s,a,{capture:!0,passive:d}):n.addEventListener(s,a,!0):d!==void 0?n.addEventListener(s,a,{passive:d}):n.addEventListener(s,a,!1)}function uh(n,s,a,c,d){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var I=c.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(w===4)for(w=c.return;w!==null;){var k=w.tag;if((k===3||k===4)&&(k=w.stateNode.containerInfo,k===d||k.nodeType===8&&k.parentNode===d))return;w=w.return}for(;I!==null;){if(w=Vs(I),w===null)return;if(k=w.tag,k===5||k===6){c=g=w;continue e}I=I.parentNode}}c=c.return}mi(function(){var q=g,J=_r(a),ne=[];e:{var X=zp.get(n);if(X!==void 0){var ce=fo,pe=n;switch(n){case"keypress":if(ho(a)===0)break e;case"keydown":case"keyup":ce=p;break;case"focusin":pe="focus",ce=yo;break;case"focusout":pe="blur",ce=yo;break;case"beforeblur":case"afterblur":ce=yo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Ul;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=G;break;case Op:case Lp:case Fp:ce=Si;break;case jp:ce=Qe;break;case"scroll":ce=Zc;break;case"wheel":ce=je;break;case"copy":case"cut":case"paste":ce=$l;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=A}var me=(s&4)!==0,vt=!me&&n==="scroll",B=me?X!==null?X+"Capture":null:X;me=[];for(var O=q,W;O!==null;){W=O;var re=W.stateNode;if(W.tag===5&&re!==null&&(W=re,B!==null&&(re=ot(O,B),re!=null&&me.push(Ra(O,re,W)))),vt)break;O=O.return}0<me.length&&(X=new ce(X,pe,null,a,J),ne.push({event:X,listeners:me}))}}if((s&7)===0){e:{if(X=n==="mouseover"||n==="pointerover",ce=n==="mouseout"||n==="pointerout",X&&a!==pi&&(pe=a.relatedTarget||a.fromElement)&&(Vs(pe)||pe[Ai]))break e;if((ce||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,ce?(pe=a.relatedTarget||a.toElement,ce=q,pe=pe?Vs(pe):null,pe!==null&&(vt=wn(pe),pe!==vt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ce=null,pe=q),ce!==pe)){if(me=mo,re="onMouseLeave",B="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(me=A,re="onPointerLeave",B="onPointerEnter",O="pointer"),vt=ce==null?X:xo(ce),W=pe==null?X:xo(pe),X=new me(re,O+"leave",ce,a,J),X.target=vt,X.relatedTarget=W,re=null,Vs(J)===q&&(me=new me(B,O+"enter",pe,a,J),me.target=W,me.relatedTarget=vt,re=me),vt=re,ce&&pe)t:{for(me=ce,B=pe,O=0,W=me;W;W=So(W))O++;for(W=0,re=B;re;re=So(re))W++;for(;0<O-W;)me=So(me),O--;for(;0<W-O;)B=So(B),W--;for(;O--;){if(me===B||B!==null&&me===B.alternate)break t;me=So(me),B=So(B)}me=null}else me=null;ce!==null&&Wp(ne,X,ce,me,!1),pe!==null&&vt!==null&&Wp(ne,vt,pe,me,!0)}}e:{if(X=q?xo(q):window,ce=X.nodeName&&X.nodeName.toLowerCase(),ce==="select"||ce==="input"&&X.type==="file")var _e=eE;else if(Ap(X))if(Ip)_e=iE;else{_e=nE;var Se=tE}else(ce=X.nodeName)&&ce.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(_e=rE);if(_e&&(_e=_e(n,q))){xp(ne,_e,a,J);break e}Se&&Se(n,X,q),n==="focusout"&&(Se=X._wrapperState)&&Se.controlled&&X.type==="number"&&vr(X,"number",X.value)}switch(Se=q?xo(q):window,n){case"focusin":(Ap(Se)||Se.contentEditable==="true")&&(Eo=Se,rh=q,Aa=null);break;case"focusout":Aa=rh=Eo=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,Mp(ne,a,J);break;case"selectionchange":if(aE)break;case"keydown":case"keyup":Mp(ne,a,J)}var Ae;if(Et)e:{switch(n){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else wo?Tp(n,a)&&(Ie="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(Ms&&a.locale!=="ko"&&(wo||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&wo&&(Ae=ya()):(jn=J,co="value"in jn?jn.value:jn.textContent,wo=!0)),Se=Jl(q,Ie),0<Se.length&&(Ie=new wa(Ie,n,null,a,J),ne.push({event:Ie,listeners:Se}),Ae?Ie.data=Ae:(Ae=Sp(a),Ae!==null&&(Ie.data=Ae)))),(Ae=zn?Yw(n,a):Xw(n,a))&&(q=Jl(q,"onBeforeInput"),0<q.length&&(J=new wa("onBeforeInput","beforeinput",null,a,J),ne.push({event:J,listeners:q}),J.data=Ae))}Hp(ne,s)})}function Ra(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Jl(n,s){for(var a=s+"Capture",c=[];n!==null;){var d=n,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=ot(n,a),g!=null&&c.unshift(Ra(n,g,d)),g=ot(n,s),g!=null&&c.push(Ra(n,g,d))),n=n.return}return c}function So(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Wp(n,s,a,c,d){for(var g=s._reactName,w=[];a!==null&&a!==c;){var I=a,k=I.alternate,q=I.stateNode;if(k!==null&&k===c)break;I.tag===5&&q!==null&&(I=q,d?(k=ot(a,g),k!=null&&w.unshift(Ra(a,k,I))):d||(k=ot(a,g),k!=null&&w.push(Ra(a,k,I)))),a=a.return}w.length!==0&&n.push({event:s,listeners:w})}var hE=/\r\n?/g,fE=/\u0000|\uFFFD/g;function qp(n){return(typeof n=="string"?n:""+n).replace(hE,`
`).replace(fE,"")}function Zl(n,s,a){if(s=qp(s),qp(n)!==s&&a)throw Error(t(425))}function eu(){}var ch=null,hh=null;function fh(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var dh=typeof setTimeout=="function"?setTimeout:void 0,dE=typeof clearTimeout=="function"?clearTimeout:void 0,Gp=typeof Promise=="function"?Promise:void 0,pE=typeof queueMicrotask=="function"?queueMicrotask:typeof Gp<"u"?function(n){return Gp.resolve(null).then(n).catch(mE)}:dh;function mE(n){setTimeout(function(){throw n})}function ph(n,s){var a=s,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),Ar(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Ar(s)}function Xi(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Kp(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),Gr="__reactFiber$"+Ao,Ca="__reactProps$"+Ao,Ai="__reactContainer$"+Ao,mh="__reactEvents$"+Ao,gE="__reactListeners$"+Ao,yE="__reactHandles$"+Ao;function Vs(n){var s=n[Gr];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Ai]||a[Gr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Kp(n);n!==null;){if(a=n[Gr])return a;n=Kp(n)}return s}n=a,a=n.parentNode}return null}function Pa(n){return n=n[Gr]||n[Ai],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function xo(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function tu(n){return n[Ca]||null}var gh=[],Io=-1;function Ji(n){return{current:n}}function nt(n){0>Io||(n.current=gh[Io],gh[Io]=null,Io--)}function Je(n,s){Io++,gh[Io]=n.current,n.current=s}var Zi={},Jt=Ji(Zi),xn=Ji(!1),Os=Zi;function Ro(n,s){var a=n.type.contextTypes;if(!a)return Zi;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=s[g];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=d),d}function In(n){return n=n.childContextTypes,n!=null}function nu(){nt(xn),nt(Jt)}function Qp(n,s,a){if(Jt.current!==Zi)throw Error(t(168));Je(Jt,s),Je(xn,a)}function Yp(n,s,a){var c=n.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(t(108,Oe(n)||"Unknown",d));return ue({},a,c)}function ru(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Zi,Os=Jt.current,Je(Jt,n),Je(xn,xn.current),!0}function Xp(n,s,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Yp(n,s,Os),c.__reactInternalMemoizedMergedChildContext=n,nt(xn),nt(Jt),Je(Jt,n)):nt(xn),Je(xn,a)}var xi=null,iu=!1,yh=!1;function Jp(n){xi===null?xi=[n]:xi.push(n)}function vE(n){iu=!0,Jp(n)}function es(){if(!yh&&xi!==null){yh=!0;var n=0,s=Le;try{var a=xi;for(Le=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}xi=null,iu=!1}catch(d){throw xi!==null&&(xi=xi.slice(n+1)),te(Ut,es),d}finally{Le=s,yh=!1}}return null}var Co=[],Po=0,su=null,ou=0,ar=[],lr=0,Ls=null,Ii=1,Ri="";function Fs(n,s){Co[Po++]=ou,Co[Po++]=su,su=n,ou=s}function Zp(n,s,a){ar[lr++]=Ii,ar[lr++]=Ri,ar[lr++]=Ls,Ls=n;var c=Ii;n=Ri;var d=32-un(c)-1;c&=~(1<<d),a+=1;var g=32-un(s)+d;if(30<g){var w=d-d%5;g=(c&(1<<w)-1).toString(32),c>>=w,d-=w,Ii=1<<32-un(s)+d|a<<d|c,Ri=g+n}else Ii=1<<g|a<<d|c,Ri=n}function vh(n){n.return!==null&&(Fs(n,1),Zp(n,1,0))}function _h(n){for(;n===su;)su=Co[--Po],Co[Po]=null,ou=Co[--Po],Co[Po]=null;for(;n===Ls;)Ls=ar[--lr],ar[lr]=null,Ri=ar[--lr],ar[lr]=null,Ii=ar[--lr],ar[lr]=null}var Un=null,Bn=null,lt=!1,Rr=null;function em(n,s){var a=fr(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function tm(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,Un=n,Bn=Xi(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,Un=n,Bn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Ls!==null?{id:Ii,overflow:Ri}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=fr(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,Un=n,Bn=null,!0):!1;default:return!1}}function wh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Eh(n){if(lt){var s=Bn;if(s){var a=s;if(!tm(n,s)){if(wh(n))throw Error(t(418));s=Xi(a.nextSibling);var c=Un;s&&tm(n,s)?em(c,a):(n.flags=n.flags&-4097|2,lt=!1,Un=n)}}else{if(wh(n))throw Error(t(418));n.flags=n.flags&-4097|2,lt=!1,Un=n}}}function nm(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Un=n}function au(n){if(n!==Un)return!1;if(!lt)return nm(n),lt=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!fh(n.type,n.memoizedProps)),s&&(s=Bn)){if(wh(n))throw rm(),Error(t(418));for(;s;)em(n,s),s=Xi(s.nextSibling)}if(nm(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){Bn=Xi(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}Bn=null}}else Bn=Un?Xi(n.stateNode.nextSibling):null;return!0}function rm(){for(var n=Bn;n;)n=Xi(n.nextSibling)}function ko(){Bn=Un=null,lt=!1}function Th(n){Rr===null?Rr=[n]:Rr.push(n)}var _E=ie.ReactCurrentBatchConfig;function ka(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,g=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var I=d.refs;w===null?delete I[g]:I[g]=w},s._stringRef=g,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function lu(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function im(n){var s=n._init;return s(n._payload)}function sm(n){function s(B,O){if(n){var W=B.deletions;W===null?(B.deletions=[O],B.flags|=16):W.push(O)}}function a(B,O){if(!n)return null;for(;O!==null;)s(B,O),O=O.sibling;return null}function c(B,O){for(B=new Map;O!==null;)O.key!==null?B.set(O.key,O):B.set(O.index,O),O=O.sibling;return B}function d(B,O){return B=ls(B,O),B.index=0,B.sibling=null,B}function g(B,O,W){return B.index=W,n?(W=B.alternate,W!==null?(W=W.index,W<O?(B.flags|=2,O):W):(B.flags|=2,O)):(B.flags|=1048576,O)}function w(B){return n&&B.alternate===null&&(B.flags|=2),B}function I(B,O,W,re){return O===null||O.tag!==6?(O=pf(W,B.mode,re),O.return=B,O):(O=d(O,W),O.return=B,O)}function k(B,O,W,re){var _e=W.type;return _e===b?J(B,O,W.props.children,re,W.key):O!==null&&(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Mt&&im(_e)===O.type)?(re=d(O,W.props),re.ref=ka(B,O,W),re.return=B,re):(re=Nu(W.type,W.key,W.props,null,B.mode,re),re.ref=ka(B,O,W),re.return=B,re)}function q(B,O,W,re){return O===null||O.tag!==4||O.stateNode.containerInfo!==W.containerInfo||O.stateNode.implementation!==W.implementation?(O=mf(W,B.mode,re),O.return=B,O):(O=d(O,W.children||[]),O.return=B,O)}function J(B,O,W,re,_e){return O===null||O.tag!==7?(O=qs(W,B.mode,re,_e),O.return=B,O):(O=d(O,W),O.return=B,O)}function ne(B,O,W){if(typeof O=="string"&&O!==""||typeof O=="number")return O=pf(""+O,B.mode,W),O.return=B,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ae:return W=Nu(O.type,O.key,O.props,null,B.mode,W),W.ref=ka(B,null,O),W.return=B,W;case Ee:return O=mf(O,B.mode,W),O.return=B,O;case Mt:var re=O._init;return ne(B,re(O._payload),W)}if(Qn(O)||we(O))return O=qs(O,B.mode,W,null),O.return=B,O;lu(B,O)}return null}function X(B,O,W,re){var _e=O!==null?O.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return _e!==null?null:I(B,O,""+W,re);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case ae:return W.key===_e?k(B,O,W,re):null;case Ee:return W.key===_e?q(B,O,W,re):null;case Mt:return _e=W._init,X(B,O,_e(W._payload),re)}if(Qn(W)||we(W))return _e!==null?null:J(B,O,W,re,null);lu(B,W)}return null}function ce(B,O,W,re,_e){if(typeof re=="string"&&re!==""||typeof re=="number")return B=B.get(W)||null,I(O,B,""+re,_e);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case ae:return B=B.get(re.key===null?W:re.key)||null,k(O,B,re,_e);case Ee:return B=B.get(re.key===null?W:re.key)||null,q(O,B,re,_e);case Mt:var Se=re._init;return ce(B,O,W,Se(re._payload),_e)}if(Qn(re)||we(re))return B=B.get(W)||null,J(O,B,re,_e,null);lu(O,re)}return null}function pe(B,O,W,re){for(var _e=null,Se=null,Ae=O,Ie=O=0,jt=null;Ae!==null&&Ie<W.length;Ie++){Ae.index>Ie?(jt=Ae,Ae=null):jt=Ae.sibling;var He=X(B,Ae,W[Ie],re);if(He===null){Ae===null&&(Ae=jt);break}n&&Ae&&He.alternate===null&&s(B,Ae),O=g(He,O,Ie),Se===null?_e=He:Se.sibling=He,Se=He,Ae=jt}if(Ie===W.length)return a(B,Ae),lt&&Fs(B,Ie),_e;if(Ae===null){for(;Ie<W.length;Ie++)Ae=ne(B,W[Ie],re),Ae!==null&&(O=g(Ae,O,Ie),Se===null?_e=Ae:Se.sibling=Ae,Se=Ae);return lt&&Fs(B,Ie),_e}for(Ae=c(B,Ae);Ie<W.length;Ie++)jt=ce(Ae,B,Ie,W[Ie],re),jt!==null&&(n&&jt.alternate!==null&&Ae.delete(jt.key===null?Ie:jt.key),O=g(jt,O,Ie),Se===null?_e=jt:Se.sibling=jt,Se=jt);return n&&Ae.forEach(function(us){return s(B,us)}),lt&&Fs(B,Ie),_e}function me(B,O,W,re){var _e=we(W);if(typeof _e!="function")throw Error(t(150));if(W=_e.call(W),W==null)throw Error(t(151));for(var Se=_e=null,Ae=O,Ie=O=0,jt=null,He=W.next();Ae!==null&&!He.done;Ie++,He=W.next()){Ae.index>Ie?(jt=Ae,Ae=null):jt=Ae.sibling;var us=X(B,Ae,He.value,re);if(us===null){Ae===null&&(Ae=jt);break}n&&Ae&&us.alternate===null&&s(B,Ae),O=g(us,O,Ie),Se===null?_e=us:Se.sibling=us,Se=us,Ae=jt}if(He.done)return a(B,Ae),lt&&Fs(B,Ie),_e;if(Ae===null){for(;!He.done;Ie++,He=W.next())He=ne(B,He.value,re),He!==null&&(O=g(He,O,Ie),Se===null?_e=He:Se.sibling=He,Se=He);return lt&&Fs(B,Ie),_e}for(Ae=c(B,Ae);!He.done;Ie++,He=W.next())He=ce(Ae,B,Ie,He.value,re),He!==null&&(n&&He.alternate!==null&&Ae.delete(He.key===null?Ie:He.key),O=g(He,O,Ie),Se===null?_e=He:Se.sibling=He,Se=He);return n&&Ae.forEach(function(JE){return s(B,JE)}),lt&&Fs(B,Ie),_e}function vt(B,O,W,re){if(typeof W=="object"&&W!==null&&W.type===b&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case ae:e:{for(var _e=W.key,Se=O;Se!==null;){if(Se.key===_e){if(_e=W.type,_e===b){if(Se.tag===7){a(B,Se.sibling),O=d(Se,W.props.children),O.return=B,B=O;break e}}else if(Se.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Mt&&im(_e)===Se.type){a(B,Se.sibling),O=d(Se,W.props),O.ref=ka(B,Se,W),O.return=B,B=O;break e}a(B,Se);break}else s(B,Se);Se=Se.sibling}W.type===b?(O=qs(W.props.children,B.mode,re,W.key),O.return=B,B=O):(re=Nu(W.type,W.key,W.props,null,B.mode,re),re.ref=ka(B,O,W),re.return=B,B=re)}return w(B);case Ee:e:{for(Se=W.key;O!==null;){if(O.key===Se)if(O.tag===4&&O.stateNode.containerInfo===W.containerInfo&&O.stateNode.implementation===W.implementation){a(B,O.sibling),O=d(O,W.children||[]),O.return=B,B=O;break e}else{a(B,O);break}else s(B,O);O=O.sibling}O=mf(W,B.mode,re),O.return=B,B=O}return w(B);case Mt:return Se=W._init,vt(B,O,Se(W._payload),re)}if(Qn(W))return pe(B,O,W,re);if(we(W))return me(B,O,W,re);lu(B,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,O!==null&&O.tag===6?(a(B,O.sibling),O=d(O,W),O.return=B,B=O):(a(B,O),O=pf(W,B.mode,re),O.return=B,B=O),w(B)):a(B,O)}return vt}var bo=sm(!0),om=sm(!1),uu=Ji(null),cu=null,No=null,Sh=null;function Ah(){Sh=No=cu=null}function xh(n){var s=uu.current;nt(uu),n._currentValue=s}function Ih(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function Do(n,s){cu=n,Sh=No=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Rn=!0),n.firstContext=null)}function ur(n){var s=n._currentValue;if(Sh!==n)if(n={context:n,memoizedValue:s,next:null},No===null){if(cu===null)throw Error(t(308));No=n,cu.dependencies={lanes:0,firstContext:n}}else No=No.next=n;return s}var js=null;function Rh(n){js===null?js=[n]:js.push(n)}function am(n,s,a,c){var d=s.interleaved;return d===null?(a.next=a,Rh(s)):(a.next=d.next,d.next=a),s.interleaved=a,Ci(n,c)}function Ci(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var ts=!1;function Ch(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lm(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Pi(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function ns(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Be&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,Ci(n,a)}return d=c.interleaved,d===null?(s.next=s,Rh(c)):(s.next=d.next,d.next=s),c.interleaved=s,Ci(n,a)}function hu(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Wi(n,a)}}function um(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?d=g=s:g=g.next=s}else d=g=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function fu(n,s,a,c){var d=n.updateQueue;ts=!1;var g=d.firstBaseUpdate,w=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var k=I,q=k.next;k.next=null,w===null?g=q:w.next=q,w=k;var J=n.alternate;J!==null&&(J=J.updateQueue,I=J.lastBaseUpdate,I!==w&&(I===null?J.firstBaseUpdate=q:I.next=q,J.lastBaseUpdate=k))}if(g!==null){var ne=d.baseState;w=0,J=q=k=null,I=g;do{var X=I.lane,ce=I.eventTime;if((c&X)===X){J!==null&&(J=J.next={eventTime:ce,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var pe=n,me=I;switch(X=s,ce=a,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){ne=pe.call(ce,ne,X);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,X=typeof pe=="function"?pe.call(ce,ne,X):pe,X==null)break e;ne=ue({},ne,X);break e;case 2:ts=!0}}I.callback!==null&&I.lane!==0&&(n.flags|=64,X=d.effects,X===null?d.effects=[I]:X.push(I))}else ce={eventTime:ce,lane:X,tag:I.tag,payload:I.payload,callback:I.callback,next:null},J===null?(q=J=ce,k=ne):J=J.next=ce,w|=X;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;X=I,I=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);if(J===null&&(k=ne),d.baseState=k,d.firstBaseUpdate=q,d.lastBaseUpdate=J,s=d.shared.interleaved,s!==null){d=s;do w|=d.lane,d=d.next;while(d!==s)}else g===null&&(d.shared.lanes=0);Bs|=w,n.lanes=w,n.memoizedState=ne}}function cm(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var c=n[s],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var ba={},Kr=Ji(ba),Na=Ji(ba),Da=Ji(ba);function zs(n){if(n===ba)throw Error(t(174));return n}function Ph(n,s){switch(Je(Da,s),Je(Na,n),Je(Kr,ba),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:pt(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=pt(s,n)}nt(Kr),Je(Kr,s)}function Mo(){nt(Kr),nt(Na),nt(Da)}function hm(n){zs(Da.current);var s=zs(Kr.current),a=pt(s,n.type);s!==a&&(Je(Na,n),Je(Kr,a))}function kh(n){Na.current===n&&(nt(Kr),nt(Na))}var ut=Ji(0);function du(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var bh=[];function Nh(){for(var n=0;n<bh.length;n++)bh[n]._workInProgressVersionPrimary=null;bh.length=0}var pu=ie.ReactCurrentDispatcher,Dh=ie.ReactCurrentBatchConfig,Us=0,ct=null,Pt=null,Lt=null,mu=!1,Ma=!1,Va=0,wE=0;function Zt(){throw Error(t(321))}function Mh(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Ir(n[a],s[a]))return!1;return!0}function Vh(n,s,a,c,d,g){if(Us=g,ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,pu.current=n===null||n.memoizedState===null?AE:xE,n=a(c,d),Ma){g=0;do{if(Ma=!1,Va=0,25<=g)throw Error(t(301));g+=1,Lt=Pt=null,s.updateQueue=null,pu.current=IE,n=a(c,d)}while(Ma)}if(pu.current=vu,s=Pt!==null&&Pt.next!==null,Us=0,Lt=Pt=ct=null,mu=!1,s)throw Error(t(300));return n}function Oh(){var n=Va!==0;return Va=0,n}function Qr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ct.memoizedState=Lt=n:Lt=Lt.next=n,Lt}function cr(){if(Pt===null){var n=ct.alternate;n=n!==null?n.memoizedState:null}else n=Pt.next;var s=Lt===null?ct.memoizedState:Lt.next;if(s!==null)Lt=s,Pt=n;else{if(n===null)throw Error(t(310));Pt=n,n={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Lt===null?ct.memoizedState=Lt=n:Lt=Lt.next=n}return Lt}function Oa(n,s){return typeof s=="function"?s(n):s}function Lh(n){var s=cr(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=Pt,d=c.baseQueue,g=a.pending;if(g!==null){if(d!==null){var w=d.next;d.next=g.next,g.next=w}c.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,c=c.baseState;var I=w=null,k=null,q=g;do{var J=q.lane;if((Us&J)===J)k!==null&&(k=k.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),c=q.hasEagerState?q.eagerState:n(c,q.action);else{var ne={lane:J,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};k===null?(I=k=ne,w=c):k=k.next=ne,ct.lanes|=J,Bs|=J}q=q.next}while(q!==null&&q!==g);k===null?w=c:k.next=I,Ir(c,s.memoizedState)||(Rn=!0),s.memoizedState=c,s.baseState=w,s.baseQueue=k,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do g=d.lane,ct.lanes|=g,Bs|=g,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Fh(n){var s=cr(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,g=s.memoizedState;if(d!==null){a.pending=null;var w=d=d.next;do g=n(g,w.action),w=w.next;while(w!==d);Ir(g,s.memoizedState)||(Rn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function fm(){}function dm(n,s){var a=ct,c=cr(),d=s(),g=!Ir(c.memoizedState,d);if(g&&(c.memoizedState=d,Rn=!0),c=c.queue,jh(gm.bind(null,a,c,n),[n]),c.getSnapshot!==s||g||Lt!==null&&Lt.memoizedState.tag&1){if(a.flags|=2048,La(9,mm.bind(null,a,c,d,s),void 0,null),Ft===null)throw Error(t(349));(Us&30)!==0||pm(a,s,d)}return d}function pm(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=ct.updateQueue,s===null?(s={lastEffect:null,stores:null},ct.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function mm(n,s,a,c){s.value=a,s.getSnapshot=c,ym(s)&&vm(n)}function gm(n,s,a){return a(function(){ym(s)&&vm(n)})}function ym(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Ir(n,a)}catch{return!0}}function vm(n){var s=Ci(n,1);s!==null&&br(s,n,1,-1)}function _m(n){var s=Qr();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:n},s.queue=n,n=n.dispatch=SE.bind(null,ct,n),[s.memoizedState,n]}function La(n,s,a,c){return n={tag:n,create:s,destroy:a,deps:c,next:null},s=ct.updateQueue,s===null?(s={lastEffect:null,stores:null},ct.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n)),n}function wm(){return cr().memoizedState}function gu(n,s,a,c){var d=Qr();ct.flags|=n,d.memoizedState=La(1|s,a,void 0,c===void 0?null:c)}function yu(n,s,a,c){var d=cr();c=c===void 0?null:c;var g=void 0;if(Pt!==null){var w=Pt.memoizedState;if(g=w.destroy,c!==null&&Mh(c,w.deps)){d.memoizedState=La(s,a,g,c);return}}ct.flags|=n,d.memoizedState=La(1|s,a,g,c)}function Em(n,s){return gu(8390656,8,n,s)}function jh(n,s){return yu(2048,8,n,s)}function Tm(n,s){return yu(4,2,n,s)}function Sm(n,s){return yu(4,4,n,s)}function Am(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function xm(n,s,a){return a=a!=null?a.concat([n]):null,yu(4,4,Am.bind(null,s,n),a)}function zh(){}function Im(n,s){var a=cr();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Mh(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function Rm(n,s){var a=cr();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Mh(s,c[1])?c[0]:(n=n(),a.memoizedState=[n,s],n)}function Cm(n,s,a){return(Us&21)===0?(n.baseState&&(n.baseState=!1,Rn=!0),n.memoizedState=a):(Ir(a,s)||(a=ks(),ct.lanes|=a,Bs|=a,n.baseState=!0),s)}function EE(n,s){var a=Le;Le=a!==0&&4>a?a:4,n(!0);var c=Dh.transition;Dh.transition={};try{n(!1),s()}finally{Le=a,Dh.transition=c}}function Pm(){return cr().memoizedState}function TE(n,s,a){var c=os(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},km(n))bm(s,a);else if(a=am(n,s,a,c),a!==null){var d=fn();br(a,n,c,d),Nm(a,s,c)}}function SE(n,s,a){var c=os(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(km(n))bm(s,d);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,I=g(w,a);if(d.hasEagerState=!0,d.eagerState=I,Ir(I,w)){var k=s.interleaved;k===null?(d.next=d,Rh(s)):(d.next=k.next,k.next=d),s.interleaved=d;return}}catch{}finally{}a=am(n,s,d,c),a!==null&&(d=fn(),br(a,n,c,d),Nm(a,s,c))}}function km(n){var s=n.alternate;return n===ct||s!==null&&s===ct}function bm(n,s){Ma=mu=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Nm(n,s,a){if((a&4194240)!==0){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Wi(n,a)}}var vu={readContext:ur,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},AE={readContext:ur,useCallback:function(n,s){return Qr().memoizedState=[n,s===void 0?null:s],n},useContext:ur,useEffect:Em,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,gu(4194308,4,Am.bind(null,s,n),a)},useLayoutEffect:function(n,s){return gu(4194308,4,n,s)},useInsertionEffect:function(n,s){return gu(4,2,n,s)},useMemo:function(n,s){var a=Qr();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var c=Qr();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},c.queue=n,n=n.dispatch=TE.bind(null,ct,n),[c.memoizedState,n]},useRef:function(n){var s=Qr();return n={current:n},s.memoizedState=n},useState:_m,useDebugValue:zh,useDeferredValue:function(n){return Qr().memoizedState=n},useTransition:function(){var n=_m(!1),s=n[0];return n=EE.bind(null,n[1]),Qr().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var c=ct,d=Qr();if(lt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Ft===null)throw Error(t(349));(Us&30)!==0||pm(c,s,a)}d.memoizedState=a;var g={value:a,getSnapshot:s};return d.queue=g,Em(gm.bind(null,c,g,n),[n]),c.flags|=2048,La(9,mm.bind(null,c,g,a,s),void 0,null),a},useId:function(){var n=Qr(),s=Ft.identifierPrefix;if(lt){var a=Ri,c=Ii;a=(c&~(1<<32-un(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Va++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=wE++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},xE={readContext:ur,useCallback:Im,useContext:ur,useEffect:jh,useImperativeHandle:xm,useInsertionEffect:Tm,useLayoutEffect:Sm,useMemo:Rm,useReducer:Lh,useRef:wm,useState:function(){return Lh(Oa)},useDebugValue:zh,useDeferredValue:function(n){var s=cr();return Cm(s,Pt.memoizedState,n)},useTransition:function(){var n=Lh(Oa)[0],s=cr().memoizedState;return[n,s]},useMutableSource:fm,useSyncExternalStore:dm,useId:Pm,unstable_isNewReconciler:!1},IE={readContext:ur,useCallback:Im,useContext:ur,useEffect:jh,useImperativeHandle:xm,useInsertionEffect:Tm,useLayoutEffect:Sm,useMemo:Rm,useReducer:Fh,useRef:wm,useState:function(){return Fh(Oa)},useDebugValue:zh,useDeferredValue:function(n){var s=cr();return Pt===null?s.memoizedState=n:Cm(s,Pt.memoizedState,n)},useTransition:function(){var n=Fh(Oa)[0],s=cr().memoizedState;return[n,s]},useMutableSource:fm,useSyncExternalStore:dm,useId:Pm,unstable_isNewReconciler:!1};function Cr(n,s){if(n&&n.defaultProps){s=ue({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function Uh(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:ue({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var _u={isMounted:function(n){return(n=n._reactInternals)?wn(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var c=fn(),d=os(n),g=Pi(c,d);g.payload=s,a!=null&&(g.callback=a),s=ns(n,g,d),s!==null&&(br(s,n,d,c),hu(s,n,d))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=fn(),d=os(n),g=Pi(c,d);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=ns(n,g,d),s!==null&&(br(s,n,d,c),hu(s,n,d))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=fn(),c=os(n),d=Pi(a,c);d.tag=2,s!=null&&(d.callback=s),s=ns(n,d,c),s!==null&&(br(s,n,c,a),hu(s,n,c))}};function Dm(n,s,a,c,d,g,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,w):s.prototype&&s.prototype.isPureReactComponent?!Sa(a,c)||!Sa(d,g):!0}function Mm(n,s,a){var c=!1,d=Zi,g=s.contextType;return typeof g=="object"&&g!==null?g=ur(g):(d=In(s)?Os:Jt.current,c=s.contextTypes,g=(c=c!=null)?Ro(n,d):Zi),s=new s(a,g),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=_u,n.stateNode=s,s._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=g),s}function Vm(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&_u.enqueueReplaceState(s,s.state,null)}function Bh(n,s,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},Ch(n);var g=s.contextType;typeof g=="object"&&g!==null?d.context=ur(g):(g=In(s)?Os:Jt.current,d.context=Ro(n,g)),d.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Uh(n,s,g,a),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&_u.enqueueReplaceState(d,d.state,null),fu(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function Vo(n,s){try{var a="",c=s;do a+=ve(c),c=c.return;while(c);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:s,stack:d,digest:null}}function Hh(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function $h(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var RE=typeof WeakMap=="function"?WeakMap:Map;function Om(n,s,a){a=Pi(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){Iu||(Iu=!0,of=c),$h(n,s)},a}function Lm(n,s,a){a=Pi(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;a.payload=function(){return c(d)},a.callback=function(){$h(n,s)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){$h(n,s),typeof c!="function"&&(is===null?is=new Set([this]):is.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function Fm(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new RE;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(d.add(a),n=UE.bind(null,n,s,a),s.then(n,n))}function jm(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function zm(n,s,a,c,d){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Pi(-1,1),s.tag=2,ns(a,s,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var CE=ie.ReactCurrentOwner,Rn=!1;function hn(n,s,a,c){s.child=n===null?om(s,null,a,c):bo(s,n.child,a,c)}function Um(n,s,a,c,d){a=a.render;var g=s.ref;return Do(s,d),c=Vh(n,s,a,c,g,d),a=Oh(),n!==null&&!Rn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,ki(n,s,d)):(lt&&a&&vh(s),s.flags|=1,hn(n,s,c,d),s.child)}function Bm(n,s,a,c,d){if(n===null){var g=a.type;return typeof g=="function"&&!df(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Hm(n,s,g,c,d)):(n=Nu(a.type,null,c,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,(n.lanes&d)===0){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:Sa,a(w,c)&&n.ref===s.ref)return ki(n,s,d)}return s.flags|=1,n=ls(g,c),n.ref=s.ref,n.return=s,s.child=n}function Hm(n,s,a,c,d){if(n!==null){var g=n.memoizedProps;if(Sa(g,c)&&n.ref===s.ref)if(Rn=!1,s.pendingProps=c=g,(n.lanes&d)!==0)(n.flags&131072)!==0&&(Rn=!0);else return s.lanes=n.lanes,ki(n,s,d)}return Wh(n,s,a,c,d)}function $m(n,s,a){var c=s.pendingProps,d=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Lo,Hn),Hn|=a;else{if((a&1073741824)===0)return n=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Je(Lo,Hn),Hn|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,Je(Lo,Hn),Hn|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,Je(Lo,Hn),Hn|=c;return hn(n,s,d,a),s.child}function Wm(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Wh(n,s,a,c,d){var g=In(a)?Os:Jt.current;return g=Ro(s,g),Do(s,d),a=Vh(n,s,a,c,g,d),c=Oh(),n!==null&&!Rn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,ki(n,s,d)):(lt&&c&&vh(s),s.flags|=1,hn(n,s,a,d),s.child)}function qm(n,s,a,c,d){if(In(a)){var g=!0;ru(s)}else g=!1;if(Do(s,d),s.stateNode===null)Eu(n,s),Mm(s,a,c),Bh(s,a,c,d),c=!0;else if(n===null){var w=s.stateNode,I=s.memoizedProps;w.props=I;var k=w.context,q=a.contextType;typeof q=="object"&&q!==null?q=ur(q):(q=In(a)?Os:Jt.current,q=Ro(s,q));var J=a.getDerivedStateFromProps,ne=typeof J=="function"||typeof w.getSnapshotBeforeUpdate=="function";ne||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==c||k!==q)&&Vm(s,w,c,q),ts=!1;var X=s.memoizedState;w.state=X,fu(s,c,w,d),k=s.memoizedState,I!==c||X!==k||xn.current||ts?(typeof J=="function"&&(Uh(s,a,J,c),k=s.memoizedState),(I=ts||Dm(s,a,I,c,X,k,q))?(ne||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=k),w.props=c,w.state=k,w.context=q,c=I):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{w=s.stateNode,lm(n,s),I=s.memoizedProps,q=s.type===s.elementType?I:Cr(s.type,I),w.props=q,ne=s.pendingProps,X=w.context,k=a.contextType,typeof k=="object"&&k!==null?k=ur(k):(k=In(a)?Os:Jt.current,k=Ro(s,k));var ce=a.getDerivedStateFromProps;(J=typeof ce=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==ne||X!==k)&&Vm(s,w,c,k),ts=!1,X=s.memoizedState,w.state=X,fu(s,c,w,d);var pe=s.memoizedState;I!==ne||X!==pe||xn.current||ts?(typeof ce=="function"&&(Uh(s,a,ce,c),pe=s.memoizedState),(q=ts||Dm(s,a,q,c,X,pe,k)||!1)?(J||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,pe,k),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,pe,k)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||I===n.memoizedProps&&X===n.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&X===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=pe),w.props=c,w.state=pe,w.context=k,c=q):(typeof w.componentDidUpdate!="function"||I===n.memoizedProps&&X===n.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&X===n.memoizedState||(s.flags|=1024),c=!1)}return qh(n,s,a,c,g,d)}function qh(n,s,a,c,d,g){Wm(n,s);var w=(s.flags&128)!==0;if(!c&&!w)return d&&Xp(s,a,!1),ki(n,s,g);c=s.stateNode,CE.current=s;var I=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,n!==null&&w?(s.child=bo(s,n.child,null,g),s.child=bo(s,null,I,g)):hn(n,s,I,g),s.memoizedState=c.state,d&&Xp(s,a,!0),s.child}function Gm(n){var s=n.stateNode;s.pendingContext?Qp(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Qp(n,s.context,!1),Ph(n,s.containerInfo)}function Km(n,s,a,c,d){return ko(),Th(d),s.flags|=256,hn(n,s,a,c),s.child}var Gh={dehydrated:null,treeContext:null,retryLane:0};function Kh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Qm(n,s,a){var c=s.pendingProps,d=ut.current,g=!1,w=(s.flags&128)!==0,I;if((I=w)||(I=n!==null&&n.memoizedState===null?!1:(d&2)!==0),I?(g=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Je(ut,d&1),n===null)return Eh(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=c.children,n=c.fallback,g?(c=s.mode,g=s.child,w={mode:"hidden",children:w},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Du(w,c,0,null),n=qs(n,c,a,null),g.return=s,n.return=s,g.sibling=n,s.child=g,s.child.memoizedState=Kh(a),s.memoizedState=Gh,n):Qh(s,w));if(d=n.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return PE(n,s,w,c,I,d,a);if(g){g=c.fallback,w=s.mode,d=n.child,I=d.sibling;var k={mode:"hidden",children:c.children};return(w&1)===0&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=k,s.deletions=null):(c=ls(d,k),c.subtreeFlags=d.subtreeFlags&14680064),I!==null?g=ls(I,g):(g=qs(g,w,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,w=n.child.memoizedState,w=w===null?Kh(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=n.childLanes&~a,s.memoizedState=Gh,c}return g=n.child,n=g.sibling,c=ls(g,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=c,s.memoizedState=null,c}function Qh(n,s){return s=Du({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function wu(n,s,a,c){return c!==null&&Th(c),bo(s,n.child,null,a),n=Qh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function PE(n,s,a,c,d,g,w){if(a)return s.flags&256?(s.flags&=-257,c=Hh(Error(t(422))),wu(n,s,w,c)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(g=c.fallback,d=s.mode,c=Du({mode:"visible",children:c.children},d,0,null),g=qs(g,d,w,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,(s.mode&1)!==0&&bo(s,n.child,null,w),s.child.memoizedState=Kh(w),s.memoizedState=Gh,g);if((s.mode&1)===0)return wu(n,s,w,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var I=c.dgst;return c=I,g=Error(t(419)),c=Hh(g,c,void 0),wu(n,s,w,c)}if(I=(w&n.childLanes)!==0,Rn||I){if(c=Ft,c!==null){switch(w&-w){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|w))!==0?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,Ci(n,d),br(c,n,d,-1))}return ff(),c=Hh(Error(t(421))),wu(n,s,w,c)}return d.data==="$?"?(s.flags|=128,s.child=n.child,s=BE.bind(null,n),d._reactRetry=s,null):(n=g.treeContext,Bn=Xi(d.nextSibling),Un=s,lt=!0,Rr=null,n!==null&&(ar[lr++]=Ii,ar[lr++]=Ri,ar[lr++]=Ls,Ii=n.id,Ri=n.overflow,Ls=s),s=Qh(s,c.children),s.flags|=4096,s)}function Ym(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),Ih(n.return,s,a)}function Yh(n,s,a,c,d){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function Xm(n,s,a){var c=s.pendingProps,d=c.revealOrder,g=c.tail;if(hn(n,s,c.children,a),c=ut.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ym(n,a,s);else if(n.tag===19)Ym(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Je(ut,c),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)n=a.alternate,n!==null&&du(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Yh(s,!1,d,a,g);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&du(n)===null){s.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Yh(s,!0,a,null,g);break;case"together":Yh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Eu(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function ki(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Bs|=s.lanes,(a&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=ls(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=ls(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function kE(n,s,a){switch(s.tag){case 3:Gm(s),ko();break;case 5:hm(s);break;case 1:In(s.type)&&ru(s);break;case 4:Ph(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;Je(uu,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Je(ut,ut.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Qm(n,s,a):(Je(ut,ut.current&1),n=ki(n,s,a),n!==null?n.sibling:null);Je(ut,ut.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(n.flags&128)!==0){if(c)return Xm(n,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Je(ut,ut.current),c)break;return null;case 22:case 23:return s.lanes=0,$m(n,s,a)}return ki(n,s,a)}var Jm,Xh,Zm,eg;Jm=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Xh=function(){},Zm=function(n,s,a,c){var d=n.memoizedProps;if(d!==c){n=s.stateNode,zs(Kr.current);var g=null;switch(a){case"input":d=an(n,d),c=an(n,c),g=[];break;case"select":d=ue({},d,{value:void 0}),c=ue({},c,{value:void 0}),g=[];break;case"textarea":d=xs(n,d),c=xs(n,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=eu)}fi(a,c);var w;a=null;for(q in d)if(!c.hasOwnProperty(q)&&d.hasOwnProperty(q)&&d[q]!=null)if(q==="style"){var I=d[q];for(w in I)I.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?g||(g=[]):(g=g||[]).push(q,null));for(q in c){var k=c[q];if(I=d?.[q],c.hasOwnProperty(q)&&k!==I&&(k!=null||I!=null))if(q==="style")if(I){for(w in I)!I.hasOwnProperty(w)||k&&k.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in k)k.hasOwnProperty(w)&&I[w]!==k[w]&&(a||(a={}),a[w]=k[w])}else a||(g||(g=[]),g.push(q,a)),a=k;else q==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,I=I?I.__html:void 0,k!=null&&I!==k&&(g=g||[]).push(q,k)):q==="children"?typeof k!="string"&&typeof k!="number"||(g=g||[]).push(q,""+k):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(k!=null&&q==="onScroll"&&tt("scroll",n),g||I===k||(g=[])):(g=g||[]).push(q,k))}a&&(g=g||[]).push("style",a);var q=g;(s.updateQueue=q)&&(s.flags|=4)}},eg=function(n,s,a,c){a!==c&&(s.flags|=4)};function Fa(n,s){if(!lt)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function en(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function bE(n,s,a){var c=s.pendingProps;switch(_h(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(s),null;case 1:return In(s.type)&&nu(),en(s),null;case 3:return c=s.stateNode,Mo(),nt(xn),nt(Jt),Nh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(au(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Rr!==null&&(uf(Rr),Rr=null))),Xh(n,s),en(s),null;case 5:kh(s);var d=zs(Da.current);if(a=s.type,n!==null&&s.stateNode!=null)Zm(n,s,a,c,d),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return en(s),null}if(n=zs(Kr.current),au(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[Gr]=s,c[Ca]=g,n=(s.mode&1)!==0,a){case"dialog":tt("cancel",c),tt("close",c);break;case"iframe":case"object":case"embed":tt("load",c);break;case"video":case"audio":for(d=0;d<xa.length;d++)tt(xa[d],c);break;case"source":tt("error",c);break;case"img":case"image":case"link":tt("error",c),tt("load",c);break;case"details":tt("toggle",c);break;case"input":Or(c,g),tt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},tt("invalid",c);break;case"textarea":Lr(c,g),tt("invalid",c)}fi(a,g),d=null;for(var w in g)if(g.hasOwnProperty(w)){var I=g[w];w==="children"?typeof I=="string"?c.textContent!==I&&(g.suppressHydrationWarning!==!0&&Zl(c.textContent,I,n),d=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(g.suppressHydrationWarning!==!0&&Zl(c.textContent,I,n),d=["children",""+I]):o.hasOwnProperty(w)&&I!=null&&w==="onScroll"&&tt("scroll",c)}switch(a){case"input":Gn(c),hi(c,g,!0);break;case"textarea":Gn(c),Jn(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=eu)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{w=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Xe(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=w.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=w.createElement(a,{is:c.is}):(n=w.createElement(a),a==="select"&&(w=n,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):n=w.createElementNS(n,a),n[Gr]=s,n[Ca]=c,Jm(n,s,!1,!1),s.stateNode=n;e:{switch(w=di(a,c),a){case"dialog":tt("cancel",n),tt("close",n),d=c;break;case"iframe":case"object":case"embed":tt("load",n),d=c;break;case"video":case"audio":for(d=0;d<xa.length;d++)tt(xa[d],n);d=c;break;case"source":tt("error",n),d=c;break;case"img":case"image":case"link":tt("error",n),tt("load",n),d=c;break;case"details":tt("toggle",n),d=c;break;case"input":Or(n,c),d=an(n,c),tt("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=ue({},c,{value:void 0}),tt("invalid",n);break;case"textarea":Lr(n,c),d=xs(n,c),tt("invalid",n);break;default:d=c}fi(a,d),I=d;for(g in I)if(I.hasOwnProperty(g)){var k=I[g];g==="style"?ln(n,k):g==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&zi(n,k)):g==="children"?typeof k=="string"?(a!=="textarea"||k!=="")&&er(n,k):typeof k=="number"&&er(n,""+k):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?k!=null&&g==="onScroll"&&tt("scroll",n):k!=null&&Z(n,g,k,w))}switch(a){case"input":Gn(n),hi(n,c,!1);break;case"textarea":Gn(n),Jn(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Fe(c.value));break;case"select":n.multiple=!!c.multiple,g=c.value,g!=null?Yn(n,!!c.multiple,g,!1):c.defaultValue!=null&&Yn(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=eu)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return en(s),null;case 6:if(n&&s.stateNode!=null)eg(n,s,n.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=zs(Da.current),zs(Kr.current),au(s)){if(c=s.stateNode,a=s.memoizedProps,c[Gr]=s,(g=c.nodeValue!==a)&&(n=Un,n!==null))switch(n.tag){case 3:Zl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Zl(c.nodeValue,a,(n.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Gr]=s,s.stateNode=c}return en(s),null;case 13:if(nt(ut),c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(lt&&Bn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)rm(),ko(),s.flags|=98560,g=!1;else if(g=au(s),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Gr]=s}else ko(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;en(s),g=!1}else Rr!==null&&(uf(Rr),Rr=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(ut.current&1)!==0?kt===0&&(kt=3):ff())),s.updateQueue!==null&&(s.flags|=4),en(s),null);case 4:return Mo(),Xh(n,s),n===null&&Ia(s.stateNode.containerInfo),en(s),null;case 10:return xh(s.type._context),en(s),null;case 17:return In(s.type)&&nu(),en(s),null;case 19:if(nt(ut),g=s.memoizedState,g===null)return en(s),null;if(c=(s.flags&128)!==0,w=g.rendering,w===null)if(c)Fa(g,!1);else{if(kt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(w=du(n),w!==null){for(s.flags|=128,Fa(g,!1),c=w.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,n=c,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,n=w.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Je(ut,ut.current&1|2),s.child}n=n.sibling}g.tail!==null&&Re()>Fo&&(s.flags|=128,c=!0,Fa(g,!1),s.lanes=4194304)}else{if(!c)if(n=du(w),n!==null){if(s.flags|=128,c=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Fa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!lt)return en(s),null}else 2*Re()-g.renderingStartTime>Fo&&a!==1073741824&&(s.flags|=128,c=!0,Fa(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Re(),s.sibling=null,a=ut.current,Je(ut,c?a&1|2:a&1),s):(en(s),null);case 22:case 23:return hf(),c=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(Hn&1073741824)!==0&&(en(s),s.subtreeFlags&6&&(s.flags|=8192)):en(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function NE(n,s){switch(_h(s),s.tag){case 1:return In(s.type)&&nu(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Mo(),nt(xn),nt(Jt),Nh(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return kh(s),null;case 13:if(nt(ut),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));ko()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return nt(ut),null;case 4:return Mo(),null;case 10:return xh(s.type._context),null;case 22:case 23:return hf(),null;case 24:return null;default:return null}}var Tu=!1,tn=!1,DE=typeof WeakSet=="function"?WeakSet:Set,de=null;function Oo(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){gt(n,s,c)}else a.current=null}function Jh(n,s,a){try{a()}catch(c){gt(n,s,c)}}var tg=!1;function ME(n,s){if(ch=Ki,n=Dp(),nh(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,I=-1,k=-1,q=0,J=0,ne=n,X=null;t:for(;;){for(var ce;ne!==a||d!==0&&ne.nodeType!==3||(I=w+d),ne!==g||c!==0&&ne.nodeType!==3||(k=w+c),ne.nodeType===3&&(w+=ne.nodeValue.length),(ce=ne.firstChild)!==null;)X=ne,ne=ce;for(;;){if(ne===n)break t;if(X===a&&++q===d&&(I=w),X===g&&++J===c&&(k=w),(ce=ne.nextSibling)!==null)break;ne=X,X=ne.parentNode}ne=ce}a=I===-1||k===-1?null:{start:I,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(hh={focusedElem:n,selectionRange:a},Ki=!1,de=s;de!==null;)if(s=de,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,de=n;else for(;de!==null;){s=de;try{var pe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,vt=pe.memoizedState,B=s.stateNode,O=B.getSnapshotBeforeUpdate(s.elementType===s.type?me:Cr(s.type,me),vt);B.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var W=s.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){gt(s,s.return,re)}if(n=s.sibling,n!==null){n.return=s.return,de=n;break}de=s.return}return pe=tg,tg=!1,pe}function ja(n,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var g=d.destroy;d.destroy=void 0,g!==void 0&&Jh(s,a,g)}d=d.next}while(d!==c)}}function Su(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function Zh(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function ng(n){var s=n.alternate;s!==null&&(n.alternate=null,ng(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Gr],delete s[Ca],delete s[mh],delete s[gE],delete s[yE])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function rg(n){return n.tag===5||n.tag===3||n.tag===4}function ig(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||rg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ef(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=eu));else if(c!==4&&(n=n.child,n!==null))for(ef(n,s,a),n=n.sibling;n!==null;)ef(n,s,a),n=n.sibling}function tf(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(tf(n,s,a),n=n.sibling;n!==null;)tf(n,s,a),n=n.sibling}var $t=null,Pr=!1;function rs(n,s,a){for(a=a.child;a!==null;)sg(n,s,a),a=a.sibling}function sg(n,s,a){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(Ur,a)}catch{}switch(a.tag){case 5:tn||Oo(a,s);case 6:var c=$t,d=Pr;$t=null,rs(n,s,a),$t=c,Pr=d,$t!==null&&(Pr?(n=$t,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):$t.removeChild(a.stateNode));break;case 18:$t!==null&&(Pr?(n=$t,a=a.stateNode,n.nodeType===8?ph(n.parentNode,a):n.nodeType===1&&ph(n,a),Ar(n)):ph($t,a.stateNode));break;case 4:c=$t,d=Pr,$t=a.stateNode.containerInfo,Pr=!0,rs(n,s,a),$t=c,Pr=d;break;case 0:case 11:case 14:case 15:if(!tn&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,w=g.destroy;g=g.tag,w!==void 0&&((g&2)!==0||(g&4)!==0)&&Jh(a,s,w),d=d.next}while(d!==c)}rs(n,s,a);break;case 1:if(!tn&&(Oo(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(I){gt(a,s,I)}rs(n,s,a);break;case 21:rs(n,s,a);break;case 22:a.mode&1?(tn=(c=tn)||a.memoizedState!==null,rs(n,s,a),tn=c):rs(n,s,a);break;default:rs(n,s,a)}}function og(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new DE),s.forEach(function(c){var d=HE.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function kr(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var g=n,w=s,I=w;e:for(;I!==null;){switch(I.tag){case 5:$t=I.stateNode,Pr=!1;break e;case 3:$t=I.stateNode.containerInfo,Pr=!0;break e;case 4:$t=I.stateNode.containerInfo,Pr=!0;break e}I=I.return}if($t===null)throw Error(t(160));sg(g,w,d),$t=null,Pr=!1;var k=d.alternate;k!==null&&(k.return=null),d.return=null}catch(q){gt(d,s,q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ag(s,n),s=s.sibling}function ag(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(kr(s,n),Yr(n),c&4){try{ja(3,n,n.return),Su(3,n)}catch(me){gt(n,n.return,me)}try{ja(5,n,n.return)}catch(me){gt(n,n.return,me)}}break;case 1:kr(s,n),Yr(n),c&512&&a!==null&&Oo(a,a.return);break;case 5:if(kr(s,n),Yr(n),c&512&&a!==null&&Oo(a,a.return),n.flags&32){var d=n.stateNode;try{er(d,"")}catch(me){gt(n,n.return,me)}}if(c&4&&(d=n.stateNode,d!=null)){var g=n.memoizedProps,w=a!==null?a.memoizedProps:g,I=n.type,k=n.updateQueue;if(n.updateQueue=null,k!==null)try{I==="input"&&g.type==="radio"&&g.name!=null&&ci(d,g),di(I,w);var q=di(I,g);for(w=0;w<k.length;w+=2){var J=k[w],ne=k[w+1];J==="style"?ln(d,ne):J==="dangerouslySetInnerHTML"?zi(d,ne):J==="children"?er(d,ne):Z(d,J,ne,q)}switch(I){case"input":Kn(d,g);break;case"textarea":Xn(d,g);break;case"select":var X=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var ce=g.value;ce!=null?Yn(d,!!g.multiple,ce,!1):X!==!!g.multiple&&(g.defaultValue!=null?Yn(d,!!g.multiple,g.defaultValue,!0):Yn(d,!!g.multiple,g.multiple?[]:"",!1))}d[Ca]=g}catch(me){gt(n,n.return,me)}}break;case 6:if(kr(s,n),Yr(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,g=n.memoizedProps;try{d.nodeValue=g}catch(me){gt(n,n.return,me)}}break;case 3:if(kr(s,n),Yr(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Ar(s.containerInfo)}catch(me){gt(n,n.return,me)}break;case 4:kr(s,n),Yr(n);break;case 13:kr(s,n),Yr(n),d=n.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(sf=Re())),c&4&&og(n);break;case 22:if(J=a!==null&&a.memoizedState!==null,n.mode&1?(tn=(q=tn)||J,kr(s,n),tn=q):kr(s,n),Yr(n),c&8192){if(q=n.memoizedState!==null,(n.stateNode.isHidden=q)&&!J&&(n.mode&1)!==0)for(de=n,J=n.child;J!==null;){for(ne=de=J;de!==null;){switch(X=de,ce=X.child,X.tag){case 0:case 11:case 14:case 15:ja(4,X,X.return);break;case 1:Oo(X,X.return);var pe=X.stateNode;if(typeof pe.componentWillUnmount=="function"){c=X,a=X.return;try{s=c,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(me){gt(c,a,me)}}break;case 5:Oo(X,X.return);break;case 22:if(X.memoizedState!==null){cg(ne);continue}}ce!==null?(ce.return=X,de=ce):cg(ne)}J=J.sibling}e:for(J=null,ne=n;;){if(ne.tag===5){if(J===null){J=ne;try{d=ne.stateNode,q?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(I=ne.stateNode,k=ne.memoizedProps.style,w=k!=null&&k.hasOwnProperty("display")?k.display:null,I.style.display=jr("display",w))}catch(me){gt(n,n.return,me)}}}else if(ne.tag===6){if(J===null)try{ne.stateNode.nodeValue=q?"":ne.memoizedProps}catch(me){gt(n,n.return,me)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===n)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===n)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===n)break e;J===ne&&(J=null),ne=ne.return}J===ne&&(J=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:kr(s,n),Yr(n),c&4&&og(n);break;case 21:break;default:kr(s,n),Yr(n)}}function Yr(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(rg(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(er(d,""),c.flags&=-33);var g=ig(n);tf(n,g,d);break;case 3:case 4:var w=c.stateNode.containerInfo,I=ig(n);ef(n,I,w);break;default:throw Error(t(161))}}catch(k){gt(n,n.return,k)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function VE(n,s,a){de=n,lg(n)}function lg(n,s,a){for(var c=(n.mode&1)!==0;de!==null;){var d=de,g=d.child;if(d.tag===22&&c){var w=d.memoizedState!==null||Tu;if(!w){var I=d.alternate,k=I!==null&&I.memoizedState!==null||tn;I=Tu;var q=tn;if(Tu=w,(tn=k)&&!q)for(de=d;de!==null;)w=de,k=w.child,w.tag===22&&w.memoizedState!==null?hg(d):k!==null?(k.return=w,de=k):hg(d);for(;g!==null;)de=g,lg(g),g=g.sibling;de=d,Tu=I,tn=q}ug(n)}else(d.subtreeFlags&8772)!==0&&g!==null?(g.return=d,de=g):ug(n)}}function ug(n){for(;de!==null;){var s=de;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:tn||Su(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!tn)if(a===null)c.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Cr(s.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&cm(s,g,c);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}cm(s,w,a)}break;case 5:var I=s.stateNode;if(a===null&&s.flags&4){a=I;var k=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&a.focus();break;case"img":k.src&&(a.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var q=s.alternate;if(q!==null){var J=q.memoizedState;if(J!==null){var ne=J.dehydrated;ne!==null&&Ar(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}tn||s.flags&512&&Zh(s)}catch(X){gt(s,s.return,X)}}if(s===n){de=null;break}if(a=s.sibling,a!==null){a.return=s.return,de=a;break}de=s.return}}function cg(n){for(;de!==null;){var s=de;if(s===n){de=null;break}var a=s.sibling;if(a!==null){a.return=s.return,de=a;break}de=s.return}}function hg(n){for(;de!==null;){var s=de;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Su(4,s)}catch(k){gt(s,a,k)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(k){gt(s,d,k)}}var g=s.return;try{Zh(s)}catch(k){gt(s,g,k)}break;case 5:var w=s.return;try{Zh(s)}catch(k){gt(s,w,k)}}}catch(k){gt(s,s.return,k)}if(s===n){de=null;break}var I=s.sibling;if(I!==null){I.return=s.return,de=I;break}de=s.return}}var OE=Math.ceil,Au=ie.ReactCurrentDispatcher,nf=ie.ReactCurrentOwner,hr=ie.ReactCurrentBatchConfig,Be=0,Ft=null,Tt=null,Wt=0,Hn=0,Lo=Ji(0),kt=0,za=null,Bs=0,xu=0,rf=0,Ua=null,Cn=null,sf=0,Fo=1/0,bi=null,Iu=!1,of=null,is=null,Ru=!1,ss=null,Cu=0,Ba=0,af=null,Pu=-1,ku=0;function fn(){return(Be&6)!==0?Re():Pu!==-1?Pu:Pu=Re()}function os(n){return(n.mode&1)===0?1:(Be&2)!==0&&Wt!==0?Wt&-Wt:_E.transition!==null?(ku===0&&(ku=ks()),ku):(n=Le,n!==0||(n=window.event,n=n===void 0?16:ga(n.type)),n)}function br(n,s,a,c){if(50<Ba)throw Ba=0,af=null,Error(t(185));$i(n,a,c),((Be&2)===0||n!==Ft)&&(n===Ft&&((Be&2)===0&&(xu|=a),kt===4&&as(n,Wt)),Pn(n,c),a===1&&Be===0&&(s.mode&1)===0&&(Fo=Re()+500,iu&&es()))}function Pn(n,s){var a=n.callbackNode;_i(n,s);var c=Ps(n,n===Ft?Wt:0);if(c===0)a!==null&&fe(a),n.callbackNode=null,n.callbackPriority=0;else if(s=c&-c,n.callbackPriority!==s){if(a!=null&&fe(a),s===1)n.tag===0?vE(dg.bind(null,n)):Jp(dg.bind(null,n)),pE(function(){(Be&6)===0&&es()}),a=null;else{switch(qi(c)){case 1:a=Ut;break;case 4:a=Tn;break;case 16:a=Xt;break;case 536870912:a=Cs;break;default:a=Xt}a=Eg(a,fg.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function fg(n,s){if(Pu=-1,ku=0,(Be&6)!==0)throw Error(t(327));var a=n.callbackNode;if(jo()&&n.callbackNode!==a)return null;var c=Ps(n,n===Ft?Wt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||s)s=bu(n,c);else{s=c;var d=Be;Be|=2;var g=mg();(Ft!==n||Wt!==s)&&(bi=null,Fo=Re()+500,$s(n,s));do try{jE();break}catch(I){pg(n,I)}while(!0);Ah(),Au.current=g,Be=d,Tt!==null?s=0:(Ft=null,Wt=0,s=kt)}if(s!==0){if(s===2&&(d=Fn(n),d!==0&&(c=d,s=lf(n,d))),s===1)throw a=za,$s(n,0),as(n,c),Pn(n,Re()),a;if(s===6)as(n,c);else{if(d=n.current.alternate,(c&30)===0&&!LE(d)&&(s=bu(n,c),s===2&&(g=Fn(n),g!==0&&(c=g,s=lf(n,g))),s===1))throw a=za,$s(n,0),as(n,c),Pn(n,Re()),a;switch(n.finishedWork=d,n.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:Ws(n,Cn,bi);break;case 3:if(as(n,c),(c&130023424)===c&&(s=sf+500-Re(),10<s)){if(Ps(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){fn(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=dh(Ws.bind(null,n,Cn,bi),s);break}Ws(n,Cn,bi);break;case 4:if(as(n,c),(c&4194240)===c)break;for(s=n.eventTimes,d=-1;0<c;){var w=31-un(c);g=1<<w,w=s[w],w>d&&(d=w),c&=~g}if(c=d,c=Re()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*OE(c/1960))-c,10<c){n.timeoutHandle=dh(Ws.bind(null,n,Cn,bi),c);break}Ws(n,Cn,bi);break;case 5:Ws(n,Cn,bi);break;default:throw Error(t(329))}}}return Pn(n,Re()),n.callbackNode===a?fg.bind(null,n):null}function lf(n,s){var a=Ua;return n.current.memoizedState.isDehydrated&&($s(n,s).flags|=256),n=bu(n,s),n!==2&&(s=Cn,Cn=a,s!==null&&uf(s)),n}function uf(n){Cn===null?Cn=n:Cn.push.apply(Cn,n)}function LE(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!Ir(g(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function as(n,s){for(s&=~rf,s&=~xu,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-un(s),c=1<<a;n[a]=-1,s&=~c}}function dg(n){if((Be&6)!==0)throw Error(t(327));jo();var s=Ps(n,0);if((s&1)===0)return Pn(n,Re()),null;var a=bu(n,s);if(n.tag!==0&&a===2){var c=Fn(n);c!==0&&(s=c,a=lf(n,c))}if(a===1)throw a=za,$s(n,0),as(n,s),Pn(n,Re()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Ws(n,Cn,bi),Pn(n,Re()),null}function cf(n,s){var a=Be;Be|=1;try{return n(s)}finally{Be=a,Be===0&&(Fo=Re()+500,iu&&es())}}function Hs(n){ss!==null&&ss.tag===0&&(Be&6)===0&&jo();var s=Be;Be|=1;var a=hr.transition,c=Le;try{if(hr.transition=null,Le=1,n)return n()}finally{Le=c,hr.transition=a,Be=s,(Be&6)===0&&es()}}function hf(){Hn=Lo.current,nt(Lo)}function $s(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,dE(a)),Tt!==null)for(a=Tt.return;a!==null;){var c=a;switch(_h(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&nu();break;case 3:Mo(),nt(xn),nt(Jt),Nh();break;case 5:kh(c);break;case 4:Mo();break;case 13:nt(ut);break;case 19:nt(ut);break;case 10:xh(c.type._context);break;case 22:case 23:hf()}a=a.return}if(Ft=n,Tt=n=ls(n.current,null),Wt=Hn=s,kt=0,za=null,rf=xu=Bs=0,Cn=Ua=null,js!==null){for(s=0;s<js.length;s++)if(a=js[s],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,g=a.pending;if(g!==null){var w=g.next;g.next=d,c.next=w}a.pending=c}js=null}return n}function pg(n,s){do{var a=Tt;try{if(Ah(),pu.current=vu,mu){for(var c=ct.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}mu=!1}if(Us=0,Lt=Pt=ct=null,Ma=!1,Va=0,nf.current=null,a===null||a.return===null){kt=1,za=s,Tt=null;break}e:{var g=n,w=a.return,I=a,k=s;if(s=Wt,I.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var q=k,J=I,ne=J.tag;if((J.mode&1)===0&&(ne===0||ne===11||ne===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var ce=jm(w);if(ce!==null){ce.flags&=-257,zm(ce,w,I,g,s),ce.mode&1&&Fm(g,q,s),s=ce,k=q;var pe=s.updateQueue;if(pe===null){var me=new Set;me.add(k),s.updateQueue=me}else pe.add(k);break e}else{if((s&1)===0){Fm(g,q,s),ff();break e}k=Error(t(426))}}else if(lt&&I.mode&1){var vt=jm(w);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),zm(vt,w,I,g,s),Th(Vo(k,I));break e}}g=k=Vo(k,I),kt!==4&&(kt=2),Ua===null?Ua=[g]:Ua.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var B=Om(g,k,s);um(g,B);break e;case 1:I=k;var O=g.type,W=g.stateNode;if((g.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(is===null||!is.has(W)))){g.flags|=65536,s&=-s,g.lanes|=s;var re=Lm(g,I,s);um(g,re);break e}}g=g.return}while(g!==null)}yg(a)}catch(_e){s=_e,Tt===a&&a!==null&&(Tt=a=a.return);continue}break}while(!0)}function mg(){var n=Au.current;return Au.current=vu,n===null?vu:n}function ff(){(kt===0||kt===3||kt===2)&&(kt=4),Ft===null||(Bs&268435455)===0&&(xu&268435455)===0||as(Ft,Wt)}function bu(n,s){var a=Be;Be|=2;var c=mg();(Ft!==n||Wt!==s)&&(bi=null,$s(n,s));do try{FE();break}catch(d){pg(n,d)}while(!0);if(Ah(),Be=a,Au.current=c,Tt!==null)throw Error(t(261));return Ft=null,Wt=0,kt}function FE(){for(;Tt!==null;)gg(Tt)}function jE(){for(;Tt!==null&&!Ke();)gg(Tt)}function gg(n){var s=wg(n.alternate,n,Hn);n.memoizedProps=n.pendingProps,s===null?yg(n):Tt=s,nf.current=null}function yg(n){var s=n;do{var a=s.alternate;if(n=s.return,(s.flags&32768)===0){if(a=bE(a,s,Hn),a!==null){Tt=a;return}}else{if(a=NE(a,s),a!==null){a.flags&=32767,Tt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{kt=6,Tt=null;return}}if(s=s.sibling,s!==null){Tt=s;return}Tt=s=n}while(s!==null);kt===0&&(kt=5)}function Ws(n,s,a){var c=Le,d=hr.transition;try{hr.transition=null,Le=1,zE(n,s,a,c)}finally{hr.transition=d,Le=c}return null}function zE(n,s,a,c){do jo();while(ss!==null);if((Be&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var g=a.lanes|a.childLanes;if(Ye(n,g),n===Ft&&(Tt=Ft=null,Wt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Ru||(Ru=!0,Eg(Xt,function(){return jo(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=hr.transition,hr.transition=null;var w=Le;Le=1;var I=Be;Be|=4,nf.current=null,ME(n,a),ag(a,n),oE(hh),Ki=!!ch,hh=ch=null,n.current=a,VE(a),wt(),Be=I,Le=w,hr.transition=g}else n.current=a;if(Ru&&(Ru=!1,ss=n,Cu=d),g=n.pendingLanes,g===0&&(is=null),bl(a.stateNode),Pn(n,Re()),s!==null)for(c=n.onRecoverableError,a=0;a<s.length;a++)d=s[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Iu)throw Iu=!1,n=of,of=null,n;return(Cu&1)!==0&&n.tag!==0&&jo(),g=n.pendingLanes,(g&1)!==0?n===af?Ba++:(Ba=0,af=n):Ba=0,es(),null}function jo(){if(ss!==null){var n=qi(Cu),s=hr.transition,a=Le;try{if(hr.transition=null,Le=16>n?16:n,ss===null)var c=!1;else{if(n=ss,ss=null,Cu=0,(Be&6)!==0)throw Error(t(331));var d=Be;for(Be|=4,de=n.current;de!==null;){var g=de,w=g.child;if((de.flags&16)!==0){var I=g.deletions;if(I!==null){for(var k=0;k<I.length;k++){var q=I[k];for(de=q;de!==null;){var J=de;switch(J.tag){case 0:case 11:case 15:ja(8,J,g)}var ne=J.child;if(ne!==null)ne.return=J,de=ne;else for(;de!==null;){J=de;var X=J.sibling,ce=J.return;if(ng(J),J===q){de=null;break}if(X!==null){X.return=ce,de=X;break}de=ce}}}var pe=g.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var vt=me.sibling;me.sibling=null,me=vt}while(me!==null)}}de=g}}if((g.subtreeFlags&2064)!==0&&w!==null)w.return=g,de=w;else e:for(;de!==null;){if(g=de,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:ja(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,de=B;break e}de=g.return}}var O=n.current;for(de=O;de!==null;){w=de;var W=w.child;if((w.subtreeFlags&2064)!==0&&W!==null)W.return=w,de=W;else e:for(w=O;de!==null;){if(I=de,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:Su(9,I)}}catch(_e){gt(I,I.return,_e)}if(I===w){de=null;break e}var re=I.sibling;if(re!==null){re.return=I.return,de=re;break e}de=I.return}}if(Be=d,es(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(Ur,n)}catch{}c=!0}return c}finally{Le=a,hr.transition=s}}return!1}function vg(n,s,a){s=Vo(a,s),s=Om(n,s,1),n=ns(n,s,1),s=fn(),n!==null&&($i(n,1,s),Pn(n,s))}function gt(n,s,a){if(n.tag===3)vg(n,n,a);else for(;s!==null;){if(s.tag===3){vg(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(is===null||!is.has(c))){n=Vo(a,n),n=Lm(s,n,1),s=ns(s,n,1),n=fn(),s!==null&&($i(s,1,n),Pn(s,n));break}}s=s.return}}function UE(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),s=fn(),n.pingedLanes|=n.suspendedLanes&a,Ft===n&&(Wt&a)===a&&(kt===4||kt===3&&(Wt&130023424)===Wt&&500>Re()-sf?$s(n,0):rf|=a),Pn(n,s)}function _g(n,s){s===0&&((n.mode&1)===0?s=1:(s=ao,ao<<=1,(ao&130023424)===0&&(ao=4194304)));var a=fn();n=Ci(n,s),n!==null&&($i(n,s,a),Pn(n,a))}function BE(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),_g(n,a)}function HE(n,s){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),_g(n,a)}var wg;wg=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||xn.current)Rn=!0;else{if((n.lanes&a)===0&&(s.flags&128)===0)return Rn=!1,kE(n,s,a);Rn=(n.flags&131072)!==0}else Rn=!1,lt&&(s.flags&1048576)!==0&&Zp(s,ou,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Eu(n,s),n=s.pendingProps;var d=Ro(s,Jt.current);Do(s,a),d=Vh(null,s,c,n,d,a);var g=Oh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,In(c)?(g=!0,ru(s)):g=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ch(s),d.updater=_u,s.stateNode=d,d._reactInternals=s,Bh(s,c,n,a),s=qh(null,s,c,!0,g,a)):(s.tag=0,lt&&g&&vh(s),hn(null,s,d,a),s=s.child),s;case 16:c=s.elementType;e:{switch(Eu(n,s),n=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=WE(c),n=Cr(c,n),d){case 0:s=Wh(null,s,c,n,a);break e;case 1:s=qm(null,s,c,n,a);break e;case 11:s=Um(null,s,c,n,a);break e;case 14:s=Bm(null,s,c,Cr(c.type,n),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Cr(c,d),Wh(n,s,c,d,a);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Cr(c,d),qm(n,s,c,d,a);case 3:e:{if(Gm(s),n===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,d=g.element,lm(n,s),fu(s,c,null,a);var w=s.memoizedState;if(c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){d=Vo(Error(t(423)),s),s=Km(n,s,c,a,d);break e}else if(c!==d){d=Vo(Error(t(424)),s),s=Km(n,s,c,a,d);break e}else for(Bn=Xi(s.stateNode.containerInfo.firstChild),Un=s,lt=!0,Rr=null,a=om(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ko(),c===d){s=ki(n,s,a);break e}hn(n,s,c,a)}s=s.child}return s;case 5:return hm(s),n===null&&Eh(s),c=s.type,d=s.pendingProps,g=n!==null?n.memoizedProps:null,w=d.children,fh(c,d)?w=null:g!==null&&fh(c,g)&&(s.flags|=32),Wm(n,s),hn(n,s,w,a),s.child;case 6:return n===null&&Eh(s),null;case 13:return Qm(n,s,a);case 4:return Ph(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=bo(s,null,c,a):hn(n,s,c,a),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Cr(c,d),Um(n,s,c,d,a);case 7:return hn(n,s,s.pendingProps,a),s.child;case 8:return hn(n,s,s.pendingProps.children,a),s.child;case 12:return hn(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,g=s.memoizedProps,w=d.value,Je(uu,c._currentValue),c._currentValue=w,g!==null)if(Ir(g.value,w)){if(g.children===d.children&&!xn.current){s=ki(n,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var I=g.dependencies;if(I!==null){w=g.child;for(var k=I.firstContext;k!==null;){if(k.context===c){if(g.tag===1){k=Pi(-1,a&-a),k.tag=2;var q=g.updateQueue;if(q!==null){q=q.shared;var J=q.pending;J===null?k.next=k:(k.next=J.next,J.next=k),q.pending=k}}g.lanes|=a,k=g.alternate,k!==null&&(k.lanes|=a),Ih(g.return,a,s),I.lanes|=a;break}k=k.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,I=w.alternate,I!==null&&(I.lanes|=a),Ih(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}hn(n,s,d.children,a),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,Do(s,a),d=ur(d),c=c(d),s.flags|=1,hn(n,s,c,a),s.child;case 14:return c=s.type,d=Cr(c,s.pendingProps),d=Cr(c.type,d),Bm(n,s,c,d,a);case 15:return Hm(n,s,s.type,s.pendingProps,a);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Cr(c,d),Eu(n,s),s.tag=1,In(c)?(n=!0,ru(s)):n=!1,Do(s,a),Mm(s,c,d),Bh(s,c,d,a),qh(null,s,c,!0,n,a);case 19:return Xm(n,s,a);case 22:return $m(n,s,a)}throw Error(t(156,s.tag))};function Eg(n,s){return te(n,s)}function $E(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(n,s,a,c){return new $E(n,s,a,c)}function df(n){return n=n.prototype,!(!n||!n.isReactComponent)}function WE(n){if(typeof n=="function")return df(n)?1:0;if(n!=null){if(n=n.$$typeof,n===j)return 11;if(n===Dt)return 14}return 2}function ls(n,s){var a=n.alternate;return a===null?(a=fr(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Nu(n,s,a,c,d,g){var w=2;if(c=n,typeof n=="function")df(n)&&(w=1);else if(typeof n=="string")w=5;else e:switch(n){case b:return qs(a.children,d,g,s);case x:w=8,d|=8;break;case R:return n=fr(12,a,s,d|2),n.elementType=R,n.lanes=g,n;case C:return n=fr(13,a,s,d),n.elementType=C,n.lanes=g,n;case et:return n=fr(19,a,s,d),n.elementType=et,n.lanes=g,n;case We:return Du(a,d,g,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D:w=10;break e;case N:w=9;break e;case j:w=11;break e;case Dt:w=14;break e;case Mt:w=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=fr(w,a,s,d),s.elementType=n,s.type=c,s.lanes=g,s}function qs(n,s,a,c){return n=fr(7,n,c,s),n.lanes=a,n}function Du(n,s,a,c){return n=fr(22,n,c,s),n.elementType=We,n.lanes=a,n.stateNode={isHidden:!1},n}function pf(n,s,a){return n=fr(6,n,null,s),n.lanes=a,n}function mf(n,s,a){return s=fr(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function qE(n,s,a,c,d){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hi(0),this.expirationTimes=Hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function gf(n,s,a,c,d,g,w,I,k){return n=new qE(n,s,a,I,k),s===1?(s=1,g===!0&&(s|=8)):s=0,g=fr(3,null,null,s),n.current=g,g.stateNode=n,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ch(g),n}function GE(n,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ee,key:c==null?null:""+c,children:n,containerInfo:s,implementation:a}}function Tg(n){if(!n)return Zi;n=n._reactInternals;e:{if(wn(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(In(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(In(a))return Yp(n,a,s)}return s}function Sg(n,s,a,c,d,g,w,I,k){return n=gf(a,c,!0,n,d,g,w,I,k),n.context=Tg(null),a=n.current,c=fn(),d=os(a),g=Pi(c,d),g.callback=s??null,ns(a,g,d),n.current.lanes=d,$i(n,d,c),Pn(n,c),n}function Mu(n,s,a,c){var d=s.current,g=fn(),w=os(d);return a=Tg(a),s.context===null?s.context=a:s.pendingContext=a,s=Pi(g,w),s.payload={element:n},c=c===void 0?null:c,c!==null&&(s.callback=c),n=ns(d,s,w),n!==null&&(br(n,d,w,g),hu(n,d,w)),w}function Vu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Ag(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function yf(n,s){Ag(n,s),(n=n.alternate)&&Ag(n,s)}function KE(){return null}var xg=typeof reportError=="function"?reportError:function(n){console.error(n)};function vf(n){this._internalRoot=n}Ou.prototype.render=vf.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));Mu(n,s,null,null)},Ou.prototype.unmount=vf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Hs(function(){Mu(null,n,null,null)}),s[Ai]=null}};function Ou(n){this._internalRoot=n}Ou.prototype.unstable_scheduleHydration=function(n){if(n){var s=Ol();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Hr.length&&s!==0&&s<Hr[a].priority;a++);Hr.splice(a,0,n),a===0&&jl(n)}};function _f(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Lu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Ig(){}function QE(n,s,a,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var q=Vu(w);g.call(q)}}var w=Sg(s,c,n,0,null,!1,!1,"",Ig);return n._reactRootContainer=w,n[Ai]=w.current,Ia(n.nodeType===8?n.parentNode:n),Hs(),w}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var I=c;c=function(){var q=Vu(k);I.call(q)}}var k=gf(n,0,!1,null,null,!1,!1,"",Ig);return n._reactRootContainer=k,n[Ai]=k.current,Ia(n.nodeType===8?n.parentNode:n),Hs(function(){Mu(s,k,a,c)}),k}function Fu(n,s,a,c,d){var g=a._reactRootContainer;if(g){var w=g;if(typeof d=="function"){var I=d;d=function(){var k=Vu(w);I.call(k)}}Mu(s,w,n,d)}else w=QE(a,s,n,d,c);return Vu(w)}Ml=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=Bi(s.pendingLanes);a!==0&&(Wi(s,a|1),Pn(s,Re()),(Be&6)===0&&(Fo=Re()+500,es()))}break;case 13:Hs(function(){var c=Ci(n,1);if(c!==null){var d=fn();br(c,n,1,d)}}),yf(n,1)}},lo=function(n){if(n.tag===13){var s=Ci(n,134217728);if(s!==null){var a=fn();br(s,n,134217728,a)}yf(n,134217728)}},Vl=function(n){if(n.tag===13){var s=os(n),a=Ci(n,s);if(a!==null){var c=fn();br(a,n,s,c)}yf(n,s)}},Ol=function(){return Le},Ll=function(n,s){var a=Le;try{return Le=n,s()}finally{Le=a}},wr=function(n,s,a){switch(s){case"input":if(Kn(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var d=tu(c);if(!d)throw Error(t(90));Mn(c),Kn(c,d)}}}break;case"textarea":Xn(n,a);break;case"select":s=a.value,s!=null&&Yn(n,!!a.multiple,s,!1)}},yn=cf,Is=Hs;var YE={usingClientEntryPoint:!1,Events:[Pa,xo,tu,rr,st,cf]},Ha={findFiberByHostInstance:Vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XE={bundleType:Ha.bundleType,version:Ha.version,rendererPackageName:Ha.rendererPackageName,rendererConfig:Ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=ye(n),n===null?null:n.stateNode},findFiberByHostInstance:Ha.findFiberByHostInstance||KE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{Ur=ju.inject(XE),Ln=ju}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YE,kn.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_f(s))throw Error(t(200));return GE(n,s,null,a)},kn.createRoot=function(n,s){if(!_f(n))throw Error(t(299));var a=!1,c="",d=xg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=gf(n,1,!1,null,null,a,!1,c,d),n[Ai]=s.current,Ia(n.nodeType===8?n.parentNode:n),new vf(s)},kn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=ye(s),n=n===null?null:n.stateNode,n},kn.flushSync=function(n){return Hs(n)},kn.hydrate=function(n,s,a){if(!Lu(s))throw Error(t(200));return Fu(null,n,s,!0,a)},kn.hydrateRoot=function(n,s,a){if(!_f(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,g="",w=xg;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=Sg(s,null,n,1,a??null,d,!1,g,w),n[Ai]=s.current,Ia(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new Ou(s)},kn.render=function(n,s,a){if(!Lu(s))throw Error(t(200));return Fu(null,n,s,!1,a)},kn.unmountComponentAtNode=function(n){if(!Lu(n))throw Error(t(40));return n._reactRootContainer?(Hs(function(){Fu(null,null,n,!1,function(){n._reactRootContainer=null,n[Ai]=null})}),!0):!1},kn.unstable_batchedUpdates=cf,kn.unstable_renderSubtreeIntoContainer=function(n,s,a,c){if(!Lu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Fu(n,s,a,!1,c)},kn.version="18.3.1-next-f1338f8080-20240426",kn}var Mg;function s0(){if(Mg)return Tf.exports;Mg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Tf.exports=i0(),Tf.exports}var Vg;function o0(){if(Vg)return zu;Vg=1;var r=s0();return zu.createRoot=r.createRoot,zu.hydrateRoot=r.hydrateRoot,zu}var a0=o0();const l0=wv(a0);/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Og="popstate";function u0(r={}){function e(i,o){let{pathname:l,search:h,hash:f}=i.location;return Jf("",{pathname:l,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:ul(o)}return h0(e,t,null,r)}function ft(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ii(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function c0(){return Math.random().toString(36).substring(2,10)}function Lg(r,e){return{usr:r.state,key:r.key,idx:e}}function Jf(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?sa(e):e,state:t,key:e&&e.key||i||c0()}}function ul({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function sa(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function h0(r,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,h=o.history,f="POP",m=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function T(){f="POP";let F=E(),$=F==null?null:F-y;y=F,m&&m({action:f,location:V.location,delta:$})}function S(F,$){f="PUSH";let ee=Jf(V.location,F,$);y=E()+1;let Z=Lg(ee,y),ie=V.createHref(ee);try{h.pushState(Z,"",ie)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(ie)}l&&m&&m({action:f,location:V.location,delta:1})}function P(F,$){f="REPLACE";let ee=Jf(V.location,F,$);y=E();let Z=Lg(ee,y),ie=V.createHref(ee);h.replaceState(Z,"",ie),l&&m&&m({action:f,location:V.location,delta:0})}function z(F){return f0(F)}let V={get action(){return f},get location(){return r(o,h)},listen(F){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Og,T),m=F,()=>{o.removeEventListener(Og,T),m=null}},createHref(F){return e(o,F)},createURL:z,encodeLocation(F){let $=z(F);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:S,replace:P,go(F){return h.go(F)}};return V}function f0(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ft(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:ul(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Ev(r,e,t="/"){return d0(r,e,t,!1)}function d0(r,e,t,i){let o=typeof e=="string"?sa(e):e,l=Vi(o.pathname||"/",t);if(l==null)return null;let h=Tv(r);p0(h);let f=null;for(let m=0;f==null&&m<h.length;++m){let y=x0(l);f=S0(h[m],y,i)}return f}function Tv(r,e=[],t=[],i="",o=!1){let l=(h,f,m=o,y)=>{let E={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:f,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(i)&&m)return;ft(E.relativePath.startsWith(i),`Absolute route path "${E.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(i.length)}let T=Di([i,E.relativePath]),S=t.concat(E);h.children&&h.children.length>0&&(ft(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Tv(h.children,e,S,T,m)),!(h.path==null&&!h.index)&&e.push({path:T,score:E0(T,h.index),routesMeta:S})};return r.forEach((h,f)=>{if(h.path===""||!h.path?.includes("?"))l(h,f);else for(let m of Sv(h.path))l(h,f,!0,m)}),e}function Sv(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let h=Sv(i.join("/")),f=[];return f.push(...h.map(m=>m===""?l:[l,m].join("/"))),o&&f.push(...h),f.map(m=>r.startsWith("/")&&m===""?"/":m)}function p0(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:T0(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var m0=/^:[\w-]+$/,g0=3,y0=2,v0=1,_0=10,w0=-2,Fg=r=>r==="*";function E0(r,e){let t=r.split("/"),i=t.length;return t.some(Fg)&&(i+=w0),e&&(i+=y0),t.filter(o=>!Fg(o)).reduce((o,l)=>o+(m0.test(l)?g0:l===""?v0:_0),i)}function T0(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function S0(r,e,t=!1){let{routesMeta:i}=r,o={},l="/",h=[];for(let f=0;f<i.length;++f){let m=i[f],y=f===i.length-1,E=l==="/"?e:e.slice(l.length)||"/",T=sc({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},E),S=m.route;if(!T&&y&&t&&!i[i.length-1].route.index&&(T=sc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Di([l,T.pathname]),pathnameBase:P0(Di([l,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(l=Di([l,T.pathnameBase]))}return h}function sc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=A0(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((y,{paramName:E,isOptional:T},S)=>{if(E==="*"){let z=f[S]||"";h=l.slice(0,l.length-z.length).replace(/(.)\/+$/,"$1")}const P=f[S];return T&&!P?y[E]=void 0:y[E]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:r}}function A0(r,e=!1,t=!0){ii(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,m)=>(i.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function x0(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ii(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Vi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function I0(r,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof r=="string"?sa(r):r;return{pathname:t?t.startsWith("/")?t:R0(t,e):e,search:k0(i),hash:b0(o)}}function R0(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function xf(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function C0(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Av(r){let e=C0(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function xv(r,e,t,i=!1){let o;typeof r=="string"?o=sa(r):(o={...r},ft(!o.pathname||!o.pathname.includes("?"),xf("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),xf("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),xf("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,f;if(h==null)f=t;else{let T=e.length-1;if(!i&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}f=T>=0?e[T]:"/"}let m=I0(o,f),y=h&&h!=="/"&&h.endsWith("/"),E=(l||h===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(y||E)&&(m.pathname+="/"),m}var Di=r=>r.join("/").replace(/\/\/+/g,"/"),P0=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),k0=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,b0=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function N0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Iv=["POST","PUT","PATCH","DELETE"];new Set(Iv);var D0=["GET",...Iv];new Set(D0);var oa=H.createContext(null);oa.displayName="DataRouter";var Ac=H.createContext(null);Ac.displayName="DataRouterState";H.createContext(!1);var Rv=H.createContext({isTransitioning:!1});Rv.displayName="ViewTransition";var M0=H.createContext(new Map);M0.displayName="Fetchers";var V0=H.createContext(null);V0.displayName="Await";var ui=H.createContext(null);ui.displayName="Navigation";var El=H.createContext(null);El.displayName="Location";var Vr=H.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var kd=H.createContext(null);kd.displayName="RouteError";function O0(r,{relative:e}={}){ft(Tl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=H.useContext(ui),{hash:o,pathname:l,search:h}=Sl(r,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Di([t,l])),i.createHref({pathname:f,search:h,hash:o})}function Tl(){return H.useContext(El)!=null}function to(){return ft(Tl(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(El).location}var Cv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Pv(r){H.useContext(ui).static||H.useLayoutEffect(r)}function xc(){let{isDataRoute:r}=H.useContext(Vr);return r?X0():L0()}function L0(){ft(Tl(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(oa),{basename:e,navigator:t}=H.useContext(ui),{matches:i}=H.useContext(Vr),{pathname:o}=to(),l=JSON.stringify(Av(i)),h=H.useRef(!1);return Pv(()=>{h.current=!0}),H.useCallback((m,y={})=>{if(ii(h.current,Cv),!h.current)return;if(typeof m=="number"){t.go(m);return}let E=xv(m,JSON.parse(l),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Di([e,E.pathname])),(y.replace?t.replace:t.push)(E,y.state,y)},[e,t,l,o,r])}var F0=H.createContext(null);function j0(r){let e=H.useContext(Vr).outlet;return e&&H.createElement(F0.Provider,{value:r},e)}function kv(){let{matches:r}=H.useContext(Vr),e=r[r.length-1];return e?e.params:{}}function Sl(r,{relative:e}={}){let{matches:t}=H.useContext(Vr),{pathname:i}=to(),o=JSON.stringify(Av(t));return H.useMemo(()=>xv(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function z0(r,e){return bv(r,e)}function bv(r,e,t,i){ft(Tl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=H.useContext(ui),{matches:l}=H.useContext(Vr),h=l[l.length-1],f=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",E=h&&h.route;{let $=E&&E.path||"";Nv(m,!E||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let T=to(),S;if(e){let $=typeof e=="string"?sa(e):e;ft(y==="/"||$.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${$.pathname}" was given in the \`location\` prop.`),S=$}else S=T;let P=S.pathname||"/",z=P;if(y!=="/"){let $=y.replace(/^\//,"").split("/");z="/"+P.replace(/^\//,"").split("/").slice($.length).join("/")}let V=Ev(r,{pathname:z});ii(E||V!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),ii(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=W0(V&&V.map($=>Object.assign({},$,{params:Object.assign({},f,$.params),pathname:Di([y,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?y:Di([y,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),l,t,i);return e&&F?H.createElement(El.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},F):F}function U0(){let r=Y0(),e=N0(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:l},"ErrorBoundary")," or"," ",H.createElement("code",{style:l},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:o},t):null,h)}var B0=H.createElement(U0,null),H0=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?H.createElement(Vr.Provider,{value:this.props.routeContext},H.createElement(kd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $0({routeContext:r,match:e,children:t}){let i=H.useContext(oa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Vr.Provider,{value:r},t)}function W0(r,e=[],t=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=t?.errors;if(l!=null){let m=o.findIndex(y=>y.route.id&&l?.[y.route.id]!==void 0);ft(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let h=!1,f=-1;if(t)for(let m=0;m<o.length;m++){let y=o[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=m),y.route.id){let{loaderData:E,errors:T}=t,S=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||S){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((m,y,E)=>{let T,S=!1,P=null,z=null;t&&(T=l&&y.route.id?l[y.route.id]:void 0,P=y.route.errorElement||B0,h&&(f<0&&E===0?(Nv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,z=null):f===E&&(S=!0,z=y.route.hydrateFallbackElement||null)));let V=e.concat(o.slice(0,E+1)),F=()=>{let $;return T?$=P:S?$=z:y.route.Component?$=H.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=m,H.createElement($0,{match:y,routeContext:{outlet:m,matches:V,isDataRoute:t!=null},children:$})};return t&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?H.createElement(H0,{location:t.location,revalidation:t.revalidation,component:P,error:T,children:F(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):F()},null)}function bd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q0(r){let e=H.useContext(oa);return ft(e,bd(r)),e}function G0(r){let e=H.useContext(Ac);return ft(e,bd(r)),e}function K0(r){let e=H.useContext(Vr);return ft(e,bd(r)),e}function Nd(r){let e=K0(r),t=e.matches[e.matches.length-1];return ft(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function Q0(){return Nd("useRouteId")}function Y0(){let r=H.useContext(kd),e=G0("useRouteError"),t=Nd("useRouteError");return r!==void 0?r:e.errors?.[t]}function X0(){let{router:r}=q0("useNavigate"),e=Nd("useNavigate"),t=H.useRef(!1);return Pv(()=>{t.current=!0}),H.useCallback(async(o,l={})=>{ii(t.current,Cv),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var jg={};function Nv(r,e,t){!e&&!jg[r]&&(jg[r]=!0,ii(!1,t))}H.memo(J0);function J0({routes:r,future:e,state:t}){return bv(r,void 0,t,e)}function Z0(r){return j0(r.context)}function $n(r){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eT({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){ft(!Tl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),f=H.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=sa(t));let{pathname:m="/",search:y="",hash:E="",state:T=null,key:S="default"}=t,P=H.useMemo(()=>{let z=Vi(m,h);return z==null?null:{location:{pathname:z,search:y,hash:E,state:T,key:S},navigationType:i}},[h,m,y,E,T,S,i]);return ii(P!=null,`<Router basename="${h}"> is not able to match the URL "${m}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:H.createElement(ui.Provider,{value:f},H.createElement(El.Provider,{children:e,value:P}))}function tT({children:r,location:e}){return z0(Zf(r),e)}function Zf(r,e=[]){let t=[];return H.Children.forEach(r,(i,o)=>{if(!H.isValidElement(i))return;let l=[...e,o];if(i.type===H.Fragment){t.push.apply(t,Zf(i.props.children,l));return}ft(i.type===$n,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Zf(i.props.children,l)),t.push(h)}),t}var Qu="get",Yu="application/x-www-form-urlencoded";function Ic(r){return r!=null&&typeof r.tagName=="string"}function nT(r){return Ic(r)&&r.tagName.toLowerCase()==="button"}function rT(r){return Ic(r)&&r.tagName.toLowerCase()==="form"}function iT(r){return Ic(r)&&r.tagName.toLowerCase()==="input"}function sT(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function oT(r,e){return r.button===0&&(!e||e==="_self")&&!sT(r)}var Uu=null;function aT(){if(Uu===null)try{new FormData(document.createElement("form"),0),Uu=!1}catch{Uu=!0}return Uu}var lT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function If(r){return r!=null&&!lT.has(r)?(ii(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yu}"`),null):r}function uT(r,e){let t,i,o,l,h;if(rT(r)){let f=r.getAttribute("action");i=f?Vi(f,e):null,t=r.getAttribute("method")||Qu,o=If(r.getAttribute("enctype"))||Yu,l=new FormData(r)}else if(nT(r)||iT(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||f.getAttribute("action");if(i=m?Vi(m,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||Qu,o=If(r.getAttribute("formenctype"))||If(f.getAttribute("enctype"))||Yu,l=new FormData(f,r),!aT()){let{name:y,type:E,value:T}=r;if(E==="image"){let S=y?`${y}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else y&&l.append(y,T)}}else{if(Ic(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Qu,i=null,o=Yu,h=r}return l&&o==="text/plain"&&(h=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function cT(r,e,t){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Vi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function hT(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fT(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function dT(r,e,t){let i=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await hT(l,t);return h.links?h.links():[]}return[]}));return yT(i.flat(1).filter(fT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function zg(r,e,t,i,o,l){let h=(m,y)=>t[y]?m.route.id!==t[y].route.id:!0,f=(m,y)=>t[y].pathname!==m.pathname||t[y].route.path?.endsWith("*")&&t[y].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,y)=>h(m,y)||f(m,y)):l==="data"?e.filter((m,y)=>{let E=i.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(h(m,y)||f(m,y))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function pT(r,e,{includeHydrateFallback:t}={}){return mT(r.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function mT(r){return[...new Set(r)]}function gT(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function yT(r,e){let t=new Set;return new Set(e),r.reduce((i,o)=>{let l=JSON.stringify(gT(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function Dv(){let r=H.useContext(oa);return Dd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function vT(){let r=H.useContext(Ac);return Dd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Md=H.createContext(void 0);Md.displayName="FrameworkContext";function Mv(){let r=H.useContext(Md);return Dd(r,"You must render this element inside a <HydratedRouter> element"),r}function _T(r,e){let t=H.useContext(Md),[i,o]=H.useState(!1),[l,h]=H.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=e,S=H.useRef(null);H.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let V=$=>{$.forEach(ee=>{h(ee.isIntersecting)})},F=new IntersectionObserver(V,{threshold:.5});return S.current&&F.observe(S.current),()=>{F.disconnect()}}},[r]),H.useEffect(()=>{if(i){let V=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(V)}}},[i]);let P=()=>{o(!0)},z=()=>{o(!1),h(!1)};return t?r!=="intent"?[l,S,{}]:[l,S,{onFocus:Wa(f,P),onBlur:Wa(m,z),onMouseEnter:Wa(y,P),onMouseLeave:Wa(E,z),onTouchStart:Wa(T,P)}]:[!1,S,{}]}function Wa(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function wT({page:r,...e}){let{router:t}=Dv(),i=H.useMemo(()=>Ev(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?H.createElement(TT,{page:r,matches:i,...e}):null}function ET(r){let{manifest:e,routeModules:t}=Mv(),[i,o]=H.useState([]);return H.useEffect(()=>{let l=!1;return dT(r,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[r,e,t]),i}function TT({page:r,matches:e,...t}){let i=to(),{manifest:o,routeModules:l}=Mv(),{basename:h}=Dv(),{loaderData:f,matches:m}=vT(),y=H.useMemo(()=>zg(r,e,m,o,i,"data"),[r,e,m,o,i]),E=H.useMemo(()=>zg(r,e,m,o,i,"assets"),[r,e,m,o,i]),T=H.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let z=new Set,V=!1;if(e.forEach($=>{let ee=o.routes[$.route.id];!ee||!ee.hasLoader||(!y.some(Z=>Z.route.id===$.route.id)&&$.route.id in f&&l[$.route.id]?.shouldRevalidate||ee.hasClientLoader?V=!0:z.add($.route.id))}),z.size===0)return[];let F=cT(r,h,"data");return V&&z.size>0&&F.searchParams.set("_routes",e.filter($=>z.has($.route.id)).map($=>$.route.id).join(",")),[F.pathname+F.search]},[h,f,i,o,y,e,r,l]),S=H.useMemo(()=>pT(E,o),[E,o]),P=ET(E);return H.createElement(H.Fragment,null,T.map(z=>H.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...t})),S.map(z=>H.createElement("link",{key:z,rel:"modulepreload",href:z,...t})),P.map(({key:z,link:V})=>H.createElement("link",{key:z,nonce:t.nonce,...V})))}function ST(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Vv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vv&&(window.__reactRouterVersion="7.8.1")}catch{}function AT({basename:r,children:e,window:t}){let i=H.useRef();i.current==null&&(i.current=u0({window:t,v5Compat:!0}));let o=i.current,[l,h]=H.useState({action:o.action,location:o.location}),f=H.useCallback(m=>{H.startTransition(()=>h(m))},[h]);return H.useLayoutEffect(()=>o.listen(f),[o,f]),H.createElement(eT,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var Ov=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pr=H.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:h,state:f,target:m,to:y,preventScrollReset:E,viewTransition:T,...S},P){let{basename:z}=H.useContext(ui),V=typeof y=="string"&&Ov.test(y),F,$=!1;if(typeof y=="string"&&V&&(F=y,Vv))try{let R=new URL(window.location.href),D=y.startsWith("//")?new URL(R.protocol+y):new URL(y),N=Vi(D.pathname,z);D.origin===R.origin&&N!=null?y=N+D.search+D.hash:$=!0}catch{ii(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=O0(y,{relative:o}),[Z,ie,ae]=_T(i,S),Ee=CT(y,{replace:h,state:f,target:m,preventScrollReset:E,relative:o,viewTransition:T});function b(R){e&&e(R),R.defaultPrevented||Ee(R)}let x=H.createElement("a",{...S,...ae,href:F||ee,onClick:$||l?e:b,ref:ST(P,ie),target:m,"data-discover":!V&&t==="render"?"true":void 0});return Z&&!V?H.createElement(H.Fragment,null,x,H.createElement(wT,{page:ee})):x});pr.displayName="Link";var xT=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:h,viewTransition:f,children:m,...y},E){let T=Sl(h,{relative:y.relative}),S=to(),P=H.useContext(Ac),{navigator:z,basename:V}=H.useContext(ui),F=P!=null&&DT(T)&&f===!0,$=z.encodeLocation?z.encodeLocation(T).pathname:T.pathname,ee=S.pathname,Z=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;t||(ee=ee.toLowerCase(),Z=Z?Z.toLowerCase():null,$=$.toLowerCase()),Z&&V&&(Z=Vi(Z,V)||Z);const ie=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ae=ee===$||!o&&ee.startsWith($)&&ee.charAt(ie)==="/",Ee=Z!=null&&(Z===$||!o&&Z.startsWith($)&&Z.charAt($.length)==="/"),b={isActive:ae,isPending:Ee,isTransitioning:F},x=ae?e:void 0,R;typeof i=="function"?R=i(b):R=[i,ae?"active":null,Ee?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(b):l;return H.createElement(pr,{...y,"aria-current":x,className:R,ref:E,style:D,to:h,viewTransition:f},typeof m=="function"?m(b):m)});xT.displayName="NavLink";var IT=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:h=Qu,action:f,onSubmit:m,relative:y,preventScrollReset:E,viewTransition:T,...S},P)=>{let z=bT(),V=NT(f,{relative:y}),F=h.toLowerCase()==="get"?"get":"post",$=typeof f=="string"&&Ov.test(f),ee=Z=>{if(m&&m(Z),Z.defaultPrevented)return;Z.preventDefault();let ie=Z.nativeEvent.submitter,ae=ie?.getAttribute("formmethod")||h;z(ie||Z.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:o,state:l,relative:y,preventScrollReset:E,viewTransition:T})};return H.createElement("form",{ref:P,method:F,action:V,onSubmit:i?m:ee,...S,"data-discover":!$&&r==="render"?"true":void 0})});IT.displayName="Form";function RT(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lv(r){let e=H.useContext(oa);return ft(e,RT(r)),e}function CT(r,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:h}={}){let f=xc(),m=to(),y=Sl(r,{relative:l});return H.useCallback(E=>{if(oT(E,e)){E.preventDefault();let T=t!==void 0?t:ul(m)===ul(y);f(r,{replace:T,state:i,preventScrollReset:o,relative:l,viewTransition:h})}},[m,f,y,t,i,e,r,o,l,h])}var PT=0,kT=()=>`__${String(++PT)}__`;function bT(){let{router:r}=Lv("useSubmit"),{basename:e}=H.useContext(ui),t=Q0();return H.useCallback(async(i,o={})=>{let{action:l,method:h,encType:f,formData:m,body:y}=uT(i,e);if(o.navigate===!1){let E=o.fetcherKey||kT();await r.fetch(E,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:y,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:y,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function NT(r,{relative:e}={}){let{basename:t}=H.useContext(ui),i=H.useContext(Vr);ft(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Sl(r||".",{relative:e})},h=to();if(r==null){l.search=h.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(E=>E==="")){f.delete("index"),m.filter(T=>T).forEach(T=>f.append("index",T));let E=f.toString();l.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Di([t,l.pathname])),ul(l)}function DT(r,{relative:e}={}){let t=H.useContext(Rv);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Lv("useViewTransitionState"),o=Sl(r,{relative:e});if(!t.isTransitioning)return!1;let l=Vi(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=Vi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return sc(o.pathname,h)!=null||sc(o.pathname,l)!=null}const MT=()=>{};var Ug={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},VT=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],f=r[t++],m=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=r[t++],h=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},jv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,f=h?r[o+1]:0,m=o+2<r.length,y=m?r[o+2]:0,E=l>>2,T=(l&3)<<4|f>>4;let S=(f&15)<<2|y>>6,P=y&63;m||(P=64,h||(S=64)),i.push(t[E],t[T],t[S],t[P])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Fv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):VT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||y==null||T==null)throw new OT;const S=l<<2|f>>4;if(i.push(S),y!==64){const P=f<<4&240|y>>2;if(i.push(P),T!==64){const z=y<<6&192|T;i.push(z)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class OT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LT=function(r){const e=Fv(r);return jv.encodeByteArray(e,!0)},oc=function(r){return LT(r).replace(/\./g,"")},FT=function(r){try{return jv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=()=>jT().__FIREBASE_DEFAULTS__,UT=()=>{if(typeof process>"u"||typeof Ug>"u")return;const r=Ug.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},BT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&FT(r[1]);return e&&JSON.parse(e)},Vd=()=>{try{return MT()||zT()||UT()||BT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},HT=r=>Vd()?.emulatorHosts?.[r],$T=r=>{const e=HT(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},zv=()=>Vd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[oc(JSON.stringify(t)),oc(JSON.stringify(h)),""].join(".")}const nl={};function KT(){const r={prod:[],emulator:[]};for(const e of Object.keys(nl))nl[e]?r.emulator.push(e):r.prod.push(e);return r}function QT(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Bg=!1;function YT(r,e){if(typeof window>"u"||typeof document>"u"||!Od(window.location.host)||nl[r]===e||nl[r]||Bg)return;nl[r]=e;function t(S){return`__firebase__banner__${S}`}const i="__firebase__banner",l=KT().prod.length>0;function h(){const S=document.getElementById(i);S&&S.remove()}function f(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,P){S.setAttribute("width","24"),S.setAttribute("id",P),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Bg=!0,h()},S}function E(S,P){S.setAttribute("id",P),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=QT(i),P=t("text"),z=document.getElementById(P)||document.createElement("span"),V=t("learnmore"),F=document.getElementById(V)||document.createElement("a"),$=t("preprendIcon"),ee=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Z=S.element;f(Z),E(F,V);const ie=y();m(ee,$),Z.append(ee,z,F,ie),document.body.appendChild(Z)}l?(z.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JT(){const r=Vd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZT(){return!JT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eS(){try{return typeof indexedDB=="object"}catch{return!1}}function tS(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="FirebaseError";class aa extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=nS,Object.setPrototypeOf(this,aa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uv.prototype.create)}}class Uv{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?rS(l,i):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new aa(o,f,i)}}function rS(r,e){return r.replace(iS,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const iS=/\{\$([^}]+)}/g;function ac(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=r[o],h=e[o];if(Hg(l)&&Hg(h)){if(!ac(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Hg(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(r){return r&&r._delegate?r._delegate:r}class cl{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new WT;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aS(e))try{this.getOrInitializeService({instanceIdentifier:Gs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gs){return this.instances.has(e)}getOptions(e=Gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&h.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:oS(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Gs){return this.component?this.component.multipleInstances?e:Gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oS(r){return r===Gs?void 0:r}function aS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ue||(Ue={}));const uS={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},cS=Ue.INFO,hS={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},fS=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=hS[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bv{constructor(e){this.name=e,this._logLevel=cS,this._logHandler=fS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const dS=(r,e)=>e.some(t=>r instanceof t);let $g,Wg;function pS(){return $g||($g=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mS(){return Wg||(Wg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hv=new WeakMap,ed=new WeakMap,$v=new WeakMap,Rf=new WeakMap,Ld=new WeakMap;function gS(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(hs(r.result)),o()},h=()=>{i(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Hv.set(t,r)}).catch(()=>{}),Ld.set(e,r),e}function yS(r){if(ed.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});ed.set(r,e)}let td={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return ed.get(r);if(e==="objectStoreNames")return r.objectStoreNames||$v.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return hs(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function vS(r){td=r(td)}function _S(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Cf(this),e,...t);return $v.set(i,e.sort?e.sort():[e]),hs(i)}:mS().includes(r)?function(...e){return r.apply(Cf(this),e),hs(Hv.get(this))}:function(...e){return hs(r.apply(Cf(this),e))}}function wS(r){return typeof r=="function"?_S(r):(r instanceof IDBTransaction&&yS(r),dS(r,pS())?new Proxy(r,td):r)}function hs(r){if(r instanceof IDBRequest)return gS(r);if(Rf.has(r))return Rf.get(r);const e=wS(r);return e!==r&&(Rf.set(r,e),Ld.set(e,r)),e}const Cf=r=>Ld.get(r);function ES(r,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),f=hs(h);return i&&h.addEventListener("upgradeneeded",m=>{i(hs(h.result),m.oldVersion,m.newVersion,hs(h.transaction),m)}),t&&h.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const TS=["get","getKey","getAll","getAllKeys","count"],SS=["put","add","delete","clear"],Pf=new Map;function qg(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Pf.get(e))return Pf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=SS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||TS.includes(t)))return;const l=async function(h,...f){const m=this.transaction(h,o?"readwrite":"readonly");let y=m.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&m.done]))[0]};return Pf.set(e,l),l}vS(r=>({...r,get:(e,t,i)=>qg(e,t)||r.get(e,t,i),has:(e,t)=>!!qg(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(xS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function xS(r){return r.getComponent()?.type==="VERSION"}const nd="@firebase/app",Gg="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new Bv("@firebase/app"),IS="@firebase/app-compat",RS="@firebase/analytics-compat",CS="@firebase/analytics",PS="@firebase/app-check-compat",kS="@firebase/app-check",bS="@firebase/auth",NS="@firebase/auth-compat",DS="@firebase/database",MS="@firebase/data-connect",VS="@firebase/database-compat",OS="@firebase/functions",LS="@firebase/functions-compat",FS="@firebase/installations",jS="@firebase/installations-compat",zS="@firebase/messaging",US="@firebase/messaging-compat",BS="@firebase/performance",HS="@firebase/performance-compat",$S="@firebase/remote-config",WS="@firebase/remote-config-compat",qS="@firebase/storage",GS="@firebase/storage-compat",KS="@firebase/firestore",QS="@firebase/ai",YS="@firebase/firestore-compat",XS="firebase",JS="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="[DEFAULT]",ZS={[nd]:"fire-core",[IS]:"fire-core-compat",[CS]:"fire-analytics",[RS]:"fire-analytics-compat",[kS]:"fire-app-check",[PS]:"fire-app-check-compat",[bS]:"fire-auth",[NS]:"fire-auth-compat",[DS]:"fire-rtdb",[MS]:"fire-data-connect",[VS]:"fire-rtdb-compat",[OS]:"fire-fn",[LS]:"fire-fn-compat",[FS]:"fire-iid",[jS]:"fire-iid-compat",[zS]:"fire-fcm",[US]:"fire-fcm-compat",[BS]:"fire-perf",[HS]:"fire-perf-compat",[$S]:"fire-rc",[WS]:"fire-rc-compat",[qS]:"fire-gcs",[GS]:"fire-gcs-compat",[KS]:"fire-fst",[YS]:"fire-fst-compat",[QS]:"fire-vertex","fire-js":"fire-js",[XS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Map,e1=new Map,id=new Map;function Kg(r,e){try{r.container.addComponent(e)}catch(t){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function uc(r){const e=r.name;if(id.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;id.set(e,r);for(const t of lc.values())Kg(t,r);for(const t of e1.values())Kg(t,r);return!0}function t1(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function n1(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new Uv("app","Firebase",r1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new cl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=JS;function Wv(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:rd,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw fs.create("bad-app-name",{appName:String(o)});if(t||(t=zv()),!t)throw fs.create("no-options");const l=lc.get(o);if(l){if(ac(t,l.options)&&ac(i,l.config))return l;throw fs.create("duplicate-app",{appName:o})}const h=new lS(o);for(const m of id.values())h.addComponent(m);const f=new i1(t,i,h);return lc.set(o,f),f}function o1(r=rd){const e=lc.get(r);if(!e&&r===rd&&zv())return Wv();if(!e)throw fs.create("no-app",{appName:r});return e}function qo(r,e,t){let i=ZS[r]??r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(h.join(" "));return}uc(new cl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="firebase-heartbeat-database",l1=1,hl="firebase-heartbeat-store";let kf=null;function qv(){return kf||(kf=ES(a1,l1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(hl)}catch(t){console.warn(t)}}}}).catch(r=>{throw fs.create("idb-open",{originalErrorMessage:r.message})})),kf}async function u1(r){try{const t=(await qv()).transaction(hl),i=await t.objectStore(hl).get(Gv(r));return await t.done,i}catch(e){if(e instanceof aa)Oi.warn(e.message);else{const t=fs.create("idb-get",{originalErrorMessage:e?.message});Oi.warn(t.message)}}}async function Qg(r,e){try{const i=(await qv()).transaction(hl,"readwrite");await i.objectStore(hl).put(e,Gv(r)),await i.done}catch(t){if(t instanceof aa)Oi.warn(t.message);else{const i=fs.create("idb-set",{originalErrorMessage:t?.message});Oi.warn(i.message)}}}function Gv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=1024,h1=30;class f1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new p1(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Yg();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>h1){const o=m1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Oi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Yg(),{heartbeatsToSend:t,unsentEntries:i}=d1(this._heartbeatsCache.heartbeats),o=oc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Oi.warn(e),""}}}function Yg(){return new Date().toISOString().substring(0,10)}function d1(r,e=c1){const t=[];let i=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),Xg(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Xg(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class p1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eS()?tS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await u1(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Qg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Qg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Xg(r){return oc(JSON.stringify({version:2,heartbeats:r})).length}function m1(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(r){uc(new cl("platform-logger",e=>new AS(e),"PRIVATE")),uc(new cl("heartbeat",e=>new f1(e),"PRIVATE")),qo(nd,Gg,r),qo(nd,Gg,"esm2020"),qo("fire-js","")}g1("");var Jg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ds,Kv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,x){function R(){}R.prototype=x.prototype,b.D=x.prototype,b.prototype=new R,b.prototype.constructor=b,b.C=function(D,N,j){for(var C=Array(arguments.length-2),et=2;et<arguments.length;et++)C[et-2]=arguments[et];return x.prototype[N].apply(D,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,x,R){R||(R=0);var D=Array(16);if(typeof x=="string")for(var N=0;16>N;++N)D[N]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(N=0;16>N;++N)D[N]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=b.g[0],R=b.g[1],N=b.g[2];var j=b.g[3],C=x+(j^R&(N^j))+D[0]+3614090360&4294967295;x=R+(C<<7&4294967295|C>>>25),C=j+(N^x&(R^N))+D[1]+3905402710&4294967295,j=x+(C<<12&4294967295|C>>>20),C=N+(R^j&(x^R))+D[2]+606105819&4294967295,N=j+(C<<17&4294967295|C>>>15),C=R+(x^N&(j^x))+D[3]+3250441966&4294967295,R=N+(C<<22&4294967295|C>>>10),C=x+(j^R&(N^j))+D[4]+4118548399&4294967295,x=R+(C<<7&4294967295|C>>>25),C=j+(N^x&(R^N))+D[5]+1200080426&4294967295,j=x+(C<<12&4294967295|C>>>20),C=N+(R^j&(x^R))+D[6]+2821735955&4294967295,N=j+(C<<17&4294967295|C>>>15),C=R+(x^N&(j^x))+D[7]+4249261313&4294967295,R=N+(C<<22&4294967295|C>>>10),C=x+(j^R&(N^j))+D[8]+1770035416&4294967295,x=R+(C<<7&4294967295|C>>>25),C=j+(N^x&(R^N))+D[9]+2336552879&4294967295,j=x+(C<<12&4294967295|C>>>20),C=N+(R^j&(x^R))+D[10]+4294925233&4294967295,N=j+(C<<17&4294967295|C>>>15),C=R+(x^N&(j^x))+D[11]+2304563134&4294967295,R=N+(C<<22&4294967295|C>>>10),C=x+(j^R&(N^j))+D[12]+1804603682&4294967295,x=R+(C<<7&4294967295|C>>>25),C=j+(N^x&(R^N))+D[13]+4254626195&4294967295,j=x+(C<<12&4294967295|C>>>20),C=N+(R^j&(x^R))+D[14]+2792965006&4294967295,N=j+(C<<17&4294967295|C>>>15),C=R+(x^N&(j^x))+D[15]+1236535329&4294967295,R=N+(C<<22&4294967295|C>>>10),C=x+(N^j&(R^N))+D[1]+4129170786&4294967295,x=R+(C<<5&4294967295|C>>>27),C=j+(R^N&(x^R))+D[6]+3225465664&4294967295,j=x+(C<<9&4294967295|C>>>23),C=N+(x^R&(j^x))+D[11]+643717713&4294967295,N=j+(C<<14&4294967295|C>>>18),C=R+(j^x&(N^j))+D[0]+3921069994&4294967295,R=N+(C<<20&4294967295|C>>>12),C=x+(N^j&(R^N))+D[5]+3593408605&4294967295,x=R+(C<<5&4294967295|C>>>27),C=j+(R^N&(x^R))+D[10]+38016083&4294967295,j=x+(C<<9&4294967295|C>>>23),C=N+(x^R&(j^x))+D[15]+3634488961&4294967295,N=j+(C<<14&4294967295|C>>>18),C=R+(j^x&(N^j))+D[4]+3889429448&4294967295,R=N+(C<<20&4294967295|C>>>12),C=x+(N^j&(R^N))+D[9]+568446438&4294967295,x=R+(C<<5&4294967295|C>>>27),C=j+(R^N&(x^R))+D[14]+3275163606&4294967295,j=x+(C<<9&4294967295|C>>>23),C=N+(x^R&(j^x))+D[3]+4107603335&4294967295,N=j+(C<<14&4294967295|C>>>18),C=R+(j^x&(N^j))+D[8]+1163531501&4294967295,R=N+(C<<20&4294967295|C>>>12),C=x+(N^j&(R^N))+D[13]+2850285829&4294967295,x=R+(C<<5&4294967295|C>>>27),C=j+(R^N&(x^R))+D[2]+4243563512&4294967295,j=x+(C<<9&4294967295|C>>>23),C=N+(x^R&(j^x))+D[7]+1735328473&4294967295,N=j+(C<<14&4294967295|C>>>18),C=R+(j^x&(N^j))+D[12]+2368359562&4294967295,R=N+(C<<20&4294967295|C>>>12),C=x+(R^N^j)+D[5]+4294588738&4294967295,x=R+(C<<4&4294967295|C>>>28),C=j+(x^R^N)+D[8]+2272392833&4294967295,j=x+(C<<11&4294967295|C>>>21),C=N+(j^x^R)+D[11]+1839030562&4294967295,N=j+(C<<16&4294967295|C>>>16),C=R+(N^j^x)+D[14]+4259657740&4294967295,R=N+(C<<23&4294967295|C>>>9),C=x+(R^N^j)+D[1]+2763975236&4294967295,x=R+(C<<4&4294967295|C>>>28),C=j+(x^R^N)+D[4]+1272893353&4294967295,j=x+(C<<11&4294967295|C>>>21),C=N+(j^x^R)+D[7]+4139469664&4294967295,N=j+(C<<16&4294967295|C>>>16),C=R+(N^j^x)+D[10]+3200236656&4294967295,R=N+(C<<23&4294967295|C>>>9),C=x+(R^N^j)+D[13]+681279174&4294967295,x=R+(C<<4&4294967295|C>>>28),C=j+(x^R^N)+D[0]+3936430074&4294967295,j=x+(C<<11&4294967295|C>>>21),C=N+(j^x^R)+D[3]+3572445317&4294967295,N=j+(C<<16&4294967295|C>>>16),C=R+(N^j^x)+D[6]+76029189&4294967295,R=N+(C<<23&4294967295|C>>>9),C=x+(R^N^j)+D[9]+3654602809&4294967295,x=R+(C<<4&4294967295|C>>>28),C=j+(x^R^N)+D[12]+3873151461&4294967295,j=x+(C<<11&4294967295|C>>>21),C=N+(j^x^R)+D[15]+530742520&4294967295,N=j+(C<<16&4294967295|C>>>16),C=R+(N^j^x)+D[2]+3299628645&4294967295,R=N+(C<<23&4294967295|C>>>9),C=x+(N^(R|~j))+D[0]+4096336452&4294967295,x=R+(C<<6&4294967295|C>>>26),C=j+(R^(x|~N))+D[7]+1126891415&4294967295,j=x+(C<<10&4294967295|C>>>22),C=N+(x^(j|~R))+D[14]+2878612391&4294967295,N=j+(C<<15&4294967295|C>>>17),C=R+(j^(N|~x))+D[5]+4237533241&4294967295,R=N+(C<<21&4294967295|C>>>11),C=x+(N^(R|~j))+D[12]+1700485571&4294967295,x=R+(C<<6&4294967295|C>>>26),C=j+(R^(x|~N))+D[3]+2399980690&4294967295,j=x+(C<<10&4294967295|C>>>22),C=N+(x^(j|~R))+D[10]+4293915773&4294967295,N=j+(C<<15&4294967295|C>>>17),C=R+(j^(N|~x))+D[1]+2240044497&4294967295,R=N+(C<<21&4294967295|C>>>11),C=x+(N^(R|~j))+D[8]+1873313359&4294967295,x=R+(C<<6&4294967295|C>>>26),C=j+(R^(x|~N))+D[15]+4264355552&4294967295,j=x+(C<<10&4294967295|C>>>22),C=N+(x^(j|~R))+D[6]+2734768916&4294967295,N=j+(C<<15&4294967295|C>>>17),C=R+(j^(N|~x))+D[13]+1309151649&4294967295,R=N+(C<<21&4294967295|C>>>11),C=x+(N^(R|~j))+D[4]+4149444226&4294967295,x=R+(C<<6&4294967295|C>>>26),C=j+(R^(x|~N))+D[11]+3174756917&4294967295,j=x+(C<<10&4294967295|C>>>22),C=N+(x^(j|~R))+D[2]+718787259&4294967295,N=j+(C<<15&4294967295|C>>>17),C=R+(j^(N|~x))+D[9]+3951481745&4294967295,b.g[0]=b.g[0]+x&4294967295,b.g[1]=b.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,b.g[2]=b.g[2]+N&4294967295,b.g[3]=b.g[3]+j&4294967295}i.prototype.u=function(b,x){x===void 0&&(x=b.length);for(var R=x-this.blockSize,D=this.B,N=this.h,j=0;j<x;){if(N==0)for(;j<=R;)o(this,b,j),j+=this.blockSize;if(typeof b=="string"){for(;j<x;)if(D[N++]=b.charCodeAt(j++),N==this.blockSize){o(this,D),N=0;break}}else for(;j<x;)if(D[N++]=b[j++],N==this.blockSize){o(this,D),N=0;break}}this.h=N,this.o+=x},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var x=1;x<b.length-8;++x)b[x]=0;var R=8*this.o;for(x=b.length-8;x<b.length;++x)b[x]=R&255,R/=256;for(this.u(b),b=Array(16),x=R=0;4>x;++x)for(var D=0;32>D;D+=8)b[R++]=this.g[x]>>>D&255;return b};function l(b,x){var R=f;return Object.prototype.hasOwnProperty.call(R,b)?R[b]:R[b]=x(b)}function h(b,x){this.h=x;for(var R=[],D=!0,N=b.length-1;0<=N;N--){var j=b[N]|0;D&&j==x||(R[N]=j,D=!1)}this.g=R}var f={};function m(b){return-128<=b&&128>b?l(b,function(x){return new h([x|0],0>x?-1:0)}):new h([b|0],0>b?-1:0)}function y(b){if(isNaN(b)||!isFinite(b))return T;if(0>b)return F(y(-b));for(var x=[],R=1,D=0;b>=R;D++)x[D]=b/R|0,R*=4294967296;return new h(x,0)}function E(b,x){if(b.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(b.charAt(0)=="-")return F(E(b.substring(1),x));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(x,8)),D=T,N=0;N<b.length;N+=8){var j=Math.min(8,b.length-N),C=parseInt(b.substring(N,N+j),x);8>j?(j=y(Math.pow(x,j)),D=D.j(j).add(y(C))):(D=D.j(R),D=D.add(y(C)))}return D}var T=m(0),S=m(1),P=m(16777216);r=h.prototype,r.m=function(){if(V(this))return-F(this).m();for(var b=0,x=1,R=0;R<this.g.length;R++){var D=this.i(R);b+=(0<=D?D:4294967296+D)*x,x*=4294967296}return b},r.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(z(this))return"0";if(V(this))return"-"+F(this).toString(b);for(var x=y(Math.pow(b,6)),R=this,D="";;){var N=ie(R,x).g;R=$(R,N.j(x));var j=((0<R.g.length?R.g[0]:R.h)>>>0).toString(b);if(R=N,z(R))return j+D;for(;6>j.length;)j="0"+j;D=j+D}},r.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function z(b){if(b.h!=0)return!1;for(var x=0;x<b.g.length;x++)if(b.g[x]!=0)return!1;return!0}function V(b){return b.h==-1}r.l=function(b){return b=$(this,b),V(b)?-1:z(b)?0:1};function F(b){for(var x=b.g.length,R=[],D=0;D<x;D++)R[D]=~b.g[D];return new h(R,~b.h).add(S)}r.abs=function(){return V(this)?F(this):this},r.add=function(b){for(var x=Math.max(this.g.length,b.g.length),R=[],D=0,N=0;N<=x;N++){var j=D+(this.i(N)&65535)+(b.i(N)&65535),C=(j>>>16)+(this.i(N)>>>16)+(b.i(N)>>>16);D=C>>>16,j&=65535,C&=65535,R[N]=C<<16|j}return new h(R,R[R.length-1]&-2147483648?-1:0)};function $(b,x){return b.add(F(x))}r.j=function(b){if(z(this)||z(b))return T;if(V(this))return V(b)?F(this).j(F(b)):F(F(this).j(b));if(V(b))return F(this.j(F(b)));if(0>this.l(P)&&0>b.l(P))return y(this.m()*b.m());for(var x=this.g.length+b.g.length,R=[],D=0;D<2*x;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var N=0;N<b.g.length;N++){var j=this.i(D)>>>16,C=this.i(D)&65535,et=b.i(N)>>>16,Dt=b.i(N)&65535;R[2*D+2*N]+=C*Dt,ee(R,2*D+2*N),R[2*D+2*N+1]+=j*Dt,ee(R,2*D+2*N+1),R[2*D+2*N+1]+=C*et,ee(R,2*D+2*N+1),R[2*D+2*N+2]+=j*et,ee(R,2*D+2*N+2)}for(D=0;D<x;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=x;D<2*x;D++)R[D]=0;return new h(R,0)};function ee(b,x){for(;(b[x]&65535)!=b[x];)b[x+1]+=b[x]>>>16,b[x]&=65535,x++}function Z(b,x){this.g=b,this.h=x}function ie(b,x){if(z(x))throw Error("division by zero");if(z(b))return new Z(T,T);if(V(b))return x=ie(F(b),x),new Z(F(x.g),F(x.h));if(V(x))return x=ie(b,F(x)),new Z(F(x.g),x.h);if(30<b.g.length){if(V(b)||V(x))throw Error("slowDivide_ only works with positive integers.");for(var R=S,D=x;0>=D.l(b);)R=ae(R),D=ae(D);var N=Ee(R,1),j=Ee(D,1);for(D=Ee(D,2),R=Ee(R,2);!z(D);){var C=j.add(D);0>=C.l(b)&&(N=N.add(R),j=C),D=Ee(D,1),R=Ee(R,1)}return x=$(b,N.j(x)),new Z(N,x)}for(N=T;0<=b.l(x);){for(R=Math.max(1,Math.floor(b.m()/x.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),j=y(R),C=j.j(x);V(C)||0<C.l(b);)R-=D,j=y(R),C=j.j(x);z(j)&&(j=S),N=N.add(j),b=$(b,C)}return new Z(N,b)}r.A=function(b){return ie(this,b).h},r.and=function(b){for(var x=Math.max(this.g.length,b.g.length),R=[],D=0;D<x;D++)R[D]=this.i(D)&b.i(D);return new h(R,this.h&b.h)},r.or=function(b){for(var x=Math.max(this.g.length,b.g.length),R=[],D=0;D<x;D++)R[D]=this.i(D)|b.i(D);return new h(R,this.h|b.h)},r.xor=function(b){for(var x=Math.max(this.g.length,b.g.length),R=[],D=0;D<x;D++)R[D]=this.i(D)^b.i(D);return new h(R,this.h^b.h)};function ae(b){for(var x=b.g.length+1,R=[],D=0;D<x;D++)R[D]=b.i(D)<<1|b.i(D-1)>>>31;return new h(R,b.h)}function Ee(b,x){var R=x>>5;x%=32;for(var D=b.g.length-R,N=[],j=0;j<D;j++)N[j]=0<x?b.i(j+R)>>>x|b.i(j+R+1)<<32-x:b.i(j+R);return new h(N,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Kv=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,ds=h}).apply(typeof Jg<"u"?Jg:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qv,Xa,Yv,Xu,sd,Xv,Jv,Zv;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,v){return u==Array.prototype||u==Object.prototype||(u[p]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var p=0;p<u.length;++p){var v=u[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,p){if(p)e:{var v=i;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in v))break e;v=v[U]}u=u[u.length-1],A=v[u],p=p(A),p!=A&&p!=null&&e(v,u,{configurable:!0,writable:!0,value:p})}}function l(u,p){u instanceof String&&(u+="");var v=0,A=!1,U={next:function(){if(!A&&v<u.length){var G=v++;return{value:p(G,u[G]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return l(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function m(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function y(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function E(u,p,v){return u.call.apply(u.bind,arguments)}function T(u,p,v){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),u.apply(p,U)}}return function(){return u.apply(p,arguments)}}function S(u,p,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,S.apply(null,arguments)}function P(u,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function z(u,p){function v(){}v.prototype=p.prototype,u.aa=p.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(A,U,G){for(var se=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)se[Qe-2]=arguments[Qe];return p.prototype[U].apply(A,se)}}function V(u){const p=u.length;if(0<p){const v=Array(p);for(let A=0;A<p;A++)v[A]=u[A];return v}return[]}function F(u,p){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(m(A)){const U=u.length||0,G=A.length||0;u.length=U+G;for(let se=0;se<G;se++)u[U+se]=A[se]}else u.push(A)}}class ${constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ee(u){return/^[\s\xa0]*$/.test(u)}function Z(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ie(u){return ie[" "](u),u}ie[" "]=function(){};var ae=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function Ee(u,p,v){for(const A in u)p.call(v,u[A],A,u)}function b(u,p){for(const v in u)p.call(void 0,u[v],v,u)}function x(u){const p={};for(const v in u)p[v]=u[v];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,p){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)u[v]=A[v];for(let G=0;G<R.length;G++)v=R[G],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function N(u){var p=1;u=u.split(":");const v=[];for(;0<p&&u.length;)v.push(u.shift()),p--;return u.length&&v.push(u.join(":")),v}function j(u){f.setTimeout(()=>{throw u},0)}function C(){var u=we;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class et{constructor(){this.h=this.g=null}add(p,v){const A=Dt.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Dt=new $(()=>new Mt,u=>u.reset());class Mt{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let We,oe=!1,we=new et,ue=()=>{const u=f.Promise.resolve(void 0);We=()=>{u.then(L)}};var L=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(v){j(v)}var p=Dt;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}oe=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ke=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return u})();function ve(u,p){if(le.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(ae){e:{try{ie(p.nodeName);var U=!0;break e}catch{}U=!1}U||(p=null)}}else v=="mouseover"?p=u.fromElement:v=="mouseout"&&(p=u.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ve.aa.h.call(this)}}z(ve,le);var be={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function qe(u,p,v,A,U){this.listener=u,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=U,this.key=++Fe,this.da=this.fa=!1}function yt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Gn(u){this.src=u,this.g={},this.h=0}Gn.prototype.add=function(u,p,v,A,U){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var se=Vn(u,p,A,U);return-1<se?(p=u[se],v||(p.fa=!1)):(p=new qe(p,this.src,G,!!A,U),p.fa=v,u.push(p)),p};function Mn(u,p){var v=p.type;if(v in u.g){var A=u.g[v],U=Array.prototype.indexOf.call(A,p,void 0),G;(G=0<=U)&&Array.prototype.splice.call(A,U,1),G&&(yt(p),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Vn(u,p,v,A){for(var U=0;U<u.length;++U){var G=u[U];if(!G.da&&G.listener==p&&G.capture==!!v&&G.ha==A)return U}return-1}var an="closure_lm_"+(1e6*Math.random()|0),Or={};function ci(u,p,v,A,U){if(Array.isArray(p)){for(var G=0;G<p.length;G++)ci(u,p[G],v,A,U);return null}return v=Jn(v),u&&u[Oe]?u.K(p,v,y(A)?!!A.capture:!1,U):Kn(u,p,v,!1,A,U)}function Kn(u,p,v,A,U,G){if(!p)throw Error("Invalid event type");var se=y(U)?!!U.capture:!!U,Qe=Lr(u);if(Qe||(u[an]=Qe=new Gn(u)),v=Qe.add(p,v,A,se,G),v.proxy)return v;if(A=hi(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)ke||(U=se),U===void 0&&(U=!1),u.addEventListener(p.toString(),A,U);else if(u.attachEvent)u.attachEvent(Yn(p.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function hi(){function u(v){return p.call(u.src,u.listener,v)}const p=xs;return u}function vr(u,p,v,A,U){if(Array.isArray(p))for(var G=0;G<p.length;G++)vr(u,p[G],v,A,U);else A=y(A)?!!A.capture:!!A,v=Jn(v),u&&u[Oe]?(u=u.i,p=String(p).toString(),p in u.g&&(G=u.g[p],v=Vn(G,v,A,U),-1<v&&(yt(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete u.g[p],u.h--)))):u&&(u=Lr(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Vn(p,v,A,U)),(v=-1<u?p[u]:null)&&Qn(v))}function Qn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Oe])Mn(p.i,u);else{var v=u.type,A=u.proxy;p.removeEventListener?p.removeEventListener(v,A,u.capture):p.detachEvent?p.detachEvent(Yn(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=Lr(p))?(Mn(v,u),v.h==0&&(v.src=null,p[an]=null)):yt(u)}}}function Yn(u){return u in Or?Or[u]:Or[u]="on"+u}function xs(u,p){if(u.da)u=!0;else{p=new ve(p,this);var v=u.listener,A=u.ha||u.src;u.fa&&Qn(u),u=v.call(A,p)}return u}function Lr(u){return u=u[an],u instanceof Gn?u:null}var Xn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jn(u){return typeof u=="function"?u:(u[Xn]||(u[Xn]=function(p){return u.handleEvent(p)}),u[Xn])}function Xe(){K.call(this),this.i=new Gn(this),this.M=this,this.F=null}z(Xe,K),Xe.prototype[Oe]=!0,Xe.prototype.removeEventListener=function(u,p,v,A){vr(this,u,p,v,A)};function pt(u,p){var v,A=u.F;if(A)for(v=[];A;A=A.F)v.push(A);if(u=u.M,A=p.type||p,typeof p=="string")p=new le(p,u);else if(p instanceof le)p.target=p.target||u;else{var U=p;p=new le(A,u),D(p,U)}if(U=!0,v)for(var G=v.length-1;0<=G;G--){var se=p.g=v[G];U=Zn(se,A,!0,p)&&U}if(se=p.g=u,U=Zn(se,A,!0,p)&&U,U=Zn(se,A,!1,p)&&U,v)for(G=0;G<v.length;G++)se=p.g=v[G],U=Zn(se,A,!1,p)&&U}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var v=u.g[p],A=0;A<v.length;A++)yt(v[A]);delete u.g[p],u.h--}}this.F=null},Xe.prototype.K=function(u,p,v,A){return this.i.add(String(u),p,!1,v,A)},Xe.prototype.L=function(u,p,v,A){return this.i.add(String(u),p,!0,v,A)};function Zn(u,p,v,A){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var U=!0,G=0;G<p.length;++G){var se=p[G];if(se&&!se.da&&se.capture==v){var Qe=se.listener,Ct=se.ha||se.src;se.fa&&Mn(u.i,se),U=Qe.call(Ct,A)!==!1&&U}}return U&&!A.defaultPrevented}function zi(u,p,v){if(typeof u=="function")v&&(u=S(u,v));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(u,p||0)}function er(u){u.g=zi(()=>{u.g=null,u.i&&(u.i=!1,er(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Fr extends K{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:er(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tr(u){K.call(this),this.h=u,this.g={}}z(tr,K);var jr=[];function ln(u){Ee(u.g,function(p,v){this.g.hasOwnProperty(v)&&Qn(p)},u),u.g={}}tr.prototype.N=function(){tr.aa.N.call(this),ln(this)},tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=f.JSON.stringify,fi=f.JSON.parse,di=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function pi(){}pi.prototype.h=null;function _r(u){return u.h||(u.h=u.i())}function wr(){}var gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qt(){le.call(this,"d")}z(Qt,le);function Ui(){le.call(this,"c")}z(Ui,le);var rr={},st=null;function yn(){return st=st||new Xe}rr.La="serverreachability";function Is(u){le.call(this,rr.La,u)}z(Is,le);function ir(u){const p=yn();pt(p,new Is(p))}rr.STAT_EVENT="statevent";function mi(u,p){le.call(this,rr.STAT_EVENT,u),this.stat=p}z(mi,le);function ot(u){const p=yn();pt(p,new mi(p,u))}rr.Ma="timingevent";function gi(u,p){le.call(this,rr.Ma,u),this.size=p}z(gi,le);function On(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function Vt(){this.g=!0}Vt.prototype.xa=function(){this.g=!1};function vn(u,p,v,A,U,G){u.info(function(){if(u.g)if(G)for(var se="",Qe=G.split("&"),Ct=0;Ct<Qe.length;Ct++){var je=Qe[Ct].split("=");if(1<je.length){var Ot=je[0];je=je[1];var Et=Ot.split("_");se=2<=Et.length&&Et[1]=="type"?se+(Ot+"="+je+"&"):se+(Ot+"=redacted&")}}else se=null;else se=G;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+p+`
`+v+`
`+se})}function yi(u,p,v,A,U,G,se){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+p+`
`+v+`
`+G+" "+se})}function _n(u,p,v,A){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+io(u,v)+(A?" "+A:"")})}function vi(u,p){u.info(function(){return"TIMEOUT: "+p})}Vt.prototype.info=function(){};function io(u,p){if(!u.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var A=v[u];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var G=U[0];if(G!="noop"&&G!="stop"&&G!="close")for(var se=1;se<U.length;se++)U[se]=""}}}}return nr(v)}catch{return p}}var Yt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wn;function zr(){}z(zr,pi),zr.prototype.g=function(){return new XMLHttpRequest},zr.prototype.i=function(){return{}},wn=new zr;function En(u,p,v,A){this.j=u,this.i=p,this.l=v,this.R=A||1,this.U=new tr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new so}function so(){this.i=null,this.g="",this.h=!1}var ye={},M={};function te(u,p,v){u.L=1,u.v=Wi(Fn(p)),u.m=v,u.P=!0,fe(u,null)}function fe(u,p){u.F=Date.now(),Re(u),u.A=Fn(u.v);var v=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Gi(v.i,"t",A),u.C=0,v=u.j.J,u.h=new so,u.g=Wl(u.j,v?p:null,!u.m),0<u.O&&(u.M=new Fr(S(u.Y,u,u.g),u.O)),p=u.U,v=u.g,A=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(jr[0]=U.toString()),U=jr);for(var G=0;G<U.length;G++){var se=ci(v,U[G],A||p.handleEvent,!1,p.h||p);if(!se)break;p.g[se.key]=se}p=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),ir(),vn(u.i,u.u,u.A,u.l,u.R,u.m)}En.prototype.ca=function(u){u=u.target;const p=this.M;p&&An(u)==3?p.j():this.Y(u)},En.prototype.Y=function(u){try{if(u==this.g)e:{const Et=An(this.g);var p=this.g.Ba();const or=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||ya(this.g)))){this.J||Et!=4||p==7||(p==8||0>=or?ir(3):ir(2)),Ut(this);var v=this.g.Z();this.X=v;t:if(Ke(this)){var A=ya(this.g);u="";var U=A.length,G=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xt(this),Tn(this);var se="";break t}this.h.i=new f.TextDecoder}for(p=0;p<U;p++)this.h.h=!0,u+=this.h.i.decode(A[p],{stream:!(G&&p==U-1)});A.length=0,this.h.g+=u,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=v==200,yi(this.i,this.u,this.A,this.l,this.R,Et,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,Ct=this.g;if((Qe=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(Qe)){var je=Qe;break t}}je=null}if(v=je)_n(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mt(this,v);else{this.o=!1,this.s=3,ot(12),Xt(this),Tn(this);break e}}if(this.P){v=!0;let zn;for(;!this.J&&this.C<se.length;)if(zn=wt(this,se),zn==M){Et==4&&(this.s=4,ot(14),v=!1),_n(this.i,this.l,null,"[Incomplete Response]");break}else if(zn==ye){this.s=4,ot(15),_n(this.i,this.l,se,"[Invalid Chunk]"),v=!1;break}else _n(this.i,this.l,zn,null),mt(this,zn);if(Ke(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||se.length!=0||this.h.h||(this.s=1,ot(16),v=!1),this.o=this.o&&v,!v)_n(this.i,this.l,se,"[Invalid Chunked Response]"),Xt(this),Tn(this);else if(0<se.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),_a(Ot),Ot.M=!0,ot(11))}}else _n(this.i,this.l,se,null),mt(this,se);Et==4&&Xt(this),this.o&&!this.J&&(Et==4?yo(this.j,this):(this.o=!1,Re(this)))}else ho(this.g),v==400&&0<se.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Xt(this),Tn(this)}}}catch{}finally{}};function Ke(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function wt(u,p){var v=u.C,A=p.indexOf(`
`,v);return A==-1?M:(v=Number(p.substring(v,A)),isNaN(v)?ye:(A+=1,A+v>p.length?M:(p=p.slice(A,A+v),u.C=A+v,p)))}En.prototype.cancel=function(){this.J=!0,Xt(this)};function Re(u){u.S=Date.now()+u.I,Rt(u,u.I)}function Rt(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=On(S(u.ba,u),p)}function Ut(u){u.B&&(f.clearTimeout(u.B),u.B=null)}En.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(vi(this.i,this.A),this.L!=2&&(ir(),ot(17)),Xt(this),this.s=2,Tn(this)):Rt(this,this.S-u)};function Tn(u){u.j.G==0||u.J||yo(u.j,u)}function Xt(u){Ut(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,ln(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function mt(u,p){try{var v=u.j;if(v.G!=0&&(v.g==u||un(v.h,u))){if(!u.K&&un(v.h,u)&&v.G==3){try{var A=v.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)go(v),xr(v);else break e;mo(v),ot(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=On(S(v.Za,v),6e3));if(1>=bl(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Si(v,11)}else if((u.K||v.g==u)&&go(v),!ee(p))for(U=v.Da.g.parse(p),p=0;p<U.length;p++){let je=U[p];if(v.T=je[0],je=je[1],v.G==2)if(je[0]=="c"){v.K=je[1],v.ia=je[2];const Ot=je[3];Ot!=null&&(v.la=Ot,v.j.info("VER="+v.la));const Et=je[4];Et!=null&&(v.Aa=Et,v.j.info("SVER="+v.Aa));const or=je[5];or!=null&&typeof or=="number"&&0<or&&(A=1.5*or,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const zn=u.g;if(zn){const Ms=zn.g?zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ms){var G=A.h;G.g||Ms.indexOf("spdy")==-1&&Ms.indexOf("quic")==-1&&Ms.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(da(G,G.h),G.h=null))}if(A.D){const _o=zn.g?zn.g.getResponseHeader("X-HTTP-Session-Id"):null;_o&&(A.ya=_o,Ye(A.I,A.D,_o))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var se=u;if(A.qa=$l(A,A.J?A.ia:null,A.W),se.K){Nl(A.h,se);var Qe=se,Ct=A.L;Ct&&(Qe.I=Ct),Qe.B&&(Ut(Qe),Re(Qe)),A.g=se}else Ds(A);0<v.i.length&&Wr(v)}else je[0]!="stop"&&je[0]!="close"||Si(v,7);else v.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Si(v,7):Ht(v):je[0]!="noop"&&v.l&&v.l.ta(je),v.v=0)}}ir(4)}catch{}}var Cs=class{constructor(u,p){this.g=u,this.map=p}};function Ur(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ln(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bl(u){return u.h?1:u.g?u.g.size:0}function un(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function da(u,p){u.g?u.g.add(p):u.h=p}function Nl(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Ur.prototype.cancel=function(){if(this.i=Dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Dl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const v of u.g.values())p=p.concat(v.D);return p}return V(u.i)}function oo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(m(u)){for(var p=[],v=u.length,A=0;A<v;A++)p.push(u[A]);return p}p=[],v=0;for(A in u)p[v++]=u[A];return p}function ao(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(m(u)||typeof u=="string"){var p=[];u=u.length;for(var v=0;v<u;v++)p.push(v);return p}p=[],v=0;for(const A in u)p[v++]=A;return p}}}function Bi(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(m(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var v=ao(u),A=oo(u),U=A.length,G=0;G<U;G++)p.call(void 0,A[G],v&&v[G],u)}var Ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qc(u,p){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var A=u[v].indexOf("="),U=null;if(0<=A){var G=u[v].substring(0,A);U=u[v].substring(A+1)}else G=u[v];p(G,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function _i(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _i){this.h=u.h,ks(this,u.j),this.o=u.o,this.g=u.g,Hi(this,u.s),this.l=u.l;var p=u.i,v=new Br;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),$i(this,v),this.m=u.m}else u&&(p=String(u).match(Ps))?(this.h=!1,ks(this,p[1]||"",!0),this.o=Le(p[2]||""),this.g=Le(p[3]||"",!0),Hi(this,p[4]),this.l=Le(p[5]||"",!0),$i(this,p[6]||"",!0),this.m=Le(p[7]||"")):(this.h=!1,this.i=new Br(null,this.h))}_i.prototype.toString=function(){var u=[],p=this.j;p&&u.push(qi(p,lo,!0),":");var v=this.g;return(v||p=="file")&&(u.push("//"),(p=this.o)&&u.push(qi(p,lo,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(qi(v,v.charAt(0)=="/"?Ol:Vl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",qi(v,pa)),u.join("")};function Fn(u){return new _i(u)}function ks(u,p,v){u.j=v?Le(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Hi(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function $i(u,p,v){p instanceof Br?(u.i=p,Hr(u.i,u.h)):(v||(p=qi(p,Ll)),u.i=new Br(p,u.h))}function Ye(u,p,v){u.i.set(p,v)}function Wi(u){return Ye(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Le(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qi(u,p,v){return typeof u=="string"?(u=encodeURI(u).replace(p,Ml),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ml(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var lo=/[#\/\?@]/g,Vl=/[#\?:]/g,Ol=/[#\?]/g,Ll=/[#\?@]/g,pa=/#/g;function Br(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Bt(u){u.g||(u.g=new Map,u.h=0,u.i&&Qc(u.i,function(p,v){u.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=Br.prototype,r.add=function(u,p){Bt(this),this.i=null,u=sr(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(p),this.h+=1,this};function Er(u,p){Bt(u),p=sr(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Tr(u,p){return Bt(u),p=sr(u,p),u.g.has(p)}r.forEach=function(u,p){Bt(this),this.g.forEach(function(v,A){v.forEach(function(U){u.call(p,U,A,this)},this)},this)},r.na=function(){Bt(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let A=0;A<p.length;A++){const U=u[A];for(let G=0;G<U.length;G++)v.push(p[A])}return v},r.V=function(u){Bt(this);let p=[];if(typeof u=="string")Tr(this,u)&&(p=p.concat(this.g.get(sr(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)p=p.concat(u[v])}return p},r.set=function(u,p){return Bt(this),this.i=null,u=sr(this,u),Tr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Gi(u,p,v){Er(u,p),0<v.length&&(u.i=null,u.g.set(sr(u,p),V(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var A=p[v];const G=encodeURIComponent(String(A)),se=this.V(A);for(A=0;A<se.length;A++){var U=G;se[A]!==""&&(U+="="+encodeURIComponent(String(se[A]))),u.push(U)}}return this.i=u.join("&")};function sr(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Hr(u,p){p&&!u.j&&(Bt(u),u.i=null,u.g.forEach(function(v,A){var U=A.toLowerCase();A!=U&&(Er(this,A),Gi(this,U,v))},u)),u.j=p}function Yc(u,p){const v=new Vt;if(f.Image){const A=new Image;A.onload=P(Sn,v,"TestLoadImage: loaded",!0,p,A),A.onerror=P(Sn,v,"TestLoadImage: error",!1,p,A),A.onabort=P(Sn,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=P(Sn,v,"TestLoadImage: timeout",!1,p,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else p(!1)}function Fl(u,p){const v=new Vt,A=new AbortController,U=setTimeout(()=>{A.abort(),Sn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:A.signal}).then(G=>{clearTimeout(U),G.ok?Sn(v,"TestPingServer: ok",!0,p):Sn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),Sn(v,"TestPingServer: error",!1,p)})}function Sn(u,p,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function Xc(){this.g=new di}function jl(u,p,v){const A=v||"";try{Bi(u,function(U,G){let se=U;y(U)&&(se=nr(U)),p.push(A+G+"="+encodeURIComponent(se))})}catch(U){throw p.push(A+"type="+encodeURIComponent("_badmap")),U}}function wi(u){this.l=u.Ub||null,this.j=u.eb||!1}z(wi,pi),wi.prototype.g=function(){return new bs(this.l,this.j)},wi.prototype.i=(function(u){return function(){return u}})({});function bs(u,p){Xe.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(bs,Xe),r=bs.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Ar(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sr(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ar(this)),this.g&&(this.readyState=3,Ar(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function zl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Sr(this):Ar(this),this.readyState==3&&zl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Sr(this))},r.Qa=function(u){this.g&&(this.response=u,Sr(this))},r.ga=function(){this.g&&Sr(this)};function Sr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ar(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=p.next();return u.join(`\r
`)};function Ar(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ei(u){let p="";return Ee(u,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function Ki(u,p,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Ei(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Ye(u,p,v))}function at(u){Xe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(at,Xe);var Jc=/^https?$/i,ma=["POST","PUT"];r=at.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wn.g(),this.v=this.o?_r(this.o):_r(wn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(G){Ns(this,G);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())v.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),U=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ma,p,void 0))||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of v)this.g.setRequestHeader(G,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{co(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){Ns(this,G)}};function Ns(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,uo(u),jn(u)}function uo(u){u.A||(u.A=!0,pt(u,"complete"),pt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,pt(this,"complete"),pt(this,"abort"),jn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jn(this,!0)),at.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ga(this):this.bb())},r.bb=function(){ga(this)};function ga(u){if(u.h&&typeof h<"u"&&(!u.v[1]||An(u)!=4||u.Z()!=2)){if(u.u&&An(u)==4)zi(u.Ea,0,u);else if(pt(u,"readystatechange"),An(u)==4){u.h=!1;try{const se=u.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var A;if(A=se===0){var U=String(u.D).match(Ps)[1]||null;!U&&f.self&&f.self.location&&(U=f.self.location.protocol.slice(0,-1)),A=!Jc.test(U?U.toLowerCase():"")}v=A}if(v)pt(u,"complete"),pt(u,"success");else{u.m=6;try{var G=2<An(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",uo(u)}}finally{jn(u)}}}}function jn(u,p){if(u.g){co(u);const v=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||pt(u,"ready");try{v.onreadystatechange=A}catch{}}}function co(u){u.I&&(f.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function An(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),fi(p)}};function ya(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ho(u){const p={};u=(u.g&&2<=An(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(ee(u[A]))continue;var v=N(u[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=p[U]||[];p[U]=G,G.push(v)}b(p,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $r(u,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||p}function va(u){this.Aa=0,this.i=[],this.j=new Vt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$r("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$r("baseRetryDelayMs",5e3,u),this.cb=$r("retryDelaySeedMs",1e4,u),this.Wa=$r("forwardChannelMaxRetries",2,u),this.wa=$r("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ur(u&&u.concurrentRequestLimit),this.Da=new Xc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=va.prototype,r.la=8,r.G=1,r.connect=function(u,p,v,A){ot(0),this.W=u,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=$l(this,null,this.W),Wr(this)};function Ht(u){if(fo(u),u.G==3){var p=u.U++,v=Fn(u.I);if(Ye(v,"SID",u.K),Ye(v,"RID",p),Ye(v,"TYPE","terminate"),Ti(u,v),p=new En(u,u.j,p),p.L=2,p.v=Wi(Fn(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.v,v=!0),v||(p.g=Wl(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Re(p)}Hl(u)}function xr(u){u.g&&(_a(u),u.g.cancel(),u.g=null)}function fo(u){xr(u),u.u&&(f.clearTimeout(u.u),u.u=null),go(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function Wr(u){if(!Ln(u.h)&&!u.s){u.s=!0;var p=u.Ga;We||ue(),oe||(We(),oe=!0),we.add(p,u),u.B=0}}function Zc(u,p){return bl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=On(S(u.Ga,u,p),Bl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new En(this,this.j,u);let G=this.o;if(this.S&&(G?(G=x(G),D(G,this.S)):G=this.S),this.m!==null||this.O||(U.H=G,G=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Qi(this,U,p),v=Fn(this.I),Ye(v,"RID",u),Ye(v,"CVER",22),this.D&&Ye(v,"X-HTTP-Session-Id",this.D),Ti(this,v),G&&(this.O?p="headers="+encodeURIComponent(String(Ei(G)))+"&"+p:this.m&&Ki(v,this.m,G)),da(this.h,U),this.Ua&&Ye(v,"TYPE","init"),this.P?(Ye(v,"$req",p),Ye(v,"SID","null"),U.T=!0,te(U,v,null)):te(U,v,p),this.G=2}}else this.G==3&&(u?po(this,u):this.i.length==0||Ln(this.h)||po(this))};function po(u,p){var v;p?v=p.l:v=u.U++;const A=Fn(u.I);Ye(A,"SID",u.K),Ye(A,"RID",v),Ye(A,"AID",u.T),Ti(u,A),u.m&&u.o&&Ki(A,u.m,u.o),v=new En(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Qi(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),da(u.h,v),te(v,A,p)}function Ti(u,p){u.H&&Ee(u.H,function(v,A){Ye(p,A,v)}),u.l&&Bi({},function(v,A){Ye(p,A,v)})}function Qi(u,p,v){v=Math.min(u.i.length,v);var A=u.l?S(u.l.Na,u.l,u):null;e:{var U=u.i;let G=-1;for(;;){const se=["count="+v];G==-1?0<v?(G=U[0].g,se.push("ofs="+G)):G=0:se.push("ofs="+G);let Qe=!0;for(let Ct=0;Ct<v;Ct++){let je=U[Ct].g;const Ot=U[Ct].map;if(je-=G,0>je)G=Math.max(0,U[Ct].g-100),Qe=!1;else try{jl(Ot,se,"req"+je+"_")}catch{A&&A(Ot)}}if(Qe){A=se.join("&");break e}}}return u=u.i.splice(0,v),p.D=u,A}function Ds(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;We||ue(),oe||(We(),oe=!0),we.add(p,u),u.v=0}}function mo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=On(S(u.Fa,u),Bl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Ul(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=On(S(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),xr(this),Ul(this))};function _a(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Ul(u){u.g=new En(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Fn(u.qa);Ye(p,"RID","rpc"),Ye(p,"SID",u.K),Ye(p,"AID",u.T),Ye(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ye(p,"TO",u.ja),Ye(p,"TYPE","xmlhttp"),Ti(u,p),u.m&&u.o&&Ki(p,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Wi(Fn(p)),v.m=null,v.P=!0,fe(v,u)}r.Za=function(){this.C!=null&&(this.C=null,xr(this),mo(this),ot(19))};function go(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function yo(u,p){var v=null;if(u.g==p){go(u),_a(u),u.g=null;var A=2}else if(un(u.h,p))v=p.D,Nl(u.h,p),A=1;else return;if(u.G!=0){if(p.o)if(A==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var U=u.B;A=yn(),pt(A,new gi(A,v)),Wr(u)}else Ds(u);else if(U=p.s,U==3||U==0&&0<p.X||!(A==1&&Zc(u,p)||A==2&&mo(u)))switch(v&&0<v.length&&(p=u.h,p.i=p.i.concat(v)),U){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function Bl(u,p){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*p}function Si(u,p){if(u.j.info("Error code "+p),p==2){var v=S(u.fb,u),A=u.Xa;const U=!A;A=new _i(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ks(A,"https"),Wi(A),U?Yc(A.toString(),v):Fl(A.toString(),v)}else ot(2);u.G=0,u.l&&u.l.sa(p),Hl(u),fo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Hl(u){if(u.G=0,u.ka=[],u.l){const p=Dl(u.h);(p.length!=0||u.i.length!=0)&&(F(u.ka,p),F(u.ka,u.i),u.h.i.length=0,V(u.i),u.i.length=0),u.l.ra()}}function $l(u,p,v){var A=v instanceof _i?Fn(v):new _i(v);if(A.g!="")p&&(A.g=p+"."+A.g),Hi(A,A.s);else{var U=f.location;A=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;var G=new _i(null);A&&ks(G,A),p&&(G.g=p),U&&Hi(G,U),v&&(G.l=v),A=G}return v=u.D,p=u.ya,v&&p&&Ye(A,v,p),Ye(A,"VER",u.la),Ti(u,A),A}function Wl(u,p,v){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new at(new wi({eb:v})):new at(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wa(){}r=wa.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function vo(){}vo.prototype.g=function(u,p){return new cn(u,p)};function cn(u,p){Xe.call(this),this.g=new va(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!ee(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ee(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new qr(this)}z(cn,Xe),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Ht(this.g)},cn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=nr(u),u=v);p.i.push(new Cs(p.Ya++,u)),p.G==3&&Wr(p)},cn.prototype.N=function(){this.g.l=null,delete this.j,Ht(this.g),delete this.g,cn.aa.N.call(this)};function ql(u){Qt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const v in p){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}z(ql,Qt);function Gl(){Ui.call(this),this.status=1}z(Gl,Ui);function qr(u){this.g=u}z(qr,wa),qr.prototype.ua=function(){pt(this.g,"a")},qr.prototype.ta=function(u){pt(this.g,new ql(u))},qr.prototype.sa=function(u){pt(this.g,new Gl)},qr.prototype.ra=function(){pt(this.g,"b")},vo.prototype.createWebChannel=vo.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Zv=function(){return new vo},Jv=function(){return yn()},Xv=rr,sd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yt.NO_ERROR=0,Yt.TIMEOUT=8,Yt.HTTP_ERROR=6,Xu=Yt,Rs.COMPLETE="complete",Yv=Rs,wr.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,Xa=wr,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,Qv=at}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});const Zg="@firebase/firestore",ey="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new Bv("@firebase/firestore");function Uo(){return Ys.logLevel}function he(r,...e){if(Ys.logLevel<=Ue.DEBUG){const t=e.map(Fd);Ys.debug(`Firestore (${la}): ${r}`,...t)}}function Li(r,...e){if(Ys.logLevel<=Ue.ERROR){const t=e.map(Fd);Ys.error(`Firestore (${la}): ${r}`,...t)}}function Jo(r,...e){if(Ys.logLevel<=Ue.WARN){const t=e.map(Fd);Ys.warn(`Firestore (${la}): ${r}`,...t)}}function Fd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,e_(r,i,t)}function e_(r,e,t){let i=`FIRESTORE (${la}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Li(i),new Error(i)}function Ge(r,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,r||e_(e,o,i)}function Pe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends aa{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(rn.UNAUTHENTICATED)))}shutdown(){}}class v1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class _1{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let i=this.i;const o=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Mi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},f=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Mi)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ge(typeof i.accessToken=="string",31837,{l:i}),new t_(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class w1{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class E1{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new w1(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ty{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T1{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,n1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const i=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ty(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ty(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=S1(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function Me(r,e){return r<e?-1:r>e?1:0}function od(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const o=r.charAt(i),l=e.charAt(i);if(o!==l)return bf(o)===bf(l)?Me(o,l):bf(o)?1:-1}return Me(r.length,e.length)}const A1=55296,x1=57343;function bf(r){const e=r.charCodeAt(0);return e>=A1&&e<=x1}function Zo(r,e,t){return r.length===e.length&&r.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="__name__";class Xr{constructor(e,t,i){t===void 0?t=0:t>e.length&&xe(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&xe(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Xr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=Xr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Me(e.length,t.length)}static compareSegments(e,t){const i=Xr.isNumericId(e),o=Xr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Xr.extractNumericId(e).compare(Xr.extractNumericId(t)):od(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ds.fromString(e.substring(4,e.length-2))}}class rt extends Xr{construct(e,t,i){return new rt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new rt(t)}static emptyPath(){return new rt([])}}const I1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends Xr{construct(e,t,i){return new Gt(e,t,i)}static isValidIdentifier(e){return I1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ny}static keyField(){return new Gt([ny])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ge(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ge(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ge(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(i+=f,o++):(l(),o++)}if(l(),h)throw new ge(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(t)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(rt.fromString(e))}static fromName(e){return new Te(rt.fromString(e).popFirst(5))}static empty(){return new Te(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(r,e,t){if(!t)throw new ge(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function R1(r,e,t,i){if(e===!0&&i===!0)throw new ge(Y.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function ry(r){if(!Te.isDocumentKey(r))throw new ge(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function iy(r){if(Te.isDocumentKey(r))throw new ge(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function r_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function zd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe(12329,{type:typeof r})}function si(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zd(r);throw new ge(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Al(r,e){if(!r_(r))throw new ge(Y.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const h=r[i];if(o&&typeof h!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new ge(Y.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=-62135596800,oy=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*oy);return new it(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<sy)throw new ge(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oy}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Al(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:xt("string",it._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new it(0,0))}static max(){return new Ce(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=-1;function C1(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(i===1e9?new it(t+1,0):new it(t,i));return new ys(o,Te.empty(),e)}function P1(r){return new ys(r.readTime,r.key,fl)}class ys{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ys(Ce.min(),Te.empty(),fl)}static max(){return new ys(Ce.max(),Te.empty(),fl)}}function k1(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(r.documentKey,e.documentKey),t!==0?t:Me(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ua(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==b1)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.reject(t)}static resolve(e){return new Q(((t,i)=>{t(e)}))}static reject(e){return new Q(((t,i)=>{i(e)}))}static waitFor(e){return new Q(((t,i)=>{let o=0,l=0,h=!1;e.forEach((f=>{++o,f.next((()=>{++l,h&&l===o&&t()}),(m=>i(m)))})),h=!0,l===o&&t()}))}static or(e){let t=Q.resolve(!1);for(const i of e)t=t.next((o=>o?Q.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,l)=>{i.push(t.call(this,o,l))})),this.waitFor(i)}static mapArray(e,t){return new Q(((i,o)=>{const l=e.length,h=new Array(l);let f=0;for(let m=0;m<l;m++){const y=m;t(e[y]).next((E=>{h[y]=E,++f,f===l&&i(h)}),(E=>o(E)))}}))}static doWhile(e,t){return new Q(((i,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):i()};l()}))}}function D1(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ca(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=-1;function Cc(r){return r==null}function cc(r){return r===0&&1/r==-1/0}function M1(r){return typeof r=="number"&&Number.isInteger(r)&&!cc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="";function V1(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=ay(e)),e=O1(r.get(t),e);return ay(e)}function O1(r,e){let t=e;const i=r.length;for(let o=0;o<i;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case i_:t+="";break;default:t+=l}}return t}function ay(r){return r+i_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ss(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function s_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||qt.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hu(this.root,e,this.comparator,!0)}}class Hu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??qt.RED,this.left=o??qt.EMPTY,this.right=l??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new qt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new uy(this.data.getIterator())}getIteratorFrom(e){return new uy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class uy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new qn([])}unionWith(e){let t=new Nt(Gt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new o_("Invalid base64 string: "+l):l}})(e);return new Kt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l})(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const L1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const t=L1.exec(r);if(Ge(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function _s(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="server_timestamp",l_="__type__",u_="__previous_value__",c_="__local_write_time__";function Bd(r){return(r?.mapValue?.fields||{})[l_]?.stringValue===a_}function Pc(r){const e=r.mapValue.fields[u_];return Bd(e)?Pc(e):e}function dl(r){const e=vs(r.mapValue.fields[c_].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,t,i,o,l,h,f,m,y,E){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=y,this.isUsingEmulator=E}}const hc="(default)";class pl{constructor(e,t){this.projectId=e,this.database=t||hc}static empty(){return new pl("","")}get isDefaultDatabase(){return this.database===hc}isEqual(e){return e instanceof pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="__type__",j1="__max__",$u={mapValue:{}},f_="__vector__",fc="value";function ws(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Bd(r)?4:U1(r)?9007199254740991:z1(r)?10:11:xe(28295,{value:r})}function oi(r,e){if(r===e)return!0;const t=ws(r);if(t!==ws(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return dl(r).isEqual(dl(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=vs(o.timestampValue),f=vs(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return _s(o.bytesValue).isEqual(_s(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return _t(o.geoPointValue.latitude)===_t(l.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return _t(o.integerValue)===_t(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=_t(o.doubleValue),f=_t(l.doubleValue);return h===f?cc(h)===cc(f):isNaN(h)&&isNaN(f)}return!1})(r,e);case 9:return Zo(r.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return(function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(ly(h)!==ly(f))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(f[m]===void 0||!oi(h[m],f[m])))return!1;return!0})(r,e);default:return xe(52216,{left:r})}}function ml(r,e){return(r.values||[]).find((t=>oi(t,e)))!==void 0}function ea(r,e){if(r===e)return 0;const t=ws(r),i=ws(e);if(t!==i)return Me(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(r.booleanValue,e.booleanValue);case 2:return(function(l,h){const f=_t(l.integerValue||l.doubleValue),m=_t(h.integerValue||h.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(r,e);case 3:return cy(r.timestampValue,e.timestampValue);case 4:return cy(dl(r),dl(e));case 5:return od(r.stringValue,e.stringValue);case 6:return(function(l,h){const f=_s(l),m=_s(h);return f.compareTo(m)})(r.bytesValue,e.bytesValue);case 7:return(function(l,h){const f=l.split("/"),m=h.split("/");for(let y=0;y<f.length&&y<m.length;y++){const E=Me(f[y],m[y]);if(E!==0)return E}return Me(f.length,m.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,h){const f=Me(_t(l.latitude),_t(h.latitude));return f!==0?f:Me(_t(l.longitude),_t(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return hy(r.arrayValue,e.arrayValue);case 10:return(function(l,h){const f=l.fields||{},m=h.fields||{},y=f[fc]?.arrayValue,E=m[fc]?.arrayValue,T=Me(y?.values?.length||0,E?.values?.length||0);return T!==0?T:hy(y,E)})(r.mapValue,e.mapValue);case 11:return(function(l,h){if(l===$u.mapValue&&h===$u.mapValue)return 0;if(l===$u.mapValue)return 1;if(h===$u.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),y=h.fields||{},E=Object.keys(y);m.sort(),E.sort();for(let T=0;T<m.length&&T<E.length;++T){const S=od(m[T],E[T]);if(S!==0)return S;const P=ea(f[m[T]],y[E[T]]);if(P!==0)return P}return Me(m.length,E.length)})(r.mapValue,e.mapValue);default:throw xe(23264,{he:t})}}function cy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Me(r,e);const t=vs(r),i=vs(e),o=Me(t.seconds,i.seconds);return o!==0?o:Me(t.nanos,i.nanos)}function hy(r,e){const t=r.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=ea(t[o],i[o]);if(l)return l}return Me(t.length,i.length)}function ta(r){return ad(r)}function ad(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=vs(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return _s(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Te.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=ad(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${ad(t.fields[h])}`;return o+"}"})(r.mapValue):xe(61005,{value:r})}function Ju(r){switch(ws(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pc(r);return e?16+Ju(e):16;case 5:return 2*r.stringValue.length;case 6:return _s(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+Ju(l)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return Ss(i.fields,((l,h)=>{o+=l.length+Ju(h)})),o})(r.mapValue);default:throw xe(13486,{value:r})}}function ld(r){return!!r&&"integerValue"in r}function Hd(r){return!!r&&"arrayValue"in r}function fy(r){return!!r&&"nullValue"in r}function dy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Zu(r){return!!r&&"mapValue"in r}function z1(r){return(r?.mapValue?.fields||{})[h_]?.stringValue===f_}function rl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ss(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=rl(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rl(r.arrayValue.values[t]);return e}return{...r}}function U1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===j1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Zu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rl(t)}setAll(e){let t=Gt.emptyPath(),i={},o=[];e.forEach(((h,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,i,o),i={},o=[],t=f.popLast()}h?i[f.lastSegment()]=rl(h):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Zu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Zu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Ss(t,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new Nn(rl(this.value))}}function d_(r){const e=[];return Ss(r.fields,((t,i)=>{const o=new Gt([t]);if(Zu(i)){const l=d_(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)})),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,t,i,o,l,h,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new sn(e,0,Ce.min(),Ce.min(),Ce.min(),Nn.empty(),0)}static newFoundDocument(e,t,i,o){return new sn(e,1,t,Ce.min(),i,o,0)}static newNoDocument(e,t){return new sn(e,2,t,Ce.min(),Ce.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new sn(e,3,t,Ce.min(),Ce.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t){this.position=e,this.inclusive=t}}function py(r,e,t){let i=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?i=Te.comparator(Te.fromName(h.referenceValue),t.key):i=ea(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function my(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!oi(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,t="asc"){this.field=e,this.dir=t}}function B1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{}class bt extends p_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new $1(e,t,i):t==="array-contains"?new G1(e,i):t==="in"?new K1(e,i):t==="not-in"?new Q1(e,i):t==="array-contains-any"?new Y1(e,i):new bt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new W1(e,i):new q1(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ea(t,this.value)):t!==null&&ws(this.value)===ws(t)&&this.matchesComparison(ea(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends p_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ai(e,t)}matches(e){return m_(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function m_(r){return r.op==="and"}function g_(r){return H1(r)&&m_(r)}function H1(r){for(const e of r.filters)if(e instanceof ai)return!1;return!0}function ud(r){if(r instanceof bt)return r.field.canonicalString()+r.op.toString()+ta(r.value);if(g_(r))return r.filters.map((e=>ud(e))).join(",");{const e=r.filters.map((t=>ud(t))).join(",");return`${r.op}(${e})`}}function y_(r,e){return r instanceof bt?(function(i,o){return o instanceof bt&&i.op===o.op&&i.field.isEqual(o.field)&&oi(i.value,o.value)})(r,e):r instanceof ai?(function(i,o){return o instanceof ai&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,h,f)=>l&&y_(h,o.filters[f])),!0):!1})(r,e):void xe(19439)}function v_(r){return r instanceof bt?(function(t){return`${t.field.canonicalString()} ${t.op} ${ta(t.value)}`})(r):r instanceof ai?(function(t){return t.op.toString()+" {"+t.getFilters().map(v_).join(" ,")+"}"})(r):"Filter"}class $1 extends bt{constructor(e,t,i){super(e,t,i),this.key=Te.fromName(i.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class W1 extends bt{constructor(e,t){super(e,"in",t),this.keys=__("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class q1 extends bt{constructor(e,t){super(e,"not-in",t),this.keys=__("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function __(r,e){return(e.arrayValue?.values||[]).map((t=>Te.fromName(t.referenceValue)))}class G1 extends bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hd(t)&&ml(t.arrayValue,this.value)}}class K1 extends bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ml(this.value.arrayValue,t)}}class Q1 extends bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ml(this.value.arrayValue,t)}}class Y1 extends bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>ml(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,t=null,i=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.Te=null}}function gy(r,e=null,t=[],i=[],o=null,l=null,h=null){return new X1(r,e,t,i,o,l,h)}function $d(r){const e=Pe(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>ud(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Cc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>ta(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>ta(i))).join(",")),e.Te=t}return e.Te}function Wd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!B1(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!y_(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!my(r.startAt,e.startAt)&&my(r.endAt,e.endAt)}function cd(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t=null,i=[],o=[],l=null,h="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function J1(r,e,t,i,o,l,h,f){return new kc(r,e,t,i,o,l,h,f)}function qd(r){return new kc(r)}function yy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Z1(r){return r.collectionGroup!==null}function il(r){const e=Pe(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new Nt(Gt.comparator);return h.filters.forEach((m=>{m.getFlattenedFilters().forEach((y=>{y.isInequality()&&(f=f.add(y.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new pc(l,i))})),t.has(Gt.keyField().canonicalString())||e.Ie.push(new pc(Gt.keyField(),i))}return e.Ie}function Jr(r){const e=Pe(r);return e.Ee||(e.Ee=eA(e,il(r))),e.Ee}function eA(r,e){if(r.limitType==="F")return gy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new pc(o.field,l)}));const t=r.endAt?new dc(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new dc(r.startAt.position,r.startAt.inclusive):null;return gy(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function hd(r,e,t){return new kc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function bc(r,e){return Wd(Jr(r),Jr(e))&&r.limitType===e.limitType}function w_(r){return`${$d(Jr(r))}|lt:${r.limitType}`}function Bo(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>v_(o))).join(", ")}]`),Cc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>ta(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>ta(o))).join(",")),`Target(${i})`})(Jr(r))}; limitType=${r.limitType})`}function Nc(r,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Te.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,o){for(const l of il(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(h,f,m){const y=py(h,f,m);return h.inclusive?y<=0:y<0})(i.startAt,il(i),o)||i.endAt&&!(function(h,f,m){const y=py(h,f,m);return h.inclusive?y>=0:y>0})(i.endAt,il(i),o))})(r,e)}function tA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function E_(r){return(e,t)=>{let i=!1;for(const o of il(r)){const l=nA(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function nA(r,e,t){const i=r.field.isKeyField()?Te.comparator(e.key,t.key):(function(l,h,f){const m=h.data.field(l),y=f.data.field(l);return m!==null&&y!==null?ea(m,y):xe(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return xe(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,((t,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return s_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=new dt(Te.comparator);function Fi(){return rA}const T_=new dt(Te.comparator);function Ja(...r){let e=T_;for(const t of r)e=e.insert(t.key,t);return e}function S_(r){let e=T_;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Ks(){return sl()}function A_(){return sl()}function sl(){return new no((r=>r.toString()),((r,e)=>r.isEqual(e)))}const iA=new dt(Te.comparator),sA=new Nt(Te.comparator);function Ve(...r){let e=sA;for(const t of r)e=e.add(t);return e}const oA=new Nt(Me);function aA(){return oA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(e)?"-0":e}}function x_(r){return{integerValue:""+r}}function I_(r,e){return M1(e)?x_(e):Gd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(){this._=void 0}}function lA(r,e,t){return r instanceof mc?(function(o,l){const h={fields:{[l_]:{stringValue:a_},[c_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Bd(l)&&(l=Pc(l)),l&&(h.fields[u_]=l),{mapValue:h}})(t,e):r instanceof gl?C_(r,e):r instanceof yl?P_(r,e):(function(o,l){const h=R_(o,l),f=vy(h)+vy(o.Ae);return ld(h)&&ld(o.Ae)?x_(f):Gd(o.serializer,f)})(r,e)}function uA(r,e,t){return r instanceof gl?C_(r,e):r instanceof yl?P_(r,e):t}function R_(r,e){return r instanceof vl?(function(i){return ld(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class mc extends Dc{}class gl extends Dc{constructor(e){super(),this.elements=e}}function C_(r,e){const t=k_(e);for(const i of r.elements)t.some((o=>oi(o,i)))||t.push(i);return{arrayValue:{values:t}}}class yl extends Dc{constructor(e){super(),this.elements=e}}function P_(r,e){let t=k_(e);for(const i of r.elements)t=t.filter((o=>!oi(o,i)));return{arrayValue:{values:t}}}class vl extends Dc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function vy(r){return _t(r.integerValue||r.doubleValue)}function k_(r){return Hd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,t){this.field=e,this.transform=t}}function hA(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof gl&&o instanceof gl||i instanceof yl&&o instanceof yl?Zo(i.elements,o.elements,oi):i instanceof vl&&o instanceof vl?oi(i.Ae,o.Ae):i instanceof mc&&o instanceof mc})(r.transform,e.transform)}class fA{constructor(e,t){this.version=e,this.transformResults=t}}class Dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ec(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Mc{}function b_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new D_(r.key,Dr.none()):new xl(r.key,r.data,Dr.none());{const t=r.data,i=Nn.empty();let o=new Nt(Gt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new As(r.key,i,new qn(o.toArray()),Dr.none())}}function dA(r,e,t){r instanceof xl?(function(o,l,h){const f=o.value.clone(),m=wy(o.fieldTransforms,l,h.transformResults);f.setAll(m),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()})(r,e,t):r instanceof As?(function(o,l,h){if(!ec(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=wy(o.fieldTransforms,l,h.transformResults),m=l.data;m.setAll(N_(o)),m.setAll(f),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,t):(function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function ol(r,e,t,i){return r instanceof xl?(function(l,h,f,m){if(!ec(l.precondition,h))return f;const y=l.value.clone(),E=Ey(l.fieldTransforms,m,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(r,e,t,i):r instanceof As?(function(l,h,f,m){if(!ec(l.precondition,h))return f;const y=Ey(l.fieldTransforms,m,h),E=h.data;return E.setAll(N_(l)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(r,e,t,i):(function(l,h,f){return ec(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f})(r,e,t)}function pA(r,e){let t=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),l=R_(i.transform,o||null);l!=null&&(t===null&&(t=Nn.empty()),t.set(i.field,l))}return t||null}function _y(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Zo(i,o,((l,h)=>hA(l,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class xl extends Mc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class As extends Mc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function N_(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function wy(r,e,t){const i=new Map;Ge(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,f=e.data.field(l.field);i.set(l.field,uA(h,f,t[o]))}return i}function Ey(r,e,t){const i=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);i.set(o.field,lA(l,h,e))}return i}class D_ extends Mc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mA extends Mc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&dA(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ol(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ol(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=A_();return this.mutations.forEach((o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const m=b_(h,f);m!==null&&i.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(Ce.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,((t,i)=>_y(t,i)))&&Zo(this.baseMutations,e.baseMutations,((t,i)=>_y(t,i)))}}class Kd{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ge(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return iA})();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new Kd(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,ze;function _A(r){switch(r){case Y.OK:return xe(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return xe(15467,{code:r})}}function M_(r){if(r===void 0)return Li("GRPC error has no .code"),Y.UNKNOWN;switch(r){case St.OK:return Y.OK;case St.CANCELLED:return Y.CANCELLED;case St.UNKNOWN:return Y.UNKNOWN;case St.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case St.INTERNAL:return Y.INTERNAL;case St.UNAVAILABLE:return Y.UNAVAILABLE;case St.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case St.NOT_FOUND:return Y.NOT_FOUND;case St.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case St.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case St.ABORTED:return Y.ABORTED;case St.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case St.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case St.DATA_LOSS:return Y.DATA_LOSS;default:return xe(39323,{code:r})}}(ze=St||(St={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=new ds([4294967295,4294967295],0);function Ty(r){const e=wA().encode(r),t=new Kv;return t.update(e),new Uint8Array(t.digest())}function Sy(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ds([t,i],0),new ds([o,l],0)]}class Qd{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Za(`Invalid padding: ${t}`);if(i<0)throw new Za(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Za(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Za(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ds.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(ds.fromNumber(i)));return o.compare(EA)===1&&(o=new ds([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Ty(e),[i,o]=Sy(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(i,o,l);if(!this.we(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Qd(l,o,t);return i.forEach((f=>h.insert(f))),h}insert(e){if(this.ge===0)return;const t=Ty(e),[i,o]=Sy(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(i,o,l);this.Se(h)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Il.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Vc(Ce.min(),o,new dt(Me),Fi(),Ve())}}class Il{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Il(i,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class V_{constructor(e,t){this.targetId=e,this.Ce=t}}class O_{constructor(e,t,i=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Ay{constructor(){this.ve=0,this.Fe=xy(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),t=Ve(),i=Ve();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:xe(38017,{changeType:l})}})),new Il(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=xy()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class TA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fi(),this.Je=Wu(),this.He=Wu(),this.Ye=new dt(Me)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(cd(l))if(i===0){const h=new Te(l.path);this.et(t,h,sn.newNoDocument(h,Ce.min()))}else Ge(i===1,20013,{expectedCount:i});else{const h=this._t(t);if(h!==i){const f=this.ut(e),m=f?this.ct(f,e,h):1;if(m!==0){this.it(t);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=_s(i).toUint8Array()}catch(m){if(m instanceof o_)return Jo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Qd(h,o,l)}catch(m){return Jo(m instanceof Za?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((l=>{const h=this.Ge.ht(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,h)=>{const f=this.ot(h);if(f){if(l.current&&cd(f.target)){const m=new Te(f.target.path);this.It(m).has(h)||this.Et(h,m)||this.et(h,m,sn.newNoDocument(m,e))}l.Be&&(t.set(h,l.ke()),l.qe())}}));let i=Ve();this.He.forEach(((l,h)=>{let f=!0;h.forEachWhile((m=>{const y=this.ot(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,h)=>h.setReadTime(e)));const o=new Vc(e,t,this.Ye,this.je,i);return this.je=Fi(),this.Je=Wu(),this.He=Wu(),this.Ye=new dt(Me),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Ay,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Nt(Me),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Nt(Me),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ay),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Wu(){return new dt(Te.comparator)}function xy(){return new dt(Te.comparator)}const SA={asc:"ASCENDING",desc:"DESCENDING"},AA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xA={and:"AND",or:"OR"};class IA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fd(r,e){return r.useProto3Json||Cc(e)?e:{value:e}}function gc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L_(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function RA(r,e){return gc(r,e.toTimestamp())}function Zr(r){return Ge(!!r,49232),Ce.fromTimestamp((function(t){const i=vs(t);return new it(i.seconds,i.nanos)})(r))}function Yd(r,e){return dd(r,e).canonicalString()}function dd(r,e){const t=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function F_(r){const e=rt.fromString(r);return Ge(H_(e),10190,{key:e.toString()}),e}function pd(r,e){return Yd(r.databaseId,e.path)}function Nf(r,e){const t=F_(e);if(t.get(1)!==r.databaseId.projectId)throw new ge(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ge(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Te(z_(t))}function j_(r,e){return Yd(r.databaseId,e)}function CA(r){const e=F_(r);return e.length===4?rt.emptyPath():z_(e)}function md(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function z_(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Iy(r,e,t){return{name:pd(r,e),fields:t.value.mapValue.fields}}function PA(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:xe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(y,E){return y.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Kt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Kt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&(function(y){const E=y.code===void 0?Y.UNKNOWN:M_(y.code);return new ge(E,y.message||"")})(h);t=new O_(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Nf(r,i.document.name),l=Zr(i.document.updateTime),h=i.document.createTime?Zr(i.document.createTime):Ce.min(),f=new Nn({mapValue:{fields:i.document.fields}}),m=sn.newFoundDocument(o,l,h,f),y=i.targetIds||[],E=i.removedTargetIds||[];t=new tc(y,E,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Nf(r,i.document),l=i.readTime?Zr(i.readTime):Ce.min(),h=sn.newNoDocument(o,l),f=i.removedTargetIds||[];t=new tc([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Nf(r,i.document),l=i.removedTargetIds||[];t=new tc([],l,o,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new vA(o,l),f=i.targetId;t=new V_(f,h)}}return t}function kA(r,e){let t;if(e instanceof xl)t={update:Iy(r,e.key,e.value)};else if(e instanceof D_)t={delete:pd(r,e.key)};else if(e instanceof As)t={update:Iy(r,e.key,e.data),updateMask:jA(e.fieldMask)};else{if(!(e instanceof mA))return xe(16599,{Vt:e.type});t={verify:pd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,h){const f=h.transform;if(f instanceof mc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof gl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof yl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof vl)return{fieldPath:h.field.canonicalString(),increment:f.Ae};throw xe(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:RA(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xe(27497)})(r,e.precondition)),t}function bA(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map((t=>(function(o,l){let h=o.updateTime?Zr(o.updateTime):Zr(l);return h.isEqual(Ce.min())&&(h=Zr(l)),new fA(h,o.transformResults||[])})(t,e)))):[]}function NA(r,e){return{documents:[j_(r,e.path)]}}function DA(r,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=j_(r,o);const l=(function(y){if(y.length!==0)return B_(ai.create(y,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const h=(function(y){if(y.length!==0)return y.map((E=>(function(S){return{field:Ho(S.field),direction:OA(S.dir)}})(E)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=fd(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function MA(r){let e=CA(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ge(i===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=(function(T){const S=U_(T);return S instanceof ai&&g_(S)?S.getFilters():[S]})(t.where));let h=[];t.orderBy&&(h=(function(T){return T.map((S=>(function(z){return new pc($o(z.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(S)))})(t.orderBy));let f=null;t.limit&&(f=(function(T){let S;return S=typeof T=="object"?T.value:T,Cc(S)?null:S})(t.limit));let m=null;t.startAt&&(m=(function(T){const S=!!T.before,P=T.values||[];return new dc(P,S)})(t.startAt));let y=null;return t.endAt&&(y=(function(T){const S=!T.before,P=T.values||[];return new dc(P,S)})(t.endAt)),J1(e,o,h,l,f,"F",m,y)}function VA(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function U_(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=$o(t.unaryFilter.field);return bt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=$o(t.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=$o(t.unaryFilter.field);return bt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=$o(t.unaryFilter.field);return bt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(r):r.fieldFilter!==void 0?(function(t){return bt.create($o(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return ai.create(t.compositeFilter.filters.map((i=>U_(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(t.compositeFilter.op))})(r):xe(30097,{filter:r})}function OA(r){return SA[r]}function LA(r){return AA[r]}function FA(r){return xA[r]}function Ho(r){return{fieldPath:r.canonicalString()}}function $o(r){return Gt.fromServerFormat(r.fieldPath)}function B_(r){return r instanceof bt?(function(t){if(t.op==="=="){if(dy(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NAN"}};if(fy(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(dy(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NAN"}};if(fy(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(t.field),op:LA(t.op),value:t.value}}})(r):r instanceof ai?(function(t){const i=t.getFilters().map((o=>B_(o)));return i.length===1?i[0]:{compositeFilter:{op:FA(t.op),filters:i}}})(r):xe(54877,{filter:r})}function jA(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function H_(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,t,i,o,l=Ce.min(),h=Ce.min(),f=Kt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.yt=e}}function UA(r){const e=MA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?hd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this.Cn=new HA}addToCollectionParentIndex(e,t){return this.Cn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(ys.min())}updateCollectionGroup(e,t,i){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class HA{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Nt(rt.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Nt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$_=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn($_,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new na(0)}static cr(){return new na(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="LruGarbageCollector",$A=1048576;function Py([r,e],[t,i]){const o=Me(r,t);return o===0?Me(e,i):o}class WA{constructor(e){this.Ir=e,this.buffer=new Nt(Py),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Py(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qA{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(Cy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ca(t)?he(Cy,"Ignoring IndexedDB error during garbage collection: ",t):await ua(t)}await this.Vr(3e5)}))}}class GA{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(Rc.ce);const i=new WA(t);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Ry)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ry):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,l,h,f,m,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(i=T,f=Date.now(),this.removeTargets(e,i,t)))).next((T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((T=>(y=Date.now(),Uo()<=Ue.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${T} documents in `+(y-m)+`ms
Total Duration: ${y-E}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T}))))}}function KA(r,e){return new GA(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.changes=new no((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Q.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&ol(i.mutation,o,qn.empty(),it.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ve()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ve()){const o=Ks();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((l=>{let h=Ja();return l.forEach(((f,m)=>{h=h.insert(f,m.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const i=Ks();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ve())))}populateOverlays(e,t,i){const o=[];return i.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((h,f)=>{t.set(h,f)}))}))}computeViews(e,t,i,o){let l=Fi();const h=sl(),f=(function(){return sl()})();return t.forEach(((m,y)=>{const E=i.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof As)?l=l.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),ol(E.mutation,y,E.mutation.getFieldMask(),it.now())):h.set(y.key,qn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((y,E)=>h.set(y,E))),t.forEach(((y,E)=>f.set(y,new YA(E,h.get(y)??null)))),f)))}recalculateAndSaveOverlays(e,t){const i=sl();let o=new dt(((h,f)=>h-f)),l=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const f of h)f.keys().forEach((m=>{const y=t.get(m);if(y===null)return;let E=i.get(m)||qn.empty();E=f.applyToLocalView(y,E),i.set(m,E);const T=(o.get(f.batchId)||Ve()).add(m);o=o.insert(f.batchId,T)}))})).next((()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),y=m.key,E=m.value,T=A_();E.forEach((S=>{if(!l.has(S)){const P=b_(t.get(S),i.get(S));P!==null&&T.set(S,P),l=l.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return Q.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(h){return Te.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Z1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):Q.resolve(Ks());let f=fl,m=l;return h.next((y=>Q.forEach(y,((E,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(E)?Q.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{m=m.insert(E,S)}))))).next((()=>this.populateOverlays(e,y,l))).next((()=>this.computeViews(e,m,y,Ve()))).next((E=>({batchId:f,changes:S_(E)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next((i=>{let o=Ja();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=Ja();return this.indexManager.getCollectionParents(e,l).next((f=>Q.forEach(f,(m=>{const y=(function(T,S){return new kc(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((E=>{E.forEach(((T,S)=>{h=h.insert(T,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o)))).next((h=>{l.forEach(((m,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,sn.newInvalidDocument(E)))}));let f=Ja();return h.forEach(((m,y)=>{const E=l.get(m);E!==void 0&&ol(E.mutation,y,qn.empty(),it.now()),Nc(t,y)&&(f=f.insert(m,y))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Q.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Zr(o.createTime)}})(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:UA(o.bundledQuery),readTime:Zr(o.readTime)}})(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.overlays=new dt(Te.comparator),this.qr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ks();return Q.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,l)=>{this.St(e,t,l)})),Q.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),Q.resolve()}getOverlaysForCollection(e,t,i){const o=Ks(),l=t.length+1,h=new Te(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const m=f.getNext().value,y=m.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&m.largestBatchId>i&&o.set(m.getKey(),m)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new dt(((y,E)=>y-E));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let E=l.get(y.largestBatchId);E===null&&(E=Ks(),l=l.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const f=Ks(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((y,E)=>f.set(y,E))),!(f.size()>=o)););return Q.resolve(f)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new yA(t,i));let l=this.qr.get(t);l===void 0&&(l=Ve(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this.Qr=new Nt(zt.$r),this.Ur=new Nt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new zt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new zt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new Te(new rt([])),i=new zt(t,e),o=new zt(t,e+1),l=[];return this.Ur.forEachInRange([i,o],(h=>{this.Gr(h),l.push(h.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Te(new rt([])),i=new zt(t,e),o=new zt(t,e+1);let l=Ve();return this.Ur.forEachInRange([i,o],(h=>{l=l.add(h.key)})),l}containsKey(e){const t=new zt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class zt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Te.comparator(e.key,t.key)||Me(e.Yr,t.Yr)}static Kr(e,t){return Me(e.Yr,t.Yr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(zt.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new gA(l,t,i,o);this.mutationQueue.push(h);for(const f of o)this.Zr=this.Zr.add(new zt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Q.resolve(h)}lookupMutationBatch(e,t){return Q.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),l=o<0?0:o;return Q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Ud:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new zt(t,0),o=new zt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],(h=>{const f=this.Xr(h.Yr);l.push(f)})),Q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Nt(Me);return t.forEach((o=>{const l=new zt(o,0),h=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,h],(f=>{i=i.add(f.Yr)}))})),Q.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;Te.isDocumentKey(l)||(l=l.child(""));const h=new zt(new Te(l),0);let f=new Nt(Me);return this.Zr.forEachWhile((m=>{const y=m.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(m.Yr)),!0)}),h),Q.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ge(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return Q.forEach(t.mutations,(o=>{const l=new zt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new zt(t,0),o=this.Zr.firstAfterOrEqual(i);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.ri=e,this.docs=(function(){return new dt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Q.resolve(i?i.document.mutableCopy():sn.newInvalidDocument(t))}getEntries(e,t){let i=Fi();return t.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():sn.newInvalidDocument(o))})),Q.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Fi();const h=t.path,f=new Te(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:y,value:{document:E}}=m.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||k1(P1(E),i)<=0||(o.has(E.key)||Nc(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return Q.resolve(l)}getAllFromCollectionGroup(e,t,i,o){xe(9500)}ii(e,t){return Q.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new rx(this)}getSize(e){return Q.resolve(this.size)}}class rx extends QA{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),Q.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.persistence=e,this.si=new no((t=>$d(t)),Wd),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new Xd,this.targetCount=0,this.ai=na.ur()}forEachTarget(e,t){return this.si.forEach(((i,o)=>t(o))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),Q.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new na(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Pr(t),Q.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.si.forEach(((h,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.si.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),Q.waitFor(l).next((()=>o))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return Q.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),Q.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((h=>{l.push(o.markPotentiallyOrphaned(e,h))})),Q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return Q.resolve(i)}containsKey(e,t){return Q.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,t){this.ui={},this.overlays={},this.ci=new Rc(0),this.li=!1,this.li=!0,this.hi=new ex,this.referenceDelegate=e(this),this.Pi=new ix(this),this.indexManager=new BA,this.remoteDocumentCache=(function(o){return new nx(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new zA(t),this.Ii=new JA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ZA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new tx(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){he("MemoryPersistence","Starting transaction:",e);const o=new sx(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return Q.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class sx extends N1{constructor(e){super(),this.currentSequenceNumber=e}}class Jd{constructor(e){this.persistence=e,this.Ri=new Xd,this.Vi=null}static mi(e){return new Jd(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),Q.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(i=>{const o=Te.fromPath(i);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Ce.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Q.or([()=>Q.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class yc{constructor(e,t){this.persistence=e,this.pi=new no((i=>V1(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=KA(this,t)}static mi(e,t){return new yc(e,t)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return Q.forEach(this.pi,((i,o)=>this.br(e,i,o).next((l=>l?Q.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((f=>{f||(i++,l.removeEntry(h,Ce.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Q.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ju(e.data.value)),t}br(e,t,i){return Q.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return Q.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=Ve(),o=Ve();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Zd(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZT()?8:D1(XT())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ys(e,t).next((h=>{l.result=h})).next((()=>{if(!l.result)return this.ws(e,t,o,i).next((h=>{l.result=h}))})).next((()=>{if(l.result)return;const h=new ox;return this.Ss(e,t,h).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,h,f.size)}))})).next((()=>l.result))}bs(e,t,i,o){return i.documentReadCount<this.fs?(Uo()<=Ue.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(Uo()<=Ue.DEBUG&&he("QueryEngine","Query:",Bo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Uo()<=Ue.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(t))):Q.resolve())}ys(e,t){if(yy(t))return Q.resolve(null);let i=Jr(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=hd(t,null,"F"),i=Jr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const h=Ve(...l);return this.ps.getDocuments(e,h).next((f=>this.indexManager.getMinOffset(e,i).next((m=>{const y=this.Ds(t,f);return this.Cs(t,y,h,m.readTime)?this.ys(e,hd(t,null,"F")):this.vs(e,y,t,m)}))))})))))}ws(e,t,i,o){return yy(t)||o.isEqual(Ce.min())?Q.resolve(null):this.ps.getDocuments(e,i).next((l=>{const h=this.Ds(t,l);return this.Cs(t,h,i,o)?Q.resolve(null):(Uo()<=Ue.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Bo(t)),this.vs(e,h,t,C1(o,fl)).next((f=>f)))}))}Ds(e,t){let i=new Nt(E_(e));return t.forEach(((o,l)=>{Nc(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,i){return Uo()<=Ue.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Bo(t)),this.ps.getDocumentsMatchingQuery(e,t,ys.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((l=>(t.forEach((h=>{l=l.insert(h.key,h)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="LocalStore",lx=3e8;class ux{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new dt(Me),this.xs=new no((l=>$d(l)),Wd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function cx(r,e,t,i){return new ux(r,e,t,i)}async function q_(r,e){const t=Pe(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const h=[],f=[];let m=Ve();for(const y of o){h.push(y.batchId);for(const E of y.mutations)m=m.add(E.key)}for(const y of l){f.push(y.batchId);for(const E of y.mutations)m=m.add(E.key)}return t.localDocuments.getDocuments(i,m).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:f})))}))}))}function hx(r,e){const t=Pe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,y,E){const T=y.batch,S=T.keys();let P=Q.resolve();return S.forEach((z=>{P=P.next((()=>E.getEntry(m,z))).next((V=>{const F=y.docVersions.get(z);Ge(F!==null,48541),V.version.compareTo(F)<0&&(T.applyToRemoteDocument(V,y),V.isValidDocument()&&(V.setReadTime(y.commitVersion),E.addEntry(V)))}))})),P.next((()=>f.mutationQueue.removeMutationBatch(m,T)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let m=Ve();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(m=m.add(f.batch.mutations[y].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function G_(r){const e=Pe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function fx(r,e){const t=Pe(r),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach(((E,T)=>{const S=o.get(T);if(!S)return;f.push(t.Pi.removeMatchingKeys(l,E.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(l,E.addedDocuments,T))));let P=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?P=P.withResumeToken(Kt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,i)),o=o.insert(T,P),(function(V,F,$){return V.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=lx?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(S,P,E)&&f.push(t.Pi.updateTargetData(l,P))}));let m=Fi(),y=Ve();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))})),f.push(dx(l,h,e.documentUpdates).next((E=>{m=E.ks,y=E.qs}))),!i.isEqual(Ce.min())){const E=t.Pi.getLastRemoteSnapshotVersion(l).next((T=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(E)}return Q.waitFor(f).next((()=>h.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,y))).next((()=>m))})).then((l=>(t.Ms=o,l)))}function dx(r,e,t){let i=Ve(),o=Ve();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let h=Fi();return t.forEach(((f,m)=>{const y=l.get(f);m.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),m.isNoDocument()&&m.version.isEqual(Ce.min())?(e.removeEntry(f,m.readTime),h=h.insert(f,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),h=h.insert(f,m)):he(ep,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",m.version)})),{ks:h,qs:o}}))}function px(r,e){const t=Pe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Ud),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function mx(r,e){const t=Pe(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Pi.getTargetData(i,e).next((l=>l?(o=l,Q.resolve(o)):t.Pi.allocateTargetId(i).next((h=>(o=new cs(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function gd(r,e,t){const i=Pe(r),o=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!ca(h))throw h;he(ep,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function ky(r,e,t){const i=Pe(r);let o=Ce.min(),l=Ve();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(m,y,E){const T=Pe(m),S=T.xs.get(E);return S!==void 0?Q.resolve(T.Ms.get(S)):T.Pi.getTargetData(y,E)})(i,h,Jr(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,f.targetId).next((m=>{l=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(h,e,t?o:Ce.min(),t?l:Ve()))).next((f=>(gx(i,tA(e),f),{documents:f,Qs:l})))))}function gx(r,e,t){let i=r.Os.get(e)||Ce.min();t.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.Os.set(e,i)}class by{constructor(){this.activeTargetIds=aA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yx{constructor(){this.Mo=new by,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new by,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="ConnectivityMonitor";class Dy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(Ny,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(Ny,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=null;function yd(){return qu===null?qu=(function(){return 268435456+Math.round(2147483648*Math.random())})():qu++,"0x"+qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="RestConnection",_x={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===hc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,l){const h=yd(),f=this.zo(e,t.toUriEncodedString());he(Df,`Sending RPC '${e}' ${h}:`,f,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,l);const{host:y}=new URL(f),E=Od(y);return this.Jo(e,f,m,i,E).then((T=>(he(Df,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Jo(Df,`RPC '${e}' ${h} failed with error: `,T,"url: ",f,"request:",i),T}))}Ho(e,t,i,o,l,h){return this.Go(e,t,i,o,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+la})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const i=_x[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class Tx extends wx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,l){const h=yd();return new Promise(((f,m)=>{const y=new Qv;y.setWithCredentials(!0),y.listenOnce(Yv.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Xu.NO_ERROR:const T=y.getResponseJson();he(nn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),f(T);break;case Xu.TIMEOUT:he(nn,`RPC '${e}' ${h} timed out`),m(new ge(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Xu.HTTP_ERROR:const S=y.getStatus();if(he(nn,`RPC '${e}' ${h} failed with status:`,S,"response text:",y.getResponseText()),S>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const z=P?.error;if(z&&z.status&&z.message){const V=(function($){const ee=$.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(ee)>=0?ee:Y.UNKNOWN})(z.status);m(new ge(V,z.message))}else m(new ge(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new ge(Y.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{he(nn,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);he(nn,`RPC '${e}' ${h} sending request:`,o),y.send(t,"POST",E,i,15)}))}T_(e,t,i){const o=yd(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Zv(),f=Jv(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const E=l.join("");he(nn,`Creating RPC '${e}' stream ${o}: ${E}`,m);const T=h.createWebChannel(E,m);this.I_(T);let S=!1,P=!1;const z=new Ex({Yo:F=>{P?he(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(S||(he(nn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),he(nn,`RPC '${e}' stream ${o} sending:`,F),T.send(F))},Zo:()=>T.close()}),V=(F,$,ee)=>{F.listen($,(Z=>{try{ee(Z)}catch(ie){setTimeout((()=>{throw ie}),0)}}))};return V(T,Xa.EventType.OPEN,(()=>{P||(he(nn,`RPC '${e}' stream ${o} transport opened.`),z.o_())})),V(T,Xa.EventType.CLOSE,(()=>{P||(P=!0,he(nn,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(T))})),V(T,Xa.EventType.ERROR,(F=>{P||(P=!0,Jo(nn,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),z.a_(new ge(Y.UNAVAILABLE,"The operation could not be completed")))})),V(T,Xa.EventType.MESSAGE,(F=>{if(!P){const $=F.data[0];Ge(!!$,16349);const ee=$,Z=ee?.error||ee[0]?.error;if(Z){he(nn,`RPC '${e}' stream ${o} received error:`,Z);const ie=Z.status;let ae=(function(x){const R=St[x];if(R!==void 0)return M_(R)})(ie),Ee=Z.message;ae===void 0&&(ae=Y.INTERNAL,Ee="Unknown error status: "+ie+" with message "+Z.message),P=!0,z.a_(new ge(ae,Ee)),T.close()}else he(nn,`RPC '${e}' stream ${o} received:`,$),z.u_($)}})),V(f,Xv.STAT_EVENT,(F=>{F.stat===sd.PROXY?he(nn,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===sd.NOPROXY&&he(nn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(r){return new IA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="PersistentStream";class Q_{constructor(e,t,i,o,l,h,f,m){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new K_(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(Li(t.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new ge(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(My,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(he(My,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Sx extends Q_{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=PA(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ce.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ce.min():h.readTime?Zr(h.readTime):Ce.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=md(this.serializer),t.addTarget=(function(l,h){let f;const m=h.target;if(f=cd(m)?{documents:NA(l,m)}:{query:DA(l,m).ft},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=L_(l,h.resumeToken);const y=fd(l,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ce.min())>0){f.readTime=gc(l,h.snapshotVersion.toTimestamp());const y=fd(l,h.expectedCount);y!==null&&(f.expectedCount=y)}return f})(this.serializer,e);const i=VA(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=md(this.serializer),t.removeTarget=e,this.q_(t)}}class Ax extends Q_{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=bA(e.writeResults,e.commitTime),i=Zr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=md(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>kA(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{}class Ix extends xx{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Go(e,dd(t,i),o,l,h))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(Y.UNKNOWN,l.toString())}))}Ho(e,t,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Ho(e,dd(t,i),o,h,f,l))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ge(Y.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Rx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Li(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="RemoteStore";class Cx{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((h=>{i.enqueueAndForget((async()=>{ro(this)&&(he(Xs,"Restarting streams for network reachability change."),await(async function(m){const y=Pe(m);y.Ea.add(4),await Rl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Lc(y)})(this))}))})),this.Ra=new Rx(i,o)}}async function Lc(r){if(ro(r))for(const e of r.da)await e(!0)}async function Rl(r){for(const e of r.da)await e(!1)}function Y_(r,e){const t=Pe(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),ip(t)?rp(t):ha(t).O_()&&np(t,e))}function tp(r,e){const t=Pe(r),i=ha(t);t.Ia.delete(e),i.O_()&&X_(t,e),t.Ia.size===0&&(i.O_()?i.L_():ro(t)&&t.Ra.set("Unknown"))}function np(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ha(r).Y_(e)}function X_(r,e){r.Va.Ue(e),ha(r).Z_(e)}function rp(r){r.Va=new TA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ha(r).start(),r.Ra.ua()}function ip(r){return ro(r)&&!ha(r).x_()&&r.Ia.size>0}function ro(r){return Pe(r).Ea.size===0}function J_(r){r.Va=void 0}async function Px(r){r.Ra.set("Online")}async function kx(r){r.Ia.forEach(((e,t)=>{np(r,e)}))}async function bx(r,e){J_(r),ip(r)?(r.Ra.ha(e),rp(r)):r.Ra.set("Unknown")}async function Nx(r,e,t){if(r.Ra.set("Online"),e instanceof O_&&e.state===2&&e.cause)try{await(async function(o,l){const h=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.Ia.delete(f),o.Va.removeTarget(f))})(r,e)}catch(i){he(Xs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await vc(r,i)}else if(e instanceof tc?r.Va.Ze(e):e instanceof V_?r.Va.st(e):r.Va.tt(e),!t.isEqual(Ce.min()))try{const i=await G_(r.localStore);t.compareTo(i)>=0&&await(function(l,h){const f=l.Va.Tt(h);return f.targetChanges.forEach(((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const E=l.Ia.get(y);E&&l.Ia.set(y,E.withResumeToken(m.resumeToken,h))}})),f.targetMismatches.forEach(((m,y)=>{const E=l.Ia.get(m);if(!E)return;l.Ia.set(m,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),X_(l,m);const T=new cs(E.target,m,y,E.sequenceNumber);np(l,T)})),l.remoteSyncer.applyRemoteEvent(f)})(r,t)}catch(i){he(Xs,"Failed to raise snapshot:",i),await vc(r,i)}}async function vc(r,e,t){if(!ca(e))throw e;r.Ea.add(1),await Rl(r),r.Ra.set("Offline"),t||(t=()=>G_(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(Xs,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Lc(r)}))}function Z_(r,e){return e().catch((t=>vc(r,t,e)))}async function Fc(r){const e=Pe(r),t=Es(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ud;for(;Dx(e);)try{const o=await px(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,Mx(e,o)}catch(o){await vc(e,o)}ew(e)&&tw(e)}function Dx(r){return ro(r)&&r.Ta.length<10}function Mx(r,e){r.Ta.push(e);const t=Es(r);t.O_()&&t.X_&&t.ea(e.mutations)}function ew(r){return ro(r)&&!Es(r).x_()&&r.Ta.length>0}function tw(r){Es(r).start()}async function Vx(r){Es(r).ra()}async function Ox(r){const e=Es(r);for(const t of r.Ta)e.ea(t.mutations)}async function Lx(r,e,t){const i=r.Ta.shift(),o=Kd.from(i,e,t);await Z_(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Fc(r)}async function Fx(r,e){e&&Es(r).X_&&await(async function(i,o){if((function(h){return _A(h)&&h!==Y.ABORTED})(o.code)){const l=i.Ta.shift();Es(i).B_(),await Z_(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Fc(i)}})(r,e),ew(r)&&tw(r)}async function Vy(r,e){const t=Pe(r);t.asyncQueue.verifyOperationInProgress(),he(Xs,"RemoteStore received new credentials");const i=ro(t);t.Ea.add(3),await Rl(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Lc(t)}async function jx(r,e){const t=Pe(r);e?(t.Ea.delete(2),await Lc(t)):e||(t.Ea.add(2),await Rl(t),t.Ra.set("Unknown"))}function ha(r){return r.ma||(r.ma=(function(t,i,o){const l=Pe(t);return l.sa(),new Sx(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:Px.bind(null,r),t_:kx.bind(null,r),r_:bx.bind(null,r),H_:Nx.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ip(r)?rp(r):r.Ra.set("Unknown")):(await r.ma.stop(),J_(r))}))),r.ma}function Es(r){return r.fa||(r.fa=(function(t,i,o){const l=Pe(t);return l.sa(),new Ax(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Vx.bind(null,r),r_:Fx.bind(null,r),ta:Ox.bind(null,r),na:Lx.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Fc(r)):(await r.fa.stop(),r.Ta.length>0&&(he(Xs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,f=new sp(e,t,h,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function op(r,e){if(Li("AsyncQueue",`${e}: ${r}`),ca(r))return new ge(Y.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{static emptySet(e){return new Go(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Te.comparator(t.key,i.key):(t,i)=>Te.comparator(t.key,i.key),this.keyedMap=Ja(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Go;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(){this.ga=new dt(Te.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class ra{constructor(e,t,i,o,l,h,f,m,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach((f=>{h.push({type:0,doc:f})})),new ra(e,t,Go.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Ux{constructor(){this.queries=Ly(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Pe(t),l=o.queries;o.queries=Ly(),l.forEach(((h,f)=>{for(const m of f.Sa)m.onError(i)}))})(this,new ge(Y.ABORTED,"Firestore shutting down"))}}function Ly(){return new no((r=>w_(r)),bc)}async function nw(r,e){const t=Pe(r);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new zx,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=op(h,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&ap(t)}async function rw(r,e){const t=Pe(r),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.Sa.indexOf(e);h>=0&&(l.Sa.splice(h,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Bx(r,e){const t=Pe(r);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.Sa)f.Fa(o)&&(i=!0);h.wa=o}}i&&ap(t)}function Hx(r,e,t){const i=Pe(r),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);i.queries.delete(e)}function ap(r){r.Ca.forEach((e=>{e.next()}))}var vd,Fy;(Fy=vd||(vd={})).Ma="default",Fy.Cache="cache";class iw{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ra(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this.key=e}}class ow{constructor(e){this.key=e}}class $x{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=E_(e),this.tu=new Go(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new Oy,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const S=o.get(E),P=Nc(this.query,T)?T:null,z=!!S&&this.mutatedKeys.has(S.key),V=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let F=!1;S&&P?S.data.isEqual(P.data)?z!==V&&(i.track({type:3,doc:P}),F=!0):this.su(S,P)||(i.track({type:2,doc:P}),F=!0,(m&&this.eu(P,m)>0||y&&this.eu(P,y)<0)&&(f=!0)):!S&&P?(i.track({type:0,doc:P}),F=!0):S&&!P&&(i.track({type:1,doc:S}),F=!0,(m||y)&&(f=!0)),F&&(P?(h=h.add(P),l=V?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),i.track({type:1,doc:E})}return{tu:h,iu:i,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(P,z){const V=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:F})}};return V(P)-V(z)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(i),o=o??!1;const f=t&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,y=m!==this.Za;return this.Za=m,h.length!==0||y?{snapshot:new ra(this.query,e.tu,l,h,e.mutatedKeys,m===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Oy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new ow(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new sw(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ve();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ra.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lp="SyncEngine";class Wx{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class qx{constructor(e){this.key=e,this.hu=!1}}class Gx{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new no((f=>w_(f)),bc),this.Iu=new Map,this.Eu=new Set,this.du=new dt(Te.comparator),this.Au=new Map,this.Ru=new Xd,this.Vu={},this.mu=new Map,this.fu=na.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Kx(r,e,t=!0){const i=fw(r);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await aw(i,e,t,!0),o}async function Qx(r,e){const t=fw(r);await aw(t,e,!0,!1)}async function aw(r,e,t,i){const o=await mx(r.localStore,Jr(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await Yx(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&Y_(r.remoteStore,o),f}async function Yx(r,e,t,i,o){r.pu=(T,S,P)=>(async function(V,F,$,ee){let Z=F.view.ru($);Z.Cs&&(Z=await ky(V.localStore,F.query,!1).then((({documents:b})=>F.view.ru(b,Z))));const ie=ee&&ee.targetChanges.get(F.targetId),ae=ee&&ee.targetMismatches.get(F.targetId)!=null,Ee=F.view.applyChanges(Z,V.isPrimaryClient,ie,ae);return zy(V,F.targetId,Ee.au),Ee.snapshot})(r,T,S,P);const l=await ky(r.localStore,e,!0),h=new $x(e,l.Qs),f=h.ru(l.documents),m=Il.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",o),y=h.applyChanges(f,r.isPrimaryClient,m);zy(r,t,y.au);const E=new Wx(e,t,h);return r.Tu.set(e,E),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),y.snapshot}async function Xx(r,e,t){const i=Pe(r),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((h=>!bc(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await gd(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&tp(i.remoteStore,o.targetId),_d(i,o.targetId)})).catch(ua)):(_d(i,o.targetId),await gd(i.localStore,o.targetId,!0))}async function Jx(r,e){const t=Pe(r),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),tp(t.remoteStore,i.targetId))}async function Zx(r,e,t){const i=oI(r);try{const o=await(function(h,f){const m=Pe(h),y=it.now(),E=f.reduce(((P,z)=>P.add(z.key)),Ve());let T,S;return m.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let z=Fi(),V=Ve();return m.Ns.getEntries(P,E).next((F=>{z=F,z.forEach((($,ee)=>{ee.isValidDocument()||(V=V.add($))}))})).next((()=>m.localDocuments.getOverlayedDocuments(P,z))).next((F=>{T=F;const $=[];for(const ee of f){const Z=pA(ee,T.get(ee.key).overlayedDocument);Z!=null&&$.push(new As(ee.key,Z,d_(Z.value.mapValue),Dr.exists(!0)))}return m.mutationQueue.addMutationBatch(P,y,$,f)})).next((F=>{S=F;const $=F.applyToLocalDocumentSet(T,V);return m.documentOverlayCache.saveOverlays(P,F.batchId,$)}))})).then((()=>({batchId:S.batchId,changes:S_(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(h,f,m){let y=h.Vu[h.currentUser.toKey()];y||(y=new dt(Me)),y=y.insert(f,m),h.Vu[h.currentUser.toKey()]=y})(i,o.batchId,t),await Cl(i,o.changes),await Fc(i.remoteStore)}catch(o){const l=op(o,"Failed to persist write");t.reject(l)}}async function lw(r,e){const t=Pe(r);try{const i=await fx(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const h=t.Au.get(l);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ge(h.hu,14607):o.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))})),await Cl(t,i,e)}catch(i){await ua(i)}}function jy(r,e,t){const i=Pe(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((l,h)=>{const f=h.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(h,f){const m=Pe(h);m.onlineState=f;let y=!1;m.queries.forEach(((E,T)=>{for(const S of T.Sa)S.va(f)&&(y=!0)})),y&&ap(m)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function eI(r,e,t){const i=Pe(r);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),l=o&&o.key;if(l){let h=new dt(Te.comparator);h=h.insert(l,sn.newNoDocument(l,Ce.min()));const f=Ve().add(l),m=new Vc(Ce.min(),new Map,new dt(Me),h,f);await lw(i,m),i.du=i.du.remove(l),i.Au.delete(e),up(i)}else await gd(i.localStore,e,!1).then((()=>_d(i,e,t))).catch(ua)}async function tI(r,e){const t=Pe(r),i=e.batch.batchId;try{const o=await hx(t.localStore,e);cw(t,i,null),uw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Cl(t,o)}catch(o){await ua(o)}}async function nI(r,e,t){const i=Pe(r);try{const o=await(function(h,f){const m=Pe(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return m.mutationQueue.lookupMutationBatch(y,f).next((T=>(Ge(T!==null,37113),E=T.keys(),m.mutationQueue.removeMutationBatch(y,T)))).next((()=>m.mutationQueue.performConsistencyCheck(y))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(y,E,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>m.localDocuments.getDocuments(y,E)))}))})(i.localStore,e);cw(i,e,t),uw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Cl(i,o)}catch(o){await ua(o)}}function uw(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function cw(r,e,t){const i=Pe(r);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function _d(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((i=>{r.Ru.containsKey(i)||hw(r,i)}))}function hw(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(tp(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),up(r))}function zy(r,e,t){for(const i of t)i instanceof sw?(r.Ru.addReference(i.key,e),rI(r,i)):i instanceof ow?(he(lp,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||hw(r,i.key)):xe(19791,{wu:i})}function rI(r,e){const t=e.key,i=t.path.canonicalString();r.du.get(t)||r.Eu.has(i)||(he(lp,"New document in limbo: "+t),r.Eu.add(i),up(r))}function up(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Te(rt.fromString(e)),i=r.fu.next();r.Au.set(i,new qx(t)),r.du=r.du.insert(t,i),Y_(r.remoteStore,new cs(Jr(qd(t.path)),i,"TargetPurposeLimboResolution",Rc.ce))}}async function Cl(r,e,t){const i=Pe(r),o=[],l=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,m)=>{h.push(i.pu(m,e,t).then((y=>{if((y||t)&&i.isPrimaryClient){const E=y?!y.fromCache:t?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Zd.As(m.targetId,y);l.push(E)}})))})),await Promise.all(h),i.Pu.H_(o),await(async function(m,y){const E=Pe(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>Q.forEach(y,(S=>Q.forEach(S.Es,(P=>E.persistence.referenceDelegate.addReference(T,S.targetId,P))).next((()=>Q.forEach(S.ds,(P=>E.persistence.referenceDelegate.removeReference(T,S.targetId,P)))))))))}catch(T){if(!ca(T))throw T;he(ep,"Failed to update sequence numbers: "+T)}for(const T of y){const S=T.targetId;if(!T.fromCache){const P=E.Ms.get(S),z=P.snapshotVersion,V=P.withLastLimboFreeSnapshotVersion(z);E.Ms=E.Ms.insert(S,V)}}})(i.localStore,l))}async function iI(r,e){const t=Pe(r);if(!t.currentUser.isEqual(e)){he(lp,"User change. New user:",e.toKey());const i=await q_(t.localStore,e);t.currentUser=e,(function(l,h){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new ge(Y.CANCELLED,h))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Cl(t,i.Ls)}}function sI(r,e){const t=Pe(r),i=t.Au.get(e);if(i&&i.hu)return Ve().add(i.key);{let o=Ve();const l=t.Iu.get(e);if(!l)return o;for(const h of l){const f=t.Tu.get(h);o=o.unionWith(f.view.nu)}return o}}function fw(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=lw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eI.bind(null,e),e.Pu.H_=Bx.bind(null,e.eventManager),e.Pu.yu=Hx.bind(null,e.eventManager),e}function oI(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nI.bind(null,e),e}class _c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return cx(this.persistence,new ax,e.initialUser,this.serializer)}Cu(e){return new W_(Jd.mi,this.serializer)}Du(e){return new yx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_c.provider={build:()=>new _c};class aI extends _c{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ge(this.persistence.referenceDelegate instanceof yc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new qA(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new W_((i=>yc.mi(i,t)),this.serializer)}}class wd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>jy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=iI.bind(null,this.syncEngine),await jx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Ux})()}createDatastore(e){const t=Oc(e.databaseInfo.databaseId),i=(function(l){return new Tx(l)})(e.databaseInfo);return(function(l,h,f,m){return new Ix(l,h,f,m)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,l,h,f){return new Cx(i,o,l,h,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>jy(this.syncEngine,t,0)),(function(){return Dy.v()?new Dy:new vx})())}createSyncEngine(e,t){return(function(o,l,h,f,m,y,E){const T=new Gx(o,l,h,f,m,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Pe(t);he(Xs,"RemoteStore shutting down."),i.Ea.add(5),await Rl(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wd.provider={build:()=>new wd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class lI{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=jd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async h=>{he(Ts,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(he(Ts,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=op(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Vf(r,e){r.asyncQueue.verifyOperationInProgress(),he(Ts,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await q_(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Uy(r,e){r.asyncQueue.verifyOperationInProgress();const t=await uI(r);he(Ts,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>Vy(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>Vy(e.remoteStore,o))),r._onlineComponents=e}async function uI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(Ts,"Using user provided OfflineComponentProvider");try{await Vf(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Jo("Error using user provided cache. Falling back to memory cache: "+t),await Vf(r,new _c)}}else he(Ts,"Using default OfflineComponentProvider"),await Vf(r,new aI(void 0));return r._offlineComponents}async function pw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(Ts,"Using user provided OnlineComponentProvider"),await Uy(r,r._uninitializedComponentsProvider._online)):(he(Ts,"Using default OnlineComponentProvider"),await Uy(r,new wd))),r._onlineComponents}function cI(r){return pw(r).then((e=>e.syncEngine))}async function mw(r){const e=await pw(r),t=e.eventManager;return t.onListen=Kx.bind(null,e.syncEngine),t.onUnlisten=Xx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Qx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Jx.bind(null,e.syncEngine),t}function hI(r,e,t={}){const i=new Mi;return r.asyncQueue.enqueueAndForget((async()=>(function(l,h,f,m,y){const E=new dw({next:S=>{E.Nu(),h.enqueueAndForget((()=>rw(l,T)));const P=S.docs.has(f);!P&&S.fromCache?y.reject(new ge(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&S.fromCache&&m&&m.source==="server"?y.reject(new ge(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new iw(qd(f.path),E,{includeMetadataChanges:!0,qa:!0});return nw(l,T)})(await mw(r),r.asyncQueue,e,t,i))),i.promise}function fI(r,e,t={}){const i=new Mi;return r.asyncQueue.enqueueAndForget((async()=>(function(l,h,f,m,y){const E=new dw({next:S=>{E.Nu(),h.enqueueAndForget((()=>rw(l,T))),S.fromCache&&m.source==="server"?y.reject(new ge(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new iw(f,E,{includeMetadataChanges:!0,qa:!0});return nw(l,T)})(await mw(r),r.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="firestore.googleapis.com",Hy=!0;class $y{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yw,this.ssl=Hy}else this.host=e.host,this.ssl=e.ssl??Hy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$A)throw new ge(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gw(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $y({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $y(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new y1;switch(i.type){case"firstParty":return new E1(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=By.get(t);i&&(he("ComponentProvider","Removing Datastore"),By.delete(t),i.terminate())})(this),Promise.resolve()}}function dI(r,e,t,i={}){r=si(r,jc);const o=Od(e),l=r._getSettings(),h={...l,emulatorOptions:r._getEmulatorOptions()},f=`${e}:${t}`;o&&(qT(`https://${f}`),YT("Firestore",!0)),l.host!==yw&&l.host!==f&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:o,emulatorOptions:i};if(!ac(m,h)&&(r._setSettings(m),i.mockUserToken)){let y,E;if(typeof i.mockUserToken=="string")y=i.mockUserToken,E=rn.MOCK_USER;else{y=GT(i.mockUserToken,r._app?.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new ge(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(T)}r._authCredentials=new v1(new t_(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new zc(this.firestore,e,this._query)}}class It{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Al(t,It._jsonSchema))return new It(e,i||null,new Te(rt.fromString(t.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:xt("string",It._jsonSchemaVersion),referencePath:xt("string")};class ps extends zc{constructor(e,t,i){super(e,t,qd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new Te(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function Ed(r,e,...t){if(r=gs(r),n_("collection","path",e),r instanceof jc){const i=rt.fromString(e,...t);return iy(i),new ps(r,null,i)}{if(!(r instanceof It||r instanceof ps))throw new ge(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(rt.fromString(e,...t));return iy(i),new ps(r.firestore,null,i)}}function gr(r,e,...t){if(r=gs(r),arguments.length===1&&(e=jd.newId()),n_("doc","path",e),r instanceof jc){const i=rt.fromString(e,...t);return ry(i),new It(r,null,new Te(i))}{if(!(r instanceof It||r instanceof ps))throw new ge(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(rt.fromString(e,...t));return ry(i),new It(r.firestore,r instanceof ps?r.converter:null,new Te(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="AsyncQueue";class qy{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new K_(this,"async_queue_retry"),this._c=()=>{const i=Mf();i&&he(Wy,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Mf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Mf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Mi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ca(e))throw e;he(Wy,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Li("INTERNAL UNHANDLED ERROR: ",Gy(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=sp.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:Gy(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Gy(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class fa extends jc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new qy,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qy(e),this._firestoreClient=void 0,await e}}}function pI(r,e){const t=typeof r=="object"?r:o1(),i=typeof r=="string"?r:hc,o=t1(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=$T("firestore");l&&dI(o,...l)}return o}function cp(r){if(r._terminated)throw new ge(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||mI(r),r._firestoreClient}function mI(r){const e=r._freezeSettings(),t=(function(o,l,h,f){return new F1(o,l,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,gw(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new lI(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mr(Kt.fromBase64String(e))}catch(t){throw new ge(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new mr(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Al(e,mr._jsonSchema))return mr.fromBase64String(e.bytes)}}mr._jsonSchemaVersion="firestore/bytes/1.0",mr._jsonSchema={type:xt("string",mr._jsonSchemaVersion),bytes:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ei._jsonSchemaVersion}}static fromJSON(e){if(Al(e,ei._jsonSchema))return new ei(e.latitude,e.longitude)}}ei._jsonSchemaVersion="firestore/geoPoint/1.0",ei._jsonSchema={type:xt("string",ei._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Al(e,ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ti(e.vectorValues);throw new ge(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ti._jsonSchemaVersion="firestore/vectorValue/1.0",ti._jsonSchema={type:xt("string",ti._jsonSchemaVersion),vectorValues:xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=/^__.*__$/;class yI{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,t,this.fieldTransforms):new xl(e,this.data,t,this.fieldTransforms)}}class vw{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new As(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _w(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:r})}}class hp{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new hp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_w(this.Ac)&&gI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class vI{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Oc(e)}Cc(e,t,i,o=!1){return new hp({Ac:e,methodName:t,Dc:i,path:Gt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fp(r){const e=r._freezeSettings(),t=Oc(r._databaseId);return new vI(r._databaseId,!!e.ignoreUndefinedProperties,t)}function ww(r,e,t,i,o,l={}){const h=r.Cc(l.merge||l.mergeFields?2:0,e,t,o);pp("Data must be an object, but it was:",h,i);const f=Ew(i,h);let m,y;if(l.merge)m=new qn(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const T of l.mergeFields){const S=Td(e,T,t);if(!h.contains(S))throw new ge(Y.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Sw(E,S)||E.push(S)}m=new qn(E),y=h.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,y=h.fieldTransforms;return new yI(new Nn(f),m,y)}class Hc extends Bc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hc}}class dp extends Bc{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new vl(e.serializer,I_(e.serializer,this.Fc));return new cA(e.path,t)}isEqual(e){return e instanceof dp&&this.Fc===e.Fc}}function _I(r,e,t,i){const o=r.Cc(1,e,t);pp("Data must be an object, but it was:",o,i);const l=[],h=Nn.empty();Ss(i,((m,y)=>{const E=mp(e,m,t);y=gs(y);const T=o.yc(E);if(y instanceof Hc)l.push(E);else{const S=$c(y,T);S!=null&&(l.push(E),h.set(E,S))}}));const f=new qn(l);return new vw(h,f,o.fieldTransforms)}function wI(r,e,t,i,o,l){const h=r.Cc(1,e,t),f=[Td(e,i,t)],m=[o];if(l.length%2!=0)throw new ge(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)f.push(Td(e,l[S])),m.push(l[S+1]);const y=[],E=Nn.empty();for(let S=f.length-1;S>=0;--S)if(!Sw(y,f[S])){const P=f[S];let z=m[S];z=gs(z);const V=h.yc(P);if(z instanceof Hc)y.push(P);else{const F=$c(z,V);F!=null&&(y.push(P),E.set(P,F))}}const T=new qn(y);return new vw(E,T,h.fieldTransforms)}function $c(r,e){if(Tw(r=gs(r)))return pp("Unsupported field value:",e,r),Ew(r,e);if(r instanceof Bc)return(function(i,o){if(!_w(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const l=[];let h=0;for(const f of i){let m=$c(f,o.wc(h));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),h++}return{arrayValue:{values:l}}})(r,e)}return(function(i,o){if((i=gs(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return I_(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=it.fromDate(i);return{timestampValue:gc(o.serializer,l)}}if(i instanceof it){const l=new it(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:gc(o.serializer,l)}}if(i instanceof ei)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof mr)return{bytesValue:L_(o.serializer,i._byteString)};if(i instanceof It){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Yd(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof ti)return(function(h,f){return{mapValue:{fields:{[h_]:{stringValue:f_},[fc]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw f.Sc("VectorValues must only contain numeric values.");return Gd(f.serializer,y)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${zd(i)}`)})(r,e)}function Ew(r,e){const t={};return s_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(r,((i,o)=>{const l=$c(o,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function Tw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof ei||r instanceof mr||r instanceof It||r instanceof Bc||r instanceof ti)}function pp(r,e,t){if(!Tw(t)||!r_(t)){const i=zd(t);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function Td(r,e,t){if((e=gs(e))instanceof Uc)return e._internalPath;if(typeof e=="string")return mp(r,e);throw wc("Field path arguments must be of type string or ",r,!1,void 0,t)}const EI=new RegExp("[~\\*/\\[\\]]");function mp(r,e,t){if(e.search(EI)>=0)throw wc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Uc(...e.split("."))._internalPath}catch{throw wc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function wc(r,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||h)&&(m+=" (found",l&&(m+=` in field ${i}`),h&&(m+=` in document ${o}`),m+=")"),new ge(Y.INVALID_ARGUMENT,f+r+m)}function Sw(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class TI extends Aw{data(){return super.data()}}function xw(r,e){return typeof e=="string"?mp(r,e):e instanceof Uc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ge(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AI{convertValue(e,t="none"){switch(ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ss(e,((o,l)=>{i[o]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[fc].arrayValue?.values?.map((i=>_t(i.doubleValue)));return new ti(t)}convertGeoPoint(e){return new ei(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Pc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(dl(e));default:return null}}convertTimestamp(e){const t=vs(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=rt.fromString(e);Ge(H_(i),9688,{name:e});const o=new pl(i.get(1),i.get(3)),l=new Te(i.popFirst(5));return o.isEqual(t)||Li(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}class el{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qs extends Aw{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(xw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Qs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qs._jsonSchema={type:xt("string",Qs._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class nc extends Qs{data(e={}){return super.data(e)}}class Ko{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new el(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new nc(this._firestore,this._userDataWriter,i.key,i,new el(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((f=>{const m=new nc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new el(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new nc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new el(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return f.type!==0&&(y=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),E=h.indexOf(f.doc.key)),{type:xI(f.type),doc:m,oldIndex:y,newIndex:E}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ko._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(r){r=si(r,It);const e=si(r.firestore,fa);return hI(cp(e),r._key).then((t=>RI(e,r,t)))}Ko._jsonSchemaVersion="firestore/querySnapshot/1.0",Ko._jsonSchema={type:xt("string",Ko._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};class Rw extends AI{constructor(e){super(),this.firestore=e}convertBytes(e){return new mr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,t)}}function II(r){r=si(r,zc);const e=si(r.firestore,fa),t=cp(e),i=new Rw(e);return SI(r._query),fI(t,r._query).then((o=>new Ko(e,i,r,o)))}function Cw(r,e,t){r=si(r,It);const i=si(r.firestore,fa),o=Iw(r.converter,e,t);return gp(i,[ww(fp(i),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Dr.none())])}function Sd(r,e,t,...i){r=si(r,It);const o=si(r.firestore,fa),l=fp(o);let h;return h=typeof(e=gs(e))=="string"||e instanceof Uc?wI(l,"updateDoc",r._key,e,t,i):_I(l,"updateDoc",r._key,e),gp(o,[h.toMutation(r._key,Dr.exists(!0))])}function Pw(r,e){const t=si(r.firestore,fa),i=gr(r),o=Iw(r.converter,e);return gp(t,[ww(fp(r.firestore),"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,Dr.exists(!1))]).then((()=>i))}function gp(r,e){return(function(i,o){const l=new Mi;return i.asyncQueue.enqueueAndForget((async()=>Zx(await cI(i),o,l))),l.promise})(cp(r),e)}function RI(r,e,t){const i=t.docs.get(e._key),o=new Rw(r);return new Qs(r,o,e._key,i,new el(t.hasPendingWrites,t.fromCache),e.converter)}function CI(r){return new dp("increment",r)}(function(e,t=!0){(function(o){la=o})(s1),uc(new cl("firestore",((i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),f=new fa(new _1(i.getProvider("auth-internal")),new T1(h,i.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ge(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(y.options.projectId,E)})(h,o),h);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),qo(Zg,ey,e),qo(Zg,ey,"esm2020")})();var PI="firebase",kI="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qo(PI,kI,"app");const bI={apiKey:"AIzaSyAInviShyIYmFRuifWhgHLBb78hi95uN_Q",authDomain:"f7e-database.firebaseapp.com",projectId:"f7e-database",storageBucket:"f7e-database.firebasestorage.app",messagingSenderId:"642686760461",appId:"1:642686760461:web:2549e76e002e3091340744",measurementId:"G-SVZZGFVLP0"},NI=Wv(bI),Dn=pI(NI),kw=H.createContext(),DI=({children:r})=>{const[e,t]=H.useState(()=>{try{const l=localStorage.getItem("currentUser");return l?JSON.parse(l):null}catch{return localStorage.removeItem("currentUser"),null}}),[i,o]=H.useState(!e);return H.useEffect(()=>{e&&e.id?(localStorage.setItem("currentUser",JSON.stringify(e)),localStorage.setItem("currentUserId",e.id)):(localStorage.removeItem("currentUser"),localStorage.removeItem("currentUserId"))},[e]),H.useEffect(()=>{const l=localStorage.getItem("currentUserId");if(!l){t(null),o(!1);return}(async()=>{o(!0);try{const f=gr(Dn,"users",l),m=await Js(f);if(m.exists()){const y=m.data();y.id=l,t(y)}else t(null)}catch(f){console.error("Error fetching user:",f),t(null)}finally{o(!1)}})()},[]),_.jsx(kw.Provider,{value:{currentUser:e,setCurrentUser:t,loading:i},children:r})},Pl=()=>H.useContext(kw),At={vale:{name:"Vale",className:"vale",preview:{background:"linear-gradient(to bottom right, #1b2a2f, #2e3e3f)",color:"#c0ffd4"},googleFont:"Cinzel",fontFamily:"'Cinzel', serif",border:"2px solid rgba(63,163,131,0.9)",borderRadius:"12px",boxShadow:"0 0 12px rgba(192,255,212,0.25)",texture:"url('https://www.transparenttextures.com/patterns/white-paper.png')",modulePadding:"28px",moduleMargin:"20px auto",accents:{primary:"#3fa383",secondary:"#9ee0c9"},particles:{number:40,color:"#9ee0c9",size:2,speed:.5,random:!0}},neon:{name:"Neon Glow",className:"neon",preview:{background:"radial-gradient( circle at 20% 20%, #020202 0%, #000 70% )",color:"#0ff"},googleFont:"Orbitron",fontFamily:"'Orbitron', sans-serif",border:"2px solid #0ff",borderRadius:"6px",boxShadow:"0 0 18px rgba(0,255,255,0.45), inset 0 0 8px rgba(0,255,255,0.25)",texture:null,modulePadding:"24px",moduleMargin:"18px auto",accents:{primary:"#0ff",secondary:"#ff00ff"},particles:{number:60,color:"#0ff",size:2,speed:1.2,random:!0}},pastel:{name:"Pastel Dreams",className:"pastel",preview:{background:"linear-gradient(135deg, #fff1f8, #e5f4ff)",color:"#333"},googleFont:"Quicksand",fontFamily:"'Quicksand', sans-serif",border:"2px solid #f8b8d8",borderRadius:"18px",boxShadow:"0 6px 18px rgba(255, 182, 193, 0.35)",texture:"url('https://www.transparenttextures.com/patterns/gplay.png')",modulePadding:"26px",moduleMargin:"18px auto",accents:{primary:"#f8b8d8",secondary:"#a0c4ff"},particles:{number:25,color:"#f8b8d8",size:3,speed:.6,random:!0}},government:{name:"Government",className:"government",preview:{background:"linear-gradient(to bottom right, #ffffff, #1d1919ff)",color:"#111"},googleFont:"Playfair Display",fontFamily:"'Playfair Display', serif",border:"3px solid #222",borderRadius:"8px",boxShadow:"0 8px 18px rgba(0,0,0,0.2)",texture:"url('https://www.transparenttextures.com/patterns/paper-fibers.png')",modulePadding:"32px",moduleMargin:"22px auto",accents:{primary:"#222",secondary:"#555"},particles:null},infrastructure:{name:"Infrastructure",className:"infrastructure",preview:{background:"linear-gradient(to bottom right, #1e3f9e, #f9d300)",color:"#fff"},googleFont:"Roboto",fontFamily:"'Roboto', sans-serif",border:"2px solid rgba(255,255,255,0.75)",borderRadius:"10px",boxShadow:"0 10px 22px rgba(0,0,0,0.3)",texture:"url('https://www.transparenttextures.com/patterns/asfalt-light.png')",modulePadding:"30px",moduleMargin:"20px auto",accents:{primary:"#f9d300",secondary:"#1e3f9e"},particles:{number:35,color:"#f9d300",size:2,speed:.8,random:!0}},security:{name:"Security",className:"security",preview:{background:"linear-gradient(to bottom right, #384a66, #7d7d7d)",color:"#e0e0e0"},googleFont:"Roboto Mono",fontFamily:"'Roboto Mono', monospace",border:"1px solid rgba(255,255,255,0.35)",borderRadius:"8px",boxShadow:"0 8px 16px rgba(0,0,0,0.35)",texture:"url('https://www.transparenttextures.com/patterns/subtle-carbon.png')",modulePadding:"28px",moduleMargin:"18px auto",accents:{primary:"#9fb3d1",secondary:"#e0e0e0"},particles:{number:20,color:"#9fb3d1",size:2,speed:.4,random:!0}},commerce:{name:"Commerce",className:"commerce",preview:{background:"linear-gradient(to bottom right, #ffd700, #fff8dc)",color:"#333"},googleFont:"Playfair Display",fontFamily:"'Playfair Display', serif",border:"2px solid rgba(255,215,0,0.65)",borderRadius:"14px",boxShadow:"0 8px 16px rgba(255,215,0,0.25)",texture:"url('https://www.transparenttextures.com/patterns/gold-scale.png')",modulePadding:"30px",moduleMargin:"22px auto",accents:{primary:"#ffd700",secondary:"#b8860b"},particles:{number:18,color:"#ffd700",size:2,speed:.4,random:!0}},industry:{name:"Industry",className:"industry",preview:{background:"linear-gradient(to bottom right, #b22222, #ff8c00, #a0522d)",color:"#fff"},googleFont:"Roboto",fontFamily:"'Roboto', sans-serif",border:"2px solid rgba(255,255,255,0.35)",borderRadius:"10px",boxShadow:"0 12px 22px rgba(0,0,0,0.35)",texture:"url('https://www.transparenttextures.com/patterns/brushed-alum.png')",modulePadding:"32px",moduleMargin:"22px auto",accents:{primary:"#ff8c00",secondary:"#a0522d"},particles:{number:30,color:"#ff8c00",size:2,speed:1,random:!0}},research:{name:"Research",className:"research",preview:{background:"linear-gradient(to bottom right, #dafbff, #ffffff)",color:"#001f33"},googleFont:"Lora",fontFamily:"'Lora', serif",border:"20px solid rgba(0, 31, 51, 0.4)",borderRadius:"12px",borderImage:"linear-gradient(to bottom right, #00a2cc, #88dbee)",borderImageSlice:1,boxShadow:"0 8px 18px rgba(0, 31, 51, 0.2)",texture:"url('https://www.transparenttextures.com/patterns/pw-maze-white.png')",modulePadding:"28px",moduleMargin:"20px auto",accents:{primary:"#00a2cc",secondary:"#88dbee"},particles:{number:22,color:"#00a2cc",size:2,speed:.6,random:!0}},background:{name:"Background",className:"background",preview:{background:"linear-gradient(to bottom right, #0d0d0d, #4b0082)",color:"#c0c0ff"},googleFont:"Courier Prime",fontFamily:"'Courier Prime', monospace",border:"1px dashed rgba(192,192,255,0.5)",borderRadius:"10px",boxShadow:"0 0 16px rgba(75,0,130,0.35)",texture:"url('https://www.transparenttextures.com/patterns/dark-denim-3.png')",modulePadding:"24px",moduleMargin:"18px auto",accents:{primary:"#c0c0ff",secondary:"#8a2be2"},particles:{number:28,color:"#c0c0ff",size:2,speed:.7,random:!0}}};function Ec({unlockedThemes:r=[],selectedTheme:e,onChange:t,customColor:i,onCustomColorChange:o}){const[l,h]=H.useState(!1),[f,m]=H.useState(e==="custom"),[y,E]=H.useState(!1),T=H.useRef(),S=H.useRef();H.useEffect(()=>{const V=F=>{T.current&&!T.current.contains(F.target)&&S.current&&!S.current.contains(F.target)&&h(!1)};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[]),H.useEffect(()=>{if(!l||!T.current||!S.current)return;const V=T.current.getBoundingClientRect(),F=S.current.getBoundingClientRect(),$=window.innerHeight;F.bottom+V.height>$?E(!0):E(!1)},[l,r.length]);const P=V=>{V==="custom"?(m(!0),t("custom")):(m(!1),t(V)),h(!1)},z=f?"Custom":At[e]?.name||"Select Theme";return _.jsxs("div",{ref:T,style:{position:"relative",display:"inline-block"},children:[_.jsx("button",{ref:S,onClick:()=>h(V=>!V),style:{padding:"0.5rem 1rem",borderRadius:"6px",border:"1px solid #444",background:"#222",color:"#fff",cursor:"pointer"},children:z}),l&&_.jsxs("div",{style:{position:"absolute",left:0,[y?"bottom":"top"]:"100%",background:"#222",border:"1px solid #444",borderRadius:"6px",padding:"0.5rem 0",zIndex:10,minWidth:"150px"},children:[r.map(V=>{const F=At[V];return F?_.jsxs("div",{onClick:()=>P(V),style:{padding:"0.5rem 1rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",background:e===V&&!f?"#444":"transparent",color:F?.preview?.color||"#fff"},children:[_.jsx("span",{children:F.name}),_.jsx("span",{style:{width:"20px",height:"14px",background:F.preview.background,borderRadius:"4px",border:"1px solid #555"}})]},V):null}),_.jsxs("div",{onClick:()=>P("custom"),style:{padding:"0.5rem 1rem",cursor:"pointer",background:f?"#444":"transparent",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[_.jsx("span",{children:"Custom"}),_.jsx("input",{type:"color",value:i||"#ffffff",onChange:V=>o(V.target.value),style:{width:"28px",height:"18px",border:"none",padding:0,margin:0,background:"transparent"},onClick:V=>V.stopPropagation()})]})]})]})}function MI(){const[r,e]=H.useState(""),[t,i]=H.useState("users"),o=xc();function l(){if(!r.trim())return;let h="/";switch(t){case"users":h=`/profile/${r.trim()}`;break;case"posts":h=`/post/${r.trim()}`;break;case"creators":h=`/creator-page/${r.trim()}`;break;default:h="/"}o(h)}return _.jsxs("form",{className:"search-bar",style:{display:"flex",gap:"0.5rem"},onSubmit:h=>{h.preventDefault(),l()},children:[_.jsx("input",{type:"text",placeholder:"Search...",value:r,onChange:h=>e(h.target.value),style:{flexGrow:1,padding:"0.5rem"}}),_.jsxs("select",{value:t,onChange:h=>i(h.target.value),style:{padding:"0.5rem"},children:[_.jsx("option",{value:"users",children:"Users"}),_.jsx("option",{value:"posts",children:"Posts"}),_.jsx("option",{value:"creators",children:"Creators"})]}),_.jsx("button",{type:"submit",style:{borderRadius:"5px",border:"1px solid #444",background:"#222",color:"#fff",cursor:"pointer"},children:"Search"})]})}function VI(r){if(!r)return;const e=`google-font-${r.replace(/\s+/g,"-")}`;if(document.getElementById(e))return;const t=document.createElement("link");t.id=e,t.rel="stylesheet",t.href=`https://fonts.googleapis.com/css2?family=${encodeURIComponent(r)}:wght@300;400;500;700&display=swap`,document.head.appendChild(t)}function Ad(r,e=null,t=document.documentElement){if(!r)return;const i=r.id==="custom"?e||"#222":r.preview?.background||"#222",o=r.preview?.color||"#fff",l=r.fontFamily||"'Cinzel', serif",h=r.texture?`${r.texture}, ${i}`:i;t.style.setProperty("--background-color",i),t.style.setProperty("--text-color",o),t.style.setProperty("--font-family",l),t.style.setProperty("--module-bg",h),t.style.setProperty("--module-color",o),t.style.setProperty("--module-border",r.border||"none"),t.style.setProperty("--module-radius",r.borderRadius||"0"),t.style.setProperty("--module-shadow",r.boxShadow||"none"),t.style.setProperty("--module-padding",r.modulePadding||"1rem"),t.style.setProperty("--module-margin",r.moduleMargin||"1rem"),r.borderImage?(t.style.setProperty("--module-border-image",r.borderImage),t.style.setProperty("--module-border-image-slice",r.borderImageSlice??1)):(t.style.removeProperty("--module-border-image"),t.style.removeProperty("--module-border-image-slice")),r.accents?.primary&&t.style.setProperty("--accent-primary",r.accents.primary),r.accents?.secondary&&t.style.setProperty("--accent-secondary",r.accents.secondary),r.particles?(t.style.setProperty("--particles-enabled","1"),t.style.setProperty("--particles-number",r.particles.number??0),t.style.setProperty("--particles-color",r.particles.color??"#fff"),t.style.setProperty("--particles-size",r.particles.size??2),t.style.setProperty("--particles-speed",r.particles.speed??1),t.style.setProperty("--particles-random",r.particles.random?"1":"0")):(t.style.setProperty("--particles-enabled","0"),t.style.removeProperty("--particles-number"),t.style.removeProperty("--particles-color"),t.style.removeProperty("--particles-size"),t.style.removeProperty("--particles-speed"),t.style.removeProperty("--particles-random")),r.className&&t.classList.add(r.className),r.googleFont&&VI(r.googleFont)}const al="generated",OI="pointerdown",LI="pointerup",Ky="pointerleave",FI="pointerout",Qy="pointermove",jI="touchstart",Yy="touchend",zI="touchmove",UI="touchcancel",BI="resize",HI="visibilitychange",Zs="tsParticles - Error";class Wn{constructor(e,t,i){if(this._updateFromAngle=(o,l)=>{this.x=Math.cos(o)*l,this.y=Math.sin(o)*l},!Mr(e)&&e){this.x=e.x,this.y=e.y;const o=e;this.z=o.z?o.z:0}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??0;else throw new Error(`${Zs} Vector3d not initialized correctly`)}static get origin(){return Wn.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Wn.create(e.x,e.y,e.z)}static create(e,t,i){return new Wn(e,t,i)}add(e){return Wn.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Wn.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Wn.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return Wn.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return Wn.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:0}sub(e){return Wn.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class Qo extends Wn{constructor(e,t){super(e,t,0)}static get origin(){return Qo.create(0,0)}static clone(e){return Qo.create(e.x,e.y)}static create(e,t){return new Qo(e,t)}}let $I=Math.random;function ji(){return bw($I(),0,1-1e-16)}function bw(r,e,t){return Math.min(Math.max(r,e),t)}function Yo(r){const e=vp(r);let t=yp(r);return e===t&&(t=0),ji()*(e-t)+t}function Ze(r){return Mr(r)?r:Yo(r)}function yp(r){return Mr(r)?r:r.min}function vp(r){return Mr(r)?r:r.max}function $e(r,e){if(r===e||e===void 0&&Mr(r))return r;const t=yp(r),i=vp(r);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:$e(t,i)}function WI(r){const e=r.random,{enable:t,minimumValue:i}=ms(e)?{enable:e,minimumValue:0}:e;return Ze(t?$e(r.value,i):r.value)}function qI(r,e){const t=r.x-e.x,i=r.y-e.y;return{dx:t,dy:i,distance:Math.sqrt(t**2+i**2)}}function _p(r,e){return qI(r,e).distance}function GI(r,e,t){if(Mr(r))return r*Math.PI/180;switch(r){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(t.y-e.y,t.x-e.x);case"outside":return Math.atan2(e.y-t.y,e.x-t.x);default:return ji()*Math.PI*2}}function KI(r){const e=Qo.origin;return e.length=1,e.angle=r,e}function QI(r){return{x:r.position?.x??ji()*r.size.width,y:r.position?.y??ji()*r.size.height}}function Nw(r){return r?r.endsWith("%")?parseFloat(r)/100:parseFloat(r):1}const YI={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function _l(){return YI}function Wc(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function XI(){return!Wc()&&typeof matchMedia<"u"}function Dw(r){if(XI())return matchMedia(r)}function JI(r){if(!(Wc()||typeof MutationObserver>"u"))return new MutationObserver(r)}function ZI(r,e){return r===e||ri(e)&&e.indexOf(r)>-1}function eR(r){return Math.floor(ji()*r.length)}function wp(r,e,t=!0){return r[e!==void 0&&t?e%r.length:eR(r)]}function on(r,...e){for(const t of e){if(t==null)continue;if(!tl(t)){r=t;continue}const i=Array.isArray(t);i&&(tl(r)||!r||!Array.isArray(r))?r=[]:!i&&(tl(r)||!r||Array.isArray(r))&&(r={});for(const o in t){if(o==="__proto__")continue;const l=t,h=l[o],f=r;f[o]=tl(h)&&Array.isArray(h)?h.map(m=>on(f[o],m)):on(f[o],h)}}return r}function eo(r,e){return ri(r)?r.map((t,i)=>e(t,i)):e(r,0)}function ll(r,e,t){return ri(r)?wp(r,e,t):r}function tR(r,e){const t=r.value,i=r.animation,o={delayTime:Ze(i.delay)*1e3,enable:i.enable,value:Ze(r.value)*e,max:vp(t)*e,min:yp(t)*e,loops:0,maxLoops:Ze(i.count),time:0};if(i.enable){switch(o.decay=1-Ze(i.decay),i.mode){case"increase":o.status="increasing";break;case"decrease":o.status="decreasing";break;case"random":o.status=ji()>=.5?"increasing":"decreasing";break}const l=i.mode==="auto";switch(i.startValue){case"min":o.value=o.min,l&&(o.status="increasing");break;case"max":o.value=o.max,l&&(o.status="decreasing");break;case"random":default:o.value=Yo(o),l&&(o.status=ji()>=.5?"increasing":"decreasing");break}}return o.initialValue=o.value,o}function nR(r,e){if(!(r.mode==="percent")){const{mode:o,...l}=r;return l}return"x"in r?{x:r.x/100*e.width,y:r.y/100*e.height}:{width:r.width/100*e.width,height:r.height/100*e.height}}function Mw(r,e){return nR(r,e)}function ms(r){return typeof r=="boolean"}function ni(r){return typeof r=="string"}function Mr(r){return typeof r=="number"}function Vw(r){return typeof r=="function"}function tl(r){return typeof r=="object"&&r!==null}function ri(r){return Array.isArray(r)}const rR="random",qc=new Map;function Xy(r){qc.set(r.key,r)}function Of(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function iR(r){for(const[,l]of qc)if(r.startsWith(l.stringPrefix))return l.parseString(r);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,t=r.replace(e,(l,h,f,m,y)=>h+h+f+f+m+m+(y!==void 0?y+y:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,o=i.exec(t);return o?{a:o[4]!==void 0?parseInt(o[4],16)/255:1,b:parseInt(o[3],16),g:parseInt(o[2],16),r:parseInt(o[1],16)}:void 0}function Xo(r,e,t=!0){if(!r)return;const i=ni(r)?{value:r}:r;if(ni(i.value))return Ow(i.value,e,t);if(ri(i.value))return Xo({value:wp(i.value,e,t)});for(const[,o]of qc){const l=o.handleRangeColor(i);if(l)return l}}function Ow(r,e,t=!0){if(!r)return;const i=ni(r)?{value:r}:r;if(ni(i.value))return i.value===rR?lR():oR(i.value);if(ri(i.value))return Ow({value:wp(i.value,e,t)});for(const[,o]of qc){const l=o.handleColor(i);if(l)return l}}function Jy(r,e,t=!0){const i=Xo(r,e,t);return i?sR(i):void 0}function sR(r){const e=r.r/255,t=r.g/255,i=r.b/255,o=Math.max(e,t,i),l=Math.min(e,t,i),h={h:0,l:(o+l)/2,s:0};return o!==l&&(h.s=h.l<.5?(o-l)/(o+l):(o-l)/(2-o-l),h.h=e===o?(t-i)/(o-l):h.h=t===o?2+(i-e)/(o-l):4+(e-t)/(o-l)),h.l*=100,h.s*=100,h.h*=60,h.h<0&&(h.h+=360),h.h>=360&&(h.h-=360),h}function oR(r){return iR(r)}function xd(r){const e={b:0,g:0,r:0},t={h:r.h/360,l:r.l/100,s:r.s/100};if(!t.s)e.r=e.g=e.b=t.l;else{const i=t.l<.5?t.l*(1+t.s):t.l+t.s-t.l*t.s,o=2*t.l-i;e.r=Of(o,i,t.h+1/3),e.g=Of(o,i,t.h),e.b=Of(o,i,t.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function aR(r){const e=xd(r);return{a:r.a,b:e.b,g:e.g,r:e.r}}function lR(r){return{b:Math.floor(Yo($e(0,256))),g:Math.floor(Yo($e(0,256))),r:Math.floor(Yo($e(0,256)))}}function rc(r,e){return`rgba(${r.r}, ${r.g}, ${r.b}, ${e??1})`}function Zy(r,e){return`hsla(${r.h}, ${r.s}%, ${r.l}%, ${e??1})`}function ev(r){return r!==void 0?{h:r.h.value,s:r.s.value,l:r.l.value}:void 0}function uR(r,e,t){r.fillStyle=t??"rgba(0,0,0,0)",r.fillRect(0,0,e.width,e.height)}function cR(r,e,t,i){t&&(r.globalAlpha=i,r.drawImage(t,0,0,e.width,e.height),r.globalAlpha=1)}function Lf(r,e){r.clearRect(0,0,e.width,e.height)}function hR(r){const{container:e,context:t,particle:i,delta:o,colorStyles:l,backgroundMask:h,composite:f,radius:m,opacity:y,shadow:E,transform:T}=r,S=i.getPosition(),P=i.rotation+(i.pathRotation?i.velocity.angle:0),z={sin:Math.sin(P),cos:Math.cos(P)},V={a:z.cos*(T.a??1),b:z.sin*(T.b??1),c:-z.sin*(T.c??1),d:z.cos*(T.d??1)};t.setTransform(V.a,V.b,V.c,V.d,S.x,S.y),t.beginPath(),h&&(t.globalCompositeOperation=f);const F=i.shadowColor;E.enable&&F&&(t.shadowBlur=E.blur,t.shadowColor=rc(F),t.shadowOffsetX=E.offset.x,t.shadowOffsetY=E.offset.y),l.fill&&(t.fillStyle=l.fill);const $=i.strokeWidth??0;t.lineWidth=$,l.stroke&&(t.strokeStyle=l.stroke),fR(e,t,i,m,y,o),$>0&&t.stroke(),i.close&&t.closePath(),i.fill&&t.fill(),dR(e,t,i,m,y,o),t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0)}function fR(r,e,t,i,o,l){if(!t.shape)return;const h=r.drawers.get(t.shape);h&&h.draw(e,t,i,o,l,r.retina.pixelRatio)}function dR(r,e,t,i,o,l){if(!t.shape)return;const h=r.drawers.get(t.shape);!h||!h.afterEffect||h.afterEffect(e,t,i,o,l,r.retina.pixelRatio)}function pR(r,e,t){e.draw&&e.draw(r,t)}function mR(r,e,t,i){e.drawParticle&&e.drawParticle(r,t,i)}function gR(r,e,t){return{h:r.h,s:r.s,l:r.l+(e==="darken"?-1:1)*t}}function yR(r,e,t){const i=e[t];i!==void 0&&(r[t]=(r[t]??1)*i)}class vR{constructor(e){this.container=e,this._applyPostDrawUpdaters=t=>{for(const i of this._postDrawUpdaters)i.afterDraw&&i.afterDraw(t)},this._applyPreDrawUpdaters=(t,i,o,l,h,f)=>{for(const m of this._preDrawUpdaters){if(m.getColorStyles){const{fill:y,stroke:E}=m.getColorStyles(i,t,o,l);y&&(h.fill=y),E&&(h.stroke=E)}if(m.getTransformValues){const y=m.getTransformValues(i);for(const E in y)yR(f,y,E)}m.beforeDraw&&m.beforeDraw(i)}},this._applyResizePlugins=()=>{for(const t of this._resizePlugins)t.resize&&t.resize()},this._getPluginParticleColors=t=>{let i,o;for(const l of this._colorPlugins)if(!i&&l.particleFillColor&&(i=Jy(l.particleFillColor(t))),!o&&l.particleStrokeColor&&(o=Jy(l.particleStrokeColor(t))),i&&o)break;return[i,o]},this._initCover=()=>{const t=this.container.actualOptions,i=t.backgroundMask.cover,o=i.color,l=Xo(o);if(l){const h={...l,a:i.opacity};this._coverColorStyle=rc(h,h.a)}},this._initStyle=()=>{const t=this.element,i=this.container.actualOptions;if(t){this._fullScreen?(this._originalStyle=on({},t.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const o in i.style){if(!o||!i.style)continue;const l=i.style[o];l&&t.style.setProperty(o,l,"important")}}},this._initTrail=async()=>{const t=this.container.actualOptions,i=t.particles.move.trail,o=i.fill;if(i.enable)if(o.color){const l=Xo(o.color);if(!l)return;const h=t.particles.move.trail;this._trailFill={color:{...l},opacity:1/h.length}}else await new Promise((l,h)=>{if(!o.image)return;const f=document.createElement("img");f.addEventListener("load",()=>{this._trailFill={image:f,opacity:1/i.length},l()}),f.addEventListener("error",m=>{h(m.error)}),f.src=o.image})},this._paintBase=t=>{this.draw(i=>uR(i,this.size,t))},this._paintImage=(t,i)=>{this.draw(o=>cR(o,this.size,t,i))},this._repairStyle=()=>{const t=this.element;t&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>i.observe(t,{attributes:!0})))},this._resetOriginalStyle=()=>{const t=this.element,i=this._originalStyle;if(!(t&&i))return;const o=t.style;o.position=i.position,o.zIndex=i.zIndex,o.top=i.top,o.left=i.left,o.width=i.width,o.height=i.height},this._safeMutationObserver=t=>{this._mutationObserver&&t(this._mutationObserver)},this._setFullScreenStyle=()=>{const t=this.element;if(!t)return;const i="important",o=t.style;o.setProperty("position","fixed",i),o.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),i),o.setProperty("top","0",i),o.setProperty("left","0",i),o.setProperty("width","100%",i),o.setProperty("height","100%",i)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>0&&i?i.color?this._paintBase(rc(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):this.draw(o=>{Lf(o,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const o=e.getFillColor(),l=e.getStrokeColor()??o;let[h,f]=this._getPluginParticleColors(e);h||(h=o),f||(f=l),!(!h&&!f)&&this.draw(m=>{const y=this.container,E=y.actualOptions,T=e.options.zIndex,S=(1-e.zIndexFactor)**T.opacityRate,P=e.bubble.opacity??e.opacity?.value??1,z=e.strokeOpacity??P,V=P*S,F=z*S,$={},ee={fill:h?Zy(h,V):void 0};ee.stroke=f?Zy(f,F):ee.fill,this._applyPreDrawUpdaters(m,e,i,V,ee,$),hR({container:y,context:m,particle:e,delta:t,colorStyles:ee,backgroundMask:E.backgroundMask.enable,composite:E.backgroundMask.composite,radius:i*(1-e.zIndexFactor)**T.sizeRate,opacity:V,shadow:e.options.shadow,transform:$}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(o=>mR(o,e,t,i))}drawPlugin(e,t){this.draw(i=>pR(i,e,t))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=JI(e=>{for(const t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){_l().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;const o=i.style;if(o){if(t.color){const l=Xo(t.color);o.backgroundColor=l?rc(l,t.opacity):""}else o.backgroundColor="";o.backgroundImage=t.image||"",o.backgroundPosition=t.position||"",o.backgroundRepeat=t.repeat||"",o.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&al in e.dataset?e.dataset[al]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=on({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(t=>{this.element&&t.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(Lf(t,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.retina.pixelRatio,i=e.canvas.size,o={width:this.element.offsetWidth*t,height:this.element.offsetHeight*t};if(o.height===i.height&&o.width===i.width&&o.height===this.element.height&&o.width===this.element.width)return!1;const l={...i};return this.element.width=i.width=this.element.offsetWidth*t,this.element.height=i.height=this.element.offsetHeight*t,this.container.started&&(this.resizeFactor={width:i.width/l.width,height:i.height/l.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>Lf(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}}function dr(r,e,t,i,o){if(i){let l={passive:!0};ms(o)?l.capture=o:o!==void 0&&(l=o),r.addEventListener(e,t,l)}else{const l=o;r.removeEventListener(e,t,l)}}class _R{constructor(e){this.container=e,this._doMouseTouchClick=t=>{const i=this.container,o=i.actualOptions;if(this._canPush){const l=i.interactivity.mouse,h=l.position;if(!h)return;l.clickPosition={...h},l.clickTime=new Date().getTime();const f=o.interactivity.events.onClick;eo(f.mode,m=>this.container.handleClickMode(m))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=t=>{const i=t,o=this.container,l=o.options,h=l.defaultThemes,f=i.matches?h.dark:h.light,m=l.themes.find(y=>y.name===f);m&&m.default.auto&&o.loadTheme(f)},this._handleVisibilityChange=()=>{const t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document&&document.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.getAnimationStatus()?t.play(!0):t.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const t=this.container.canvas;t&&await t.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(t,i)=>{const o=this._handlers,l=this.container,h=l.actualOptions,f=l.interactivity.element;if(!f)return;const m=f,y=l.canvas.element;y&&(y.style.pointerEvents=m===y?"initial":"none"),(h.interactivity.events.onHover.enable||h.interactivity.events.onClick.enable)&&(dr(f,Qy,o.mouseMove,i),dr(f,jI,o.touchStart,i),dr(f,zI,o.touchMove,i),h.interactivity.events.onClick.enable?(dr(f,Yy,o.touchEndClick,i),dr(f,LI,o.mouseUp,i),dr(f,OI,o.mouseDown,i)):dr(f,Yy,o.touchEnd,i),dr(f,t,o.mouseLeave,i),dr(f,UI,o.touchCancel,i))},this._manageListeners=t=>{const i=this._handlers,o=this.container,l=o.actualOptions,h=l.interactivity.detectsOn,f=o.canvas.element;let m=Ky;h==="window"?(o.interactivity.element=window,m=FI):h==="parent"&&f?o.interactivity.element=f.parentElement??f.parentNode:o.interactivity.element=f,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(m,t),document&&dr(document,HI,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const i=this._handlers,o=Dw("(prefers-color-scheme: dark)");if(o){if(o.addEventListener!==void 0){dr(o,"change",i.themeChange,t);return}o.addListener!==void 0&&(t?o.addListener(i.oldThemeChange):o.removeListener(i.oldThemeChange))}},this._manageResize=t=>{const i=this._handlers,o=this.container;if(!o.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){dr(window,BI,i.resize,t);return}const h=o.canvas.element;this._resizeObserver&&!t?(h&&this._resizeObserver.unobserve(h),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&h&&(this._resizeObserver=new ResizeObserver(async f=>{f.find(y=>y.target===h)&&await this._handleWindowResize()}),this._resizeObserver.observe(h))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{const i=this.container,o=i.actualOptions,{mouse:l}=i.interactivity;l.inside=!0;let h=!1;const f=l.position;if(!(!f||!o.interactivity.events.onClick.enable)){for(const[,m]of i.plugins)if(m.clickPositionValid&&(h=m.clickPositionValid(f),h))break;h||this._doMouseTouchClick(t),l.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=Ky,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{const i=this.container,o=i.actualOptions,l=i.interactivity,h=i.canvas.element;if(!l||!l.element)return;l.mouse.inside=!0;let f;if(t.type.startsWith("pointer")){this._canPush=!0;const y=t;if(l.element===window){if(h){const E=h.getBoundingClientRect();f={x:y.clientX-E.left,y:y.clientY-E.top}}}else if(o.interactivity.detectsOn==="parent"){const E=y.target,T=y.currentTarget;if(E&&T&&h){const S=E.getBoundingClientRect(),P=T.getBoundingClientRect(),z=h.getBoundingClientRect();f={x:y.offsetX+2*S.left-(P.left+z.left),y:y.offsetY+2*S.top-(P.top+z.top)}}else f={x:y.offsetX??y.clientX,y:y.offsetY??y.clientY}}else y.target===h&&(f={x:y.offsetX??y.clientX,y:y.offsetY??y.clientY})}else if(this._canPush=t.type!=="touchmove",h){const y=t,E=y.touches[y.touches.length-1],T=h.getBoundingClientRect();f={x:E.clientX-(T.left??0),y:E.clientY-(T.top??0)}}const m=i.retina.pixelRatio;f&&(f.x*=m,f.y*=m),l.mouse.position=f,l.status=Qy},this._touchEnd=t=>{const i=t,o=Array.from(i.changedTouches);for(const l of o)this._touches.delete(l.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const i=t,o=Array.from(i.changedTouches);for(const l of o)this._touches.delete(l.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const i=t,o=Array.from(i.changedTouches);for(const l of o)this._touches.set(l.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class li{constructor(){this.value=""}static create(e,t){const i=new li;return i.load(e),t!==void 0&&(ni(t)||ri(t)?i.load({value:t}):i.load(t)),i}load(e){e?.value!==void 0&&(this.value=e.value)}}class wR{constructor(){this.color=new li,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=li.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class ER{constructor(){this.color=new li,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=li.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class TR{constructor(){this.composite="destination-out",this.cover=new ER,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,i=ni(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class SR{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class AR{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class tv{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return eo(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=eo(e,t=>`#${t}`)}load(e){if(!e)return;const t=e.ids??e.elementId??e.el;t!==void 0&&(this.ids=t),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class xR{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class IR{constructor(){this.enable=!1,this.mode=[],this.parallax=new xR}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class RR{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}let CR=class{constructor(){this.onClick=new AR,this.onDiv=new tv,this.onHover=new IR,this.resize=new RR}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const t=e.onDiv??e.ondiv;t!==void 0&&(this.onDiv=eo(t,i=>{const o=new tv;return o.load(i),o})),this.onHover.load(e.onHover??e.onhover),ms(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}};class PR{constructor(e,t){this._engine=e,this._container=t}load(e){if(!e||!this._container)return;const t=this._engine.plugins.interactors.get(this._container);if(t)for(const i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}}class Lw{constructor(e,t){this.detectsOn="window",this.events=new CR,this.modes=new PR(e,t)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const t=e.detectsOn??e.detect_on;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}class kR{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=on({},e.options)))}}class bR{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=on({},e.options)))}}class NR{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class DR{constructor(){this.name="",this.default=new NR}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=on({},e.options)))}}class Ff{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=$e(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=$e(e.offset)),e.speed!==void 0&&(this.speed=$e(e.speed)),e.decay!==void 0&&(this.decay=$e(e.decay)),e.delay!==void 0&&(this.delay=$e(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class MR{constructor(){this.h=new Ff,this.s=new Ff,this.l=new Ff}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class wl extends li{constructor(){super(),this.animation=new MR}static create(e,t){const i=new wl;return i.load(e),t!==void 0&&(ni(t)||ri(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),!e)return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}class VR{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class OR{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class LR{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=$e(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=$e(e.speed)),e.decay!==void 0&&(this.decay=$e(e.decay)),e.delay!==void 0&&(this.delay=$e(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class Fw extends LR{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class FR{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class kl{constructor(){this.random=new FR,this.value=0}load(e){e&&(ms(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=$e(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class nv extends kl{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class jw{constructor(){this.horizontal=new nv,this.vertical=new nv}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class jR{constructor(){this.absorb=new VR,this.bounce=new jw,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new OR}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=$e(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class zR{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=$e(e.offset)),e.value!==void 0&&(this.value=$e(e.value)))}}class UR{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){if(!e)return;e.distance!==void 0&&(this.distance=$e(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const t=e.rotate?.x??e.rotateX;t!==void 0&&(this.rotate.x=t);const i=e.rotate?.y??e.rotateY;i!==void 0&&(this.rotate.y=i)}}class BR{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class HR{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=$e(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=$e(e.maxSpeed)))}}class $R{constructor(){this.clamp=!0,this.delay=new kl,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=on(this.options,e.options)))}}class WR{load(e){e&&(e.color!==void 0&&(this.color=li.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class qR{constructor(){this.enable=!1,this.length=10,this.fill=new WR}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class GR{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class KR{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=$e(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=on({},e.position)))}}class QR{constructor(){this.angle=new zR,this.attract=new UR,this.center=new BR,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new HR,this.path=new $R,this.outModes=new GR,this.random=!1,this.size=!1,this.speed=2,this.spin=new KR,this.straight=!1,this.trail=new qR,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(Mr(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=$e(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Mr(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=$e(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes??e.outMode??e.out_mode;t!==void 0&&(tl(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=$e(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class YR extends Fw{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){e?.opacity_min!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class XR extends kl{constructor(){super(),this.animation=new YR,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=$e(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class JR{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width??e.area??e.value_area;t!==void 0&&(this.width=t);const i=e.height??e.factor;i!==void 0&&(this.height=i)}}class ZR{constructor(){this.density=new JR,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const t=e.limit??e.max;t!==void 0&&(this.limit=t),e.value!==void 0&&(this.value=e.value)}}class eC{constructor(){this.blur=0,this.color=new li,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=li.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const jf="character",zf="char",Uf="image",Bf="images",Hf="polygon",$f="star";class tC{constructor(){this.loadShape=(e,t,i,o)=>{if(!e)return;const l=ri(e),h=l?[]:{},f=l!==ri(this.options[t]),m=l!==ri(this.options[i]);f&&(this.options[t]=h),m&&o&&(this.options[i]=h),this.options[t]=on(this.options[t]??h,e),(!this.options[i]||o)&&(this.options[i]=on(this.options[i]??h,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[jf]??this.options[zf]}set character(e){this.options[zf]=this.options[jf]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[Uf]??this.options[Bf]}set image(e){this.options[Bf]=this.options[Uf]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[Hf]??this.options[$f]}set polygon(e){this.options[$f]=this.options[Hf]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const t=e.options??e.custom;if(t!==void 0)for(const i in t){const o=t[i];o&&(this.options[i]=on(this.options[i]??{},o))}this.loadShape(e.character,jf,zf,!0),this.loadShape(e.polygon,Hf,$f,!1),this.loadShape(e.image??e.images,Uf,Bf,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class nC extends Fw{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){e?.size_min!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class rC extends kl{constructor(){super(),this.animation=new nC,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=$e(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class rv{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=wl.create(this.color,e.color)),e.width!==void 0&&(this.width=$e(e.width)),e.opacity!==void 0&&(this.opacity=$e(e.opacity)))}}class iC extends kl{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class sC{constructor(e,t){this._engine=e,this._container=t,this.bounce=new jw,this.collisions=new jR,this.color=new wl,this.color.value="#fff",this.groups={},this.move=new QR,this.number=new ZR,this.opacity=new XR,this.reduceDuplicates=!1,this.shadow=new eC,this.shape=new tC,this.size=new rC,this.stroke=new rv,this.zIndex=new iC}load(e){if(!e)return;if(this.bounce.load(e.bounce),this.color.load(wl.create(this.color,e.color)),e.groups!==void 0)for(const o in e.groups){const l=e.groups[o];l!==void 0&&(this.groups[o]=on(this.groups[o]??{},l))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const t=e.move?.collisions??e.move?.bounce;t!==void 0&&(this.collisions.enable=t),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=on({},e.interactivity));const i=e.stroke??e.shape?.stroke;if(i&&(this.stroke=eo(i,o=>{const l=new rv;return l.load(o),l})),this._container){const o=this._engine.plugins.updaters.get(this._container);if(o)for(const h of o)h.loadOptions&&h.loadOptions(this,e);const l=this._engine.plugins.interactors.get(this._container);if(l)for(const h of l)h.loadParticlesOptions&&h.loadParticlesOptions(this,e)}}}function zw(r,...e){for(const t of e)r.load(t)}function Uw(r,e,...t){const i=new sC(r,e);return zw(i,...t),i}class oC{constructor(e,t){this._findDefaultTheme=i=>this.themes.find(o=>o.default.value&&o.default.mode===i)??this.themes.find(o=>o.default.value&&o.default.mode==="any"),this._importPreset=i=>{this.load(this._engine.plugins.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new wR,this.backgroundMask=new TR,this.defaultThemes={},this.delay=0,this.fullScreen=new SR,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new Lw(e,t),this.manualParticles=[],this.particles=Uw(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){if(!e)return;e.preset!==void 0&&eo(e.preset,h=>this._importPreset(h)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=$e(e.delay));const t=e.detectRetina??e.retina_detect;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=$e(e.duration));const i=e.fpsLimit??e.fps_limit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const o=e.fullScreen??e.backgroundMode;ms(o)?this.fullScreen.enable=o:this.fullScreen.load(o),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(h=>{const f=new kR;return f.load(h),f})),this.particles.load(e.particles),this.style=on(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const l=this._engine.plugins.interactors.get(this._container);if(l)for(const h of l)h.loadOptions&&h.loadOptions(this,e);if(e.responsive!==void 0)for(const h of e.responsive){const f=new bR;f.load(h),this.responsive.push(f)}if(this.responsive.sort((h,f)=>h.maxWidth-f.maxWidth),e.themes!==void 0)for(const h of e.themes){const f=this.themes.find(m=>m.name===h.name);if(f)f.load(h);else{const m=new DR;m.load(h),this.themes.push(m)}}this.defaultThemes.dark=this._findDefaultTheme("dark")?.name,this.defaultThemes.light=this._findDefaultTheme("light")?.name}setResponsive(e,t,i){this.load(i);const o=this.responsive.find(l=>l.mode==="screen"&&screen?l.maxWidth>screen.availWidth:l.maxWidth*t>e);return this.load(o?.options),o?.maxWidth}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t=Dw("(prefers-color-scheme: dark)"),i=t&&t.matches,o=this._findDefaultTheme(i?"dark":"light");o&&this.load(o.options)}}}class aC{constructor(e,t){this.container=t,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&await t.interact(e)}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode&&t.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,t){for(const i of this._externalInteractors)i.clear(e,t);for(const i of this._particleInteractors)i.isEnabled(e)&&await i.interact(e,t)}async reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}const iv=r=>{if(!ZI(r.outMode,r.checkModes))return;const e=r.radius*2;r.coord>r.maxCoord-e?r.setCb(-r.radius):r.coord<e&&r.setCb(r.radius)};class lC{constructor(e,t,i,o,l,h){this.container=i,this._calcPosition=(f,m,y,E=0)=>{for(const[,ee]of f.plugins){const Z=ee.particlePosition!==void 0?ee.particlePosition(m,this):void 0;if(Z)return Wn.create(Z.x,Z.y,y)}const T=f.canvas.size,S=QI({size:T,position:m}),P=Wn.create(S.x,S.y,y),z=this.getRadius(),V=this.options.move.outModes,F=ee=>{iv({outMode:ee,checkModes:["bounce","bounce-horizontal"],coord:P.x,maxCoord:f.canvas.size.width,setCb:Z=>P.x+=Z,radius:z})},$=ee=>{iv({outMode:ee,checkModes:["bounce","bounce-vertical"],coord:P.y,maxCoord:f.canvas.size.height,setCb:Z=>P.y+=Z,radius:z})};return F(V.left??V.default),F(V.right??V.default),$(V.top??V.default),$(V.bottom??V.default),this._checkOverlap(P,E)?this._calcPosition(f,void 0,y,E+1):P},this._calculateVelocity=()=>{const f=KI(this.direction),m=f.copy(),y=this.options.move;if(y.direction==="inside"||y.direction==="outside")return m;const E=Math.PI/180*Ze(y.angle.value),T=Math.PI/180*Ze(y.angle.offset),S={left:T-E/2,right:T+E/2};return y.straight||(m.angle+=Yo($e(S.left,S.right))),y.random&&typeof y.speed=="number"&&(m.length*=ji()),m},this._checkOverlap=(f,m=0)=>{const y=this.options.collisions,E=this.getRadius();if(!y.enable)return!1;const T=y.overlap;if(T.enable)return!1;const S=T.retries;if(S>=0&&m>S)throw new Error(`${Zs} particle is overlapping and can't be placed`);return!!this.container.particles.find(P=>_p(f,P.position)<E+P.getRadius())},this._getRollColor=f=>{if(!f||!this.roll||!this.backColor&&!this.roll.alter)return f;const m=this.roll.horizontal&&this.roll.vertical?2:1,y=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+y)/(Math.PI/m))%2?this.backColor?this.backColor:this.roll.alter?gR(f,this.roll.alter.type,this.roll.alter.value):f:f},this._initPosition=f=>{const m=this.container,y=Ze(this.options.zIndex.value);this.position=this._calcPosition(m,f,bw(y,0,m.zLayers)),this.initialPosition=this.position.copy();const E=m.canvas.size;switch(this.moveCenter={...Mw(this.options.move.center,E),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=GI(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=Qo.origin},this._loadShapeData=(f,m)=>{const y=f.options[this.shape];if(y)return on({close:f.close,fill:f.fill},ll(y,this.id,m))},this._engine=e,this.init(t,o,l,h)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,i=this.pathGenerator;for(const[,o]of t.plugins)o.particleDestroyed&&o.particleDestroyed(this,e);for(const o of t.particles.updaters)o.particleDestroyed&&o.particleDestroyed(this,e);i&&i.reset(this)}draw(e){const t=this.container;for(const[,i]of t.plugins)t.canvas.drawParticlePlugin(i,this,e);t.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??ev(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??ev(this.strokeColor))}init(e,t,i,o){const l=this.container,h=this._engine;this.id=e,this.group=o,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const f=l.retina.pixelRatio,m=l.actualOptions,y=Uw(this._engine,l,m.particles),E=y.shape.type,{reduceDuplicates:T}=y;this.shape=ll(E,this.id,T);const S=y.shape;if(i&&i.shape&&i.shape.type){const Z=i.shape.type,ie=ll(Z,this.id,T);ie&&(this.shape=ie,S.load(i.shape))}this.shapeData=this._loadShapeData(S,T),y.load(i);const P=this.shapeData;P&&y.load(P.particles);const z=new Lw(h,l);z.load(l.actualOptions.interactivity),z.load(y.interactivity),this.interactivity=z,this.fill=P?.fill??y.shape.fill,this.close=P?.close??y.shape.close,this.options=y;const V=this.options.move.path;this.pathDelay=WI(V.delay)*1e3,V.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(V.generator),this.pathGenerator&&l.addPath(V.generator,this.pathGenerator)&&this.pathGenerator.init(l)),l.retina.initParticle(this),this.size=tR(this.options.size,f),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-Ze(this.options.move.decay);const F=l.particles;F.needsSort=F.needsSort||F.lastZIndex<this.position.z,F.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/l.zLayers,this.sides=24;let $=l.drawers.get(this.shape);$||($=this._engine.plugins.getShapeDrawer(this.shape),$&&l.drawers.set(this.shape,$)),$&&$.loadShape&&$.loadShape(this);const ee=$?.getSidesCount;ee&&(this.sides=ee(this)),this.spawning=!1,this.shadowColor=Xo(this.options.shadow.color);for(const Z of l.particles.updaters)Z.init(this);for(const Z of l.particles.movers)Z.init&&Z.init(this);$&&$.particleInit&&$.particleInit(l,this);for(const[,Z]of l.plugins)Z.particleCreated&&Z.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class uC{constructor(e,t){this.position=e,this.particle=t}}class Bw{constructor(e,t){this.position={x:e,y:t}}}class ia extends Bw{constructor(e,t,i,o){super(e,t),this.size={height:o,width:i}}contains(e){const t=this.size.width,i=this.size.height,o=this.position;return e.x>=o.x&&e.x<=o.x+t&&e.y>=o.y&&e.y<=o.y+i}intersects(e){e instanceof Gc&&e.intersects(this);const t=this.size.width,i=this.size.height,o=this.position,l=e.position,h=e instanceof ia?e.size:{width:0,height:0},f=h.width,m=h.height;return l.x<o.x+t&&l.x+f>o.x&&l.y<o.y+i&&l.y+m>o.y}}class Gc extends Bw{constructor(e,t,i){super(e,t),this.radius=i}contains(e){return _p(e,this.position)<=this.radius}intersects(e){const t=this.position,i=e.position,o={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},l=this.radius;if(e instanceof Gc){const h=l+e.radius,f=Math.sqrt(o.x**2+o.y**2);return h>f}else if(e instanceof ia){const{width:h,height:f}=e.size;return Math.pow(o.x-h,2)+Math.pow(o.y-f,2)<=l**2||o.x<=l+h&&o.y<=l+f||o.x<=h||o.y<=f}return!1}}class Tc{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:i,y:o}=this.rectangle.position,{width:l,height:h}=this.rectangle.size,{capacity:f}=this;for(let m=0;m<4;m++)this._subs.push(new Tc(new ia(i+l/2*(m%2),o+h/2*(Math.round(m/2)-m%2),l/2,h/2),f));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t,i){const o=i||[];if(!e.intersects(this.rectangle))return[];for(const l of this._points)!e.contains(l.position)&&_p(e.position,l.position)>l.particle.getRadius()&&(!t||t(l.particle))||o.push(l.particle);if(this._divided)for(const l of this._subs)l.query(e,t,o);return o}queryCircle(e,t,i){return this.query(new Gc(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new ia(e.x,e.y,t.width,t.height),i)}}const sv=4,ov=r=>new ia(-r.width/4,-r.height/4,r.width*3/2,r.height*3/2);let cC=class{constructor(e,t){this._applyDensity=(o,l,h)=>{if(!o.number.density?.enable)return;const f=o.number,m=this._initDensityFactor(f.density),y=f.value,E=f.limit>0?f.limit:y,T=Math.min(y,E)*m+l,S=Math.min(this.count,this.filter(P=>P.group===h).length);this.limit=f.limit*m,S<T?this.push(Math.abs(T-S),void 0,o,h):S>T&&this.removeQuantity(S-T,h)},this._initDensityFactor=o=>{const l=this._container;if(!l.canvas.element||!o.enable)return 1;const h=l.canvas.element,f=l.retina.pixelRatio;return h.width*h.height/(o.factor*f**2*o.area)},this._pushParticle=(o,l,h,f)=>{try{let m=this.pool.pop();m?m.init(this._nextId,o,l,h):m=new lC(this._engine,this._nextId,this._container,o,l,h);let y=!0;return f&&(y=f(m)),y?(this._array.push(m),this._zArray.push(m),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:m}}),m):void 0}catch(m){_l().warning(`${Zs} adding particle: ${m}`);return}},this._removeParticle=(o,l,h)=>{const f=this._array[o];if(!f||f.group!==l)return!1;f.destroy(h);const m=this._zArray.indexOf(f);return this._array.splice(o,1),this._zArray.splice(m,1),this.pool.push(f),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:f}}),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new aC(e,t);const i=t.canvas.size;this.quadTree=new Tc(ov(i),sv),this.movers=this._engine.plugins.getMovers(t,!0),this.updaters=this._engine.plugins.getUpdaters(t,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,t=e.actualOptions;for(const i of t.manualParticles)this.addParticle(i.position?Mw(i.position,e.canvas.size):void 0,i.options)}addParticle(e,t,i,o){const l=this._container,h=l.actualOptions,f=h.particles.number.limit;if(f>0){const m=this.count+1-f;m>0&&this.removeQuantity(m)}return this._pushParticle(e,t,i,o)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const t=this._container;t.canvas.clear(),await this.update(e);for(const[,i]of t.plugins)t.canvas.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){const e=this._container,t=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let i=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,o]of e.plugins)if(o.particlesInitialization!==void 0&&(i=o.particlesInitialization()),i)break;this._interactionManager.init();for(const[,o]of e.pathGenerators)o.init(e);if(this.addManualParticles(),!i){for(const o in t.particles.groups){const l=t.particles.groups[o];for(let h=this.count,f=0;f<l.number?.value&&h<t.particles.number.value;h++,f++)this.addParticle(void 0,l,o)}for(let o=this.count;o<t.particles.number.value;o++)this.addParticle()}}push(e,t,i,o){this.pushing=!0;for(let l=0;l<e;l++)this.addParticle(t?.position,i,o);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=1,i,o){if(e<0||e>this.count)return;let l=0;for(let h=e;l<t&&h<this.count;h++)this._removeParticle(h--,i,o)&&l++}removeQuantity(e,t){this.removeAt(0,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups;for(const i in t)this._applyDensity(t[i],0,i);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const t=this._container,i=new Set;this.quadTree=new Tc(ov(t.canvas.size),sv);for(const[,o]of t.pathGenerators)o.update();for(const[,o]of t.plugins)o.update&&o.update(e);for(const o of this._array){const l=t.canvas.resizeFactor;l&&!o.ignoresResizeRatio&&(o.position.x*=l.width,o.position.y*=l.height,o.initialPosition.x*=l.width,o.initialPosition.y*=l.height),o.ignoresResizeRatio=!1,await this._interactionManager.reset(o);for(const[,h]of this._container.plugins){if(o.destroyed)break;h.particleUpdate&&h.particleUpdate(o,e)}for(const h of this.movers)h.isEnabled(o)&&h.move(o,e);if(o.destroyed){i.add(o);continue}this.quadTree.insert(new uC(o.getPosition(),o))}if(i.size){const o=l=>!i.has(l);this._array=this.filter(o),this._zArray=this._zArray.filter(o),this.pool.push(...i)}await this._interactionManager.externalInteract(e);for(const o of this._array){for(const l of this.updaters)l.update(o,e);!o.destroyed&&!o.spawning&&await this._interactionManager.particlesInteract(o,e)}if(delete t.canvas.resizeFactor,this.needsSort){const o=this._zArray;o.sort((l,h)=>h.position.z-l.position.z||l.id-h.id),this.lastZIndex=o[o.length-1].position.z,this.needsSort=!1}}};class hC{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||Wc()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio;if(e.canvas.element){const h=e.canvas.element;e.canvas.size.width=h.offsetWidth*i,e.canvas.size.height=h.offsetHeight*i}const o=t.particles,l=o.move;this.attractDistance=Ze(l.attract.distance)*i,this.maxSpeed=Ze(l.gravity.maxSpeed)*i,this.sizeAnimationSpeed=Ze(o.size.animation.speed)*i}initParticle(e){const t=e.options,i=this.pixelRatio,o=t.move,l=o.distance,h=e.retina;h.attractDistance=Ze(o.attract.distance)*i,h.moveDrift=Ze(o.drift)*i,h.moveSpeed=Ze(o.speed)*i,h.sizeAnimationSpeed=Ze(t.size.animation.speed)*i;const f=h.maxDistance;f.horizontal=l.horizontal!==void 0?l.horizontal*i:void 0,f.vertical=l.vertical!==void 0?l.vertical*i:void 0,h.maxSpeed=Ze(o.gravity.maxSpeed)*i}}function ht(r){return r&&!r.destroyed}function fC(r,e=60,t=!1){return{value:r,factor:t?60/e:60*r/1e3}}function zo(r,e,...t){const i=new oC(r,e);return zw(i,...t),i}const dC="default",av={generate:r=>r.velocity,init:()=>{},update:()=>{},reset:()=>{}};class pC{constructor(e,t,i){this.id=t,this._intersectionManager=o=>{if(!(!ht(this)||!this.actualOptions.pauseOnOutsideViewport))for(const l of o)l.target===this.interactivity.element&&(l.isIntersecting?this.play:this.pause)()},this._nextFrame=async o=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&o<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??=o;const l=fC(o-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(l.value),this.lastFrameTime=o,l.value>1e3){this.draw(!1);return}if(await this.particles.draw(l),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(l){_l().error(`${Zs} in animation loop`,l)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new hC(this),this.canvas=new vR(this),this.particles=new cC(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=zo(this._engine,this),this.actualOptions=zo(this._engine,this),this._eventListeners=new _R(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(o=>this._intersectionManager(o))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!ht(this))return;const t=this.interactivity.element;if(!t)return;const i=(T,S,P)=>{if(!ht(this))return;const z=this.retina.pixelRatio,V={x:S.x*z,y:S.y*z},F=this.particles.quadTree.queryCircle(V,P*z);e(T,F)},o=T=>{if(!ht(this))return;const S=T,P={x:S.offsetX||S.clientX,y:S.offsetY||S.clientY};i(T,P,1)},l=()=>{ht(this)&&(y=!0,E=!1)},h=()=>{ht(this)&&(E=!0)},f=T=>{if(ht(this)){if(y&&!E){const S=T;let P=S.touches[S.touches.length-1];if(!P&&(P=S.changedTouches[S.changedTouches.length-1],!P))return;const z=this.canvas.element,V=z?z.getBoundingClientRect():void 0,F={x:P.clientX-(V?V.left:0),y:P.clientY-(V?V.top:0)};i(T,F,Math.max(P.radiusX,P.radiusY))}y=!1,E=!1}},m=()=>{ht(this)&&(y=!1,E=!1)};let y=!1,E=!1;t.addEventListener("click",o),t.addEventListener("touchstart",l),t.addEventListener("touchmove",h),t.addEventListener("touchend",f),t.addEventListener("touchcancel",m)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!ht(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t??av),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!ht(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.drawers)i.destroy&&i.destroy(this);for(const i of this.drawers.keys())this.drawers.delete(i);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),t=e.findIndex(i=>i===this);t>=0&&e.splice(t,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!ht(this))return;let t=e;this._drawAnimationFrame=requestAnimationFrame(async i=>{t&&(this.lastFrameTime=void 0,t=!1),await this._nextFrame(i)})}async export(e,t={}){for(const[,i]of this.plugins){if(!i.export)continue;const o=await i.export(e,t);if(o.supported)return o.blob}_l().error(`${Zs} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&ht(this)}handleClickMode(e){if(ht(this)){this.particles.handleClickMode(e);for(const[,t]of this.plugins)t.handleClickMode&&t.handleClickMode(e)}}async init(){if(!ht(this))return;const e=this._engine.plugins.getSupportedShapes();for(const i of e){const o=this._engine.plugins.getShapeDrawer(i);o&&this.drawers.set(i,o)}this._options=zo(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=zo(this._engine,this,this._options);const t=this._engine.plugins.getAvailablePlugins(this);for(const[i,o]of t)this.plugins.set(i,o);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=Ze(this.actualOptions.duration)*1e3,this._delay=Ze(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,i]of this.drawers)i.init&&await i.init(this);for(const[,i]of this.plugins)i.init&&await i.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,i]of this.plugins)i.particlesSetup&&i.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){ht(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(ht(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!ht(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(t||!1)}async refresh(){if(ht(this))return this.stop(),this.start()}async reset(){if(ht(this))return this._initialSourceOptions=void 0,this._options=zo(this._engine,this),this.actualOptions=zo(this._engine,this,this._options),this.refresh()}setNoise(e,t,i){ht(this)&&this.setPath(e,t,i)}setPath(e,t,i){if(!e||!ht(this))return;const o={...av};if(Vw(e))o.generate=e,t&&(o.init=t),i&&(o.update=i);else{const l=o;o.generate=e.generate||l.generate,o.init=e.init||l.init,o.update=e.update||l.update}this.addPath(dC,o,!0)}async start(){!ht(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,t]of this.plugins)t.start&&await t.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!ht(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}class mC{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){const i=this._listeners.get(e);i&&i.forEach(o=>o(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const i=this._listeners.get(e);if(!i)return;const o=i.length,l=i.indexOf(t);l<0||(o===1?this._listeners.delete(e):i.splice(l,1))}}function Wf(r,e,t,i=!1){let o=e.get(r);return(!o||i)&&(o=[...t.values()].map(l=>l(r)),e.set(r,o)),o}class gC{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,t){this._initializers.interactors.set(e,t)}addParticleMover(e,t){this._initializers.movers.set(e,t)}addParticleUpdater(e,t){this._initializers.updaters.set(e,t)}addPathGenerator(e,t){!this.getPathGenerator(e)&&this.pathGenerators.set(e,t)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,t,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,t)}addShapeDrawer(e,t){eo(e,i=>{!this.getShapeDrawer(i)&&this.drawers.set(i,t)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,i.getPlugin(e));return t}getInteractors(e,t=!1){return Wf(e,this.interactors,this._initializers.interactors,t)}getMovers(e,t=!1){return Wf(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,t=!1){return Wf(e,this.updaters,this._initializers.updaters,t)}loadOptions(e,t){for(const i of this.plugins)i.loadOptions(e,t)}loadParticlesOptions(e,t,...i){const o=this.updaters.get(e);if(o)for(const l of o)l.loadOptions&&l.loadOptions(t,...i)}}async function yC(r){const e=ll(r.url,r.index);if(!e)return r.fallback;const t=await fetch(e);return t.ok?t.json():(_l().error(`${Zs} ${t.status} while retrieving config file`),r.fallback)}function vC(r){return!r.id&&!r.element&&!r.url&&!r.options}function _C(r){return!vC(r)}class wC{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new mC,this._initialized=!1,this.plugins=new gC(this)}get configs(){const e={};for(const[t,i]of this._configs)e[t]=i;return e}get version(){return"2.12.0"}addConfig(e,t){ni(e)?t&&(t.name=e,this._configs.set(e,t)):this._configs.set(e.name??"default",e)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t,i=!0){this.plugins.addInteractor(e,t),await this.refresh(i)}async addMover(e,t,i=!0){this.plugins.addParticleMover(e,t),await this.refresh(i)}async addParticleUpdater(e,t,i=!0){this.plugins.addParticleUpdater(e,t),await this.refresh(i)}async addPathGenerator(e,t,i=!0){this.plugins.addPathGenerator(e,t),await this.refresh(i)}async addPlugin(e,t=!0){this.plugins.addPlugin(e),await this.refresh(t)}async addPreset(e,t,i=!1,o=!0){this.plugins.addPreset(e,t,i),await this.refresh(o)}async addShape(e,t,i,o,l,h=!0){let f,m=h,y,E,T;ms(i)?(m=i,y=void 0):y=i,ms(o)?(m=o,E=void 0):E=o,ms(l)?(m=l,T=void 0):T=l,Vw(t)?f={afterEffect:E,destroy:T,draw:t,init:y}:f=t,this.plugins.addShapeDrawer(e,f),await this.refresh(m)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this._domArray}domItem(e){const t=this.dom(),i=t[e];if(!i||i.destroyed){t.splice(e,1);return}return i}init(){this._initialized||(this._initialized=!0)}async load(e,t){return this.loadFromArray(e,t)}async loadFromArray(e,t,i){let o;return _C(e)?o=e:(o={},ni(e)?o.id=e:o.options=e,Mr(t)?o.index=t:o.options=t??o.options,o.index=i??o.index),this._loadParams(o)}async loadJSON(e,t,i){let o,l;return Mr(t)||t===void 0?o=e:(l=e,o=t),this._loadParams({id:l,url:o,index:i})}async refresh(e=!0){e&&this.dom().forEach(t=>t.refresh())}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}async set(e,t,i,o){const l={index:o};return ni(e)?l.id=e:l.element=e,t instanceof HTMLElement?l.element=t:l.options=t,Mr(i)?l.index=i:l.options=i??l.options,this._loadParams(l)}async setJSON(e,t,i,o){const l={};return e instanceof HTMLElement?(l.element=e,l.url=t,l.index=i):(l.id=e,l.element=t,l.url=i,l.index=o),this._loadParams(l)}setOnClickHandler(e){const t=this.dom();if(!t.length)throw new Error(`${Zs} can only set click handlers after calling tsParticles.load()`);for(const i of t)i.addClickHandler(e)}async _loadParams(e){const t=e.id??`tsparticles${Math.floor(ji()*1e4)}`,{index:i,url:o}=e,l=o?await yC({fallback:e.options,url:o,index:i}):e.options;let h=e.element??document.getElementById(t);h||(h=document.createElement("div"),h.id=t,document.body.append(h));const f=ll(l,i),m=this.dom(),y=m.findIndex(S=>S.id===t);if(y>=0){const S=this.domItem(y);S&&!S.destroyed&&(S.destroy(),m.splice(y,1))}let E;if(h.tagName.toLowerCase()==="canvas")E=h,E.dataset[al]="false";else{const S=h.getElementsByTagName("canvas");S.length?(E=S[0],E.dataset[al]="false"):(E=document.createElement("canvas"),E.dataset[al]="true",h.appendChild(E))}E.style.width||(E.style.width="100%"),E.style.height||(E.style.height="100%");const T=new pC(this,t,f);return y>=0?m.splice(y,0,T):m.push(T),T.canvas.loadCanvas(E),await T.start(),T}}class EC{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return xd(i)}handleRangeColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return xd({h:Ze(i.h),l:Ze(i.l),s:Ze(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?aR({a:i.length>4?Nw(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}}class TC{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:Ze(i.r),g:Ze(i.g),b:Ze(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?{a:i.length>4?Nw(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}}function SC(){const r=new TC,e=new EC;Xy(r),Xy(e);const t=new wC;return t.init(),t}const Id=SC();Wc()||(window.tsParticles=Id);const Wo=r=>typeof r=="object"&&r!==null;function Sc(r,e,t=()=>!1){if(!Wo(r)||!Wo(e))return r===e;const i=Object.keys(r).filter(l=>!t(l)),o=Object.keys(e).filter(l=>!t(l));if(i.length!==o.length)return!1;for(const l of i){const h=r[l],f=e[l];if(Wo(h)&&Wo(f)){if(h===e&&f===r)continue;if(!Sc(h,f,t))return!1}else if(Array.isArray(h)&&Array.isArray(f)){if(!Hw(h,f,t))return!1}else if(h!==f)return!1}return!0}function Hw(r,e,t){if(r.length!==e.length)return!1;for(let i=0;i<r.length;i++){const o=r[i],l=e[i];if(Array.isArray(o)&&Array.isArray(l)){if(!Hw(o,l,t))return!1}else if(Wo(o)&&Wo(l)){if(!Sc(o,l,t))return!1}else if(o!==l)return!1}return!0}const $w="tsparticles";class Kc extends H.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){const t=e.options??e.params,i=this.props.options??this.props.params;return e.url!==this.props.url||e.id!==this.props.id||e.canvasClassName!==this.props.canvasClassName||e.className!==this.props.className||e.height!==this.props.height||e.width!==this.props.width||!Sc(e.style,this.props.style)||e.init!==this.props.init||e.loaded!==this.props.loaded||!Sc(t,i,o=>o.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(Id),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:t,className:i,canvasClassName:o,id:l}=this.props;return Xf.createElement("div",{className:i,id:l},Xf.createElement("canvas",{className:o,style:{...this.props.style,width:e,height:t}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??Kc.defaultProps.id??$w,t=await Id.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=t),this.setState({library:t}),this.props.loaded&&await this.props.loaded(t)}}Kc.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:$w};function AC({config:r}){const e=H.useMemo(()=>{if(!r)return null;const{number:t=41,color:i="#ffffff",size:o=2,speed:l=.6,random:h=!0}=r;return{fullScreen:{enable:!0,zIndex:0},background:{color:"transparent"},fpsLimit:60,particles:{number:{value:t,density:{enable:!0,area:800}},color:{value:i},shape:{type:"circle"},opacity:{value:.6},size:{value:o,random:{enable:h,minimumValue:1}},move:{enable:!0,speed:l,direction:"none",random:h,straight:!1,outModes:{default:"out"}}},detectRetina:!0}},[r]);return e?_.jsx(Kc,{options:e}):null}function xC(){const{currentUser:r}=Pl(),[e,t]=H.useState(null),[i,o]=H.useState({x:0,y:0}),l=H.useRef(null),[h,f]=H.useState("vale"),[m,y]=H.useState("#222222"),E=(T,S)=>{e===T?t(null):(o({x:S.pageX,y:S.pageY}),t(T))};return H.useEffect(()=>{const T=S=>{l.current&&!l.current.contains(S.target)&&t(null)};return e&&document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[e]),H.useEffect(()=>{if(!e||!l.current)return;const T=l.current.getBoundingClientRect(),S=window.innerWidth,P=window.innerHeight;let z=i.x,V=i.y;T.right>S&&(z=Math.max(0,i.x-T.width)),T.left<0&&(z=0),T.bottom>P&&(V=Math.max(0,i.y-T.height)),T.top<0&&(V=0),o({x:z,y:V})},[e,i.x,i.y]),H.useEffect(()=>{const T=At[h]||{};Ad(T,h==="custom"?m:null)},[h,m]),At[h]?.particles&&At[h].particles,_.jsxs("div",{className:"min-h-screen flex flex-col site-wrapper",children:[_.jsx("style",{children:`
        .search-bar input {
          color: #000;
          width: 100%;
          padding: 0.4rem;
          font-size: 0.9rem;
        }

        .search-bar select {
          color: #000;
          padding: 0.4rem;
          font-size: 0.9rem;
        }

        .search-bar button {
          color: #000;
          padding: 0.4rem 0.8rem;
          font-size: 0.9rem;
        }
      `}),_.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"1rem",marginTop:"0.5rem"},children:[_.jsx("div",{style:{flexShrink:0},children:_.jsx(Ec,{unlockedThemes:Object.keys(At),selectedTheme:h,onChange:f,customColor:m,onCustomColorChange:y})}),_.jsx("div",{style:{flex:1,maxWidth:"450px"},children:_.jsx(MI,{})})]}),_.jsx("div",{className:"circle-button profile-button",onClick:T=>E("profile",T)}),_.jsx("div",{className:"circle-button menu-button",onClick:T=>E("menu",T)}),e&&_.jsxs("div",{ref:l,className:"popup",style:{top:`${i.y}px`,left:`${i.x}px`,position:"absolute",background:"var(--primary-color)",color:"var(--secondary-color)",fontFamily:"var(--site-font-family)",borderRadius:"8px",padding:"0.5rem",zIndex:20,minWidth:"150px"},children:[e==="profile"&&_.jsxs(_.Fragment,{children:[_.jsx(pr,{to:"/new-user",style:{color:"var(--secondary-color)"},children:"New User/Login"}),r?_.jsx(pr,{to:`/profile/${r.id}`,style:{color:"var(--secondary-color)"},children:"Profile"}):_.jsx("span",{style:{color:"gray"},children:"Profile (login first)"}),r?_.jsx(pr,{to:`/creator-page/${r.id}`,style:{color:"var(--secondary-color)"},children:"View Creator Page"}):_.jsx("span",{style:{color:"gray"},children:"View Creator Page (login first)"})]}),e==="menu"&&_.jsxs(_.Fragment,{children:[_.jsx(pr,{to:"/watch",style:{color:"var(--secondary-color)"},children:"Watch"}),_.jsx(pr,{to:"/read",style:{color:"var(--secondary-color)"},children:"Read"}),_.jsx(pr,{to:"/listen",style:{color:"var(--secondary-color)"},children:"Listen"}),_.jsx(pr,{to:"/play",style:{color:"var(--secondary-color)"},children:"Play"}),_.jsx(pr,{to:"/events",style:{color:"var(--secondary-color)"},children:"Events"}),_.jsx(pr,{to:"/search",style:{color:"var(--secondary-color)"},children:"Search"}),_.jsx(pr,{to:"/",style:{color:"var(--secondary-color)"},children:"Home"})]})]}),_.jsx("div",{className:"title2",style:{color:"var(--secondary-color)"},children:"Faction Seven"}),_.jsx("div",{className:"slogan",style:{color:"var(--secondary-color)"},children:"Your one-stop media source"}),_.jsx("main",{className:"flex-grow container mx-auto p-4",children:_.jsx(Z0,{})})]})}function IC(){return _.jsxs("div",{className:"main-container",children:[_.jsxs("div",{className:"sidebar left",children:[_.jsxs("div",{className:"suggested",children:[_.jsx("img",{src:"media1.jpg",alt:"Media 1"}),_.jsx("a",{href:"#",children:"Urban Echoes"})]}),_.jsxs("div",{className:"suggested",children:[_.jsx("img",{src:"media2.jpg",alt:"Media 2"}),_.jsx("a",{href:"#",children:"Moonlit Strands"})]})]}),_.jsxs("div",{className:"featured",children:[_.jsxs("h2",{children:['Featured Content: "Just for Kicks" by'," ",_.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),_.jsx("div",{className:"youtube-embed-container",children:_.jsx("iframe",{className:"youtube-embed",src:"https://www.youtube.com/embed/P0h0rO7eods?si=MMQiYKH9NEHZJ61p",title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),_.jsx("div",{className:"sidebar right",children:_.jsxs("div",{className:"news",children:[_.jsx("h3",{children:"Site News"}),_.jsx("p",{children:"Faction Seven content platform up and running! Main page features and modules fully (mostly) functional."})]})}),_.jsxs("div",{className:"showcases",children:[_.jsxs("div",{className:"showcase-2",children:[_.jsxs("h4",{children:['"R E L A X" by'," ",_.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),_.jsx("div",{className:"youtube-embed-container",children:_.jsx("iframe",{className:"responsive-image",src:"https://drive.google.com/file/d/1PhvScbMV0aXOONmudS8SIr4F_KJiajKM/preview",title:"image",allow:"autoplay",allowFullScreen:!0})})]}),_.jsxs("div",{className:"showcase-3",children:[_.jsxs("h4",{children:["Nevereign: Shadow Rising by"," ",_.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),_.jsx("div",{className:"text-embed-container",children:_.jsx("iframe",{src:"https://docs.google.com/document/d/1yEb24TJz9DchfmO80x89cFe9qKe9uPGzHoAASy4KsNk/preview",title:"Nevereign: Shadow Rising",width:"640",height:"480",allow:"autoplay"})}),"Read the whole story"," ",_.jsx("a",{href:"https://Patreon.com/FactionSevenEntertainment",style:{color:"red"},children:"here"}),"."]})]}),_.jsx("div",{className:"spotlight-list",children:_.jsxs("ul",{children:[_.jsx("li",{children:_.jsx("a",{href:"#",children:"[4] Iris.exe – Short horror game"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[5] Selene’s Vault – Digital comic"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[6] Synth Sketches – Concept art"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[7] Rooftop Hymns – Poetry"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[8] Last Light – Animated short"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[9] Outskirts – Creator podcast"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[10] F7 Monthly Jam Results"})})]})})]})}const lv={Government:0,Infrastructure:0,Security:0,Commerce:0,Industry:0,Research:0,Background:0};function RC(){const[r,e]=H.useState(""),[t,i]=H.useState("Government"),[o,l]=H.useState(""),[h,f]=H.useState(""),{setCurrentUser:m}=Pl(),y=xc(),E=async()=>{if(!r)return f("Please enter a name.");try{const P=await Pw(Ed(Dn,"users"),{name:r,faction:t,kudos:lv});f(`User created with auto-ID: ${P.id}`)}catch(P){console.error(P),f("Error creating user.")}},T=async()=>{if(!r||!o)return f("Enter both name and custom ID.");try{await Cw(gr(Dn,"users",o),{name:r,faction:t,kudos:lv}),f(`User created with custom ID: ${o}`)}catch(P){console.error(P),f("Error creating user.")}},S=async()=>{if(!o)return f("Enter your user ID to login.");try{const P=gr(Dn,"users",o),z=await Js(P);if(z.exists()){const V=z.data();m({id:o,...V}),f(`Logged in as ${V.name} (Faction: ${V.faction})`),y(`/profile/${o}`)}else f("No such user found.")}catch(P){console.error(P),f("Login failed.")}};return _.jsxs("div",{style:{maxWidth:"400px",margin:"auto",padding:"1rem"},children:[_.jsx("h2",{children:"Create New User"}),_.jsx("label",{children:"Name:"}),_.jsx("input",{style:{color:"black"},type:"text",value:r,onChange:P=>e(P.target.value),placeholder:"Enter your name"}),_.jsx("br",{}),_.jsx("label",{children:"Faction:"}),_.jsxs("select",{style:{color:"black"},value:t,onChange:P=>i(P.target.value),children:[_.jsx("option",{value:"Government",children:"Government"}),_.jsx("option",{value:"Infrastructure",children:"Infrastructure"}),_.jsx("option",{value:"Security",children:"Security"}),_.jsx("option",{value:"Commerce",children:"Commerce"}),_.jsx("option",{value:"Industry",children:"Industry"}),_.jsx("option",{value:"Research",children:"Research"}),_.jsx("option",{value:"Background",children:"Background"})]}),_.jsx("br",{}),_.jsx("label",{children:"Custom ID (optional):"}),_.jsx("input",{style:{color:"black"},type:"text",value:o,onChange:P=>l(P.target.value),placeholder:"Optional custom ID"}),_.jsx("br",{}),_.jsxs("div",{style:{marginTop:"1rem"},children:[_.jsx("button",{onClick:E,children:"Create User (Auto-ID)"}),_.jsx("button",{onClick:T,style:{marginLeft:"1rem"},children:"Create User (Custom ID)"})]}),_.jsx("div",{style:{marginTop:"1rem"},children:_.jsx("button",{onClick:S,children:"Login"})}),h&&_.jsx("p",{style:{marginTop:"1rem"},children:h})]})}function CC(){return _.jsxs("div",{style:{color:"red"},children:[_.jsx("h1",{children:"Active Projects"}),_.jsx("p",{children:"List of ongoing projects will go here..."})]})}/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:Ww,setPrototypeOf:uv,isFrozen:PC,getPrototypeOf:kC,getOwnPropertyDescriptor:bC}=Object;let{freeze:pn,seal:yr,create:qw}=Object,{apply:Rd,construct:Cd}=typeof Reflect<"u"&&Reflect;pn||(pn=function(e){return e});yr||(yr=function(e){return e});Rd||(Rd=function(e,t,i){return e.apply(t,i)});Cd||(Cd=function(e,t){return new e(...t)});const Gu=mn(Array.prototype.forEach),NC=mn(Array.prototype.lastIndexOf),cv=mn(Array.prototype.pop),qa=mn(Array.prototype.push),DC=mn(Array.prototype.splice),ic=mn(String.prototype.toLowerCase),qf=mn(String.prototype.toString),hv=mn(String.prototype.match),Ga=mn(String.prototype.replace),MC=mn(String.prototype.indexOf),VC=mn(String.prototype.trim),Nr=mn(Object.prototype.hasOwnProperty),dn=mn(RegExp.prototype.test),Ka=OC(TypeError);function mn(r){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return Rd(r,e,i)}}function OC(r){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Cd(r,t)}}function De(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ic;uv&&uv(r,null);let i=e.length;for(;i--;){let o=e[i];if(typeof o=="string"){const l=t(o);l!==o&&(PC(e)||(e[i]=l),o=l)}r[o]=!0}return r}function LC(r){for(let e=0;e<r.length;e++)Nr(r,e)||(r[e]=null);return r}function Ni(r){const e=qw(null);for(const[t,i]of Ww(r))Nr(r,t)&&(Array.isArray(i)?e[t]=LC(i):i&&typeof i=="object"&&i.constructor===Object?e[t]=Ni(i):e[t]=i);return e}function Qa(r,e){for(;r!==null;){const i=bC(r,e);if(i){if(i.get)return mn(i.get);if(typeof i.value=="function")return mn(i.value)}r=kC(r)}function t(){return null}return t}const fv=pn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Gf=pn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Kf=pn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),FC=pn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Qf=pn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),jC=pn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),dv=pn(["#text"]),pv=pn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Yf=pn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mv=pn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ku=pn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),zC=yr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),UC=yr(/<%[\w\W]*|[\w\W]*%>/gm),BC=yr(/\$\{[\w\W]*/gm),HC=yr(/^data-[\-\w.\u00B7-\uFFFF]+$/),$C=yr(/^aria-[\-\w]+$/),Gw=yr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),WC=yr(/^(?:\w+script|data):/i),qC=yr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Kw=yr(/^html$/i),GC=yr(/^[a-z][.\w]*(-[.\w]+)+$/i);var gv=Object.freeze({__proto__:null,ARIA_ATTR:$C,ATTR_WHITESPACE:qC,CUSTOM_ELEMENT:GC,DATA_ATTR:HC,DOCTYPE_NAME:Kw,ERB_EXPR:UC,IS_ALLOWED_URI:Gw,IS_SCRIPT_OR_DATA:WC,MUSTACHE_EXPR:zC,TMPLIT_EXPR:BC});const Ya={element:1,text:3,progressingInstruction:7,comment:8,document:9},KC=function(){return typeof window>"u"?null:window},QC=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(i=t.getAttribute(o));const l="dompurify"+(i?"#"+i:"");try{return e.createPolicy(l,{createHTML(h){return h},createScriptURL(h){return h}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}},yv=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Qw(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:KC();const e=ye=>Qw(ye);if(e.version="3.2.6",e.removed=[],!r||!r.document||r.document.nodeType!==Ya.document||!r.Element)return e.isSupported=!1,e;let{document:t}=r;const i=t,o=i.currentScript,{DocumentFragment:l,HTMLTemplateElement:h,Node:f,Element:m,NodeFilter:y,NamedNodeMap:E=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:T,DOMParser:S,trustedTypes:P}=r,z=m.prototype,V=Qa(z,"cloneNode"),F=Qa(z,"remove"),$=Qa(z,"nextSibling"),ee=Qa(z,"childNodes"),Z=Qa(z,"parentNode");if(typeof h=="function"){const ye=t.createElement("template");ye.content&&ye.content.ownerDocument&&(t=ye.content.ownerDocument)}let ie,ae="";const{implementation:Ee,createNodeIterator:b,createDocumentFragment:x,getElementsByTagName:R}=t,{importNode:D}=i;let N=yv();e.isSupported=typeof Ww=="function"&&typeof Z=="function"&&Ee&&Ee.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:j,ERB_EXPR:C,TMPLIT_EXPR:et,DATA_ATTR:Dt,ARIA_ATTR:Mt,IS_SCRIPT_OR_DATA:We,ATTR_WHITESPACE:oe,CUSTOM_ELEMENT:we}=gv;let{IS_ALLOWED_URI:ue}=gv,L=null;const K=De({},[...fv,...Gf,...Kf,...Qf,...dv]);let le=null;const ke=De({},[...pv,...Yf,...mv,...Ku]);let ve=Object.seal(qw(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),be=null,Oe=null,Fe=!0,qe=!0,yt=!1,Gn=!0,Mn=!1,Vn=!0,an=!1,Or=!1,ci=!1,Kn=!1,hi=!1,vr=!1,Qn=!0,Yn=!1;const xs="user-content-";let Lr=!0,Xn=!1,Jn={},Xe=null;const pt=De({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Zn=null;const zi=De({},["audio","video","img","source","image","track"]);let er=null;const Fr=De({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),tr="http://www.w3.org/1998/Math/MathML",jr="http://www.w3.org/2000/svg",ln="http://www.w3.org/1999/xhtml";let nr=ln,fi=!1,di=null;const pi=De({},[tr,jr,ln],qf);let _r=De({},["mi","mo","mn","ms","mtext"]),wr=De({},["annotation-xml"]);const gn=De({},["title","style","font","a","script"]);let Qt=null;const Ui=["application/xhtml+xml","text/html"],rr="text/html";let st=null,yn=null;const Is=t.createElement("form"),ir=function(M){return M instanceof RegExp||M instanceof Function},mi=function(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(yn&&yn===M)){if((!M||typeof M!="object")&&(M={}),M=Ni(M),Qt=Ui.indexOf(M.PARSER_MEDIA_TYPE)===-1?rr:M.PARSER_MEDIA_TYPE,st=Qt==="application/xhtml+xml"?qf:ic,L=Nr(M,"ALLOWED_TAGS")?De({},M.ALLOWED_TAGS,st):K,le=Nr(M,"ALLOWED_ATTR")?De({},M.ALLOWED_ATTR,st):ke,di=Nr(M,"ALLOWED_NAMESPACES")?De({},M.ALLOWED_NAMESPACES,qf):pi,er=Nr(M,"ADD_URI_SAFE_ATTR")?De(Ni(Fr),M.ADD_URI_SAFE_ATTR,st):Fr,Zn=Nr(M,"ADD_DATA_URI_TAGS")?De(Ni(zi),M.ADD_DATA_URI_TAGS,st):zi,Xe=Nr(M,"FORBID_CONTENTS")?De({},M.FORBID_CONTENTS,st):pt,be=Nr(M,"FORBID_TAGS")?De({},M.FORBID_TAGS,st):Ni({}),Oe=Nr(M,"FORBID_ATTR")?De({},M.FORBID_ATTR,st):Ni({}),Jn=Nr(M,"USE_PROFILES")?M.USE_PROFILES:!1,Fe=M.ALLOW_ARIA_ATTR!==!1,qe=M.ALLOW_DATA_ATTR!==!1,yt=M.ALLOW_UNKNOWN_PROTOCOLS||!1,Gn=M.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Mn=M.SAFE_FOR_TEMPLATES||!1,Vn=M.SAFE_FOR_XML!==!1,an=M.WHOLE_DOCUMENT||!1,Kn=M.RETURN_DOM||!1,hi=M.RETURN_DOM_FRAGMENT||!1,vr=M.RETURN_TRUSTED_TYPE||!1,ci=M.FORCE_BODY||!1,Qn=M.SANITIZE_DOM!==!1,Yn=M.SANITIZE_NAMED_PROPS||!1,Lr=M.KEEP_CONTENT!==!1,Xn=M.IN_PLACE||!1,ue=M.ALLOWED_URI_REGEXP||Gw,nr=M.NAMESPACE||ln,_r=M.MATHML_TEXT_INTEGRATION_POINTS||_r,wr=M.HTML_INTEGRATION_POINTS||wr,ve=M.CUSTOM_ELEMENT_HANDLING||{},M.CUSTOM_ELEMENT_HANDLING&&ir(M.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ve.tagNameCheck=M.CUSTOM_ELEMENT_HANDLING.tagNameCheck),M.CUSTOM_ELEMENT_HANDLING&&ir(M.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ve.attributeNameCheck=M.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),M.CUSTOM_ELEMENT_HANDLING&&typeof M.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ve.allowCustomizedBuiltInElements=M.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Mn&&(qe=!1),hi&&(Kn=!0),Jn&&(L=De({},dv),le=[],Jn.html===!0&&(De(L,fv),De(le,pv)),Jn.svg===!0&&(De(L,Gf),De(le,Yf),De(le,Ku)),Jn.svgFilters===!0&&(De(L,Kf),De(le,Yf),De(le,Ku)),Jn.mathMl===!0&&(De(L,Qf),De(le,mv),De(le,Ku))),M.ADD_TAGS&&(L===K&&(L=Ni(L)),De(L,M.ADD_TAGS,st)),M.ADD_ATTR&&(le===ke&&(le=Ni(le)),De(le,M.ADD_ATTR,st)),M.ADD_URI_SAFE_ATTR&&De(er,M.ADD_URI_SAFE_ATTR,st),M.FORBID_CONTENTS&&(Xe===pt&&(Xe=Ni(Xe)),De(Xe,M.FORBID_CONTENTS,st)),Lr&&(L["#text"]=!0),an&&De(L,["html","head","body"]),L.table&&(De(L,["tbody"]),delete be.tbody),M.TRUSTED_TYPES_POLICY){if(typeof M.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ka('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof M.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ka('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ie=M.TRUSTED_TYPES_POLICY,ae=ie.createHTML("")}else ie===void 0&&(ie=QC(P,o)),ie!==null&&typeof ae=="string"&&(ae=ie.createHTML(""));pn&&pn(M),yn=M}},ot=De({},[...Gf,...Kf,...FC]),gi=De({},[...Qf,...jC]),On=function(M){let te=Z(M);(!te||!te.tagName)&&(te={namespaceURI:nr,tagName:"template"});const fe=ic(M.tagName),Ke=ic(te.tagName);return di[M.namespaceURI]?M.namespaceURI===jr?te.namespaceURI===ln?fe==="svg":te.namespaceURI===tr?fe==="svg"&&(Ke==="annotation-xml"||_r[Ke]):!!ot[fe]:M.namespaceURI===tr?te.namespaceURI===ln?fe==="math":te.namespaceURI===jr?fe==="math"&&wr[Ke]:!!gi[fe]:M.namespaceURI===ln?te.namespaceURI===jr&&!wr[Ke]||te.namespaceURI===tr&&!_r[Ke]?!1:!gi[fe]&&(gn[fe]||!ot[fe]):!!(Qt==="application/xhtml+xml"&&di[M.namespaceURI]):!1},Vt=function(M){qa(e.removed,{element:M});try{Z(M).removeChild(M)}catch{F(M)}},vn=function(M,te){try{qa(e.removed,{attribute:te.getAttributeNode(M),from:te})}catch{qa(e.removed,{attribute:null,from:te})}if(te.removeAttribute(M),M==="is")if(Kn||hi)try{Vt(te)}catch{}else try{te.setAttribute(M,"")}catch{}},yi=function(M){let te=null,fe=null;if(ci)M="<remove></remove>"+M;else{const Re=hv(M,/^[\r\n\t ]+/);fe=Re&&Re[0]}Qt==="application/xhtml+xml"&&nr===ln&&(M='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+M+"</body></html>");const Ke=ie?ie.createHTML(M):M;if(nr===ln)try{te=new S().parseFromString(Ke,Qt)}catch{}if(!te||!te.documentElement){te=Ee.createDocument(nr,"template",null);try{te.documentElement.innerHTML=fi?ae:Ke}catch{}}const wt=te.body||te.documentElement;return M&&fe&&wt.insertBefore(t.createTextNode(fe),wt.childNodes[0]||null),nr===ln?R.call(te,an?"html":"body")[0]:an?te.documentElement:wt},_n=function(M){return b.call(M.ownerDocument||M,M,y.SHOW_ELEMENT|y.SHOW_COMMENT|y.SHOW_TEXT|y.SHOW_PROCESSING_INSTRUCTION|y.SHOW_CDATA_SECTION,null)},vi=function(M){return M instanceof T&&(typeof M.nodeName!="string"||typeof M.textContent!="string"||typeof M.removeChild!="function"||!(M.attributes instanceof E)||typeof M.removeAttribute!="function"||typeof M.setAttribute!="function"||typeof M.namespaceURI!="string"||typeof M.insertBefore!="function"||typeof M.hasChildNodes!="function")},io=function(M){return typeof f=="function"&&M instanceof f};function Yt(ye,M,te){Gu(ye,fe=>{fe.call(e,M,te,yn)})}const Rs=function(M){let te=null;if(Yt(N.beforeSanitizeElements,M,null),vi(M))return Vt(M),!0;const fe=st(M.nodeName);if(Yt(N.uponSanitizeElement,M,{tagName:fe,allowedTags:L}),Vn&&M.hasChildNodes()&&!io(M.firstElementChild)&&dn(/<[/\w!]/g,M.innerHTML)&&dn(/<[/\w!]/g,M.textContent)||M.nodeType===Ya.progressingInstruction||Vn&&M.nodeType===Ya.comment&&dn(/<[/\w]/g,M.data))return Vt(M),!0;if(!L[fe]||be[fe]){if(!be[fe]&&zr(fe)&&(ve.tagNameCheck instanceof RegExp&&dn(ve.tagNameCheck,fe)||ve.tagNameCheck instanceof Function&&ve.tagNameCheck(fe)))return!1;if(Lr&&!Xe[fe]){const Ke=Z(M)||M.parentNode,wt=ee(M)||M.childNodes;if(wt&&Ke){const Re=wt.length;for(let Rt=Re-1;Rt>=0;--Rt){const Ut=V(wt[Rt],!0);Ut.__removalCount=(M.__removalCount||0)+1,Ke.insertBefore(Ut,$(M))}}}return Vt(M),!0}return M instanceof m&&!On(M)||(fe==="noscript"||fe==="noembed"||fe==="noframes")&&dn(/<\/no(script|embed|frames)/i,M.innerHTML)?(Vt(M),!0):(Mn&&M.nodeType===Ya.text&&(te=M.textContent,Gu([j,C,et],Ke=>{te=Ga(te,Ke," ")}),M.textContent!==te&&(qa(e.removed,{element:M.cloneNode()}),M.textContent=te)),Yt(N.afterSanitizeElements,M,null),!1)},wn=function(M,te,fe){if(Qn&&(te==="id"||te==="name")&&(fe in t||fe in Is))return!1;if(!(qe&&!Oe[te]&&dn(Dt,te))){if(!(Fe&&dn(Mt,te))){if(!le[te]||Oe[te]){if(!(zr(M)&&(ve.tagNameCheck instanceof RegExp&&dn(ve.tagNameCheck,M)||ve.tagNameCheck instanceof Function&&ve.tagNameCheck(M))&&(ve.attributeNameCheck instanceof RegExp&&dn(ve.attributeNameCheck,te)||ve.attributeNameCheck instanceof Function&&ve.attributeNameCheck(te))||te==="is"&&ve.allowCustomizedBuiltInElements&&(ve.tagNameCheck instanceof RegExp&&dn(ve.tagNameCheck,fe)||ve.tagNameCheck instanceof Function&&ve.tagNameCheck(fe))))return!1}else if(!er[te]){if(!dn(ue,Ga(fe,oe,""))){if(!((te==="src"||te==="xlink:href"||te==="href")&&M!=="script"&&MC(fe,"data:")===0&&Zn[M])){if(!(yt&&!dn(We,Ga(fe,oe,"")))){if(fe)return!1}}}}}}return!0},zr=function(M){return M!=="annotation-xml"&&hv(M,we)},En=function(M){Yt(N.beforeSanitizeAttributes,M,null);const{attributes:te}=M;if(!te||vi(M))return;const fe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:le,forceKeepAttr:void 0};let Ke=te.length;for(;Ke--;){const wt=te[Ke],{name:Re,namespaceURI:Rt,value:Ut}=wt,Tn=st(Re),Xt=Ut;let mt=Re==="value"?Xt:VC(Xt);if(fe.attrName=Tn,fe.attrValue=mt,fe.keepAttr=!0,fe.forceKeepAttr=void 0,Yt(N.uponSanitizeAttribute,M,fe),mt=fe.attrValue,Yn&&(Tn==="id"||Tn==="name")&&(vn(Re,M),mt=xs+mt),Vn&&dn(/((--!?|])>)|<\/(style|title)/i,mt)){vn(Re,M);continue}if(fe.forceKeepAttr)continue;if(!fe.keepAttr){vn(Re,M);continue}if(!Gn&&dn(/\/>/i,mt)){vn(Re,M);continue}Mn&&Gu([j,C,et],Ur=>{mt=Ga(mt,Ur," ")});const Cs=st(M.nodeName);if(!wn(Cs,Tn,mt)){vn(Re,M);continue}if(ie&&typeof P=="object"&&typeof P.getAttributeType=="function"&&!Rt)switch(P.getAttributeType(Cs,Tn)){case"TrustedHTML":{mt=ie.createHTML(mt);break}case"TrustedScriptURL":{mt=ie.createScriptURL(mt);break}}if(mt!==Xt)try{Rt?M.setAttributeNS(Rt,Re,mt):M.setAttribute(Re,mt),vi(M)?Vt(M):cv(e.removed)}catch{vn(Re,M)}}Yt(N.afterSanitizeAttributes,M,null)},so=function ye(M){let te=null;const fe=_n(M);for(Yt(N.beforeSanitizeShadowDOM,M,null);te=fe.nextNode();)Yt(N.uponSanitizeShadowNode,te,null),Rs(te),En(te),te.content instanceof l&&ye(te.content);Yt(N.afterSanitizeShadowDOM,M,null)};return e.sanitize=function(ye){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=null,fe=null,Ke=null,wt=null;if(fi=!ye,fi&&(ye="<!-->"),typeof ye!="string"&&!io(ye))if(typeof ye.toString=="function"){if(ye=ye.toString(),typeof ye!="string")throw Ka("dirty is not a string, aborting")}else throw Ka("toString is not a function");if(!e.isSupported)return ye;if(Or||mi(M),e.removed=[],typeof ye=="string"&&(Xn=!1),Xn){if(ye.nodeName){const Ut=st(ye.nodeName);if(!L[Ut]||be[Ut])throw Ka("root node is forbidden and cannot be sanitized in-place")}}else if(ye instanceof f)te=yi("<!---->"),fe=te.ownerDocument.importNode(ye,!0),fe.nodeType===Ya.element&&fe.nodeName==="BODY"||fe.nodeName==="HTML"?te=fe:te.appendChild(fe);else{if(!Kn&&!Mn&&!an&&ye.indexOf("<")===-1)return ie&&vr?ie.createHTML(ye):ye;if(te=yi(ye),!te)return Kn?null:vr?ae:""}te&&ci&&Vt(te.firstChild);const Re=_n(Xn?ye:te);for(;Ke=Re.nextNode();)Rs(Ke),En(Ke),Ke.content instanceof l&&so(Ke.content);if(Xn)return ye;if(Kn){if(hi)for(wt=x.call(te.ownerDocument);te.firstChild;)wt.appendChild(te.firstChild);else wt=te;return(le.shadowroot||le.shadowrootmode)&&(wt=D.call(i,wt,!0)),wt}let Rt=an?te.outerHTML:te.innerHTML;return an&&L["!doctype"]&&te.ownerDocument&&te.ownerDocument.doctype&&te.ownerDocument.doctype.name&&dn(Kw,te.ownerDocument.doctype.name)&&(Rt="<!DOCTYPE "+te.ownerDocument.doctype.name+`>
`+Rt),Mn&&Gu([j,C,et],Ut=>{Rt=Ga(Rt,Ut," ")}),ie&&vr?ie.createHTML(Rt):Rt},e.setConfig=function(){let ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};mi(ye),Or=!0},e.clearConfig=function(){yn=null,Or=!1},e.isValidAttribute=function(ye,M,te){yn||mi({});const fe=st(ye),Ke=st(M);return wn(fe,Ke,te)},e.addHook=function(ye,M){typeof M=="function"&&qa(N[ye],M)},e.removeHook=function(ye,M){if(M!==void 0){const te=NC(N[ye],M);return te===-1?void 0:DC(N[ye],te,1)[0]}return cv(N[ye])},e.removeHooks=function(ye){N[ye]=[]},e.removeAllHooks=function(){N=yv()},e}var YC=Qw();function vv(r){if(!r)return"#fff";r=r.replace("#","");const e=parseInt(r.substr(0,2),16),t=parseInt(r.substr(2,2),16),i=parseInt(r.substr(4,2),16);return(e*299+t*587+i*114)/1e3>=128?"#000":"#fff"}function XC({initialBio:r="",editable:e=!1,isOwner:t=!1,onSave:i,backgroundColor:o="#222222",textColor:l,fontFamily:h}){const f=xc(),[m,y]=H.useState(r),[E,T]=H.useState(!1),S=async()=>{i&&await i(m),T(!1)},P=()=>{if(!m)return"No bio yet.";const V=YC.sanitize(m.replace(/href="(\/[^"]*)"/g,'data-internal="$1" href="$1"'));return _.jsx("span",{style:{color:l||vv(o),fontFamily:h||"inherit"},dangerouslySetInnerHTML:{__html:V},onClick:F=>{const $=F.target.getAttribute("data-internal");$&&(F.preventDefault(),f($))}})},z=l||vv(o);return _.jsx("div",{style:{backgroundColor:o,color:z,fontFamily:h||"inherit",padding:"1rem",borderRadius:"6px",margin:"1rem 0"},children:E?_.jsxs(_.Fragment,{children:[_.jsx("textarea",{value:m,onChange:V=>y(V.target.value),style:{width:"100%",minHeight:"80px",margin:"0.5rem 0",padding:"0.5rem",borderRadius:"6px",backgroundColor:o,color:z,fontFamily:h||"inherit",border:"1px solid #555"}}),e&&t&&_.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:S,style:{marginTop:"0.5rem",padding:"0.5rem 1rem",background:"#444",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Save"}),_.jsx("button",{onClick:()=>T(!1),style:{marginLeft:"0.5rem",padding:"0.5rem 1rem",background:"gray",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cancel"})]})]}):_.jsxs(_.Fragment,{children:[P(),e&&t&&!E&&_.jsx("button",{onClick:()=>T(!0),style:{marginTop:"0.5rem",padding:"0.5rem 1rem",background:"#444",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Edit"})]})})}function JC(){const{uid:r}=kv(),{currentUser:e}=Pl(),[t,i]=H.useState(null),[o,l]=H.useState(!0),[h,f]=H.useState("#222222"),[m,y]=H.useState(""),[E,T]=H.useState("#222222"),[S,P]=H.useState("none"),[z,V]=H.useState(!1),F=e?.id===r;H.useEffect(()=>{if(!r)return;i(null),l(!0),(async()=>{try{const ae=gr(Dn,"users",r),Ee=await Js(ae);if(Ee.exists()){const b=Ee.data();b.id=r,b.unlockedThemes=b.unlockedThemes||Object.keys(At),i(b),f(b.themeColor||"#222222"),y(b.bannerUrl||""),T(b.bannerUrl||b.themeColor||"#222222"),P(b.themeId||"none")}else i(null)}catch(ae){console.error("Error fetching profile:",ae),i(null)}finally{l(!1)}})()},[r]),H.useEffect(()=>{if(S&&At[S]){const ie=document.querySelector(".profile-page-wrapper");ie&&Ad(At[S],h,ie)}},[S,h]);const $=async()=>{if(r)try{const ie=gr(Dn,"users",r);await Sd(ie,{themeColor:h,bannerUrl:m,themeId:S}),i(ae=>({...ae,themeColor:h,bannerUrl:m,themeId:S})),T(m),At[S]&&Ad(At[S],h),V(!1)}catch(ie){console.error("Error saving profile:",ie)}},ee=async ie=>{if(r)try{const ae=gr(Dn,"users",r);await Sd(ae,{bio:ie}),i(Ee=>({...Ee,bio:ie}))}catch(ae){console.error("Error saving bio:",ae)}};if(o)return _.jsx("p",{children:"Loading..."});if(!t)return _.jsx("p",{children:"User not found."});const Z=At[S]?.className||"background";return _.jsxs("div",{className:`profile-page-wrapper ${Z}`,children:[_.jsx("div",{className:"creator-banner",style:{backgroundColor:E?void 0:h,backgroundImage:E?`url(${E})`:void 0},children:z&&F&&_.jsx("input",{type:"text",placeholder:"Banner Image URL",value:m,onChange:ie=>{y(ie.target.value),T(ie.target.value)},style:{position:"absolute",bottom:"10px",left:"10px",width:"70%",padding:"0.3rem",borderRadius:"6px",border:"1px solid #555",background:"#222",color:"#fff"}})}),_.jsxs("div",{style:{display:"flex",gap:"2rem"},children:[_.jsxs("div",{style:{flex:"1",background:"#222",padding:"1rem",borderRadius:"8px"},children:[_.jsx("h2",{children:"Kudos"}),_.jsx("ul",{children:t.kudos&&Object.entries(t.kudos).map(([ie,ae])=>_.jsxs("li",{children:[_.jsxs("strong",{children:[ie,":"]})," ",ae]},ie))})]}),_.jsxs("div",{style:{flex:"2"},children:[_.jsx("h1",{style:{marginBottom:"0.5rem"},children:t.name}),_.jsxs("p",{children:[_.jsx("strong",{children:"Faction:"})," ",t.faction]}),_.jsx(XC,{initialBio:t.bio||"",isOwner:F,editable:F,onSave:ee,themeColor:At[S]?.preview.color||"#fff",textColor:At[S]?.preview.color||"#fff",backgroundColor:At[S]?.preview.background||"#222"}),F&&!z&&_.jsx("button",{onClick:()=>V(!0),children:"Edit Profile"}),F&&z&&_.jsxs("div",{style:{marginTop:"1rem"},children:[_.jsxs("label",{children:["Theme Color:"," ",_.jsx("input",{type:"color",value:h,onChange:ie=>f(ie.target.value)})]}),_.jsx(Ec,{unlockedThemes:t.unlockedThemes||Object.keys(At),selectedTheme:S,onChange:P,customColor:h,onCustomColorChange:f}),_.jsx("button",{onClick:$,children:"Save Profile"}),_.jsx("button",{onClick:()=>V(!1),children:"Cancel"})]}),!F&&_.jsx("p",{style:{marginTop:"1rem"},children:"View-only profile"})]})]})]})}function ZC({type:r,src:e,title:t=""}){switch(r){case"youtube":return _.jsx("div",{className:"media-container youtube",children:_.jsx("iframe",{className:"youtube-embed",src:e,title:t,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})});case"gdrive":return _.jsx("div",{className:"media-container drive",children:_.jsx("iframe",{className:"drive-embed",src:e,title:t,allow:"autoplay",allowFullScreen:!0})});case"image":return _.jsx("div",{className:"media-container image",children:_.jsx("img",{src:e,alt:t,className:"responsive-image"})});case"text":return _.jsx("div",{className:"media-container text",children:_.jsx("p",{className:"text-content",children:e})});case"webpage":return _.jsx("div",{className:"media-container webpage",children:_.jsx("iframe",{src:e,title:t,className:"webpage-embed"})});case"audio":return _.jsx("div",{className:"media-container audio",children:_.jsxs("audio",{controls:!0,children:[_.jsx("source",{src:e}),"Your browser does not support audio playback."]})});case"pdf":return _.jsx("div",{className:"media-container pdf",children:_.jsx("iframe",{src:e,title:t,className:"pdf-embed"})});default:return _.jsxs("p",{children:["Unsupported media type: ",r]})}}async function _v(r,e,t=1){const i=gr(Dn,"users",r);(await Js(i)).exists()&&await Sd(i,{[`kudos.${e}`]:CI(t)})}async function eP(r){const e=gr(Dn,"users",r),t=await Js(e);if(!t.exists())return null;const i=t.data().kudos||{},o=[];for(const[l,h]of Object.entries(i))h>=500?o.push({faction:l,tier:"Gold"}):h>=200?o.push({faction:l,tier:"Silver"}):h>=50&&o.push({faction:l,tier:"Bronze"});return o}const tP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAIAAAAnuUURAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAFfSURBVGhD7ZdbroMwDETJ3RerZ2HcqUItN09jhj6UnJ9GFeDTmYBo2LZt+Xr+jk8e67oeKx58yzsgW8Yg6XEOmeVNMC2l6H3fuaXPxnkMZplsRO7WnI3z4FgWyyWWPhvnQbBs1MoqfTbO46plt1BK6QNkaQ/pYpye/5AyEm2GEOJag++PFQZkBzgmnrDUcnERyT3kgOJvEOyj+5Y1OU1iE49sK2q6DlVLi1yCaOEUu6KmJpNaOuQ0PrkiL2LdtD8ODB9PoptE0Yab4xJPt2rjDuLVdel6ngU5N7Hq3z1GRCjfml3Xmpxw4knUQHsUb6CiaFdO6FsKNd3EoGgJ8rDto09YClo3D6lmKTgmeiwj4mrM0j0I+N+JMNU++IoiGOD9EiCkOzZiwhhZvgeCZbv063WD2TgPjmWtdErdYDbOg2aZl86qG8zGeYxnqbcmcVOC2TgPsmUsmls3+IUsl+UfkRT2tZ8U3h8AAAAASUVORK5CYII=",nP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAIAAAAnuUURAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAIXSURBVGhD7ZcxUsMwEEVtDpCBJhUlAz0nyVFzEnoYSnqYXCB852s2G2ktyYpQxIxfYWyJWM9fXlsej8fj0D137m/frJb1+B+W1apnHEe3Nwz6nGy/cpRrLS/kDtN23JwOLpFR5P8XjVtueR7vJEeoqFuA6Q3yhy60dPNo2XiNAnqN68kbvdwyU1GC1F0/hz22D4+7zNEX1zj8GKTGVPz4PLdLF/yoSMJTmSyzxEnf36YdGVWraNBOdDv97jc7Hn5/7dGbI7pgxkXx5dWNTRU5JOKHdiBdniJBI1pwnXGN3CxFEchOkrgiQVcy0awstSJ4fnI7+TAzd3CJXEAk0XSW1yuCOUUhnmgiS08RlFkmYaLAfDzFLENF8EeWmnDqu1sTSaia2SybzbWJF2duls0UzSyzLFumaGJb6ulurxg+lbqrHpOEZfsgzed/p1l6NRSzvHnRCL4l7ll923bC2ZJ+KG1WN1eHnTC9exjeTV7Zc/jvHp1fJ4Svn75qHF8js6sNxmmSP+nyuUOW3i38+XY7KWKJia2e8WqWGs84EyqCcCHsVm5zBQSa1RDnOgwSuPsSrcB8+pQFU4apCPxVcPtQpVzmFIFvSegKQt1arrqWI37EthREV77/iwkfMZQjCY14tyC6QtzbfOxpLZA5NMi11MAYvwq9kxSMRUos29PXG3KO1bIeq2U9Vst6rJb1WC3rsVrWYhh+AT8GPEQxrEI6AAAAAElFTkSuQmCC",rP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAIAAAAnuUURAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAJ7SURBVGhD7dXNcdswEMVxNZGiUoxm0oGuOaeFuI7koEs6SRnKs//IywYfBEWuHXnCNzsyAYLY34DS+HR7DzmUeTmUeclXnk6vsGf5mxQRr9drOvT/U0JULpdLLjRfKeLjKuNBkkRozkYtkWRBM5WFFvJAyhGRpEDzlRpycT6fGZZ1O7J3C4hWavjpyzegKJksq7dm1/MVUamUWdAEJQ4FIlVB/5lygRihzh7oLqV6GzpSprz0jU+q5fJBUlnQLY9BdG9lqtwJTVCOiBRQ542UdLWyS/zx/SfFcD90i1JERf0EbZX4vn58MvStlW0/sypiVBq6+dt5x2ptzRESiJ9PHyLIRM1HpaHOXdD7lNrdUA1FoYCidNlHWakT5atS9l2RtUu1aXuQqkiM1eVuht6hpAGxsi1Y+uTVR2i7Sdl9llXrtN3zrzq8a7qicVVDlaFevw06XwSx7DomVgWuVao2QDOVmoHFlxWfb7ms1FeTDUuncSYrFogqIyh8Ls3ExbEMJVPoXKldgEYiLF/zGYkcZFzsIRWhu5R6uHuQ7iqNu2ros/TrZj7OMKmKSmUZOrzX7sLuNKY3Vc27POmVplProauUOtFWSft4QnzG0gynaGhc4xbTn1H/hh6QzK/bREAuC2yl7GANkxWRAoqSRkXwd4ZKPYMSYqvRJL2p6hZ343BU2v/53+XicXZmIToaqlOliW00qZlWqapWdot2y9B6Sov8ohUNHWnK1Suk9HuJhkXzOx2l1kXonqzfx2epTJS6Pd1XC0YpKwZZWMDjiq0VtK/kmYW8bP5nGUPSnSlXzfUoQ6VuPFqKrDrLh82hzMuhzMuhzMuhzMrt9gtPJt0KlwCogAAAAABJRU5ErkJggg==",iP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAIAAAAnuUURAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAIDSURBVGhD7Zm9TgJBEMfRwsJCSSyp7K2priYhFpRq4wMYn0Br38D4ADRaSkWkppHa3kZKoza258AMx3of+/k/PXL3ywZ2LmH43ezd7S5sxXHcqjzb8l5tamb5OR9RkwAN4Lpkufb8XMLOsN0ZcB9FaC1ZcXZ3L2FnuHhFFzW0lpPrU+mt6A3Gk1G/d/MgMQLAiJMomUnAdL+kAwJz91DxqEmAViQwT3Uq527/kjpHh+/wW4fA1JIUo51jai+vB3IICsByOp1+j28lWIbSwxFqSU5RFEmwHHEK4aJBlinFBLiov2WRIoMV9bTUKzJAUR9LG0UGJepsaa/IQESD7h6V9dxTAm6WroVkwsvpYOmnyASK2lqGKDIholaW4YqMt6jZEqXI+IkaLLGKjIeoztJJMb1c1+IqWmhZRhVVnETzLctWZOxFf+8oZvvSWe1ZVWTHndnW5GwjsxvIZeZszoRF8uINk2KpKBKpGc/pstNgSFsgurZUS2JwyisnfyT3h40kc27apMCabV2+ZZb1F+Sdrt6SyCZXjVnUypJJpUuffcGIGC0ZNXn34kx6Wj+BLMN5ujqJn/eofbw9yiEo5hmyCtTMskJr9f+iscTRWOKAWaZnKSg1q+VmPC+bEc+s3GwpXtgnRTWuGu1xs8wuZu0J+TfNt5Z/S82eRKXSWOLYBMtW6wc8PaJ1h4nRFwAAAABJRU5ErkJggg==",sP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAIAAAAnuUURAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAMwSURBVGhD7ZZBkuIwDEWha441s+NewL3YcTDmke/WKLLjGFAopqrfIh07ivX9JXfY32633cfzVf5+Nv+Hymcqvt/vdfO2bumpbKph8nq9Xi4X7s/nsya3lttWKX3H45ErUpZUGiEmnUZfogN9kvghRC8lsQy+scpC8+nWFZ95qWqWwZzJ3DtlvAyLQBkk0fBSQkPndfBeSl+6tbEvSfBn4nA4lKk1MHiy7w471LA8S2LxjNcHuY/fFZvMtTNNZSD3SBWVqpHdL0m0w766B0VmCb2rRJYOr5ZuHmQ9QpyG1JRrJxISvZydHrKCpQmQ9fc3JtfDi0CYKLMZzFTqBNQOKXcZTEgo82U8kS7OKCrRJ4m6PsfpdFJ/p/Oldad/kYVXhAILijLOoP3tqc9vXXQi697wO2TDWQ0Qvz0dvD1LVrE9o0xV8K4o4wH+eelfq00SdlyaATy1eX+wvKNksVpZzKrlv8rfiSVxxmqAUHoFe7kBWw3pfaFFJXFBgTqsU7gAasikggxuZpx2XyKR3teNZlYxM4JEhkg3GIada3tlsEDxUjYogSSaMfrM9E3lFQtuRo67q3WC7nh6SBP+g2i+TuObD8z+kV15vJdNiTBr2/Y+XMuaFCDMPwL/dMnUJnbC9FbdA7EvOxINYhTG1RKAiqBHD0EK9AH3bFWTnpV/AU23wiuqANg8M3JFwycIdq58ewj1bo3QkchSomlYwDYPK14K/wLUXspv0nOtOwT0SDUFtW8nEnyW2bdniZGdgGltpveLINfOmSF9zVwP/NpYRXWsJZI+5H70R3SOSvRJoq7P0fkR/apKrUv5jFeEAguKMp4YOj3jsHrzgNdFJ7LuDb9DNmyvZPZlH29PsMpge0aZmkjz0idunnGw49IM4KnNB+8zVS6JG2RzlbVEdVgoXAfJsoIEVZv0JRLpfd1oZhXJ4hr0ifyKSyLLyhh9Ffum2itlXJF8evTp82tqvm5ZSszV5vtC01SCBIUFzWOwTgDC/CPoCE3uy45EgxiFcZWj4k1e1oy4pQpAR8m2357g1hKEdSTCtl4Kc0s8kfEdKl/nfb82XuFHZR4/KrPY7f4CSd+rRlyYdSsAAAAASUVORK5CYII=",oP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAlCAYAAADFniADAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAHTSURBVFhH7Ze9SgNBEMdXSxt9A0ErxTZoayGCRV5A0MLCSjAPYWEVwUqwEnwAUwhiwFZJadBKxTfwCfyYOAPjsB+zsxs8xB8c2c0dd7/7z9zmMvHxhWsYk/jZKBopZS7f9eAVR2HWWrM4ysMs1Tm+wZFzRzOLOHJu/+0BR85191ZxlIdJCoS4SAgQtIiZewouyFPhxPZpMEnB3W+szOHMT//ifLRZKH76TpbDp7jvn+Ioj0YuCf9SWoqldu/ecVSPaklBw8eaPodqUpBYrdT+Zk8BtcpGVDmbLJvmdzGGSQpeWy5vn3HmZ7h94OZbbZzlYU5qYX1ptEl4KdtbHZNYtpQvJS5S4wnMep8iIUiIX1xK8fnj1dD1zrruadDDb9JkJyUBAZkOzEsSUyclU4qlI8lNSyUFQi/TUzj7CSVCUjwhSpH2HW7uqMSKyzcOkknxsvmgJGRiHNoH7+2aMkalfEK8HITvuxCa/gqeiYR+A3VPQRqUCJUDkCnRcfwYSWql90rxsoV6iSAhEpGCEn5O/i+b4+2pWHPLC0tS+4lYbwUbnfdUKq0cQAaINXv6lsZA6ulLLgkAfwotqfF0gKJ1iiA5wLJMaGUIlRTH8tKmlfnGuU9TPzvAR0FQxgAAAABJRU5ErkJggg==",aP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAyCAIAAACsz36AAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAANFSURBVFhHzZhNlqowEIVdlztwI0xcihP2gBPHeliADJzrkBHHDbCDvFuVSgwhRhKi/e7p0z8g5OPWT4redP+NFqEo1bd1td1uNxB+QFXdKyWnC+kzSt9WQMDiFWCIRVS1P0SBGTUWhwG9avaXZncUezbbqu2vt1+hKMVu0MOr8Umr4udw6s67Y7O7XG+j/lhBhVHED8Sl7ofSOfFOARQ8vYCwJXL0+wqitBWDgORnlkA+ilKDCU75GolrhvJ8GFd+Gh0o4IoJD1L2j1FMeP4WBbXzYxTqmS06KC30LRSsgCXi+xRtKViL1qGFIyiZaStd+iXePWkDcw5jO611StIqzf4RRUlvKuS2tXSydb4VQJpdpxfyUe77Y3YFmQv5Up4qQITfLZ8vDo3dVico0HA4mmabhsJX0Y6Nu2MPj3xZYrKEQ6Pv4KOom324RJRbxyvRpm3vPpdNANwdn3cnjYAreSjQ+Pw8OdhODo7zafL5AIrB/krjZxJ6yOYwyCEjH2U8XcQVHl/laCHp4HBoLncex1y9UCjnSa9sxzVyzhEKllpE6NRH8UOS2V5otARFeGfNgFoRF4XM/PZom4yil0CJ2UbiiVAwGLQ1okFF6HRbWpKbJP2N7zLxU6DVPX22JUv42ndzMaFgeL4eqL51iwNQz10ZVp550Kds3194wD66nWC59G7gNRJPftpCpsWFcyVD4jQXcOSVxUdBp7IRKoZCz0bZOi9gVz4Kirksih5PKTRvstUqgkI5JkdXyMnWD3eLuYJHkaO5MkkSy1ar7wZouSVQAMVWEB5HjmaJ70MgC+vfR0EFvZrcChR5maICDmw3Qc1Q8ErmRii9m2nxPdiSaAG7CqAYEmwXNOvKiRRpSwCy3BIolrZ5AZLeyuNOcAd+p5krr/Bko5AlXMAfepqnCQq/fNj6IYflRIpM3SwqYFceiv2PBmYCpEpyoqQWsKspyvOBSQDvl0i382HIyFlryfJstZql7XNcMrgHpQ1d2Obn8lGyZSMLT1KzRKsYis52siSll7gqg2I7AFDyLIHKoGgSFF18ZIyrAIptRLAEdSdH07UWxXbElZZAa1HwmkLvZ/wOtcYSaC3KSO9Q3fWU0w8n6rp/C17aXNf4XQ4AAAAASUVORK5CYII=",lP={1:tP,2:nP,3:rP,4:iP,5:sP,6:oP,7:aP};function uP({contentCreatorId:r,contentCreatorFaction:e}){const{currentUser:t}=Pl(),i=async()=>{if(!t)return;const l=t.id,h=t.faction;try{await _v(r,h,10),await _v(l,e,1);const f=await eP(r);console.log("Milestones reached:",f)}catch(f){console.error("Error handling like:",f)}},o=lP[e];return _.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-gray-300 shadow-sm hover:shadow-md hover:scale-105 transition",children:[o&&_.jsx("img",{src:o,alt:`Faction ${e} icon`,className:"w-6 h-6 object-contain"}),_.jsx("span",{children:"Like"})]})}function cP({post:r,currentUser:e}){if(!r)return _.jsx("p",{children:"Loading..."});const t=At[r.themeId]||{preview:{background:"#222",color:"#fff"}};return _.jsxs("div",{className:"content-module",style:{backgroundColor:t.preview.background,color:t.preview.color,fontFamily:t.fontFamily||"inherit",borderRadius:"8px",padding:"1rem",transition:"all 0.3s ease"},children:[_.jsxs("h4",{style:{marginBottom:"0.5rem"},children:[r.title," by"," ",_.jsx("a",{href:`/profile/${r.creatorId}`,style:{color:t.preview.color,textDecoration:"underline"},children:r.creatorName})]}),_.jsx(ZC,{type:r.mediaType,src:r.mediaSrc}),r.description&&_.jsx("p",{className:"content-description",children:r.description}),_.jsx(uP,{contentCreatorId:r.creatorId,contentCreatorFaction:r.creatorFaction,currentUser:e})]})}function hP(){const{uid:r}=kv(),{currentUser:e}=Pl(),t=e?.id===r,[i,o]=H.useState(null),[l,h]=H.useState([]),[f,m]=H.useState(!0),[y,E]=H.useState(""),[T,S]=H.useState("none"),[P,z]=H.useState("none"),[V,F]=H.useState("#ffffff"),[$,ee]=H.useState({title:"",mediaType:"image",src:"",themeId:"none",description:"",banner:""});H.useEffect(()=>{if(!r)return;(async()=>{m(!0);try{const Ee=await Js(gr(Dn,"users",r)),b=Ee.exists()?{name:Ee.data()?.name||"Unknown Creator",themeId:Ee.data()?.themeId||"none",banner:Ee.data()?.banner||"",...Ee.data()}:{name:"Unknown Creator",themeId:"none",banner:""};o(b),E(b.banner),S(b.themeId);const R=(await II(Ed(Dn,"users",r,"posts"))).docs.map(N=>{const j=N.data()||{};return{id:N.id,creatorId:r,creatorName:b.name,creatorFaction:b.faction||"Unknown",title:j.title||"Untitled",mediaType:j.mediaType||"image",mediaSrc:j.src||"",themeId:j.themeId||"none",description:j.description||"",date:j.date||null}});h(R);const D=await Js(gr(Dn,"creatorPages",r));if(D.exists()){const N=D.data();z(N.creatorPageThemeId||"none"),F(N.customColor||"#ffffff")}}catch(Ee){console.error("Error fetching creator:",Ee)}finally{m(!1)}})()},[r]);const Z=async()=>{if(t)try{await Cw(gr(Dn,"creatorPages",r),{creatorPageThemeId:P,customColor:V},{merge:!0}),alert("Page theme saved!")}catch(ae){console.error("Error saving page theme:",ae)}},ie=async()=>{if(t)try{const ae=await Pw(Ed(Dn,"users",r,"posts"),$);h([...l,{id:ae.id,creatorId:r,creatorName:i?.name||"Unknown Creator",creatorFaction:i?.faction||"Unknown",title:$.title||"Untitled",mediaType:$.mediaType||"image",mediaSrc:$.src||"",themeId:$.themeId||"none",description:$.description||"",banner:$.banner||"",date:$.date||null}]),ee({title:"",mediaType:"image",src:"",themeId:"none",description:"",banner:""})}catch(ae){console.error("Error creating post:",ae)}};return f?_.jsx("p",{children:"Loading..."}):i?_.jsxs("div",{className:`creator-page-wrapper ${P}`,children:[_.jsx("div",{className:"creator-banner",style:{backgroundImage:`url(${y})`},children:_.jsx("h1",{children:i.name})}),t&&_.jsxs("div",{className:"creator-controls",children:[_.jsx("h3",{children:"Edit Creator Theme & Banner"}),_.jsx(Ec,{unlockedThemes:Object.keys(At),selectedTheme:P,onChange:z,customColor:V,onCustomColorChange:F}),_.jsx("input",{type:"text",style:{width:"100%",maxWidth:"400px"},placeholder:"Banner URL",value:y,onChange:ae=>E(ae.target.value)}),_.jsx("br",{}),_.jsx("button",{onClick:Z,children:"Save Theme & Banner"}),_.jsx("br",{})]}),t&&_.jsxs("div",{className:"creator-controls",children:[_.jsx("h3",{children:"New Post"}),_.jsx("input",{style:{width:"100%",maxWidth:"400px"},type:"text",placeholder:"Title",value:$.title,onChange:ae=>ee({...$,title:ae.target.value})}),_.jsx("br",{}),_.jsx("input",{style:{width:"100%",maxWidth:"400px"},type:"text",placeholder:"Media URL",value:$.src,onChange:ae=>ee({...$,src:ae.target.value})}),_.jsx("br",{}),_.jsxs("select",{value:$.mediaType,onChange:ae=>ee({...$,mediaType:ae.target.value}),children:[_.jsx("option",{value:"image",children:"Image"}),_.jsx("option",{value:"youtube",children:"YouTube"}),_.jsx("option",{value:"video",children:"Video"}),_.jsx("option",{value:"gdrive",children:"GDrive"}),_.jsx("option",{value:"audio",children:"Audio"}),_.jsx("option",{value:"pdf",children:"PDF"}),_.jsx("option",{value:"text",children:"Text"}),_.jsx("option",{value:"webpage",children:"Webpage"})]}),_.jsx(Ec,{unlockedThemes:Object.keys(At),selectedTheme:$.themeId,onChange:ae=>ee({...$,themeId:ae}),customColor:V,onCustomColorChange:F}),_.jsx("br",{}),_.jsx("textarea",{placeholder:"Description",style:{width:"100%",maxWidth:"400px",height:"100px"},value:$.description,onChange:ae=>ee({...$,description:ae.target.value})}),_.jsx("br",{}),_.jsx("button",{onClick:ie,children:"Upload"}),_.jsx("br",{}),_.jsx("br",{})]}),_.jsx("div",{className:"creator-posts",children:l.map(ae=>_.jsx(cP,{post:ae,currentUser:e,className:At[ae.themeId]?.className||""},ae.id))})]}):_.jsx("p",{children:"Creator not found."})}function fP(){return _.jsxs("div",{style:{padding:"2rem"},children:[_.jsx("h1",{children:"Events Page"}),_.jsx("p",{children:"Welcome to the Events section! This is where upcoming happenings will be displayed."}),_.jsxs("ul",{children:[_.jsx("li",{children:"Event 1: Coming Soon"}),_.jsx("li",{children:"Event 2: Stay tuned"}),_.jsx("li",{children:"Event 3: Details TBA"})]})]})}function dP(){const[r,e]=H.useState(""),t=i=>{i.preventDefault(),alert(`Searching for "${r}"... (not implemented yet)`)};return _.jsxs("div",{style:{padding:"2rem"},children:[_.jsx("h1",{children:"Search Page"}),_.jsxs("form",{onSubmit:t,children:[_.jsx("input",{type:"text",value:r,onChange:i=>e(i.target.value),placeholder:"Type something...",style:{padding:"0.5rem",width:"250px",marginRight:"0.5rem"}}),_.jsx("button",{type:"submit",style:{padding:"0.5rem 1rem"},children:"Search"})]}),_.jsx("p",{children:"Search results will appear here."})]})}function pP(){return _.jsxs("div",{className:"main-container",children:[_.jsx("h2",{children:"Theater"}),_.jsxs("div",{className:"sidebar left",children:[_.jsxs("div",{className:"suggested",children:[_.jsx("img",{src:"media1.jpg",alt:"Media 1"}),_.jsx("a",{href:"#",children:"Urban Echoes"})]}),_.jsxs("div",{className:"suggested",children:[_.jsx("img",{src:"media2.jpg",alt:"Media 2"}),_.jsx("a",{href:"#",children:"Moonlit Strands"})]})]}),_.jsxs("div",{className:"featured",children:[_.jsxs("h2",{children:['Featured Content: "Just for Kicks" by'," ",_.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),_.jsx("div",{className:"youtube-embed-container",children:_.jsx("iframe",{className:"youtube-embed",src:"https://www.youtube.com/embed/P0h0rO7eods?si=MMQiYKH9NEHZJ61p",title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),_.jsx("div",{className:"sidebar right",children:_.jsxs("div",{className:"news",children:[_.jsx("h3",{children:"Site News"}),_.jsx("p",{children:"Faction Seven content platform up and running! Main page features and modules fully (mostly) functional."})]})}),_.jsxs("div",{className:"showcases",children:[_.jsxs("div",{className:"showcase-2",children:[_.jsxs("h4",{children:['"R E L A X" by'," ",_.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),_.jsx("div",{className:"youtube-embed-container",children:_.jsx("iframe",{className:"responsive-image",src:"https://drive.google.com/file/d/1PhvScbMV0aXOONmudS8SIr4F_KJiajKM/preview",title:"image",allow:"autoplay",allowFullScreen:!0})})]}),_.jsxs("div",{className:"showcase-3",children:[_.jsxs("h4",{children:["Nevereign: Shadow Rising by"," ",_.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),_.jsx("div",{className:"text-embed-container",children:_.jsx("iframe",{src:"https://docs.google.com/document/d/1yEb24TJz9DchfmO80x89cFe9qKe9uPGzHoAASy4KsNk/preview",title:"Nevereign: Shadow Rising",width:"640",height:"480",allow:"autoplay"})}),"Read the whole story"," ",_.jsx("a",{href:"https://Patreon.com/FactionSevenEntertainment",style:{color:"red"},children:"here"}),"."]})]}),_.jsx("div",{className:"spotlight-list",children:_.jsxs("ul",{children:[_.jsx("li",{children:_.jsx("a",{href:"#",children:"[4] Iris.exe – Short horror game"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[5] Selene’s Vault – Digital comic"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[6] Synth Sketches – Concept art"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[7] Rooftop Hymns – Poetry"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[8] Last Light – Animated short"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[9] Outskirts – Creator podcast"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[10] F7 Monthly Jam Results"})})]})})]})}function mP(){return _.jsxs("div",{className:"main-container",children:[_.jsx("h2",{children:"Listening Room"}),_.jsxs("div",{className:"sidebar left",children:[_.jsxs("div",{className:"suggested",children:[_.jsx("img",{src:"media1.jpg",alt:"Media 1"}),_.jsx("a",{href:"#",children:"Urban Echoes"})]}),_.jsxs("div",{className:"suggested",children:[_.jsx("img",{src:"media2.jpg",alt:"Media 2"}),_.jsx("a",{href:"#",children:"Moonlit Strands"})]})]}),_.jsxs("div",{className:"featured",children:[_.jsxs("h2",{children:['Featured Content: "Just for Kicks" by'," ",_.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),_.jsx("div",{className:"youtube-embed-container",children:_.jsx("iframe",{className:"youtube-embed",src:"https://www.youtube.com/embed/P0h0rO7eods?si=MMQiYKH9NEHZJ61p",title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),_.jsx("div",{className:"sidebar right",children:_.jsxs("div",{className:"news",children:[_.jsx("h3",{children:"Site News"}),_.jsx("p",{children:"Faction Seven content platform up and running! Main page features and modules fully (mostly) functional."})]})}),_.jsxs("div",{className:"showcases",children:[_.jsxs("div",{className:"showcase-2",children:[_.jsxs("h4",{children:['"R E L A X" by'," ",_.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),_.jsx("div",{className:"youtube-embed-container",children:_.jsx("iframe",{className:"responsive-image",src:"https://drive.google.com/file/d/1PhvScbMV0aXOONmudS8SIr4F_KJiajKM/preview",title:"image",allow:"autoplay",allowFullScreen:!0})})]}),_.jsxs("div",{className:"showcase-3",children:[_.jsxs("h4",{children:["Nevereign: Shadow Rising by"," ",_.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),_.jsx("div",{className:"text-embed-container",children:_.jsx("iframe",{src:"https://docs.google.com/document/d/1yEb24TJz9DchfmO80x89cFe9qKe9uPGzHoAASy4KsNk/preview",title:"Nevereign: Shadow Rising",width:"640",height:"480",allow:"autoplay"})}),"Read the whole story"," ",_.jsx("a",{href:"https://Patreon.com/FactionSevenEntertainment",style:{color:"red"},children:"here"}),"."]})]}),_.jsx("div",{className:"spotlight-list",children:_.jsxs("ul",{children:[_.jsx("li",{children:_.jsx("a",{href:"#",children:"[4] Iris.exe – Short horror game"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[5] Selene’s Vault – Digital comic"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[6] Synth Sketches – Concept art"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[7] Rooftop Hymns – Poetry"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[8] Last Light – Animated short"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[9] Outskirts – Creator podcast"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[10] F7 Monthly Jam Results"})})]})})]})}function gP(){return _.jsxs("div",{className:"main-container",children:[_.jsx("h2",{children:"Reading Room"}),_.jsxs("div",{className:"sidebar left",children:[_.jsxs("div",{className:"suggested",children:[_.jsx("img",{src:"media1.jpg",alt:"Media 1"}),_.jsx("a",{href:"#",children:"Urban Echoes"})]}),_.jsxs("div",{className:"suggested",children:[_.jsx("img",{src:"media2.jpg",alt:"Media 2"}),_.jsx("a",{href:"#",children:"Moonlit Strands"})]})]}),_.jsxs("div",{className:"featured",children:[_.jsxs("h2",{children:['Featured Content: "Just for Kicks" by'," ",_.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),_.jsx("div",{className:"youtube-embed-container",children:_.jsx("iframe",{className:"youtube-embed",src:"https://www.youtube.com/embed/P0h0rO7eods?si=MMQiYKH9NEHZJ61p",title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),_.jsx("div",{className:"sidebar right",children:_.jsxs("div",{className:"news",children:[_.jsx("h3",{children:"Site News"}),_.jsx("p",{children:"Faction Seven content platform up and running! Main page features and modules fully (mostly) functional."})]})}),_.jsxs("div",{className:"showcases",children:[_.jsxs("div",{className:"showcase-2",children:[_.jsxs("h4",{children:['"R E L A X" by'," ",_.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),_.jsx("div",{className:"youtube-embed-container",children:_.jsx("iframe",{className:"responsive-image",src:"https://drive.google.com/file/d/1PhvScbMV0aXOONmudS8SIr4F_KJiajKM/preview",title:"image",allow:"autoplay",allowFullScreen:!0})})]}),_.jsxs("div",{className:"showcase-3",children:[_.jsxs("h4",{children:["Nevereign: Shadow Rising by"," ",_.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),_.jsx("div",{className:"text-embed-container",children:_.jsx("iframe",{src:"https://docs.google.com/document/d/1yEb24TJz9DchfmO80x89cFe9qKe9uPGzHoAASy4KsNk/preview",title:"Nevereign: Shadow Rising",width:"640",height:"480",allow:"autoplay"})}),"Read the whole story"," ",_.jsx("a",{href:"https://Patreon.com/FactionSevenEntertainment",style:{color:"red"},children:"here"}),"."]})]}),_.jsx("div",{className:"spotlight-list",children:_.jsxs("ul",{children:[_.jsx("li",{children:_.jsx("a",{href:"#",children:"[4] Iris.exe – Short horror game"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[5] Selene’s Vault – Digital comic"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[6] Synth Sketches – Concept art"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[7] Rooftop Hymns – Poetry"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[8] Last Light – Animated short"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[9] Outskirts – Creator podcast"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[10] F7 Monthly Jam Results"})})]})})]})}function yP(){return _.jsxs("div",{className:"main-container",children:[_.jsx("h2",{children:"Game Room"}),_.jsxs("div",{className:"sidebar left",children:[_.jsxs("div",{className:"suggested",children:[_.jsx("img",{src:"media1.jpg",alt:"Media 1"}),_.jsx("a",{href:"#",children:"Urban Echoes"})]}),_.jsxs("div",{className:"suggested",children:[_.jsx("img",{src:"media2.jpg",alt:"Media 2"}),_.jsx("a",{href:"#",children:"Moonlit Strands"})]})]}),_.jsxs("div",{className:"featured",children:[_.jsxs("h2",{children:['Featured Content: "Just for Kicks" by'," ",_.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),_.jsx("div",{className:"youtube-embed-container",children:_.jsx("iframe",{className:"youtube-embed",src:"https://www.youtube.com/embed/P0h0rO7eods?si=MMQiYKH9NEHZJ61p",title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),_.jsx("div",{className:"sidebar right",children:_.jsxs("div",{className:"news",children:[_.jsx("h3",{children:"Site News"}),_.jsx("p",{children:"Faction Seven content platform up and running! Main page features and modules fully (mostly) functional."})]})}),_.jsxs("div",{className:"showcases",children:[_.jsxs("div",{className:"showcase-2",children:[_.jsxs("h4",{children:['"R E L A X" by'," ",_.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),_.jsx("div",{className:"youtube-embed-container",children:_.jsx("iframe",{className:"responsive-image",src:"https://drive.google.com/file/d/1PhvScbMV0aXOONmudS8SIr4F_KJiajKM/preview",title:"image",allow:"autoplay",allowFullScreen:!0})})]}),_.jsxs("div",{className:"showcase-3",children:[_.jsxs("h4",{children:["Nevereign: Shadow Rising by"," ",_.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),_.jsx("div",{className:"text-embed-container",children:_.jsx("iframe",{src:"https://docs.google.com/document/d/1yEb24TJz9DchfmO80x89cFe9qKe9uPGzHoAASy4KsNk/preview",title:"Nevereign: Shadow Rising",width:"640",height:"480",allow:"autoplay"})}),"Read the whole story"," ",_.jsx("a",{href:"https://Patreon.com/FactionSevenEntertainment",style:{color:"red"},children:"here"}),"."]})]}),_.jsx("div",{className:"spotlight-list",children:_.jsxs("ul",{children:[_.jsx("li",{children:_.jsx("a",{href:"#",children:"[4] Iris.exe – Short horror game"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[5] Selene’s Vault – Digital comic"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[6] Synth Sketches – Concept art"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[7] Rooftop Hymns – Poetry"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[8] Last Light – Animated short"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[9] Outskirts – Creator podcast"})}),_.jsx("li",{children:_.jsx("a",{href:"#",children:"[10] F7 Monthly Jam Results"})})]})})]})}function vP(){return _.jsx(DI,{children:_.jsx(AT,{children:_.jsx(tT,{children:_.jsxs($n,{path:"/",element:_.jsx(xC,{}),children:[_.jsx($n,{index:!0,element:_.jsx(IC,{})}),_.jsx($n,{path:"new-user",element:_.jsx(RC,{})}),_.jsx($n,{path:"profile/:uid",element:_.jsx(JC,{})}),_.jsx($n,{path:"active-projects",element:_.jsx(CC,{})}),_.jsx($n,{path:"creator-page/:uid",element:_.jsx(hP,{})}),_.jsx($n,{path:"events",element:_.jsx(fP,{})}),_.jsx($n,{path:"search",element:_.jsx(dP,{})}),_.jsx($n,{path:"watch",element:_.jsx(pP,{})}),_.jsx($n,{path:"listen",element:_.jsx(mP,{})}),_.jsx($n,{path:"read",element:_.jsx(gP,{})}),_.jsx($n,{path:"play",element:_.jsx(yP,{})})]})})})})}l0.createRoot(document.getElementById("root")).render(_.jsx(Xf.StrictMode,{children:_.jsx(vP,{})}));
