(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();function Rm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Hc={exports:{}},Bo={},Wc={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp;function mv(){if(fp)return Te;fp=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.iterator;function k(V){return V===null||typeof V!="object"?null:(V=A&&V[A]||V["@@iterator"],typeof V=="function"?V:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,Q={};function B(V,$,he){this.props=V,this.context=$,this.refs=Q,this.updater=he||W}B.prototype.isReactComponent={},B.prototype.setState=function(V,$){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,$,"setState")},B.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function K(){}K.prototype=B.prototype;function oe(V,$,he){this.props=V,this.context=$,this.refs=Q,this.updater=he||W}var ie=oe.prototype=new K;ie.constructor=oe,b(ie,B.prototype),ie.isPureReactComponent=!0;var ye=Array.isArray,xe=Object.prototype.hasOwnProperty,Ie={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function T(V,$,he){var _e,we={},Ce=null,De=null;if($!=null)for(_e in $.ref!==void 0&&(De=$.ref),$.key!==void 0&&(Ce=""+$.key),$)xe.call($,_e)&&!N.hasOwnProperty(_e)&&(we[_e]=$[_e]);var Ve=arguments.length-2;if(Ve===1)we.children=he;else if(1<Ve){for(var je=Array(Ve),ft=0;ft<Ve;ft++)je[ft]=arguments[ft+2];we.children=je}if(V&&V.defaultProps)for(_e in Ve=V.defaultProps,Ve)we[_e]===void 0&&(we[_e]=Ve[_e]);return{$$typeof:i,type:V,key:Ce,ref:De,props:we,_owner:Ie.current}}function I(V,$){return{$$typeof:i,type:V.type,key:$,ref:V.ref,props:V.props,_owner:V._owner}}function P(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function D(V){var $={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(he){return $[he]})}var O=/\/+/g;function C(V,$){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):$.toString(36)}function et(V,$,he,_e,we){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var De=!1;if(V===null)De=!0;else switch(Ce){case"string":case"number":De=!0;break;case"object":switch(V.$$typeof){case i:case t:De=!0}}if(De)return De=V,we=we(De),V=_e===""?"."+C(De,0):_e,ye(we)?(he="",V!=null&&(he=V.replace(O,"$&/")+"/"),et(we,$,he,"",function(ft){return ft})):we!=null&&(P(we)&&(we=I(we,he+(!we.key||De&&De.key===we.key?"":(""+we.key).replace(O,"$&/")+"/")+V)),$.push(we)),1;if(De=0,_e=_e===""?".":_e+":",ye(V))for(var Ve=0;Ve<V.length;Ve++){Ce=V[Ve];var je=_e+C(Ce,Ve);De+=et(Ce,$,he,je,we)}else if(je=k(V),typeof je=="function")for(V=je.call(V),Ve=0;!(Ce=V.next()).done;)Ce=Ce.value,je=_e+C(Ce,Ve++),De+=et(Ce,$,he,je,we);else if(Ce==="object")throw $=String(V),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return De}function Pt(V,$,he){if(V==null)return V;var _e=[],we=0;return et(V,_e,"","",function(Ce){return $.call(he,Ce,we++)}),_e}function kt(V){if(V._status===-1){var $=V._result;$=$(),$.then(function(he){(V._status===0||V._status===-1)&&(V._status=1,V._result=he)},function(he){(V._status===0||V._status===-1)&&(V._status=2,V._result=he)}),V._status===-1&&(V._status=0,V._result=$)}if(V._status===1)return V._result.default;throw V._result}var Me={current:null},te={transition:null},de={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:te,ReactCurrentOwner:Ie};function re(){throw Error("act(...) is not supported in production builds of React.")}return Te.Children={map:Pt,forEach:function(V,$,he){Pt(V,function(){$.apply(this,arguments)},he)},count:function(V){var $=0;return Pt(V,function(){$++}),$},toArray:function(V){return Pt(V,function($){return $})||[]},only:function(V){if(!P(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Te.Component=B,Te.Fragment=r,Te.Profiler=a,Te.PureComponent=oe,Te.StrictMode=o,Te.Suspense=y,Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Te.act=re,Te.cloneElement=function(V,$,he){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var _e=b({},V.props),we=V.key,Ce=V.ref,De=V._owner;if($!=null){if($.ref!==void 0&&(Ce=$.ref,De=Ie.current),$.key!==void 0&&(we=""+$.key),V.type&&V.type.defaultProps)var Ve=V.type.defaultProps;for(je in $)xe.call($,je)&&!N.hasOwnProperty(je)&&(_e[je]=$[je]===void 0&&Ve!==void 0?Ve[je]:$[je])}var je=arguments.length-2;if(je===1)_e.children=he;else if(1<je){Ve=Array(je);for(var ft=0;ft<je;ft++)Ve[ft]=arguments[ft+2];_e.children=Ve}return{$$typeof:i,type:V.type,key:we,ref:Ce,props:_e,_owner:De}},Te.createContext=function(V){return V={$$typeof:p,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:c,_context:V},V.Consumer=V},Te.createElement=T,Te.createFactory=function(V){var $=T.bind(null,V);return $.type=V,$},Te.createRef=function(){return{current:null}},Te.forwardRef=function(V){return{$$typeof:g,render:V}},Te.isValidElement=P,Te.lazy=function(V){return{$$typeof:S,_payload:{_status:-1,_result:V},_init:kt}},Te.memo=function(V,$){return{$$typeof:_,type:V,compare:$===void 0?null:$}},Te.startTransition=function(V){var $=te.transition;te.transition={};try{V()}finally{te.transition=$}},Te.unstable_act=re,Te.useCallback=function(V,$){return Me.current.useCallback(V,$)},Te.useContext=function(V){return Me.current.useContext(V)},Te.useDebugValue=function(){},Te.useDeferredValue=function(V){return Me.current.useDeferredValue(V)},Te.useEffect=function(V,$){return Me.current.useEffect(V,$)},Te.useId=function(){return Me.current.useId()},Te.useImperativeHandle=function(V,$,he){return Me.current.useImperativeHandle(V,$,he)},Te.useInsertionEffect=function(V,$){return Me.current.useInsertionEffect(V,$)},Te.useLayoutEffect=function(V,$){return Me.current.useLayoutEffect(V,$)},Te.useMemo=function(V,$){return Me.current.useMemo(V,$)},Te.useReducer=function(V,$,he){return Me.current.useReducer(V,$,he)},Te.useRef=function(V){return Me.current.useRef(V)},Te.useState=function(V){return Me.current.useState(V)},Te.useSyncExternalStore=function(V,$,he){return Me.current.useSyncExternalStore(V,$,he)},Te.useTransition=function(){return Me.current.useTransition()},Te.version="18.3.1",Te}var dp;function Ch(){return dp||(dp=1,Wc.exports=mv()),Wc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp;function gv(){if(pp)return Bo;pp=1;var i=Ch(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function p(g,y,_){var S,A={},k=null,W=null;_!==void 0&&(k=""+_),y.key!==void 0&&(k=""+y.key),y.ref!==void 0&&(W=y.ref);for(S in y)o.call(y,S)&&!c.hasOwnProperty(S)&&(A[S]=y[S]);if(g&&g.defaultProps)for(S in y=g.defaultProps,y)A[S]===void 0&&(A[S]=y[S]);return{$$typeof:t,type:g,key:k,ref:W,props:A,_owner:a.current}}return Bo.Fragment=r,Bo.jsx=p,Bo.jsxs=p,Bo}var mp;function yv(){return mp||(mp=1,Hc.exports=gv()),Hc.exports}var G=yv(),z=Ch();const vv=Rm(z);var Pa={},Qc={exports:{}},Kt={},qc={exports:{}},Kc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function _v(){return gp||(gp=1,function(i){function t(te,de){var re=te.length;te.push(de);e:for(;0<re;){var V=re-1>>>1,$=te[V];if(0<a($,de))te[V]=de,te[re]=$,re=V;else break e}}function r(te){return te.length===0?null:te[0]}function o(te){if(te.length===0)return null;var de=te[0],re=te.pop();if(re!==de){te[0]=re;e:for(var V=0,$=te.length,he=$>>>1;V<he;){var _e=2*(V+1)-1,we=te[_e],Ce=_e+1,De=te[Ce];if(0>a(we,re))Ce<$&&0>a(De,we)?(te[V]=De,te[Ce]=re,V=Ce):(te[V]=we,te[_e]=re,V=_e);else if(Ce<$&&0>a(De,re))te[V]=De,te[Ce]=re,V=Ce;else break e}}return de}function a(te,de){var re=te.sortIndex-de.sortIndex;return re!==0?re:te.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],_=[],S=1,A=null,k=3,W=!1,b=!1,Q=!1,B=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie(te){for(var de=r(_);de!==null;){if(de.callback===null)o(_);else if(de.startTime<=te)o(_),de.sortIndex=de.expirationTime,t(y,de);else break;de=r(_)}}function ye(te){if(Q=!1,ie(te),!b)if(r(y)!==null)b=!0,kt(xe);else{var de=r(_);de!==null&&Me(ye,de.startTime-te)}}function xe(te,de){b=!1,Q&&(Q=!1,K(T),T=-1),W=!0;var re=k;try{for(ie(de),A=r(y);A!==null&&(!(A.expirationTime>de)||te&&!D());){var V=A.callback;if(typeof V=="function"){A.callback=null,k=A.priorityLevel;var $=V(A.expirationTime<=de);de=i.unstable_now(),typeof $=="function"?A.callback=$:A===r(y)&&o(y),ie(de)}else o(y);A=r(y)}if(A!==null)var he=!0;else{var _e=r(_);_e!==null&&Me(ye,_e.startTime-de),he=!1}return he}finally{A=null,k=re,W=!1}}var Ie=!1,N=null,T=-1,I=5,P=-1;function D(){return!(i.unstable_now()-P<I)}function O(){if(N!==null){var te=i.unstable_now();P=te;var de=!0;try{de=N(!0,te)}finally{de?C():(Ie=!1,N=null)}}else Ie=!1}var C;if(typeof oe=="function")C=function(){oe(O)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,Pt=et.port2;et.port1.onmessage=O,C=function(){Pt.postMessage(null)}}else C=function(){B(O,0)};function kt(te){N=te,Ie||(Ie=!0,C())}function Me(te,de){T=B(function(){te(i.unstable_now())},de)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(te){te.callback=null},i.unstable_continueExecution=function(){b||W||(b=!0,kt(xe))},i.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<te?Math.floor(1e3/te):5},i.unstable_getCurrentPriorityLevel=function(){return k},i.unstable_getFirstCallbackNode=function(){return r(y)},i.unstable_next=function(te){switch(k){case 1:case 2:case 3:var de=3;break;default:de=k}var re=k;k=de;try{return te()}finally{k=re}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(te,de){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var re=k;k=te;try{return de()}finally{k=re}},i.unstable_scheduleCallback=function(te,de,re){var V=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?V+re:V):re=V,te){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=re+$,te={id:S++,callback:de,priorityLevel:te,startTime:re,expirationTime:$,sortIndex:-1},re>V?(te.sortIndex=re,t(_,te),r(y)===null&&te===r(_)&&(Q?(K(T),T=-1):Q=!0,Me(ye,re-V))):(te.sortIndex=$,t(y,te),b||W||(b=!0,kt(xe))),te},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(te){var de=k;return function(){var re=k;k=de;try{return te.apply(this,arguments)}finally{k=re}}}}(Kc)),Kc}var yp;function Ev(){return yp||(yp=1,qc.exports=_v()),qc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function wv(){if(vp)return Kt;vp=1;var i=Ch(),t=Ev();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,n){p(e,n),p(e+"Capture",n)}function p(e,n){for(a[e]=n,e=0;e<n.length;e++)o.add(n[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},A={};function k(e){return y.call(A,e)?!0:y.call(S,e)?!1:_.test(e)?A[e]=!0:(S[e]=!0,!1)}function W(e,n,s,u){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b(e,n,s,u){if(n===null||typeof n>"u"||W(e,n,s,u))return!0;if(u)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Q(e,n,s,u,h,d,v){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=v}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){B[e]=new Q(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];B[n]=new Q(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){B[e]=new Q(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){B[e]=new Q(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){B[e]=new Q(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){B[e]=new Q(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){B[e]=new Q(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){B[e]=new Q(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){B[e]=new Q(e,5,!1,e.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function oe(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(K,oe);B[n]=new Q(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(K,oe);B[n]=new Q(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(K,oe);B[n]=new Q(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){B[e]=new Q(e,1,!1,e.toLowerCase(),null,!1,!1)}),B.xlinkHref=new Q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){B[e]=new Q(e,1,!1,e.toLowerCase(),null,!0,!0)});function ie(e,n,s,u){var h=B.hasOwnProperty(n)?B[n]:null;(h!==null?h.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(b(n,s,h,u)&&(s=null),u||h===null?k(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):h.mustUseProperty?e[h.propertyName]=s===null?h.type===3?!1:"":s:(n=h.attributeName,u=h.attributeNamespace,s===null?e.removeAttribute(n):(h=h.type,s=h===3||h===4&&s===!0?"":""+s,u?e.setAttributeNS(u,n,s):e.setAttribute(n,s))))}var ye=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xe=Symbol.for("react.element"),Ie=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),D=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),Pt=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),Me=Symbol.for("react.offscreen"),te=Symbol.iterator;function de(e){return e===null||typeof e!="object"?null:(e=te&&e[te]||e["@@iterator"],typeof e=="function"?e:null)}var re=Object.assign,V;function $(e){if(V===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);V=n&&n[1]||""}return`
`+V+e}var he=!1;function _e(e,n){if(!e||he)return"";he=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(j){var u=j}Reflect.construct(e,[],n)}else{try{n.call()}catch(j){u=j}e.call(n.prototype)}else{try{throw Error()}catch(j){u=j}e()}}catch(j){if(j&&u&&typeof j.stack=="string"){for(var h=j.stack.split(`
`),d=u.stack.split(`
`),v=h.length-1,w=d.length-1;1<=v&&0<=w&&h[v]!==d[w];)w--;for(;1<=v&&0<=w;v--,w--)if(h[v]!==d[w]){if(v!==1||w!==1)do if(v--,w--,0>w||h[v]!==d[w]){var R=`
`+h[v].replace(" at new "," at ");return e.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",e.displayName)),R}while(1<=v&&0<=w);break}}}finally{he=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?$(e):""}function we(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=_e(e.type,!1),e;case 11:return e=_e(e.type.render,!1),e;case 1:return e=_e(e.type,!0),e;default:return""}}function Ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case Ie:return"Portal";case I:return"Profiler";case T:return"StrictMode";case C:return"Suspense";case et:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case O:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pt:return n=e.displayName||null,n!==null?n:Ce(e.type)||"Memo";case kt:n=e._payload,e=e._init;try{return Ce(e(n))}catch{}}return null}function De(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(n);case 8:return n===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Ve(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function je(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ft(e){var n=je(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),u=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){u=""+v,d.call(this,v)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Yn(e){e._valueTracker||(e._valueTracker=ft(e))}function ji(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),u="";return e&&(u=je(e)?e.checked?"true":"false":e.value),e=u,e!==s?(n.setValue(e),!0):!1}function wr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zr(e,n){var s=n.checked;return re({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Ui(e,n){var s=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;s=Ve(n.value!=null?n.value:s),e._wrapperState={initialChecked:u,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Ws(e,n){n=n.checked,n!=null&&ie(e,"checked",n,!1)}function Qs(e,n){Ws(e,n);var s=Ve(n.value),u=n.type;if(s!=null)u==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Bi(e,n.type,s):n.hasOwnProperty("defaultValue")&&Bi(e,n.type,Ve(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function dl(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Bi(e,n,s){(n!=="number"||wr(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Jn=Array.isArray;function Zn(e,n,s,u){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&u&&(e[s].defaultSelected=!0)}else{for(s=""+Ve(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,u&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function qs(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return re({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zi(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Jn(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:Ve(s)}}function bi(e,n){var s=Ve(n.value),u=Ve(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),u!=null&&(e.defaultValue=""+u)}function Ks(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function lt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?lt(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var er,Gs=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,u,h){MSApp.execUnsafeLocalFunction(function(){return e(n,s,u,h)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(er=er||document.createElement("div"),er.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=er.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Tr(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ti=["Webkit","ms","Moz","O"];Object.keys(ei).forEach(function(e){ti.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),ei[n]=ei[e]})});function Xs(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||ei.hasOwnProperty(e)&&ei[e]?(""+n).trim():n+"px"}function Ys(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var u=s.indexOf("--")===0,h=Xs(s,n[s],u);s==="float"&&(s="cssFloat"),u?e.setProperty(s,h):e[s]=h}}var Js=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zs(e,n){if(n){if(Js[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function eo(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ni=null;function $i(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hi=null,sn=null,On=null;function Wi(e){if(e=Co(e)){if(typeof Hi!="function")throw Error(r(280));var n=e.stateNode;n&&(n=$l(n),Hi(e.stateNode,e.type,n))}}function Ln(e){sn?On?On.push(e):On=[e]:sn=e}function to(){if(sn){var e=sn,n=On;if(On=sn=null,Wi(e),n)for(e=0;e<n.length;e++)Wi(n[e])}}function ri(e,n){return e(n)}function no(){}var tr=!1;function ro(e,n,s){if(tr)return e(n,s);tr=!0;try{return ri(e,n,s)}finally{tr=!1,(sn!==null||On!==null)&&(no(),to())}}function tt(e,n){var s=e.stateNode;if(s===null)return null;var u=$l(s);if(u===null)return null;s=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Qi=!1;if(g)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){Qi=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{Qi=!1}function ii(e,n,s,u,h,d,v,w,R){var j=Array.prototype.slice.call(arguments,3);try{n.apply(s,j)}catch(X){this.onError(X)}}var si=!1,qi=null,gn=!1,io=null,vu={onError:function(e){si=!0,qi=e}};function Ki(e,n,s,u,h,d,v,w,R){si=!1,qi=null,ii.apply(vu,arguments)}function pl(e,n,s,u,h,d,v,w,R){if(Ki.apply(this,arguments),si){if(si){var j=qi;si=!1,qi=null}else throw Error(r(198));gn||(gn=!0,io=j)}}function yn(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function oi(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function vn(e){if(yn(e)!==e)throw Error(r(188))}function ml(e){var n=e.alternate;if(!n){if(n=yn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,u=n;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(u=h.return,u!==null){s=u;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return vn(h),e;if(d===u)return vn(h),n;d=d.sibling}throw Error(r(188))}if(s.return!==u.return)s=h,u=d;else{for(var v=!1,w=h.child;w;){if(w===s){v=!0,s=h,u=d;break}if(w===u){v=!0,u=h,s=d;break}w=w.sibling}if(!v){for(w=d.child;w;){if(w===s){v=!0,s=d,u=h;break}if(w===u){v=!0,u=d,s=h;break}w=w.sibling}if(!v)throw Error(r(189))}}if(s.alternate!==u)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function so(e){return e=ml(e),e!==null?Gi(e):null}function Gi(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Gi(e);if(n!==null)return n;e=e.sibling}return null}var Xi=t.unstable_scheduleCallback,oo=t.unstable_cancelCallback,gl=t.unstable_shouldYield,_u=t.unstable_requestPaint,Ue=t.unstable_now,yl=t.unstable_getCurrentPriorityLevel,li=t.unstable_ImmediatePriority,Sr=t.unstable_UserBlockingPriority,on=t.unstable_NormalPriority,lo=t.unstable_LowPriority,vl=t.unstable_IdlePriority,ai=null,Yt=null;function _l(e){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ai,e,void 0,(e.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:wl,ao=Math.log,El=Math.LN2;function wl(e){return e>>>=0,e===0?32:31-(ao(e)/El|0)|0}var Yi=64,Ji=4194304;function Ir(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ui(e,n){var s=e.pendingLanes;if(s===0)return 0;var u=0,h=e.suspendedLanes,d=e.pingedLanes,v=s&268435455;if(v!==0){var w=v&~h;w!==0?u=Ir(w):(d&=v,d!==0&&(u=Ir(d)))}else v=s&~h,v!==0?u=Ir(v):d!==0&&(u=Ir(d));if(u===0)return 0;if(n!==0&&n!==u&&(n&h)===0&&(h=u&-u,d=n&-n,h>=d||h===16&&(d&4194240)!==0))return n;if((u&4)!==0&&(u|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=u;0<n;)s=31-Ft(n),h=1<<s,u|=e[s],n&=~h;return u}function Eu(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nr(e,n){for(var s=e.suspendedLanes,u=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes;0<d;){var v=31-Ft(d),w=1<<v,R=h[v];R===-1?((w&s)===0||(w&u)!==0)&&(h[v]=Eu(w,n)):R<=n&&(e.expiredLanes|=w),d&=~w}}function Jt(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ci(){var e=Yi;return Yi<<=1,(Yi&4194240)===0&&(Yi=64),e}function Cr(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Ar(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Ft(n),e[n]=s}function Fe(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<s;){var h=31-Ft(s),d=1<<h;n[h]=0,u[h]=-1,e[h]=-1,s&=~d}}function Rr(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var u=31-Ft(s),h=1<<u;h&n|e[u]&n&&(e[u]|=n),s&=~h}}var Se=0;function Pr(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Tl,Zi,Sl,Il,Cl,uo=!1,Mn=[],_t=null,_n=null,En=null,kr=new Map,ln=new Map,Fn=[],wu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Al(e,n){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":kr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ln.delete(n.pointerId)}}function zt(e,n,s,u,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:u,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Co(n),n!==null&&Zi(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Tu(e,n,s,u,h){switch(n){case"focusin":return _t=zt(_t,e,n,s,u,h),!0;case"dragenter":return _n=zt(_n,e,n,s,u,h),!0;case"mouseover":return En=zt(En,e,n,s,u,h),!0;case"pointerover":var d=h.pointerId;return kr.set(d,zt(kr.get(d)||null,e,n,s,u,h)),!0;case"gotpointercapture":return d=h.pointerId,ln.set(d,zt(ln.get(d)||null,e,n,s,u,h)),!0}return!1}function Rl(e){var n=mi(e.target);if(n!==null){var s=yn(n);if(s!==null){if(n=s.tag,n===13){if(n=oi(s),n!==null){e.blockedOn=n,Cl(e.priority,function(){Sl(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rr(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=es(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var u=new s.constructor(s.type,s);ni=u,s.target.dispatchEvent(u),ni=null}else return n=Co(s),n!==null&&Zi(n),e.blockedOn=s,!1;n.shift()}return!0}function hi(e,n,s){rr(e)&&s.delete(n)}function Pl(){uo=!1,_t!==null&&rr(_t)&&(_t=null),_n!==null&&rr(_n)&&(_n=null),En!==null&&rr(En)&&(En=null),kr.forEach(hi),ln.forEach(hi)}function wn(e,n){e.blockedOn===n&&(e.blockedOn=null,uo||(uo=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Pl)))}function Tn(e){function n(h){return wn(h,e)}if(0<Mn.length){wn(Mn[0],e);for(var s=1;s<Mn.length;s++){var u=Mn[s];u.blockedOn===e&&(u.blockedOn=null)}}for(_t!==null&&wn(_t,e),_n!==null&&wn(_n,e),En!==null&&wn(En,e),kr.forEach(n),ln.forEach(n),s=0;s<Fn.length;s++)u=Fn[s],u.blockedOn===e&&(u.blockedOn=null);for(;0<Fn.length&&(s=Fn[0],s.blockedOn===null);)Rl(s),s.blockedOn===null&&Fn.shift()}var ir=ye.ReactCurrentBatchConfig,xr=!0;function He(e,n,s,u){var h=Se,d=ir.transition;ir.transition=null;try{Se=1,co(e,n,s,u)}finally{Se=h,ir.transition=d}}function Su(e,n,s,u){var h=Se,d=ir.transition;ir.transition=null;try{Se=4,co(e,n,s,u)}finally{Se=h,ir.transition=d}}function co(e,n,s,u){if(xr){var h=es(e,n,s,u);if(h===null)Ou(e,n,u,fi,s),Al(e,u);else if(Tu(h,e,n,s,u))u.stopPropagation();else if(Al(e,u),n&4&&-1<wu.indexOf(e)){for(;h!==null;){var d=Co(h);if(d!==null&&Tl(d),d=es(e,n,s,u),d===null&&Ou(e,n,u,fi,s),d===h)break;h=d}h!==null&&u.stopPropagation()}else Ou(e,n,u,null,s)}}var fi=null;function es(e,n,s,u){if(fi=null,e=$i(u),e=mi(e),e!==null)if(n=yn(e),n===null)e=null;else if(s=n.tag,s===13){if(e=oi(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return fi=e,null}function ho(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yl()){case li:return 1;case Sr:return 4;case on:case lo:return 16;case vl:return 536870912;default:return 16}default:return 16}}var Zt=null,ts=null,bt=null;function fo(){if(bt)return bt;var e,n=ts,s=n.length,u,h="value"in Zt?Zt.value:Zt.textContent,d=h.length;for(e=0;e<s&&n[e]===h[e];e++);var v=s-e;for(u=1;u<=v&&n[s-u]===h[d-u];u++);return bt=h.slice(e,1<u?1-u:void 0)}function ns(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function jn(){return!0}function po(){return!1}function Et(e){function n(s,u,h,d,v){this._reactName=s,this._targetInst=h,this.type=u,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(s=e[w],this[w]=s?s(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?jn:po,this.isPropagationStopped=po,this}return re(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),n}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=Et(Sn),Un=re({},Sn,{view:0,detail:0}),Iu=Et(Un),is,sr,Nr,di=re({},Un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nr&&(Nr&&e.type==="mousemove"?(is=e.screenX-Nr.screenX,sr=e.screenY-Nr.screenY):sr=is=0,Nr=e),is)},movementY:function(e){return"movementY"in e?e.movementY:sr}}),ss=Et(di),mo=re({},di,{dataTransfer:0}),kl=Et(mo),os=re({},Un,{relatedTarget:0}),ls=Et(os),xl=re({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),or=Et(xl),Nl=re({},Sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dl=Et(Nl),Vl=re({},Sn,{data:0}),go=Et(Vl),as={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ol={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ll(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ol[e])?!!n[e]:!1}function Bn(){return Ll}var l=re({},Un,{key:function(e){if(e.key){var n=as[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ns(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bn,charCode:function(e){return e.type==="keypress"?ns(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ns(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),f=Et(l),m=re({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Et(m),L=re({},Un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bn}),U=Et(L),ee=re({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Le=Et(ee),ut=re({},di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ae=Et(ut),dt=[9,13,27,32],rt=g&&"CompositionEvent"in window,an=null;g&&"documentMode"in document&&(an=document.documentMode);var en=g&&"TextEvent"in window&&!an,pi=g&&(!rt||an&&8<an&&11>=an),us=" ",of=!1;function lf(e,n){switch(e){case"keyup":return dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function af(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cs=!1;function fy(e,n){switch(e){case"compositionend":return af(n);case"keypress":return n.which!==32?null:(of=!0,us);case"textInput":return e=n.data,e===us&&of?null:e;default:return null}}function dy(e,n){if(cs)return e==="compositionend"||!rt&&lf(e,n)?(e=fo(),bt=ts=Zt=null,cs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var py={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!py[e.type]:n==="textarea"}function cf(e,n,s,u){Ln(u),n=Bl(n,"onChange"),0<n.length&&(s=new rs("onChange","change",null,s,u),e.push({event:s,listeners:n}))}var yo=null,vo=null;function my(e){Pf(e,0)}function Ml(e){var n=ms(e);if(ji(n))return e}function gy(e,n){if(e==="change")return n}var hf=!1;if(g){var Cu;if(g){var Au="oninput"in document;if(!Au){var ff=document.createElement("div");ff.setAttribute("oninput","return;"),Au=typeof ff.oninput=="function"}Cu=Au}else Cu=!1;hf=Cu&&(!document.documentMode||9<document.documentMode)}function df(){yo&&(yo.detachEvent("onpropertychange",pf),vo=yo=null)}function pf(e){if(e.propertyName==="value"&&Ml(vo)){var n=[];cf(n,vo,e,$i(e)),ro(my,n)}}function yy(e,n,s){e==="focusin"?(df(),yo=n,vo=s,yo.attachEvent("onpropertychange",pf)):e==="focusout"&&df()}function vy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ml(vo)}function _y(e,n){if(e==="click")return Ml(n)}function Ey(e,n){if(e==="input"||e==="change")return Ml(n)}function wy(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var In=typeof Object.is=="function"?Object.is:wy;function _o(e,n){if(In(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),u=Object.keys(n);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var h=s[u];if(!y.call(n,h)||!In(e[h],n[h]))return!1}return!0}function mf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gf(e,n){var s=mf(e);e=0;for(var u;s;){if(s.nodeType===3){if(u=e+s.textContent.length,e<=n&&u>=n)return{node:s,offset:n-e};e=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=mf(s)}}function yf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?yf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function vf(){for(var e=window,n=wr();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=wr(e.document)}return n}function Ru(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Ty(e){var n=vf(),s=e.focusedElem,u=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&yf(s.ownerDocument.documentElement,s)){if(u!==null&&Ru(s)){if(n=u.start,e=u.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var h=s.textContent.length,d=Math.min(u.start,h);u=u.end===void 0?d:Math.min(u.end,h),!e.extend&&d>u&&(h=u,u=d,d=h),h=gf(s,d);var v=gf(s,u);h&&v&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==v.node||e.focusOffset!==v.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),e.removeAllRanges(),d>u?(e.addRange(n),e.extend(v.node,v.offset)):(n.setEnd(v.node,v.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sy=g&&"documentMode"in document&&11>=document.documentMode,hs=null,Pu=null,Eo=null,ku=!1;function _f(e,n,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ku||hs==null||hs!==wr(u)||(u=hs,"selectionStart"in u&&Ru(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Eo&&_o(Eo,u)||(Eo=u,u=Bl(Pu,"onSelect"),0<u.length&&(n=new rs("onSelect","select",null,n,s),e.push({event:n,listeners:u}),n.target=hs)))}function Fl(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var fs={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionend:Fl("Transition","TransitionEnd")},xu={},Ef={};g&&(Ef=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function jl(e){if(xu[e])return xu[e];if(!fs[e])return e;var n=fs[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ef)return xu[e]=n[s];return e}var wf=jl("animationend"),Tf=jl("animationiteration"),Sf=jl("animationstart"),If=jl("transitionend"),Cf=new Map,Af="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,n){Cf.set(e,n),c(n,[e])}for(var Nu=0;Nu<Af.length;Nu++){var Du=Af[Nu],Iy=Du.toLowerCase(),Cy=Du[0].toUpperCase()+Du.slice(1);Dr(Iy,"on"+Cy)}Dr(wf,"onAnimationEnd"),Dr(Tf,"onAnimationIteration"),Dr(Sf,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(If,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ay=new Set("cancel close invalid load scroll toggle".split(" ").concat(wo));function Rf(e,n,s){var u=e.type||"unknown-event";e.currentTarget=s,pl(u,n,void 0,e),e.currentTarget=null}function Pf(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var u=e[s],h=u.event;u=u.listeners;e:{var d=void 0;if(n)for(var v=u.length-1;0<=v;v--){var w=u[v],R=w.instance,j=w.currentTarget;if(w=w.listener,R!==d&&h.isPropagationStopped())break e;Rf(h,w,j),d=R}else for(v=0;v<u.length;v++){if(w=u[v],R=w.instance,j=w.currentTarget,w=w.listener,R!==d&&h.isPropagationStopped())break e;Rf(h,w,j),d=R}}}if(gn)throw e=io,gn=!1,io=null,e}function be(e,n){var s=n[Bu];s===void 0&&(s=n[Bu]=new Set);var u=e+"__bubble";s.has(u)||(kf(n,e,2,!1),s.add(u))}function Vu(e,n,s){var u=0;n&&(u|=4),kf(s,e,u,n)}var Ul="_reactListening"+Math.random().toString(36).slice(2);function To(e){if(!e[Ul]){e[Ul]=!0,o.forEach(function(s){s!=="selectionchange"&&(Ay.has(s)||Vu(s,!1,e),Vu(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ul]||(n[Ul]=!0,Vu("selectionchange",!1,n))}}function kf(e,n,s,u){switch(ho(n)){case 1:var h=He;break;case 4:h=Su;break;default:h=co}s=h.bind(null,n,s,e),h=void 0,!Qi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),u?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Ou(e,n,s,u,h){var d=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(v===4)for(v=u.return;v!==null;){var R=v.tag;if((R===3||R===4)&&(R=v.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;v=v.return}for(;w!==null;){if(v=mi(w),v===null)return;if(R=v.tag,R===5||R===6){u=d=v;continue e}w=w.parentNode}}u=u.return}ro(function(){var j=d,X=$i(s),J=[];e:{var q=Cf.get(e);if(q!==void 0){var ne=rs,le=e;switch(e){case"keypress":if(ns(s)===0)break e;case"keydown":case"keyup":ne=f;break;case"focusin":le="focus",ne=ls;break;case"focusout":le="blur",ne=ls;break;case"beforeblur":case"afterblur":ne=ls;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=ss;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=kl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=U;break;case wf:case Tf:case Sf:ne=or;break;case If:ne=Le;break;case"scroll":ne=Iu;break;case"wheel":ne=Ae;break;case"copy":case"cut":case"paste":ne=Dl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=E}var ae=(n&4)!==0,nt=!ae&&e==="scroll",M=ae?q!==null?q+"Capture":null:q;ae=[];for(var x=j,F;x!==null;){F=x;var Z=F.stateNode;if(F.tag===5&&Z!==null&&(F=Z,M!==null&&(Z=tt(x,M),Z!=null&&ae.push(So(x,Z,F)))),nt)break;x=x.return}0<ae.length&&(q=new ne(q,le,null,s,X),J.push({event:q,listeners:ae}))}}if((n&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",ne=e==="mouseout"||e==="pointerout",q&&s!==ni&&(le=s.relatedTarget||s.fromElement)&&(mi(le)||le[lr]))break e;if((ne||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,ne?(le=s.relatedTarget||s.toElement,ne=j,le=le?mi(le):null,le!==null&&(nt=yn(le),le!==nt||le.tag!==5&&le.tag!==6)&&(le=null)):(ne=null,le=j),ne!==le)){if(ae=ss,Z="onMouseLeave",M="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(ae=E,Z="onPointerLeave",M="onPointerEnter",x="pointer"),nt=ne==null?q:ms(ne),F=le==null?q:ms(le),q=new ae(Z,x+"leave",ne,s,X),q.target=nt,q.relatedTarget=F,Z=null,mi(X)===j&&(ae=new ae(M,x+"enter",le,s,X),ae.target=F,ae.relatedTarget=nt,Z=ae),nt=Z,ne&&le)t:{for(ae=ne,M=le,x=0,F=ae;F;F=ds(F))x++;for(F=0,Z=M;Z;Z=ds(Z))F++;for(;0<x-F;)ae=ds(ae),x--;for(;0<F-x;)M=ds(M),F--;for(;x--;){if(ae===M||M!==null&&ae===M.alternate)break t;ae=ds(ae),M=ds(M)}ae=null}else ae=null;ne!==null&&xf(J,q,ne,ae,!1),le!==null&&nt!==null&&xf(J,nt,le,ae,!0)}}e:{if(q=j?ms(j):window,ne=q.nodeName&&q.nodeName.toLowerCase(),ne==="select"||ne==="input"&&q.type==="file")var ce=gy;else if(uf(q))if(hf)ce=Ey;else{ce=vy;var pe=yy}else(ne=q.nodeName)&&ne.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(ce=_y);if(ce&&(ce=ce(e,j))){cf(J,ce,s,X);break e}pe&&pe(e,q,j),e==="focusout"&&(pe=q._wrapperState)&&pe.controlled&&q.type==="number"&&Bi(q,"number",q.value)}switch(pe=j?ms(j):window,e){case"focusin":(uf(pe)||pe.contentEditable==="true")&&(hs=pe,Pu=j,Eo=null);break;case"focusout":Eo=Pu=hs=null;break;case"mousedown":ku=!0;break;case"contextmenu":case"mouseup":case"dragend":ku=!1,_f(J,s,X);break;case"selectionchange":if(Sy)break;case"keydown":case"keyup":_f(J,s,X)}var me;if(rt)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else cs?lf(e,s)&&(ge="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ge="onCompositionStart");ge&&(pi&&s.locale!=="ko"&&(cs||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&cs&&(me=fo()):(Zt=X,ts="value"in Zt?Zt.value:Zt.textContent,cs=!0)),pe=Bl(j,ge),0<pe.length&&(ge=new go(ge,e,null,s,X),J.push({event:ge,listeners:pe}),me?ge.data=me:(me=af(s),me!==null&&(ge.data=me)))),(me=en?fy(e,s):dy(e,s))&&(j=Bl(j,"onBeforeInput"),0<j.length&&(X=new go("onBeforeInput","beforeinput",null,s,X),J.push({event:X,listeners:j}),X.data=me))}Pf(J,n)})}function So(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Bl(e,n){for(var s=n+"Capture",u=[];e!==null;){var h=e,d=h.stateNode;h.tag===5&&d!==null&&(h=d,d=tt(e,s),d!=null&&u.unshift(So(e,d,h)),d=tt(e,n),d!=null&&u.push(So(e,d,h))),e=e.return}return u}function ds(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xf(e,n,s,u,h){for(var d=n._reactName,v=[];s!==null&&s!==u;){var w=s,R=w.alternate,j=w.stateNode;if(R!==null&&R===u)break;w.tag===5&&j!==null&&(w=j,h?(R=tt(s,d),R!=null&&v.unshift(So(s,R,w))):h||(R=tt(s,d),R!=null&&v.push(So(s,R,w)))),s=s.return}v.length!==0&&e.push({event:n,listeners:v})}var Ry=/\r\n?/g,Py=/\u0000|\uFFFD/g;function Nf(e){return(typeof e=="string"?e:""+e).replace(Ry,`
`).replace(Py,"")}function zl(e,n,s){if(n=Nf(n),Nf(e)!==n&&s)throw Error(r(425))}function bl(){}var Lu=null,Mu=null;function Fu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ju=typeof setTimeout=="function"?setTimeout:void 0,ky=typeof clearTimeout=="function"?clearTimeout:void 0,Df=typeof Promise=="function"?Promise:void 0,xy=typeof queueMicrotask=="function"?queueMicrotask:typeof Df<"u"?function(e){return Df.resolve(null).then(e).catch(Ny)}:ju;function Ny(e){setTimeout(function(){throw e})}function Uu(e,n){var s=n,u=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(u===0){e.removeChild(h),Tn(n);return}u--}else s!=="$"&&s!=="$?"&&s!=="$!"||u++;s=h}while(s);Tn(n)}function Vr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Vf(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var ps=Math.random().toString(36).slice(2),zn="__reactFiber$"+ps,Io="__reactProps$"+ps,lr="__reactContainer$"+ps,Bu="__reactEvents$"+ps,Dy="__reactListeners$"+ps,Vy="__reactHandles$"+ps;function mi(e){var n=e[zn];if(n)return n;for(var s=e.parentNode;s;){if(n=s[lr]||s[zn]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Vf(e);e!==null;){if(s=e[zn])return s;e=Vf(e)}return n}e=s,s=e.parentNode}return null}function Co(e){return e=e[zn]||e[lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ms(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function $l(e){return e[Io]||null}var zu=[],gs=-1;function Or(e){return{current:e}}function $e(e){0>gs||(e.current=zu[gs],zu[gs]=null,gs--)}function Be(e,n){gs++,zu[gs]=e.current,e.current=n}var Lr={},xt=Or(Lr),$t=Or(!1),gi=Lr;function ys(e,n){var s=e.type.contextTypes;if(!s)return Lr;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var h={},d;for(d in s)h[d]=n[d];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=h),h}function Ht(e){return e=e.childContextTypes,e!=null}function Hl(){$e($t),$e(xt)}function Of(e,n,s){if(xt.current!==Lr)throw Error(r(168));Be(xt,n),Be($t,s)}function Lf(e,n,s){var u=e.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return s;u=u.getChildContext();for(var h in u)if(!(h in n))throw Error(r(108,De(e)||"Unknown",h));return re({},s,u)}function Wl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lr,gi=xt.current,Be(xt,e),Be($t,$t.current),!0}function Mf(e,n,s){var u=e.stateNode;if(!u)throw Error(r(169));s?(e=Lf(e,n,gi),u.__reactInternalMemoizedMergedChildContext=e,$e($t),$e(xt),Be(xt,e)):$e($t),Be($t,s)}var ar=null,Ql=!1,bu=!1;function Ff(e){ar===null?ar=[e]:ar.push(e)}function Oy(e){Ql=!0,Ff(e)}function Mr(){if(!bu&&ar!==null){bu=!0;var e=0,n=Se;try{var s=ar;for(Se=1;e<s.length;e++){var u=s[e];do u=u(!0);while(u!==null)}ar=null,Ql=!1}catch(h){throw ar!==null&&(ar=ar.slice(e+1)),Xi(li,Mr),h}finally{Se=n,bu=!1}}return null}var vs=[],_s=0,ql=null,Kl=0,un=[],cn=0,yi=null,ur=1,cr="";function vi(e,n){vs[_s++]=Kl,vs[_s++]=ql,ql=e,Kl=n}function jf(e,n,s){un[cn++]=ur,un[cn++]=cr,un[cn++]=yi,yi=e;var u=ur;e=cr;var h=32-Ft(u)-1;u&=~(1<<h),s+=1;var d=32-Ft(n)+h;if(30<d){var v=h-h%5;d=(u&(1<<v)-1).toString(32),u>>=v,h-=v,ur=1<<32-Ft(n)+h|s<<h|u,cr=d+e}else ur=1<<d|s<<h|u,cr=e}function $u(e){e.return!==null&&(vi(e,1),jf(e,1,0))}function Hu(e){for(;e===ql;)ql=vs[--_s],vs[_s]=null,Kl=vs[--_s],vs[_s]=null;for(;e===yi;)yi=un[--cn],un[cn]=null,cr=un[--cn],un[cn]=null,ur=un[--cn],un[cn]=null}var tn=null,nn=null,We=!1,Cn=null;function Uf(e,n){var s=pn(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Bf(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,tn=e,nn=Vr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,tn=e,nn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=yi!==null?{id:ur,overflow:cr}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=pn(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,tn=e,nn=null,!0):!1;default:return!1}}function Wu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qu(e){if(We){var n=nn;if(n){var s=n;if(!Bf(e,n)){if(Wu(e))throw Error(r(418));n=Vr(s.nextSibling);var u=tn;n&&Bf(e,n)?Uf(u,s):(e.flags=e.flags&-4097|2,We=!1,tn=e)}}else{if(Wu(e))throw Error(r(418));e.flags=e.flags&-4097|2,We=!1,tn=e}}}function zf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tn=e}function Gl(e){if(e!==tn)return!1;if(!We)return zf(e),We=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Fu(e.type,e.memoizedProps)),n&&(n=nn)){if(Wu(e))throw bf(),Error(r(418));for(;n;)Uf(e,n),n=Vr(n.nextSibling)}if(zf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){nn=Vr(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}nn=null}}else nn=tn?Vr(e.stateNode.nextSibling):null;return!0}function bf(){for(var e=nn;e;)e=Vr(e.nextSibling)}function Es(){nn=tn=null,We=!1}function qu(e){Cn===null?Cn=[e]:Cn.push(e)}var Ly=ye.ReactCurrentBatchConfig;function Ao(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var u=s.stateNode}if(!u)throw Error(r(147,e));var h=u,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(v){var w=h.refs;v===null?delete w[d]:w[d]=v},n._stringRef=d,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function Xl(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function $f(e){var n=e._init;return n(e._payload)}function Hf(e){function n(M,x){if(e){var F=M.deletions;F===null?(M.deletions=[x],M.flags|=16):F.push(x)}}function s(M,x){if(!e)return null;for(;x!==null;)n(M,x),x=x.sibling;return null}function u(M,x){for(M=new Map;x!==null;)x.key!==null?M.set(x.key,x):M.set(x.index,x),x=x.sibling;return M}function h(M,x){return M=Hr(M,x),M.index=0,M.sibling=null,M}function d(M,x,F){return M.index=F,e?(F=M.alternate,F!==null?(F=F.index,F<x?(M.flags|=2,x):F):(M.flags|=2,x)):(M.flags|=1048576,x)}function v(M){return e&&M.alternate===null&&(M.flags|=2),M}function w(M,x,F,Z){return x===null||x.tag!==6?(x=jc(F,M.mode,Z),x.return=M,x):(x=h(x,F),x.return=M,x)}function R(M,x,F,Z){var ce=F.type;return ce===N?X(M,x,F.props.children,Z,F.key):x!==null&&(x.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===kt&&$f(ce)===x.type)?(Z=h(x,F.props),Z.ref=Ao(M,x,F),Z.return=M,Z):(Z=Ea(F.type,F.key,F.props,null,M.mode,Z),Z.ref=Ao(M,x,F),Z.return=M,Z)}function j(M,x,F,Z){return x===null||x.tag!==4||x.stateNode.containerInfo!==F.containerInfo||x.stateNode.implementation!==F.implementation?(x=Uc(F,M.mode,Z),x.return=M,x):(x=h(x,F.children||[]),x.return=M,x)}function X(M,x,F,Z,ce){return x===null||x.tag!==7?(x=Ai(F,M.mode,Z,ce),x.return=M,x):(x=h(x,F),x.return=M,x)}function J(M,x,F){if(typeof x=="string"&&x!==""||typeof x=="number")return x=jc(""+x,M.mode,F),x.return=M,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case xe:return F=Ea(x.type,x.key,x.props,null,M.mode,F),F.ref=Ao(M,null,x),F.return=M,F;case Ie:return x=Uc(x,M.mode,F),x.return=M,x;case kt:var Z=x._init;return J(M,Z(x._payload),F)}if(Jn(x)||de(x))return x=Ai(x,M.mode,F,null),x.return=M,x;Xl(M,x)}return null}function q(M,x,F,Z){var ce=x!==null?x.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return ce!==null?null:w(M,x,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case xe:return F.key===ce?R(M,x,F,Z):null;case Ie:return F.key===ce?j(M,x,F,Z):null;case kt:return ce=F._init,q(M,x,ce(F._payload),Z)}if(Jn(F)||de(F))return ce!==null?null:X(M,x,F,Z,null);Xl(M,F)}return null}function ne(M,x,F,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return M=M.get(F)||null,w(x,M,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case xe:return M=M.get(Z.key===null?F:Z.key)||null,R(x,M,Z,ce);case Ie:return M=M.get(Z.key===null?F:Z.key)||null,j(x,M,Z,ce);case kt:var pe=Z._init;return ne(M,x,F,pe(Z._payload),ce)}if(Jn(Z)||de(Z))return M=M.get(F)||null,X(x,M,Z,ce,null);Xl(x,Z)}return null}function le(M,x,F,Z){for(var ce=null,pe=null,me=x,ge=x=0,gt=null;me!==null&&ge<F.length;ge++){me.index>ge?(gt=me,me=null):gt=me.sibling;var Ne=q(M,me,F[ge],Z);if(Ne===null){me===null&&(me=gt);break}e&&me&&Ne.alternate===null&&n(M,me),x=d(Ne,x,ge),pe===null?ce=Ne:pe.sibling=Ne,pe=Ne,me=gt}if(ge===F.length)return s(M,me),We&&vi(M,ge),ce;if(me===null){for(;ge<F.length;ge++)me=J(M,F[ge],Z),me!==null&&(x=d(me,x,ge),pe===null?ce=me:pe.sibling=me,pe=me);return We&&vi(M,ge),ce}for(me=u(M,me);ge<F.length;ge++)gt=ne(me,M,ge,F[ge],Z),gt!==null&&(e&&gt.alternate!==null&&me.delete(gt.key===null?ge:gt.key),x=d(gt,x,ge),pe===null?ce=gt:pe.sibling=gt,pe=gt);return e&&me.forEach(function(Wr){return n(M,Wr)}),We&&vi(M,ge),ce}function ae(M,x,F,Z){var ce=de(F);if(typeof ce!="function")throw Error(r(150));if(F=ce.call(F),F==null)throw Error(r(151));for(var pe=ce=null,me=x,ge=x=0,gt=null,Ne=F.next();me!==null&&!Ne.done;ge++,Ne=F.next()){me.index>ge?(gt=me,me=null):gt=me.sibling;var Wr=q(M,me,Ne.value,Z);if(Wr===null){me===null&&(me=gt);break}e&&me&&Wr.alternate===null&&n(M,me),x=d(Wr,x,ge),pe===null?ce=Wr:pe.sibling=Wr,pe=Wr,me=gt}if(Ne.done)return s(M,me),We&&vi(M,ge),ce;if(me===null){for(;!Ne.done;ge++,Ne=F.next())Ne=J(M,Ne.value,Z),Ne!==null&&(x=d(Ne,x,ge),pe===null?ce=Ne:pe.sibling=Ne,pe=Ne);return We&&vi(M,ge),ce}for(me=u(M,me);!Ne.done;ge++,Ne=F.next())Ne=ne(me,M,ge,Ne.value,Z),Ne!==null&&(e&&Ne.alternate!==null&&me.delete(Ne.key===null?ge:Ne.key),x=d(Ne,x,ge),pe===null?ce=Ne:pe.sibling=Ne,pe=Ne);return e&&me.forEach(function(pv){return n(M,pv)}),We&&vi(M,ge),ce}function nt(M,x,F,Z){if(typeof F=="object"&&F!==null&&F.type===N&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case xe:e:{for(var ce=F.key,pe=x;pe!==null;){if(pe.key===ce){if(ce=F.type,ce===N){if(pe.tag===7){s(M,pe.sibling),x=h(pe,F.props.children),x.return=M,M=x;break e}}else if(pe.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===kt&&$f(ce)===pe.type){s(M,pe.sibling),x=h(pe,F.props),x.ref=Ao(M,pe,F),x.return=M,M=x;break e}s(M,pe);break}else n(M,pe);pe=pe.sibling}F.type===N?(x=Ai(F.props.children,M.mode,Z,F.key),x.return=M,M=x):(Z=Ea(F.type,F.key,F.props,null,M.mode,Z),Z.ref=Ao(M,x,F),Z.return=M,M=Z)}return v(M);case Ie:e:{for(pe=F.key;x!==null;){if(x.key===pe)if(x.tag===4&&x.stateNode.containerInfo===F.containerInfo&&x.stateNode.implementation===F.implementation){s(M,x.sibling),x=h(x,F.children||[]),x.return=M,M=x;break e}else{s(M,x);break}else n(M,x);x=x.sibling}x=Uc(F,M.mode,Z),x.return=M,M=x}return v(M);case kt:return pe=F._init,nt(M,x,pe(F._payload),Z)}if(Jn(F))return le(M,x,F,Z);if(de(F))return ae(M,x,F,Z);Xl(M,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,x!==null&&x.tag===6?(s(M,x.sibling),x=h(x,F),x.return=M,M=x):(s(M,x),x=jc(F,M.mode,Z),x.return=M,M=x),v(M)):s(M,x)}return nt}var ws=Hf(!0),Wf=Hf(!1),Yl=Or(null),Jl=null,Ts=null,Ku=null;function Gu(){Ku=Ts=Jl=null}function Xu(e){var n=Yl.current;$e(Yl),e._currentValue=n}function Yu(e,n,s){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===s)break;e=e.return}}function Ss(e,n){Jl=e,Ku=Ts=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Wt=!0),e.firstContext=null)}function hn(e){var n=e._currentValue;if(Ku!==e)if(e={context:e,memoizedValue:n,next:null},Ts===null){if(Jl===null)throw Error(r(308));Ts=e,Jl.dependencies={lanes:0,firstContext:e}}else Ts=Ts.next=e;return n}var _i=null;function Ju(e){_i===null?_i=[e]:_i.push(e)}function Qf(e,n,s,u){var h=n.interleaved;return h===null?(s.next=s,Ju(n)):(s.next=h.next,h.next=s),n.interleaved=s,hr(e,u)}function hr(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Fr=!1;function Zu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function jr(e,n,s){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(ke&2)!==0){var h=u.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),u.pending=n,hr(e,s)}return h=u.interleaved,h===null?(n.next=n,Ju(u)):(n.next=h.next,h.next=n),u.interleaved=n,hr(e,s)}function Zl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var u=n.lanes;u&=e.pendingLanes,s|=u,n.lanes=s,Rr(e,s)}}function Kf(e,n){var s=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?h=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?h=d=n:d=d.next=n}else h=d=n;s={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:u.shared,effects:u.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function ea(e,n,s,u){var h=e.updateQueue;Fr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var R=w,j=R.next;R.next=null,v===null?d=j:v.next=j,v=R;var X=e.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==v&&(w===null?X.firstBaseUpdate=j:w.next=j,X.lastBaseUpdate=R))}if(d!==null){var J=h.baseState;v=0,X=j=R=null,w=d;do{var q=w.lane,ne=w.eventTime;if((u&q)===q){X!==null&&(X=X.next={eventTime:ne,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var le=e,ae=w;switch(q=n,ne=s,ae.tag){case 1:if(le=ae.payload,typeof le=="function"){J=le.call(ne,J,q);break e}J=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ae.payload,q=typeof le=="function"?le.call(ne,J,q):le,q==null)break e;J=re({},J,q);break e;case 2:Fr=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,q=h.effects,q===null?h.effects=[w]:q.push(w))}else ne={eventTime:ne,lane:q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(j=X=ne,R=J):X=X.next=ne,v|=q;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;q=w,w=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);if(X===null&&(R=J),h.baseState=R,h.firstBaseUpdate=j,h.lastBaseUpdate=X,n=h.shared.interleaved,n!==null){h=n;do v|=h.lane,h=h.next;while(h!==n)}else d===null&&(h.shared.lanes=0);Ti|=v,e.lanes=v,e.memoizedState=J}}function Gf(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var u=e[n],h=u.callback;if(h!==null){if(u.callback=null,u=s,typeof h!="function")throw Error(r(191,h));h.call(u)}}}var Ro={},bn=Or(Ro),Po=Or(Ro),ko=Or(Ro);function Ei(e){if(e===Ro)throw Error(r(174));return e}function ec(e,n){switch(Be(ko,n),Be(Po,e),Be(bn,Ro),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:at(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=at(n,e)}$e(bn),Be(bn,n)}function Is(){$e(bn),$e(Po),$e(ko)}function Xf(e){Ei(ko.current);var n=Ei(bn.current),s=at(n,e.type);n!==s&&(Be(Po,e),Be(bn,s))}function tc(e){Po.current===e&&($e(bn),$e(Po))}var Ke=Or(0);function ta(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var nc=[];function rc(){for(var e=0;e<nc.length;e++)nc[e]._workInProgressVersionPrimary=null;nc.length=0}var na=ye.ReactCurrentDispatcher,ic=ye.ReactCurrentBatchConfig,wi=0,Ge=null,ct=null,pt=null,ra=!1,xo=!1,No=0,My=0;function Nt(){throw Error(r(321))}function sc(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!In(e[s],n[s]))return!1;return!0}function oc(e,n,s,u,h,d){if(wi=d,Ge=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,na.current=e===null||e.memoizedState===null?By:zy,e=s(u,h),xo){d=0;do{if(xo=!1,No=0,25<=d)throw Error(r(301));d+=1,pt=ct=null,n.updateQueue=null,na.current=by,e=s(u,h)}while(xo)}if(na.current=oa,n=ct!==null&&ct.next!==null,wi=0,pt=ct=Ge=null,ra=!1,n)throw Error(r(300));return e}function lc(){var e=No!==0;return No=0,e}function $n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Ge.memoizedState=pt=e:pt=pt.next=e,pt}function fn(){if(ct===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var n=pt===null?Ge.memoizedState:pt.next;if(n!==null)pt=n,ct=e;else{if(e===null)throw Error(r(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},pt===null?Ge.memoizedState=pt=e:pt=pt.next=e}return pt}function Do(e,n){return typeof n=="function"?n(e):n}function ac(e){var n=fn(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var u=ct,h=u.baseQueue,d=s.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}u.baseQueue=h=d,s.pending=null}if(h!==null){d=h.next,u=u.baseState;var w=v=null,R=null,j=d;do{var X=j.lane;if((wi&X)===X)R!==null&&(R=R.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),u=j.hasEagerState?j.eagerState:e(u,j.action);else{var J={lane:X,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};R===null?(w=R=J,v=u):R=R.next=J,Ge.lanes|=X,Ti|=X}j=j.next}while(j!==null&&j!==d);R===null?v=u:R.next=w,In(u,n.memoizedState)||(Wt=!0),n.memoizedState=u,n.baseState=v,n.baseQueue=R,s.lastRenderedState=u}if(e=s.interleaved,e!==null){h=e;do d=h.lane,Ge.lanes|=d,Ti|=d,h=h.next;while(h!==e)}else h===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function uc(e){var n=fn(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var u=s.dispatch,h=s.pending,d=n.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);In(d,n.memoizedState)||(Wt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,u]}function Yf(){}function Jf(e,n){var s=Ge,u=fn(),h=n(),d=!In(u.memoizedState,h);if(d&&(u.memoizedState=h,Wt=!0),u=u.queue,cc(td.bind(null,s,u,e),[e]),u.getSnapshot!==n||d||pt!==null&&pt.memoizedState.tag&1){if(s.flags|=2048,Vo(9,ed.bind(null,s,u,h,n),void 0,null),mt===null)throw Error(r(349));(wi&30)!==0||Zf(s,n,h)}return h}function Zf(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ge.updateQueue,n===null?(n={lastEffect:null,stores:null},Ge.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function ed(e,n,s,u){n.value=s,n.getSnapshot=u,nd(n)&&rd(e)}function td(e,n,s){return s(function(){nd(n)&&rd(e)})}function nd(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!In(e,s)}catch{return!0}}function rd(e){var n=hr(e,1);n!==null&&kn(n,e,1,-1)}function id(e){var n=$n();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:e},n.queue=e,e=e.dispatch=Uy.bind(null,Ge,e),[n.memoizedState,e]}function Vo(e,n,s,u){return e={tag:e,create:n,destroy:s,deps:u,next:null},n=Ge.updateQueue,n===null?(n={lastEffect:null,stores:null},Ge.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(u=s.next,s.next=e,e.next=u,n.lastEffect=e)),e}function sd(){return fn().memoizedState}function ia(e,n,s,u){var h=$n();Ge.flags|=e,h.memoizedState=Vo(1|n,s,void 0,u===void 0?null:u)}function sa(e,n,s,u){var h=fn();u=u===void 0?null:u;var d=void 0;if(ct!==null){var v=ct.memoizedState;if(d=v.destroy,u!==null&&sc(u,v.deps)){h.memoizedState=Vo(n,s,d,u);return}}Ge.flags|=e,h.memoizedState=Vo(1|n,s,d,u)}function od(e,n){return ia(8390656,8,e,n)}function cc(e,n){return sa(2048,8,e,n)}function ld(e,n){return sa(4,2,e,n)}function ad(e,n){return sa(4,4,e,n)}function ud(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function cd(e,n,s){return s=s!=null?s.concat([e]):null,sa(4,4,ud.bind(null,n,e),s)}function hc(){}function hd(e,n){var s=fn();n=n===void 0?null:n;var u=s.memoizedState;return u!==null&&n!==null&&sc(n,u[1])?u[0]:(s.memoizedState=[e,n],e)}function fd(e,n){var s=fn();n=n===void 0?null:n;var u=s.memoizedState;return u!==null&&n!==null&&sc(n,u[1])?u[0]:(e=e(),s.memoizedState=[e,n],e)}function dd(e,n,s){return(wi&21)===0?(e.baseState&&(e.baseState=!1,Wt=!0),e.memoizedState=s):(In(s,n)||(s=ci(),Ge.lanes|=s,Ti|=s,e.baseState=!0),n)}function Fy(e,n){var s=Se;Se=s!==0&&4>s?s:4,e(!0);var u=ic.transition;ic.transition={};try{e(!1),n()}finally{Se=s,ic.transition=u}}function pd(){return fn().memoizedState}function jy(e,n,s){var u=br(e);if(s={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null},md(e))gd(n,s);else if(s=Qf(e,n,s,u),s!==null){var h=Bt();kn(s,e,u,h),yd(s,n,u)}}function Uy(e,n,s){var u=br(e),h={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null};if(md(e))gd(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,w=d(v,s);if(h.hasEagerState=!0,h.eagerState=w,In(w,v)){var R=n.interleaved;R===null?(h.next=h,Ju(n)):(h.next=R.next,R.next=h),n.interleaved=h;return}}catch{}finally{}s=Qf(e,n,h,u),s!==null&&(h=Bt(),kn(s,e,u,h),yd(s,n,u))}}function md(e){var n=e.alternate;return e===Ge||n!==null&&n===Ge}function gd(e,n){xo=ra=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function yd(e,n,s){if((s&4194240)!==0){var u=n.lanes;u&=e.pendingLanes,s|=u,n.lanes=s,Rr(e,s)}}var oa={readContext:hn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},By={readContext:hn,useCallback:function(e,n){return $n().memoizedState=[e,n===void 0?null:n],e},useContext:hn,useEffect:od,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,ia(4194308,4,ud.bind(null,n,e),s)},useLayoutEffect:function(e,n){return ia(4194308,4,e,n)},useInsertionEffect:function(e,n){return ia(4,2,e,n)},useMemo:function(e,n){var s=$n();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var u=$n();return n=s!==void 0?s(n):n,u.memoizedState=u.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},u.queue=e,e=e.dispatch=jy.bind(null,Ge,e),[u.memoizedState,e]},useRef:function(e){var n=$n();return e={current:e},n.memoizedState=e},useState:id,useDebugValue:hc,useDeferredValue:function(e){return $n().memoizedState=e},useTransition:function(){var e=id(!1),n=e[0];return e=Fy.bind(null,e[1]),$n().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var u=Ge,h=$n();if(We){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),mt===null)throw Error(r(349));(wi&30)!==0||Zf(u,n,s)}h.memoizedState=s;var d={value:s,getSnapshot:n};return h.queue=d,od(td.bind(null,u,d,e),[e]),u.flags|=2048,Vo(9,ed.bind(null,u,d,s,n),void 0,null),s},useId:function(){var e=$n(),n=mt.identifierPrefix;if(We){var s=cr,u=ur;s=(u&~(1<<32-Ft(u)-1)).toString(32)+s,n=":"+n+"R"+s,s=No++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=My++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},zy={readContext:hn,useCallback:hd,useContext:hn,useEffect:cc,useImperativeHandle:cd,useInsertionEffect:ld,useLayoutEffect:ad,useMemo:fd,useReducer:ac,useRef:sd,useState:function(){return ac(Do)},useDebugValue:hc,useDeferredValue:function(e){var n=fn();return dd(n,ct.memoizedState,e)},useTransition:function(){var e=ac(Do)[0],n=fn().memoizedState;return[e,n]},useMutableSource:Yf,useSyncExternalStore:Jf,useId:pd,unstable_isNewReconciler:!1},by={readContext:hn,useCallback:hd,useContext:hn,useEffect:cc,useImperativeHandle:cd,useInsertionEffect:ld,useLayoutEffect:ad,useMemo:fd,useReducer:uc,useRef:sd,useState:function(){return uc(Do)},useDebugValue:hc,useDeferredValue:function(e){var n=fn();return ct===null?n.memoizedState=e:dd(n,ct.memoizedState,e)},useTransition:function(){var e=uc(Do)[0],n=fn().memoizedState;return[e,n]},useMutableSource:Yf,useSyncExternalStore:Jf,useId:pd,unstable_isNewReconciler:!1};function An(e,n){if(e&&e.defaultProps){n=re({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function fc(e,n,s,u){n=e.memoizedState,s=s(u,n),s=s==null?n:re({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var la={isMounted:function(e){return(e=e._reactInternals)?yn(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var u=Bt(),h=br(e),d=fr(u,h);d.payload=n,s!=null&&(d.callback=s),n=jr(e,d,h),n!==null&&(kn(n,e,h,u),Zl(n,e,h))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var u=Bt(),h=br(e),d=fr(u,h);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=jr(e,d,h),n!==null&&(kn(n,e,h,u),Zl(n,e,h))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Bt(),u=br(e),h=fr(s,u);h.tag=2,n!=null&&(h.callback=n),n=jr(e,h,u),n!==null&&(kn(n,e,u,s),Zl(n,e,u))}};function vd(e,n,s,u,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,d,v):n.prototype&&n.prototype.isPureReactComponent?!_o(s,u)||!_o(h,d):!0}function _d(e,n,s){var u=!1,h=Lr,d=n.contextType;return typeof d=="object"&&d!==null?d=hn(d):(h=Ht(n)?gi:xt.current,u=n.contextTypes,d=(u=u!=null)?ys(e,h):Lr),n=new n(s,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=la,e.stateNode=n,n._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=d),n}function Ed(e,n,s,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,u),n.state!==e&&la.enqueueReplaceState(n,n.state,null)}function dc(e,n,s,u){var h=e.stateNode;h.props=s,h.state=e.memoizedState,h.refs={},Zu(e);var d=n.contextType;typeof d=="object"&&d!==null?h.context=hn(d):(d=Ht(n)?gi:xt.current,h.context=ys(e,d)),h.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(fc(e,n,d,s),h.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&la.enqueueReplaceState(h,h.state,null),ea(e,s,h,u),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function Cs(e,n){try{var s="",u=n;do s+=we(u),u=u.return;while(u);var h=s}catch(d){h=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:h,digest:null}}function pc(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function mc(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var $y=typeof WeakMap=="function"?WeakMap:Map;function wd(e,n,s){s=fr(-1,s),s.tag=3,s.payload={element:null};var u=n.value;return s.callback=function(){pa||(pa=!0,xc=u),mc(e,n)},s}function Td(e,n,s){s=fr(-1,s),s.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var h=n.value;s.payload=function(){return u(h)},s.callback=function(){mc(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){mc(e,n),typeof u!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var v=n.stack;this.componentDidCatch(n.value,{componentStack:v!==null?v:""})}),s}function Sd(e,n,s){var u=e.pingCache;if(u===null){u=e.pingCache=new $y;var h=new Set;u.set(n,h)}else h=u.get(n),h===void 0&&(h=new Set,u.set(n,h));h.has(s)||(h.add(s),e=rv.bind(null,e,n,s),n.then(e,e))}function Id(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Cd(e,n,s,u,h){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=fr(-1,1),n.tag=2,jr(s,n,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var Hy=ye.ReactCurrentOwner,Wt=!1;function Ut(e,n,s,u){n.child=e===null?Wf(n,null,s,u):ws(n,e.child,s,u)}function Ad(e,n,s,u,h){s=s.render;var d=n.ref;return Ss(n,h),u=oc(e,n,s,u,d,h),s=lc(),e!==null&&!Wt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,dr(e,n,h)):(We&&s&&$u(n),n.flags|=1,Ut(e,n,u,h),n.child)}function Rd(e,n,s,u,h){if(e===null){var d=s.type;return typeof d=="function"&&!Fc(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,Pd(e,n,d,u,h)):(e=Ea(s.type,null,u,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,(e.lanes&h)===0){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:_o,s(v,u)&&e.ref===n.ref)return dr(e,n,h)}return n.flags|=1,e=Hr(d,u),e.ref=n.ref,e.return=n,n.child=e}function Pd(e,n,s,u,h){if(e!==null){var d=e.memoizedProps;if(_o(d,u)&&e.ref===n.ref)if(Wt=!1,n.pendingProps=u=d,(e.lanes&h)!==0)(e.flags&131072)!==0&&(Wt=!0);else return n.lanes=e.lanes,dr(e,n,h)}return gc(e,n,s,u,h)}function kd(e,n,s){var u=n.pendingProps,h=u.children,d=e!==null?e.memoizedState:null;if(u.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Rs,rn),rn|=s;else{if((s&1073741824)===0)return e=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Be(Rs,rn),rn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=d!==null?d.baseLanes:s,Be(Rs,rn),rn|=u}else d!==null?(u=d.baseLanes|s,n.memoizedState=null):u=s,Be(Rs,rn),rn|=u;return Ut(e,n,h,s),n.child}function xd(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function gc(e,n,s,u,h){var d=Ht(s)?gi:xt.current;return d=ys(n,d),Ss(n,h),s=oc(e,n,s,u,d,h),u=lc(),e!==null&&!Wt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,dr(e,n,h)):(We&&u&&$u(n),n.flags|=1,Ut(e,n,s,h),n.child)}function Nd(e,n,s,u,h){if(Ht(s)){var d=!0;Wl(n)}else d=!1;if(Ss(n,h),n.stateNode===null)ua(e,n),_d(n,s,u),dc(n,s,u,h),u=!0;else if(e===null){var v=n.stateNode,w=n.memoizedProps;v.props=w;var R=v.context,j=s.contextType;typeof j=="object"&&j!==null?j=hn(j):(j=Ht(s)?gi:xt.current,j=ys(n,j));var X=s.getDerivedStateFromProps,J=typeof X=="function"||typeof v.getSnapshotBeforeUpdate=="function";J||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==u||R!==j)&&Ed(n,v,u,j),Fr=!1;var q=n.memoizedState;v.state=q,ea(n,u,v,h),R=n.memoizedState,w!==u||q!==R||$t.current||Fr?(typeof X=="function"&&(fc(n,s,X,u),R=n.memoizedState),(w=Fr||vd(n,s,w,u,q,R,j))?(J||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(n.flags|=4194308)):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=R),v.props=u,v.state=R,v.context=j,u=w):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{v=n.stateNode,qf(e,n),w=n.memoizedProps,j=n.type===n.elementType?w:An(n.type,w),v.props=j,J=n.pendingProps,q=v.context,R=s.contextType,typeof R=="object"&&R!==null?R=hn(R):(R=Ht(s)?gi:xt.current,R=ys(n,R));var ne=s.getDerivedStateFromProps;(X=typeof ne=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==J||q!==R)&&Ed(n,v,u,R),Fr=!1,q=n.memoizedState,v.state=q,ea(n,u,v,h);var le=n.memoizedState;w!==J||q!==le||$t.current||Fr?(typeof ne=="function"&&(fc(n,s,ne,u),le=n.memoizedState),(j=Fr||vd(n,s,j,u,q,le,R)||!1)?(X||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,le,R),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,le,R)),typeof v.componentDidUpdate=="function"&&(n.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=le),v.props=u,v.state=le,v.context=R,u=j):(typeof v.componentDidUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),u=!1)}return yc(e,n,s,u,d,h)}function yc(e,n,s,u,h,d){xd(e,n);var v=(n.flags&128)!==0;if(!u&&!v)return h&&Mf(n,s,!1),dr(e,n,d);u=n.stateNode,Hy.current=n;var w=v&&typeof s.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,e!==null&&v?(n.child=ws(n,e.child,null,d),n.child=ws(n,null,w,d)):Ut(e,n,w,d),n.memoizedState=u.state,h&&Mf(n,s,!0),n.child}function Dd(e){var n=e.stateNode;n.pendingContext?Of(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Of(e,n.context,!1),ec(e,n.containerInfo)}function Vd(e,n,s,u,h){return Es(),qu(h),n.flags|=256,Ut(e,n,s,u),n.child}var vc={dehydrated:null,treeContext:null,retryLane:0};function _c(e){return{baseLanes:e,cachePool:null,transitions:null}}function Od(e,n,s){var u=n.pendingProps,h=Ke.current,d=!1,v=(n.flags&128)!==0,w;if((w=v)||(w=e!==null&&e.memoizedState===null?!1:(h&2)!==0),w?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Be(Ke,h&1),e===null)return Qu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(v=u.children,e=u.fallback,d?(u=n.mode,d=n.child,v={mode:"hidden",children:v},(u&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=v):d=wa(v,u,0,null),e=Ai(e,u,s,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=_c(s),n.memoizedState=vc,e):Ec(n,v));if(h=e.memoizedState,h!==null&&(w=h.dehydrated,w!==null))return Wy(e,n,v,u,w,h,s);if(d){d=u.fallback,v=n.mode,h=e.child,w=h.sibling;var R={mode:"hidden",children:u.children};return(v&1)===0&&n.child!==h?(u=n.child,u.childLanes=0,u.pendingProps=R,n.deletions=null):(u=Hr(h,R),u.subtreeFlags=h.subtreeFlags&14680064),w!==null?d=Hr(w,d):(d=Ai(d,v,s,null),d.flags|=2),d.return=n,u.return=n,u.sibling=d,n.child=u,u=d,d=n.child,v=e.child.memoizedState,v=v===null?_c(s):{baseLanes:v.baseLanes|s,cachePool:null,transitions:v.transitions},d.memoizedState=v,d.childLanes=e.childLanes&~s,n.memoizedState=vc,u}return d=e.child,e=d.sibling,u=Hr(d,{mode:"visible",children:u.children}),(n.mode&1)===0&&(u.lanes=s),u.return=n,u.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=u,n.memoizedState=null,u}function Ec(e,n){return n=wa({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function aa(e,n,s,u){return u!==null&&qu(u),ws(n,e.child,null,s),e=Ec(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Wy(e,n,s,u,h,d,v){if(s)return n.flags&256?(n.flags&=-257,u=pc(Error(r(422))),aa(e,n,v,u)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=u.fallback,h=n.mode,u=wa({mode:"visible",children:u.children},h,0,null),d=Ai(d,h,v,null),d.flags|=2,u.return=n,d.return=n,u.sibling=d,n.child=u,(n.mode&1)!==0&&ws(n,e.child,null,v),n.child.memoizedState=_c(v),n.memoizedState=vc,d);if((n.mode&1)===0)return aa(e,n,v,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var w=u.dgst;return u=w,d=Error(r(419)),u=pc(d,u,void 0),aa(e,n,v,u)}if(w=(v&e.childLanes)!==0,Wt||w){if(u=mt,u!==null){switch(v&-v){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|v))!==0?0:h,h!==0&&h!==d.retryLane&&(d.retryLane=h,hr(e,h),kn(u,e,h,-1))}return Mc(),u=pc(Error(r(421))),aa(e,n,v,u)}return h.data==="$?"?(n.flags|=128,n.child=e.child,n=iv.bind(null,e),h._reactRetry=n,null):(e=d.treeContext,nn=Vr(h.nextSibling),tn=n,We=!0,Cn=null,e!==null&&(un[cn++]=ur,un[cn++]=cr,un[cn++]=yi,ur=e.id,cr=e.overflow,yi=n),n=Ec(n,u.children),n.flags|=4096,n)}function Ld(e,n,s){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),Yu(e.return,n,s)}function wc(e,n,s,u,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=u,d.tail=s,d.tailMode=h)}function Md(e,n,s){var u=n.pendingProps,h=u.revealOrder,d=u.tail;if(Ut(e,n,u.children,s),u=Ke.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ld(e,s,n);else if(e.tag===19)Ld(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(Be(Ke,u),(n.mode&1)===0)n.memoizedState=null;else switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&ta(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),wc(n,!1,h,s,d);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ta(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}wc(n,!0,s,null,d);break;case"together":wc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ua(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function dr(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ti|=n.lanes,(s&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Hr(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Hr(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Qy(e,n,s){switch(n.tag){case 3:Dd(n),Es();break;case 5:Xf(n);break;case 1:Ht(n.type)&&Wl(n);break;case 4:ec(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,h=n.memoizedProps.value;Be(Yl,u._currentValue),u._currentValue=h;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(Be(Ke,Ke.current&1),n.flags|=128,null):(s&n.child.childLanes)!==0?Od(e,n,s):(Be(Ke,Ke.current&1),e=dr(e,n,s),e!==null?e.sibling:null);Be(Ke,Ke.current&1);break;case 19:if(u=(s&n.childLanes)!==0,(e.flags&128)!==0){if(u)return Md(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Be(Ke,Ke.current),u)break;return null;case 22:case 23:return n.lanes=0,kd(e,n,s)}return dr(e,n,s)}var Fd,Tc,jd,Ud;Fd=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Tc=function(){},jd=function(e,n,s,u){var h=e.memoizedProps;if(h!==u){e=n.stateNode,Ei(bn.current);var d=null;switch(s){case"input":h=Zr(e,h),u=Zr(e,u),d=[];break;case"select":h=re({},h,{value:void 0}),u=re({},u,{value:void 0}),d=[];break;case"textarea":h=qs(e,h),u=qs(e,u),d=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=bl)}Zs(s,u);var v;s=null;for(j in h)if(!u.hasOwnProperty(j)&&h.hasOwnProperty(j)&&h[j]!=null)if(j==="style"){var w=h[j];for(v in w)w.hasOwnProperty(v)&&(s||(s={}),s[v]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(a.hasOwnProperty(j)?d||(d=[]):(d=d||[]).push(j,null));for(j in u){var R=u[j];if(w=h?.[j],u.hasOwnProperty(j)&&R!==w&&(R!=null||w!=null))if(j==="style")if(w){for(v in w)!w.hasOwnProperty(v)||R&&R.hasOwnProperty(v)||(s||(s={}),s[v]="");for(v in R)R.hasOwnProperty(v)&&w[v]!==R[v]&&(s||(s={}),s[v]=R[v])}else s||(d||(d=[]),d.push(j,s)),s=R;else j==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,w=w?w.__html:void 0,R!=null&&w!==R&&(d=d||[]).push(j,R)):j==="children"?typeof R!="string"&&typeof R!="number"||(d=d||[]).push(j,""+R):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(a.hasOwnProperty(j)?(R!=null&&j==="onScroll"&&be("scroll",e),d||w===R||(d=[])):(d=d||[]).push(j,R))}s&&(d=d||[]).push("style",s);var j=d;(n.updateQueue=j)&&(n.flags|=4)}},Ud=function(e,n,s,u){s!==u&&(n.flags|=4)};function Oo(e,n){if(!We)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Dt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,u=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=u,e.childLanes=s,n}function qy(e,n,s){var u=n.pendingProps;switch(Hu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(n),null;case 1:return Ht(n.type)&&Hl(),Dt(n),null;case 3:return u=n.stateNode,Is(),$e($t),$e(xt),rc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(Gl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Cn!==null&&(Vc(Cn),Cn=null))),Tc(e,n),Dt(n),null;case 5:tc(n);var h=Ei(ko.current);if(s=n.type,e!==null&&n.stateNode!=null)jd(e,n,s,u,h),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(r(166));return Dt(n),null}if(e=Ei(bn.current),Gl(n)){u=n.stateNode,s=n.type;var d=n.memoizedProps;switch(u[zn]=n,u[Io]=d,e=(n.mode&1)!==0,s){case"dialog":be("cancel",u),be("close",u);break;case"iframe":case"object":case"embed":be("load",u);break;case"video":case"audio":for(h=0;h<wo.length;h++)be(wo[h],u);break;case"source":be("error",u);break;case"img":case"image":case"link":be("error",u),be("load",u);break;case"details":be("toggle",u);break;case"input":Ui(u,d),be("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!d.multiple},be("invalid",u);break;case"textarea":zi(u,d),be("invalid",u)}Zs(s,d),h=null;for(var v in d)if(d.hasOwnProperty(v)){var w=d[v];v==="children"?typeof w=="string"?u.textContent!==w&&(d.suppressHydrationWarning!==!0&&zl(u.textContent,w,e),h=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(d.suppressHydrationWarning!==!0&&zl(u.textContent,w,e),h=["children",""+w]):a.hasOwnProperty(v)&&w!=null&&v==="onScroll"&&be("scroll",u)}switch(s){case"input":Yn(u),dl(u,d,!0);break;case"textarea":Yn(u),Ks(u);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(u.onclick=bl)}u=h,n.updateQueue=u,u!==null&&(n.flags|=4)}else{v=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lt(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=v.createElement(s,{is:u.is}):(e=v.createElement(s),s==="select"&&(v=e,u.multiple?v.multiple=!0:u.size&&(v.size=u.size))):e=v.createElementNS(e,s),e[zn]=n,e[Io]=u,Fd(e,n,!1,!1),n.stateNode=e;e:{switch(v=eo(s,u),s){case"dialog":be("cancel",e),be("close",e),h=u;break;case"iframe":case"object":case"embed":be("load",e),h=u;break;case"video":case"audio":for(h=0;h<wo.length;h++)be(wo[h],e);h=u;break;case"source":be("error",e),h=u;break;case"img":case"image":case"link":be("error",e),be("load",e),h=u;break;case"details":be("toggle",e),h=u;break;case"input":Ui(e,u),h=Zr(e,u),be("invalid",e);break;case"option":h=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},h=re({},u,{value:void 0}),be("invalid",e);break;case"textarea":zi(e,u),h=qs(e,u),be("invalid",e);break;default:h=u}Zs(s,h),w=h;for(d in w)if(w.hasOwnProperty(d)){var R=w[d];d==="style"?Ys(e,R):d==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Gs(e,R)):d==="children"?typeof R=="string"?(s!=="textarea"||R!=="")&&Tr(e,R):typeof R=="number"&&Tr(e,""+R):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?R!=null&&d==="onScroll"&&be("scroll",e):R!=null&&ie(e,d,R,v))}switch(s){case"input":Yn(e),dl(e,u,!1);break;case"textarea":Yn(e),Ks(e);break;case"option":u.value!=null&&e.setAttribute("value",""+Ve(u.value));break;case"select":e.multiple=!!u.multiple,d=u.value,d!=null?Zn(e,!!u.multiple,d,!1):u.defaultValue!=null&&Zn(e,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=bl)}switch(s){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Dt(n),null;case 6:if(e&&n.stateNode!=null)Ud(e,n,e.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(s=Ei(ko.current),Ei(bn.current),Gl(n)){if(u=n.stateNode,s=n.memoizedProps,u[zn]=n,(d=u.nodeValue!==s)&&(e=tn,e!==null))switch(e.tag){case 3:zl(u.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zl(u.nodeValue,s,(e.mode&1)!==0)}d&&(n.flags|=4)}else u=(s.nodeType===9?s:s.ownerDocument).createTextNode(u),u[zn]=n,n.stateNode=u}return Dt(n),null;case 13:if($e(Ke),u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&nn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)bf(),Es(),n.flags|=98560,d=!1;else if(d=Gl(n),u!==null&&u.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[zn]=n}else Es(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Dt(n),d=!1}else Cn!==null&&(Vc(Cn),Cn=null),d=!0;if(!d)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=s,n):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Ke.current&1)!==0?ht===0&&(ht=3):Mc())),n.updateQueue!==null&&(n.flags|=4),Dt(n),null);case 4:return Is(),Tc(e,n),e===null&&To(n.stateNode.containerInfo),Dt(n),null;case 10:return Xu(n.type._context),Dt(n),null;case 17:return Ht(n.type)&&Hl(),Dt(n),null;case 19:if($e(Ke),d=n.memoizedState,d===null)return Dt(n),null;if(u=(n.flags&128)!==0,v=d.rendering,v===null)if(u)Oo(d,!1);else{if(ht!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(v=ta(e),v!==null){for(n.flags|=128,Oo(d,!1),u=v.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=s,s=n.child;s!==null;)d=s,e=u,d.flags&=14680066,v=d.alternate,v===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=v.childLanes,d.lanes=v.lanes,d.child=v.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=v.memoizedProps,d.memoizedState=v.memoizedState,d.updateQueue=v.updateQueue,d.type=v.type,e=v.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Be(Ke,Ke.current&1|2),n.child}e=e.sibling}d.tail!==null&&Ue()>Ps&&(n.flags|=128,u=!0,Oo(d,!1),n.lanes=4194304)}else{if(!u)if(e=ta(v),e!==null){if(n.flags|=128,u=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Oo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!v.alternate&&!We)return Dt(n),null}else 2*Ue()-d.renderingStartTime>Ps&&s!==1073741824&&(n.flags|=128,u=!0,Oo(d,!1),n.lanes=4194304);d.isBackwards?(v.sibling=n.child,n.child=v):(s=d.last,s!==null?s.sibling=v:n.child=v,d.last=v)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Ue(),n.sibling=null,s=Ke.current,Be(Ke,u?s&1|2:s&1),n):(Dt(n),null);case 22:case 23:return Lc(),u=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(n.flags|=8192),u&&(n.mode&1)!==0?(rn&1073741824)!==0&&(Dt(n),n.subtreeFlags&6&&(n.flags|=8192)):Dt(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function Ky(e,n){switch(Hu(n),n.tag){case 1:return Ht(n.type)&&Hl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Is(),$e($t),$e(xt),rc(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return tc(n),null;case 13:if($e(Ke),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Es()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return $e(Ke),null;case 4:return Is(),null;case 10:return Xu(n.type._context),null;case 22:case 23:return Lc(),null;case 24:return null;default:return null}}var ca=!1,Vt=!1,Gy=typeof WeakSet=="function"?WeakSet:Set,se=null;function As(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(u){Je(e,n,u)}else s.current=null}function Sc(e,n,s){try{s()}catch(u){Je(e,n,u)}}var Bd=!1;function Xy(e,n){if(Lu=xr,e=vf(),Ru(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var h=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var v=0,w=-1,R=-1,j=0,X=0,J=e,q=null;t:for(;;){for(var ne;J!==s||h!==0&&J.nodeType!==3||(w=v+h),J!==d||u!==0&&J.nodeType!==3||(R=v+u),J.nodeType===3&&(v+=J.nodeValue.length),(ne=J.firstChild)!==null;)q=J,J=ne;for(;;){if(J===e)break t;if(q===s&&++j===h&&(w=v),q===d&&++X===u&&(R=v),(ne=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=ne}s=w===-1||R===-1?null:{start:w,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(Mu={focusedElem:e,selectionRange:s},xr=!1,se=n;se!==null;)if(n=se,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,se=e;else for(;se!==null;){n=se;try{var le=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ae=le.memoizedProps,nt=le.memoizedState,M=n.stateNode,x=M.getSnapshotBeforeUpdate(n.elementType===n.type?ae:An(n.type,ae),nt);M.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var F=n.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Z){Je(n,n.return,Z)}if(e=n.sibling,e!==null){e.return=n.return,se=e;break}se=n.return}return le=Bd,Bd=!1,le}function Lo(e,n,s){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&e)===e){var d=h.destroy;h.destroy=void 0,d!==void 0&&Sc(n,s,d)}h=h.next}while(h!==u)}}function ha(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var u=s.create;s.destroy=u()}s=s.next}while(s!==n)}}function Ic(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function zd(e){var n=e.alternate;n!==null&&(e.alternate=null,zd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[zn],delete n[Io],delete n[Bu],delete n[Dy],delete n[Vy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bd(e){return e.tag===5||e.tag===3||e.tag===4}function $d(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cc(e,n,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=bl));else if(u!==4&&(e=e.child,e!==null))for(Cc(e,n,s),e=e.sibling;e!==null;)Cc(e,n,s),e=e.sibling}function Ac(e,n,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(Ac(e,n,s),e=e.sibling;e!==null;)Ac(e,n,s),e=e.sibling}var wt=null,Rn=!1;function Ur(e,n,s){for(s=s.child;s!==null;)Hd(e,n,s),s=s.sibling}function Hd(e,n,s){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ai,s)}catch{}switch(s.tag){case 5:Vt||As(s,n);case 6:var u=wt,h=Rn;wt=null,Ur(e,n,s),wt=u,Rn=h,wt!==null&&(Rn?(e=wt,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):wt.removeChild(s.stateNode));break;case 18:wt!==null&&(Rn?(e=wt,s=s.stateNode,e.nodeType===8?Uu(e.parentNode,s):e.nodeType===1&&Uu(e,s),Tn(e)):Uu(wt,s.stateNode));break;case 4:u=wt,h=Rn,wt=s.stateNode.containerInfo,Rn=!0,Ur(e,n,s),wt=u,Rn=h;break;case 0:case 11:case 14:case 15:if(!Vt&&(u=s.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var d=h,v=d.destroy;d=d.tag,v!==void 0&&((d&2)!==0||(d&4)!==0)&&Sc(s,n,v),h=h.next}while(h!==u)}Ur(e,n,s);break;case 1:if(!Vt&&(As(s,n),u=s.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=s.memoizedProps,u.state=s.memoizedState,u.componentWillUnmount()}catch(w){Je(s,n,w)}Ur(e,n,s);break;case 21:Ur(e,n,s);break;case 22:s.mode&1?(Vt=(u=Vt)||s.memoizedState!==null,Ur(e,n,s),Vt=u):Ur(e,n,s);break;default:Ur(e,n,s)}}function Wd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Gy),n.forEach(function(u){var h=sv.bind(null,e,u);s.has(u)||(s.add(u),u.then(h,h))})}}function Pn(e,n){var s=n.deletions;if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];try{var d=e,v=n,w=v;e:for(;w!==null;){switch(w.tag){case 5:wt=w.stateNode,Rn=!1;break e;case 3:wt=w.stateNode.containerInfo,Rn=!0;break e;case 4:wt=w.stateNode.containerInfo,Rn=!0;break e}w=w.return}if(wt===null)throw Error(r(160));Hd(d,v,h),wt=null,Rn=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(j){Je(h,n,j)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Qd(n,e),n=n.sibling}function Qd(e,n){var s=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pn(n,e),Hn(e),u&4){try{Lo(3,e,e.return),ha(3,e)}catch(ae){Je(e,e.return,ae)}try{Lo(5,e,e.return)}catch(ae){Je(e,e.return,ae)}}break;case 1:Pn(n,e),Hn(e),u&512&&s!==null&&As(s,s.return);break;case 5:if(Pn(n,e),Hn(e),u&512&&s!==null&&As(s,s.return),e.flags&32){var h=e.stateNode;try{Tr(h,"")}catch(ae){Je(e,e.return,ae)}}if(u&4&&(h=e.stateNode,h!=null)){var d=e.memoizedProps,v=s!==null?s.memoizedProps:d,w=e.type,R=e.updateQueue;if(e.updateQueue=null,R!==null)try{w==="input"&&d.type==="radio"&&d.name!=null&&Ws(h,d),eo(w,v);var j=eo(w,d);for(v=0;v<R.length;v+=2){var X=R[v],J=R[v+1];X==="style"?Ys(h,J):X==="dangerouslySetInnerHTML"?Gs(h,J):X==="children"?Tr(h,J):ie(h,X,J,j)}switch(w){case"input":Qs(h,d);break;case"textarea":bi(h,d);break;case"select":var q=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!d.multiple;var ne=d.value;ne!=null?Zn(h,!!d.multiple,ne,!1):q!==!!d.multiple&&(d.defaultValue!=null?Zn(h,!!d.multiple,d.defaultValue,!0):Zn(h,!!d.multiple,d.multiple?[]:"",!1))}h[Io]=d}catch(ae){Je(e,e.return,ae)}}break;case 6:if(Pn(n,e),Hn(e),u&4){if(e.stateNode===null)throw Error(r(162));h=e.stateNode,d=e.memoizedProps;try{h.nodeValue=d}catch(ae){Je(e,e.return,ae)}}break;case 3:if(Pn(n,e),Hn(e),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Tn(n.containerInfo)}catch(ae){Je(e,e.return,ae)}break;case 4:Pn(n,e),Hn(e);break;case 13:Pn(n,e),Hn(e),h=e.child,h.flags&8192&&(d=h.memoizedState!==null,h.stateNode.isHidden=d,!d||h.alternate!==null&&h.alternate.memoizedState!==null||(kc=Ue())),u&4&&Wd(e);break;case 22:if(X=s!==null&&s.memoizedState!==null,e.mode&1?(Vt=(j=Vt)||X,Pn(n,e),Vt=j):Pn(n,e),Hn(e),u&8192){if(j=e.memoizedState!==null,(e.stateNode.isHidden=j)&&!X&&(e.mode&1)!==0)for(se=e,X=e.child;X!==null;){for(J=se=X;se!==null;){switch(q=se,ne=q.child,q.tag){case 0:case 11:case 14:case 15:Lo(4,q,q.return);break;case 1:As(q,q.return);var le=q.stateNode;if(typeof le.componentWillUnmount=="function"){u=q,s=q.return;try{n=u,le.props=n.memoizedProps,le.state=n.memoizedState,le.componentWillUnmount()}catch(ae){Je(u,s,ae)}}break;case 5:As(q,q.return);break;case 22:if(q.memoizedState!==null){Gd(J);continue}}ne!==null?(ne.return=q,se=ne):Gd(J)}X=X.sibling}e:for(X=null,J=e;;){if(J.tag===5){if(X===null){X=J;try{h=J.stateNode,j?(d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(w=J.stateNode,R=J.memoizedProps.style,v=R!=null&&R.hasOwnProperty("display")?R.display:null,w.style.display=Xs("display",v))}catch(ae){Je(e,e.return,ae)}}}else if(J.tag===6){if(X===null)try{J.stateNode.nodeValue=j?"":J.memoizedProps}catch(ae){Je(e,e.return,ae)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===e)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===e)break e;for(;J.sibling===null;){if(J.return===null||J.return===e)break e;X===J&&(X=null),J=J.return}X===J&&(X=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Pn(n,e),Hn(e),u&4&&Wd(e);break;case 21:break;default:Pn(n,e),Hn(e)}}function Hn(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(bd(s)){var u=s;break e}s=s.return}throw Error(r(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(Tr(h,""),u.flags&=-33);var d=$d(e);Ac(e,d,h);break;case 3:case 4:var v=u.stateNode.containerInfo,w=$d(e);Cc(e,w,v);break;default:throw Error(r(161))}}catch(R){Je(e,e.return,R)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Yy(e,n,s){se=e,qd(e)}function qd(e,n,s){for(var u=(e.mode&1)!==0;se!==null;){var h=se,d=h.child;if(h.tag===22&&u){var v=h.memoizedState!==null||ca;if(!v){var w=h.alternate,R=w!==null&&w.memoizedState!==null||Vt;w=ca;var j=Vt;if(ca=v,(Vt=R)&&!j)for(se=h;se!==null;)v=se,R=v.child,v.tag===22&&v.memoizedState!==null?Xd(h):R!==null?(R.return=v,se=R):Xd(h);for(;d!==null;)se=d,qd(d),d=d.sibling;se=h,ca=w,Vt=j}Kd(e)}else(h.subtreeFlags&8772)!==0&&d!==null?(d.return=h,se=d):Kd(e)}}function Kd(e){for(;se!==null;){var n=se;if((n.flags&8772)!==0){var s=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Vt||ha(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!Vt)if(s===null)u.componentDidMount();else{var h=n.elementType===n.type?s.memoizedProps:An(n.type,s.memoizedProps);u.componentDidUpdate(h,s.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&Gf(n,d,u);break;case 3:var v=n.updateQueue;if(v!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Gf(n,v,s)}break;case 5:var w=n.stateNode;if(s===null&&n.flags&4){s=w;var R=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&s.focus();break;case"img":R.src&&(s.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var j=n.alternate;if(j!==null){var X=j.memoizedState;if(X!==null){var J=X.dehydrated;J!==null&&Tn(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Vt||n.flags&512&&Ic(n)}catch(q){Je(n,n.return,q)}}if(n===e){se=null;break}if(s=n.sibling,s!==null){s.return=n.return,se=s;break}se=n.return}}function Gd(e){for(;se!==null;){var n=se;if(n===e){se=null;break}var s=n.sibling;if(s!==null){s.return=n.return,se=s;break}se=n.return}}function Xd(e){for(;se!==null;){var n=se;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{ha(4,n)}catch(R){Je(n,s,R)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var h=n.return;try{u.componentDidMount()}catch(R){Je(n,h,R)}}var d=n.return;try{Ic(n)}catch(R){Je(n,d,R)}break;case 5:var v=n.return;try{Ic(n)}catch(R){Je(n,v,R)}}}catch(R){Je(n,n.return,R)}if(n===e){se=null;break}var w=n.sibling;if(w!==null){w.return=n.return,se=w;break}se=n.return}}var Jy=Math.ceil,fa=ye.ReactCurrentDispatcher,Rc=ye.ReactCurrentOwner,dn=ye.ReactCurrentBatchConfig,ke=0,mt=null,it=null,Tt=0,rn=0,Rs=Or(0),ht=0,Mo=null,Ti=0,da=0,Pc=0,Fo=null,Qt=null,kc=0,Ps=1/0,pr=null,pa=!1,xc=null,Br=null,ma=!1,zr=null,ga=0,jo=0,Nc=null,ya=-1,va=0;function Bt(){return(ke&6)!==0?Ue():ya!==-1?ya:ya=Ue()}function br(e){return(e.mode&1)===0?1:(ke&2)!==0&&Tt!==0?Tt&-Tt:Ly.transition!==null?(va===0&&(va=ci()),va):(e=Se,e!==0||(e=window.event,e=e===void 0?16:ho(e.type)),e)}function kn(e,n,s,u){if(50<jo)throw jo=0,Nc=null,Error(r(185));Ar(e,s,u),((ke&2)===0||e!==mt)&&(e===mt&&((ke&2)===0&&(da|=s),ht===4&&$r(e,Tt)),qt(e,u),s===1&&ke===0&&(n.mode&1)===0&&(Ps=Ue()+500,Ql&&Mr()))}function qt(e,n){var s=e.callbackNode;nr(e,n);var u=ui(e,e===mt?Tt:0);if(u===0)s!==null&&oo(s),e.callbackNode=null,e.callbackPriority=0;else if(n=u&-u,e.callbackPriority!==n){if(s!=null&&oo(s),n===1)e.tag===0?Oy(Jd.bind(null,e)):Ff(Jd.bind(null,e)),xy(function(){(ke&6)===0&&Mr()}),s=null;else{switch(Pr(u)){case 1:s=li;break;case 4:s=Sr;break;case 16:s=on;break;case 536870912:s=vl;break;default:s=on}s=op(s,Yd.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Yd(e,n){if(ya=-1,va=0,(ke&6)!==0)throw Error(r(327));var s=e.callbackNode;if(ks()&&e.callbackNode!==s)return null;var u=ui(e,e===mt?Tt:0);if(u===0)return null;if((u&30)!==0||(u&e.expiredLanes)!==0||n)n=_a(e,u);else{n=u;var h=ke;ke|=2;var d=ep();(mt!==e||Tt!==n)&&(pr=null,Ps=Ue()+500,Ii(e,n));do try{tv();break}catch(w){Zd(e,w)}while(!0);Gu(),fa.current=d,ke=h,it!==null?n=0:(mt=null,Tt=0,n=ht)}if(n!==0){if(n===2&&(h=Jt(e),h!==0&&(u=h,n=Dc(e,h))),n===1)throw s=Mo,Ii(e,0),$r(e,u),qt(e,Ue()),s;if(n===6)$r(e,u);else{if(h=e.current.alternate,(u&30)===0&&!Zy(h)&&(n=_a(e,u),n===2&&(d=Jt(e),d!==0&&(u=d,n=Dc(e,d))),n===1))throw s=Mo,Ii(e,0),$r(e,u),qt(e,Ue()),s;switch(e.finishedWork=h,e.finishedLanes=u,n){case 0:case 1:throw Error(r(345));case 2:Ci(e,Qt,pr);break;case 3:if($r(e,u),(u&130023424)===u&&(n=kc+500-Ue(),10<n)){if(ui(e,0)!==0)break;if(h=e.suspendedLanes,(h&u)!==u){Bt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=ju(Ci.bind(null,e,Qt,pr),n);break}Ci(e,Qt,pr);break;case 4:if($r(e,u),(u&4194240)===u)break;for(n=e.eventTimes,h=-1;0<u;){var v=31-Ft(u);d=1<<v,v=n[v],v>h&&(h=v),u&=~d}if(u=h,u=Ue()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Jy(u/1960))-u,10<u){e.timeoutHandle=ju(Ci.bind(null,e,Qt,pr),u);break}Ci(e,Qt,pr);break;case 5:Ci(e,Qt,pr);break;default:throw Error(r(329))}}}return qt(e,Ue()),e.callbackNode===s?Yd.bind(null,e):null}function Dc(e,n){var s=Fo;return e.current.memoizedState.isDehydrated&&(Ii(e,n).flags|=256),e=_a(e,n),e!==2&&(n=Qt,Qt=s,n!==null&&Vc(n)),e}function Vc(e){Qt===null?Qt=e:Qt.push.apply(Qt,e)}function Zy(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var u=0;u<s.length;u++){var h=s[u],d=h.getSnapshot;h=h.value;try{if(!In(d(),h))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function $r(e,n){for(n&=~Pc,n&=~da,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Ft(n),u=1<<s;e[s]=-1,n&=~u}}function Jd(e){if((ke&6)!==0)throw Error(r(327));ks();var n=ui(e,0);if((n&1)===0)return qt(e,Ue()),null;var s=_a(e,n);if(e.tag!==0&&s===2){var u=Jt(e);u!==0&&(n=u,s=Dc(e,u))}if(s===1)throw s=Mo,Ii(e,0),$r(e,n),qt(e,Ue()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Ci(e,Qt,pr),qt(e,Ue()),null}function Oc(e,n){var s=ke;ke|=1;try{return e(n)}finally{ke=s,ke===0&&(Ps=Ue()+500,Ql&&Mr())}}function Si(e){zr!==null&&zr.tag===0&&(ke&6)===0&&ks();var n=ke;ke|=1;var s=dn.transition,u=Se;try{if(dn.transition=null,Se=1,e)return e()}finally{Se=u,dn.transition=s,ke=n,(ke&6)===0&&Mr()}}function Lc(){rn=Rs.current,$e(Rs)}function Ii(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,ky(s)),it!==null)for(s=it.return;s!==null;){var u=s;switch(Hu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Hl();break;case 3:Is(),$e($t),$e(xt),rc();break;case 5:tc(u);break;case 4:Is();break;case 13:$e(Ke);break;case 19:$e(Ke);break;case 10:Xu(u.type._context);break;case 22:case 23:Lc()}s=s.return}if(mt=e,it=e=Hr(e.current,null),Tt=rn=n,ht=0,Mo=null,Pc=da=Ti=0,Qt=Fo=null,_i!==null){for(n=0;n<_i.length;n++)if(s=_i[n],u=s.interleaved,u!==null){s.interleaved=null;var h=u.next,d=s.pending;if(d!==null){var v=d.next;d.next=h,u.next=v}s.pending=u}_i=null}return e}function Zd(e,n){do{var s=it;try{if(Gu(),na.current=oa,ra){for(var u=Ge.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}ra=!1}if(wi=0,pt=ct=Ge=null,xo=!1,No=0,Rc.current=null,s===null||s.return===null){ht=1,Mo=n,it=null;break}e:{var d=e,v=s.return,w=s,R=n;if(n=Tt,w.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var j=R,X=w,J=X.tag;if((X.mode&1)===0&&(J===0||J===11||J===15)){var q=X.alternate;q?(X.updateQueue=q.updateQueue,X.memoizedState=q.memoizedState,X.lanes=q.lanes):(X.updateQueue=null,X.memoizedState=null)}var ne=Id(v);if(ne!==null){ne.flags&=-257,Cd(ne,v,w,d,n),ne.mode&1&&Sd(d,j,n),n=ne,R=j;var le=n.updateQueue;if(le===null){var ae=new Set;ae.add(R),n.updateQueue=ae}else le.add(R);break e}else{if((n&1)===0){Sd(d,j,n),Mc();break e}R=Error(r(426))}}else if(We&&w.mode&1){var nt=Id(v);if(nt!==null){(nt.flags&65536)===0&&(nt.flags|=256),Cd(nt,v,w,d,n),qu(Cs(R,w));break e}}d=R=Cs(R,w),ht!==4&&(ht=2),Fo===null?Fo=[d]:Fo.push(d),d=v;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var M=wd(d,R,n);Kf(d,M);break e;case 1:w=R;var x=d.type,F=d.stateNode;if((d.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Br===null||!Br.has(F)))){d.flags|=65536,n&=-n,d.lanes|=n;var Z=Td(d,w,n);Kf(d,Z);break e}}d=d.return}while(d!==null)}np(s)}catch(ce){n=ce,it===s&&s!==null&&(it=s=s.return);continue}break}while(!0)}function ep(){var e=fa.current;return fa.current=oa,e===null?oa:e}function Mc(){(ht===0||ht===3||ht===2)&&(ht=4),mt===null||(Ti&268435455)===0&&(da&268435455)===0||$r(mt,Tt)}function _a(e,n){var s=ke;ke|=2;var u=ep();(mt!==e||Tt!==n)&&(pr=null,Ii(e,n));do try{ev();break}catch(h){Zd(e,h)}while(!0);if(Gu(),ke=s,fa.current=u,it!==null)throw Error(r(261));return mt=null,Tt=0,ht}function ev(){for(;it!==null;)tp(it)}function tv(){for(;it!==null&&!gl();)tp(it)}function tp(e){var n=sp(e.alternate,e,rn);e.memoizedProps=e.pendingProps,n===null?np(e):it=n,Rc.current=null}function np(e){var n=e;do{var s=n.alternate;if(e=n.return,(n.flags&32768)===0){if(s=qy(s,n,rn),s!==null){it=s;return}}else{if(s=Ky(s,n),s!==null){s.flags&=32767,it=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,it=null;return}}if(n=n.sibling,n!==null){it=n;return}it=n=e}while(n!==null);ht===0&&(ht=5)}function Ci(e,n,s){var u=Se,h=dn.transition;try{dn.transition=null,Se=1,nv(e,n,s,u)}finally{dn.transition=h,Se=u}return null}function nv(e,n,s,u){do ks();while(zr!==null);if((ke&6)!==0)throw Error(r(327));s=e.finishedWork;var h=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(Fe(e,d),e===mt&&(it=mt=null,Tt=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||ma||(ma=!0,op(on,function(){return ks(),null})),d=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||d){d=dn.transition,dn.transition=null;var v=Se;Se=1;var w=ke;ke|=4,Rc.current=null,Xy(e,s),Qd(s,e),Ty(Mu),xr=!!Lu,Mu=Lu=null,e.current=s,Yy(s),_u(),ke=w,Se=v,dn.transition=d}else e.current=s;if(ma&&(ma=!1,zr=e,ga=h),d=e.pendingLanes,d===0&&(Br=null),_l(s.stateNode),qt(e,Ue()),n!==null)for(u=e.onRecoverableError,s=0;s<n.length;s++)h=n[s],u(h.value,{componentStack:h.stack,digest:h.digest});if(pa)throw pa=!1,e=xc,xc=null,e;return(ga&1)!==0&&e.tag!==0&&ks(),d=e.pendingLanes,(d&1)!==0?e===Nc?jo++:(jo=0,Nc=e):jo=0,Mr(),null}function ks(){if(zr!==null){var e=Pr(ga),n=dn.transition,s=Se;try{if(dn.transition=null,Se=16>e?16:e,zr===null)var u=!1;else{if(e=zr,zr=null,ga=0,(ke&6)!==0)throw Error(r(331));var h=ke;for(ke|=4,se=e.current;se!==null;){var d=se,v=d.child;if((se.flags&16)!==0){var w=d.deletions;if(w!==null){for(var R=0;R<w.length;R++){var j=w[R];for(se=j;se!==null;){var X=se;switch(X.tag){case 0:case 11:case 15:Lo(8,X,d)}var J=X.child;if(J!==null)J.return=X,se=J;else for(;se!==null;){X=se;var q=X.sibling,ne=X.return;if(zd(X),X===j){se=null;break}if(q!==null){q.return=ne,se=q;break}se=ne}}}var le=d.alternate;if(le!==null){var ae=le.child;if(ae!==null){le.child=null;do{var nt=ae.sibling;ae.sibling=null,ae=nt}while(ae!==null)}}se=d}}if((d.subtreeFlags&2064)!==0&&v!==null)v.return=d,se=v;else e:for(;se!==null;){if(d=se,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:Lo(9,d,d.return)}var M=d.sibling;if(M!==null){M.return=d.return,se=M;break e}se=d.return}}var x=e.current;for(se=x;se!==null;){v=se;var F=v.child;if((v.subtreeFlags&2064)!==0&&F!==null)F.return=v,se=F;else e:for(v=x;se!==null;){if(w=se,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:ha(9,w)}}catch(ce){Je(w,w.return,ce)}if(w===v){se=null;break e}var Z=w.sibling;if(Z!==null){Z.return=w.return,se=Z;break e}se=w.return}}if(ke=h,Mr(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ai,e)}catch{}u=!0}return u}finally{Se=s,dn.transition=n}}return!1}function rp(e,n,s){n=Cs(s,n),n=wd(e,n,1),e=jr(e,n,1),n=Bt(),e!==null&&(Ar(e,1,n),qt(e,n))}function Je(e,n,s){if(e.tag===3)rp(e,e,s);else for(;n!==null;){if(n.tag===3){rp(n,e,s);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Br===null||!Br.has(u))){e=Cs(s,e),e=Td(n,e,1),n=jr(n,e,1),e=Bt(),n!==null&&(Ar(n,1,e),qt(n,e));break}}n=n.return}}function rv(e,n,s){var u=e.pingCache;u!==null&&u.delete(n),n=Bt(),e.pingedLanes|=e.suspendedLanes&s,mt===e&&(Tt&s)===s&&(ht===4||ht===3&&(Tt&130023424)===Tt&&500>Ue()-kc?Ii(e,0):Pc|=s),qt(e,n)}function ip(e,n){n===0&&((e.mode&1)===0?n=1:(n=Ji,Ji<<=1,(Ji&130023424)===0&&(Ji=4194304)));var s=Bt();e=hr(e,n),e!==null&&(Ar(e,n,s),qt(e,s))}function iv(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),ip(e,s)}function sv(e,n){var s=0;switch(e.tag){case 13:var u=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(n),ip(e,s)}var sp;sp=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||$t.current)Wt=!0;else{if((e.lanes&s)===0&&(n.flags&128)===0)return Wt=!1,Qy(e,n,s);Wt=(e.flags&131072)!==0}else Wt=!1,We&&(n.flags&1048576)!==0&&jf(n,Kl,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;ua(e,n),e=n.pendingProps;var h=ys(n,xt.current);Ss(n,s),h=oc(null,n,u,e,h,s);var d=lc();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ht(u)?(d=!0,Wl(n)):d=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Zu(n),h.updater=la,n.stateNode=h,h._reactInternals=n,dc(n,u,e,s),n=yc(null,n,u,!0,d,s)):(n.tag=0,We&&d&&$u(n),Ut(null,n,h,s),n=n.child),n;case 16:u=n.elementType;e:{switch(ua(e,n),e=n.pendingProps,h=u._init,u=h(u._payload),n.type=u,h=n.tag=lv(u),e=An(u,e),h){case 0:n=gc(null,n,u,e,s);break e;case 1:n=Nd(null,n,u,e,s);break e;case 11:n=Ad(null,n,u,e,s);break e;case 14:n=Rd(null,n,u,An(u.type,e),s);break e}throw Error(r(306,u,""))}return n;case 0:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:An(u,h),gc(e,n,u,h,s);case 1:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:An(u,h),Nd(e,n,u,h,s);case 3:e:{if(Dd(n),e===null)throw Error(r(387));u=n.pendingProps,d=n.memoizedState,h=d.element,qf(e,n),ea(n,u,null,s);var v=n.memoizedState;if(u=v.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){h=Cs(Error(r(423)),n),n=Vd(e,n,u,s,h);break e}else if(u!==h){h=Cs(Error(r(424)),n),n=Vd(e,n,u,s,h);break e}else for(nn=Vr(n.stateNode.containerInfo.firstChild),tn=n,We=!0,Cn=null,s=Wf(n,null,u,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Es(),u===h){n=dr(e,n,s);break e}Ut(e,n,u,s)}n=n.child}return n;case 5:return Xf(n),e===null&&Qu(n),u=n.type,h=n.pendingProps,d=e!==null?e.memoizedProps:null,v=h.children,Fu(u,h)?v=null:d!==null&&Fu(u,d)&&(n.flags|=32),xd(e,n),Ut(e,n,v,s),n.child;case 6:return e===null&&Qu(n),null;case 13:return Od(e,n,s);case 4:return ec(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=ws(n,null,u,s):Ut(e,n,u,s),n.child;case 11:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:An(u,h),Ad(e,n,u,h,s);case 7:return Ut(e,n,n.pendingProps,s),n.child;case 8:return Ut(e,n,n.pendingProps.children,s),n.child;case 12:return Ut(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(u=n.type._context,h=n.pendingProps,d=n.memoizedProps,v=h.value,Be(Yl,u._currentValue),u._currentValue=v,d!==null)if(In(d.value,v)){if(d.children===h.children&&!$t.current){n=dr(e,n,s);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var w=d.dependencies;if(w!==null){v=d.child;for(var R=w.firstContext;R!==null;){if(R.context===u){if(d.tag===1){R=fr(-1,s&-s),R.tag=2;var j=d.updateQueue;if(j!==null){j=j.shared;var X=j.pending;X===null?R.next=R:(R.next=X.next,X.next=R),j.pending=R}}d.lanes|=s,R=d.alternate,R!==null&&(R.lanes|=s),Yu(d.return,s,n),w.lanes|=s;break}R=R.next}}else if(d.tag===10)v=d.type===n.type?null:d.child;else if(d.tag===18){if(v=d.return,v===null)throw Error(r(341));v.lanes|=s,w=v.alternate,w!==null&&(w.lanes|=s),Yu(v,s,n),v=d.sibling}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===n){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}Ut(e,n,h.children,s),n=n.child}return n;case 9:return h=n.type,u=n.pendingProps.children,Ss(n,s),h=hn(h),u=u(h),n.flags|=1,Ut(e,n,u,s),n.child;case 14:return u=n.type,h=An(u,n.pendingProps),h=An(u.type,h),Rd(e,n,u,h,s);case 15:return Pd(e,n,n.type,n.pendingProps,s);case 17:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:An(u,h),ua(e,n),n.tag=1,Ht(u)?(e=!0,Wl(n)):e=!1,Ss(n,s),_d(n,u,h),dc(n,u,h,s),yc(null,n,u,!0,e,s);case 19:return Md(e,n,s);case 22:return kd(e,n,s)}throw Error(r(156,n.tag))};function op(e,n){return Xi(e,n)}function ov(e,n,s,u){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,s,u){return new ov(e,n,s,u)}function Fc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lv(e){if(typeof e=="function")return Fc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===O)return 11;if(e===Pt)return 14}return 2}function Hr(e,n){var s=e.alternate;return s===null?(s=pn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Ea(e,n,s,u,h,d){var v=2;if(u=e,typeof e=="function")Fc(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case N:return Ai(s.children,h,d,n);case T:v=8,h|=8;break;case I:return e=pn(12,s,n,h|2),e.elementType=I,e.lanes=d,e;case C:return e=pn(13,s,n,h),e.elementType=C,e.lanes=d,e;case et:return e=pn(19,s,n,h),e.elementType=et,e.lanes=d,e;case Me:return wa(s,h,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:v=10;break e;case D:v=9;break e;case O:v=11;break e;case Pt:v=14;break e;case kt:v=16,u=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=pn(v,s,n,h),n.elementType=e,n.type=u,n.lanes=d,n}function Ai(e,n,s,u){return e=pn(7,e,u,n),e.lanes=s,e}function wa(e,n,s,u){return e=pn(22,e,u,n),e.elementType=Me,e.lanes=s,e.stateNode={isHidden:!1},e}function jc(e,n,s){return e=pn(6,e,null,n),e.lanes=s,e}function Uc(e,n,s){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function av(e,n,s,u,h){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cr(0),this.expirationTimes=Cr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Bc(e,n,s,u,h,d,v,w,R){return e=new av(e,n,s,w,R),n===1?(n=1,d===!0&&(n|=8)):n=0,d=pn(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:u,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zu(d),e}function uv(e,n,s){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ie,key:u==null?null:""+u,children:e,containerInfo:n,implementation:s}}function lp(e){if(!e)return Lr;e=e._reactInternals;e:{if(yn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Ht(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(Ht(s))return Lf(e,s,n)}return n}function ap(e,n,s,u,h,d,v,w,R){return e=Bc(s,u,!0,e,h,d,v,w,R),e.context=lp(null),s=e.current,u=Bt(),h=br(s),d=fr(u,h),d.callback=n??null,jr(s,d,h),e.current.lanes=h,Ar(e,h,u),qt(e,u),e}function Ta(e,n,s,u){var h=n.current,d=Bt(),v=br(h);return s=lp(s),n.context===null?n.context=s:n.pendingContext=s,n=fr(d,v),n.payload={element:e},u=u===void 0?null:u,u!==null&&(n.callback=u),e=jr(h,n,v),e!==null&&(kn(e,h,v,d),Zl(e,h,v)),v}function Sa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function up(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function zc(e,n){up(e,n),(e=e.alternate)&&up(e,n)}function cv(){return null}var cp=typeof reportError=="function"?reportError:function(e){console.error(e)};function bc(e){this._internalRoot=e}Ia.prototype.render=bc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));Ta(e,n,null,null)},Ia.prototype.unmount=bc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Si(function(){Ta(null,e,null,null)}),n[lr]=null}};function Ia(e){this._internalRoot=e}Ia.prototype.unstable_scheduleHydration=function(e){if(e){var n=Il();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Fn.length&&n!==0&&n<Fn[s].priority;s++);Fn.splice(s,0,e),s===0&&Rl(e)}};function $c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hp(){}function hv(e,n,s,u,h){if(h){if(typeof u=="function"){var d=u;u=function(){var j=Sa(v);d.call(j)}}var v=ap(n,u,e,0,null,!1,!1,"",hp);return e._reactRootContainer=v,e[lr]=v.current,To(e.nodeType===8?e.parentNode:e),Si(),v}for(;h=e.lastChild;)e.removeChild(h);if(typeof u=="function"){var w=u;u=function(){var j=Sa(R);w.call(j)}}var R=Bc(e,0,!1,null,null,!1,!1,"",hp);return e._reactRootContainer=R,e[lr]=R.current,To(e.nodeType===8?e.parentNode:e),Si(function(){Ta(n,R,s,u)}),R}function Aa(e,n,s,u,h){var d=s._reactRootContainer;if(d){var v=d;if(typeof h=="function"){var w=h;h=function(){var R=Sa(v);w.call(R)}}Ta(n,v,e,h)}else v=hv(s,n,e,h,u);return Sa(v)}Tl=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Ir(n.pendingLanes);s!==0&&(Rr(n,s|1),qt(n,Ue()),(ke&6)===0&&(Ps=Ue()+500,Mr()))}break;case 13:Si(function(){var u=hr(e,1);if(u!==null){var h=Bt();kn(u,e,1,h)}}),zc(e,1)}},Zi=function(e){if(e.tag===13){var n=hr(e,134217728);if(n!==null){var s=Bt();kn(n,e,134217728,s)}zc(e,134217728)}},Sl=function(e){if(e.tag===13){var n=br(e),s=hr(e,n);if(s!==null){var u=Bt();kn(s,e,n,u)}zc(e,n)}},Il=function(){return Se},Cl=function(e,n){var s=Se;try{return Se=e,n()}finally{Se=s}},Hi=function(e,n,s){switch(n){case"input":if(Qs(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var u=s[n];if(u!==e&&u.form===e.form){var h=$l(u);if(!h)throw Error(r(90));ji(u),Qs(u,h)}}}break;case"textarea":bi(e,s);break;case"select":n=s.value,n!=null&&Zn(e,!!s.multiple,n,!1)}},ri=Oc,no=Si;var fv={usingClientEntryPoint:!1,Events:[Co,ms,$l,Ln,to,Oc]},Uo={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dv={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ye.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=so(e),e===null?null:e.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||cv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ra.isDisabled&&Ra.supportsFiber)try{ai=Ra.inject(dv),Yt=Ra}catch{}}return Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fv,Kt.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$c(n))throw Error(r(200));return uv(e,n,null,s)},Kt.createRoot=function(e,n){if(!$c(e))throw Error(r(299));var s=!1,u="",h=cp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=Bc(e,1,!1,null,null,s,!1,u,h),e[lr]=n.current,To(e.nodeType===8?e.parentNode:e),new bc(n)},Kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=so(n),e=e===null?null:e.stateNode,e},Kt.flushSync=function(e){return Si(e)},Kt.hydrate=function(e,n,s){if(!Ca(n))throw Error(r(200));return Aa(null,e,n,!0,s)},Kt.hydrateRoot=function(e,n,s){if(!$c(e))throw Error(r(405));var u=s!=null&&s.hydratedSources||null,h=!1,d="",v=cp;if(s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),n=ap(n,null,e,1,s??null,h,!1,d,v),e[lr]=n.current,To(e),u)for(e=0;e<u.length;e++)s=u[e],h=s._getVersion,h=h(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,h]:n.mutableSourceEagerHydrationData.push(s,h);return new Ia(n)},Kt.render=function(e,n,s){if(!Ca(n))throw Error(r(200));return Aa(null,e,n,!1,s)},Kt.unmountComponentAtNode=function(e){if(!Ca(e))throw Error(r(40));return e._reactRootContainer?(Si(function(){Aa(null,null,e,!1,function(){e._reactRootContainer=null,e[lr]=null})}),!0):!1},Kt.unstable_batchedUpdates=Oc,Kt.unstable_renderSubtreeIntoContainer=function(e,n,s,u){if(!Ca(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return Aa(e,n,s,!1,u)},Kt.version="18.3.1-next-f1338f8080-20240426",Kt}var _p;function Tv(){if(_p)return Qc.exports;_p=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Qc.exports=wv(),Qc.exports}var Ep;function Sv(){if(Ep)return Pa;Ep=1;var i=Tv();return Pa.createRoot=i.createRoot,Pa.hydrateRoot=i.hydrateRoot,Pa}var Iv=Sv();const Cv=Rm(Iv);/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wp="popstate";function Av(i={}){function t(o,a){let{pathname:c,search:p,hash:g}=o.location;return sh("",{pathname:c,search:p,hash:g},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(o,a){return typeof a=="string"?a:Xo(a)}return Pv(t,r,null,i)}function Ye(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function qn(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Rv(){return Math.random().toString(36).substring(2,10)}function Tp(i,t){return{usr:i.state,key:i.key,idx:t}}function sh(i,t,r=null,o){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Bs(t):t,state:r,key:t&&t.key||o||Rv()}}function Xo({pathname:i="/",search:t="",hash:r=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Bs(i){let t={};if(i){let r=i.indexOf("#");r>=0&&(t.hash=i.substring(r),i=i.substring(0,r));let o=i.indexOf("?");o>=0&&(t.search=i.substring(o),i=i.substring(0,o)),i&&(t.pathname=i)}return t}function Pv(i,t,r,o={}){let{window:a=document.defaultView,v5Compat:c=!1}=o,p=a.history,g="POP",y=null,_=S();_==null&&(_=0,p.replaceState({...p.state,idx:_},""));function S(){return(p.state||{idx:null}).idx}function A(){g="POP";let B=S(),K=B==null?null:B-_;_=B,y&&y({action:g,location:Q.location,delta:K})}function k(B,K){g="PUSH";let oe=sh(Q.location,B,K);_=S()+1;let ie=Tp(oe,_),ye=Q.createHref(oe);try{p.pushState(ie,"",ye)}catch(xe){if(xe instanceof DOMException&&xe.name==="DataCloneError")throw xe;a.location.assign(ye)}c&&y&&y({action:g,location:Q.location,delta:1})}function W(B,K){g="REPLACE";let oe=sh(Q.location,B,K);_=S();let ie=Tp(oe,_),ye=Q.createHref(oe);p.replaceState(ie,"",ye),c&&y&&y({action:g,location:Q.location,delta:0})}function b(B){return kv(B)}let Q={get action(){return g},get location(){return i(a,p)},listen(B){if(y)throw new Error("A history only accepts one active listener");return a.addEventListener(wp,A),y=B,()=>{a.removeEventListener(wp,A),y=null}},createHref(B){return t(a,B)},createURL:b,encodeLocation(B){let K=b(B);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:k,replace:W,go(B){return p.go(B)}};return Q}function kv(i,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ye(r,"No window.location.(origin|href) available to create URL");let o=typeof i=="string"?i:Xo(i);return o=o.replace(/ $/,"%20"),!t&&o.startsWith("//")&&(o=r+o),new URL(o,r)}function Pm(i,t,r="/"){return xv(i,t,r,!1)}function xv(i,t,r,o){let a=typeof t=="string"?Bs(t):t,c=vr(a.pathname||"/",r);if(c==null)return null;let p=km(i);Nv(p);let g=null;for(let y=0;g==null&&y<p.length;++y){let _=bv(c);g=Bv(p[y],_,o)}return g}function km(i,t=[],r=[],o="",a=!1){let c=(p,g,y=a,_)=>{let S={relativePath:_===void 0?p.path||"":_,caseSensitive:p.caseSensitive===!0,childrenIndex:g,route:p};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(o)&&y)return;Ye(S.relativePath.startsWith(o),`Absolute route path "${S.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(o.length)}let A=mr([o,S.relativePath]),k=r.concat(S);p.children&&p.children.length>0&&(Ye(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),km(p.children,t,k,A,y)),!(p.path==null&&!p.index)&&t.push({path:A,score:jv(A,p.index),routesMeta:k})};return i.forEach((p,g)=>{if(p.path===""||!p.path?.includes("?"))c(p,g);else for(let y of xm(p.path))c(p,g,!0,y)}),t}function xm(i){let t=i.split("/");if(t.length===0)return[];let[r,...o]=t,a=r.endsWith("?"),c=r.replace(/\?$/,"");if(o.length===0)return a?[c,""]:[c];let p=xm(o.join("/")),g=[];return g.push(...p.map(y=>y===""?c:[c,y].join("/"))),a&&g.push(...p),g.map(y=>i.startsWith("/")&&y===""?"/":y)}function Nv(i){i.sort((t,r)=>t.score!==r.score?r.score-t.score:Uv(t.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}var Dv=/^:[\w-]+$/,Vv=3,Ov=2,Lv=1,Mv=10,Fv=-2,Sp=i=>i==="*";function jv(i,t){let r=i.split("/"),o=r.length;return r.some(Sp)&&(o+=Fv),t&&(o+=Ov),r.filter(a=>!Sp(a)).reduce((a,c)=>a+(Dv.test(c)?Vv:c===""?Lv:Mv),o)}function Uv(i,t){return i.length===t.length&&i.slice(0,-1).every((o,a)=>o===t[a])?i[i.length-1]-t[t.length-1]:0}function Bv(i,t,r=!1){let{routesMeta:o}=i,a={},c="/",p=[];for(let g=0;g<o.length;++g){let y=o[g],_=g===o.length-1,S=c==="/"?t:t.slice(c.length)||"/",A=$a({path:y.relativePath,caseSensitive:y.caseSensitive,end:_},S),k=y.route;if(!A&&_&&r&&!o[o.length-1].route.index&&(A=$a({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},S)),!A)return null;Object.assign(a,A.params),p.push({params:a,pathname:mr([c,A.pathname]),pathnameBase:Qv(mr([c,A.pathnameBase])),route:k}),A.pathnameBase!=="/"&&(c=mr([c,A.pathnameBase]))}return p}function $a(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,o]=zv(i.path,i.caseSensitive,i.end),a=t.match(r);if(!a)return null;let c=a[0],p=c.replace(/(.)\/+$/,"$1"),g=a.slice(1);return{params:o.reduce((_,{paramName:S,isOptional:A},k)=>{if(S==="*"){let b=g[k]||"";p=c.slice(0,c.length-b.length).replace(/(.)\/+$/,"$1")}const W=g[k];return A&&!W?_[S]=void 0:_[S]=(W||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:p,pattern:i}}function zv(i,t=!1,r=!0){qn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let o=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,g,y)=>(o.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(o.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),o]}function bv(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function vr(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,o=i.charAt(r);return o&&o!=="/"?null:i.slice(r)||"/"}function $v(i,t="/"){let{pathname:r,search:o="",hash:a=""}=typeof i=="string"?Bs(i):i;return{pathname:r?r.startsWith("/")?r:Hv(r,t):t,search:qv(o),hash:Kv(a)}}function Hv(i,t){let r=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Gc(i,t,r,o){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Wv(i){return i.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Nm(i){let t=Wv(i);return t.map((r,o)=>o===t.length-1?r.pathname:r.pathnameBase)}function Dm(i,t,r,o=!1){let a;typeof i=="string"?a=Bs(i):(a={...i},Ye(!a.pathname||!a.pathname.includes("?"),Gc("?","pathname","search",a)),Ye(!a.pathname||!a.pathname.includes("#"),Gc("#","pathname","hash",a)),Ye(!a.search||!a.search.includes("#"),Gc("#","search","hash",a)));let c=i===""||a.pathname==="",p=c?"/":a.pathname,g;if(p==null)g=r;else{let A=t.length-1;if(!o&&p.startsWith("..")){let k=p.split("/");for(;k[0]==="..";)k.shift(),A-=1;a.pathname=k.join("/")}g=A>=0?t[A]:"/"}let y=$v(a,g),_=p&&p!=="/"&&p.endsWith("/"),S=(c||p===".")&&r.endsWith("/");return!y.pathname.endsWith("/")&&(_||S)&&(y.pathname+="/"),y}var mr=i=>i.join("/").replace(/\/\/+/g,"/"),Qv=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),qv=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Kv=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Gv(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Vm=["POST","PUT","PATCH","DELETE"];new Set(Vm);var Xv=["GET",...Vm];new Set(Xv);var zs=z.createContext(null);zs.displayName="DataRouter";var lu=z.createContext(null);lu.displayName="DataRouterState";z.createContext(!1);var Om=z.createContext({isTransitioning:!1});Om.displayName="ViewTransition";var Yv=z.createContext(new Map);Yv.displayName="Fetchers";var Jv=z.createContext(null);Jv.displayName="Await";var Xn=z.createContext(null);Xn.displayName="Navigation";var il=z.createContext(null);il.displayName="Location";var Er=z.createContext({outlet:null,matches:[],isDataRoute:!1});Er.displayName="Route";var Ah=z.createContext(null);Ah.displayName="RouteError";function Zv(i,{relative:t}={}){Ye(sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=z.useContext(Xn),{hash:a,pathname:c,search:p}=ol(i,{relative:t}),g=c;return r!=="/"&&(g=c==="/"?r:mr([r,c])),o.createHref({pathname:g,search:p,hash:a})}function sl(){return z.useContext(il)!=null}function Li(){return Ye(sl(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(il).location}var Lm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mm(i){z.useContext(Xn).static||z.useLayoutEffect(i)}function e_(){let{isDataRoute:i}=z.useContext(Er);return i?d_():t_()}function t_(){Ye(sl(),"useNavigate() may be used only in the context of a <Router> component.");let i=z.useContext(zs),{basename:t,navigator:r}=z.useContext(Xn),{matches:o}=z.useContext(Er),{pathname:a}=Li(),c=JSON.stringify(Nm(o)),p=z.useRef(!1);return Mm(()=>{p.current=!0}),z.useCallback((y,_={})=>{if(qn(p.current,Lm),!p.current)return;if(typeof y=="number"){r.go(y);return}let S=Dm(y,JSON.parse(c),a,_.relative==="path");i==null&&t!=="/"&&(S.pathname=S.pathname==="/"?t:mr([t,S.pathname])),(_.replace?r.replace:r.push)(S,_.state,_)},[t,r,c,a,i])}z.createContext(null);function ol(i,{relative:t}={}){let{matches:r}=z.useContext(Er),{pathname:o}=Li(),a=JSON.stringify(Nm(r));return z.useMemo(()=>Dm(i,JSON.parse(a),o,t==="path"),[i,a,o,t])}function n_(i,t){return Fm(i,t)}function Fm(i,t,r,o){Ye(sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=z.useContext(Xn),{matches:c}=z.useContext(Er),p=c[c.length-1],g=p?p.params:{},y=p?p.pathname:"/",_=p?p.pathnameBase:"/",S=p&&p.route;{let K=S&&S.path||"";jm(y,!S||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let A=Li(),k;if(t){let K=typeof t=="string"?Bs(t):t;Ye(_==="/"||K.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${K.pathname}" was given in the \`location\` prop.`),k=K}else k=A;let W=k.pathname||"/",b=W;if(_!=="/"){let K=_.replace(/^\//,"").split("/");b="/"+W.replace(/^\//,"").split("/").slice(K.length).join("/")}let Q=Pm(i,{pathname:b});qn(S||Q!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),qn(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=l_(Q&&Q.map(K=>Object.assign({},K,{params:Object.assign({},g,K.params),pathname:mr([_,a.encodeLocation?a.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?_:mr([_,a.encodeLocation?a.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),c,r,o);return t&&B?z.createElement(il.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},B):B}function r_(){let i=f_(),t=Gv(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,o="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:o},c={padding:"2px 4px",backgroundColor:o},p=null;return console.error("Error handled by React Router default ErrorBoundary:",i),p=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:c},"ErrorBoundary")," or"," ",z.createElement("code",{style:c},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),r?z.createElement("pre",{style:a},r):null,p)}var i_=z.createElement(r_,null),s_=class extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?z.createElement(Er.Provider,{value:this.props.routeContext},z.createElement(Ah.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function o_({routeContext:i,match:t,children:r}){let o=z.useContext(zs);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(Er.Provider,{value:i},r)}function l_(i,t=[],r=null,o=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let a=i,c=r?.errors;if(c!=null){let y=a.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);Ye(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,y+1))}let p=!1,g=-1;if(r)for(let y=0;y<a.length;y++){let _=a[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=y),_.route.id){let{loaderData:S,errors:A}=r,k=_.route.loader&&!S.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||k){p=!0,g>=0?a=a.slice(0,g+1):a=[a[0]];break}}}return a.reduceRight((y,_,S)=>{let A,k=!1,W=null,b=null;r&&(A=c&&_.route.id?c[_.route.id]:void 0,W=_.route.errorElement||i_,p&&(g<0&&S===0?(jm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,b=null):g===S&&(k=!0,b=_.route.hydrateFallbackElement||null)));let Q=t.concat(a.slice(0,S+1)),B=()=>{let K;return A?K=W:k?K=b:_.route.Component?K=z.createElement(_.route.Component,null):_.route.element?K=_.route.element:K=y,z.createElement(o_,{match:_,routeContext:{outlet:y,matches:Q,isDataRoute:r!=null},children:K})};return r&&(_.route.ErrorBoundary||_.route.errorElement||S===0)?z.createElement(s_,{location:r.location,revalidation:r.revalidation,component:W,error:A,children:B(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):B()},null)}function Rh(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a_(i){let t=z.useContext(zs);return Ye(t,Rh(i)),t}function u_(i){let t=z.useContext(lu);return Ye(t,Rh(i)),t}function c_(i){let t=z.useContext(Er);return Ye(t,Rh(i)),t}function Ph(i){let t=c_(i),r=t.matches[t.matches.length-1];return Ye(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function h_(){return Ph("useRouteId")}function f_(){let i=z.useContext(Ah),t=u_("useRouteError"),r=Ph("useRouteError");return i!==void 0?i:t.errors?.[r]}function d_(){let{router:i}=a_("useNavigate"),t=Ph("useNavigate"),r=z.useRef(!1);return Mm(()=>{r.current=!0}),z.useCallback(async(a,c={})=>{qn(r.current,Lm),r.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:t,...c}))},[i,t])}var Ip={};function jm(i,t,r){!t&&!Ip[i]&&(Ip[i]=!0,qn(!1,r))}z.memo(p_);function p_({routes:i,future:t,state:r}){return Fm(i,void 0,r,t)}function oh(i){Ye(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function m_({basename:i="/",children:t=null,location:r,navigationType:o="POP",navigator:a,static:c=!1}){Ye(!sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=i.replace(/^\/*/,"/"),g=z.useMemo(()=>({basename:p,navigator:a,static:c,future:{}}),[p,a,c]);typeof r=="string"&&(r=Bs(r));let{pathname:y="/",search:_="",hash:S="",state:A=null,key:k="default"}=r,W=z.useMemo(()=>{let b=vr(y,p);return b==null?null:{location:{pathname:b,search:_,hash:S,state:A,key:k},navigationType:o}},[p,y,_,S,A,k,o]);return qn(W!=null,`<Router basename="${p}"> is not able to match the URL "${y}${_}${S}" because it does not start with the basename, so the <Router> won't render anything.`),W==null?null:z.createElement(Xn.Provider,{value:g},z.createElement(il.Provider,{children:t,value:W}))}function g_({children:i,location:t}){return n_(lh(i),t)}function lh(i,t=[]){let r=[];return z.Children.forEach(i,(o,a)=>{if(!z.isValidElement(o))return;let c=[...t,a];if(o.type===z.Fragment){r.push.apply(r,lh(o.props.children,c));return}Ye(o.type===oh,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ye(!o.props.index||!o.props.children,"An index route cannot have child routes.");let p={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(p.children=lh(o.props.children,c)),r.push(p)}),r}var Ma="get",Fa="application/x-www-form-urlencoded";function au(i){return i!=null&&typeof i.tagName=="string"}function y_(i){return au(i)&&i.tagName.toLowerCase()==="button"}function v_(i){return au(i)&&i.tagName.toLowerCase()==="form"}function __(i){return au(i)&&i.tagName.toLowerCase()==="input"}function E_(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function w_(i,t){return i.button===0&&(!t||t==="_self")&&!E_(i)}var ka=null;function T_(){if(ka===null)try{new FormData(document.createElement("form"),0),ka=!1}catch{ka=!0}return ka}var S_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xc(i){return i!=null&&!S_.has(i)?(qn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fa}"`),null):i}function I_(i,t){let r,o,a,c,p;if(v_(i)){let g=i.getAttribute("action");o=g?vr(g,t):null,r=i.getAttribute("method")||Ma,a=Xc(i.getAttribute("enctype"))||Fa,c=new FormData(i)}else if(y_(i)||__(i)&&(i.type==="submit"||i.type==="image")){let g=i.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||g.getAttribute("action");if(o=y?vr(y,t):null,r=i.getAttribute("formmethod")||g.getAttribute("method")||Ma,a=Xc(i.getAttribute("formenctype"))||Xc(g.getAttribute("enctype"))||Fa,c=new FormData(g,i),!T_()){let{name:_,type:S,value:A}=i;if(S==="image"){let k=_?`${_}.`:"";c.append(`${k}x`,"0"),c.append(`${k}y`,"0")}else _&&c.append(_,A)}}else{if(au(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ma,o=null,a=Fa,p=i}return c&&a==="text/plain"&&(p=c,c=void 0),{action:o,method:r.toLowerCase(),encType:a,formData:c,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kh(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function C_(i,t,r){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return o.pathname==="/"?o.pathname=`_root.${r}`:t&&vr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function A_(i,t){if(i.id in t)return t[i.id];try{let r=await import(i.module);return t[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function R_(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function P_(i,t,r){let o=await Promise.all(i.map(async a=>{let c=t.routes[a.route.id];if(c){let p=await A_(c,r);return p.links?p.links():[]}return[]}));return D_(o.flat(1).filter(R_).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Cp(i,t,r,o,a,c){let p=(y,_)=>r[_]?y.route.id!==r[_].route.id:!0,g=(y,_)=>r[_].pathname!==y.pathname||r[_].route.path?.endsWith("*")&&r[_].params["*"]!==y.params["*"];return c==="assets"?t.filter((y,_)=>p(y,_)||g(y,_)):c==="data"?t.filter((y,_)=>{let S=o.routes[y.route.id];if(!S||!S.hasLoader)return!1;if(p(y,_)||g(y,_))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function k_(i,t,{includeHydrateFallback:r}={}){return x_(i.map(o=>{let a=t.routes[o.route.id];if(!a)return[];let c=[a.module];return a.clientActionModule&&(c=c.concat(a.clientActionModule)),a.clientLoaderModule&&(c=c.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(c=c.concat(a.hydrateFallbackModule)),a.imports&&(c=c.concat(a.imports)),c}).flat(1))}function x_(i){return[...new Set(i)]}function N_(i){let t={},r=Object.keys(i).sort();for(let o of r)t[o]=i[o];return t}function D_(i,t){let r=new Set;return new Set(t),i.reduce((o,a)=>{let c=JSON.stringify(N_(a));return r.has(c)||(r.add(c),o.push({key:c,link:a})),o},[])}function Um(){let i=z.useContext(zs);return kh(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function V_(){let i=z.useContext(lu);return kh(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var xh=z.createContext(void 0);xh.displayName="FrameworkContext";function Bm(){let i=z.useContext(xh);return kh(i,"You must render this element inside a <HydratedRouter> element"),i}function O_(i,t){let r=z.useContext(xh),[o,a]=z.useState(!1),[c,p]=z.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:_,onMouseLeave:S,onTouchStart:A}=t,k=z.useRef(null);z.useEffect(()=>{if(i==="render"&&p(!0),i==="viewport"){let Q=K=>{K.forEach(oe=>{p(oe.isIntersecting)})},B=new IntersectionObserver(Q,{threshold:.5});return k.current&&B.observe(k.current),()=>{B.disconnect()}}},[i]),z.useEffect(()=>{if(o){let Q=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(Q)}}},[o]);let W=()=>{a(!0)},b=()=>{a(!1),p(!1)};return r?i!=="intent"?[c,k,{}]:[c,k,{onFocus:zo(g,W),onBlur:zo(y,b),onMouseEnter:zo(_,W),onMouseLeave:zo(S,b),onTouchStart:zo(A,W)}]:[!1,k,{}]}function zo(i,t){return r=>{i&&i(r),r.defaultPrevented||t(r)}}function L_({page:i,...t}){let{router:r}=Um(),o=z.useMemo(()=>Pm(r.routes,i,r.basename),[r.routes,i,r.basename]);return o?z.createElement(F_,{page:i,matches:o,...t}):null}function M_(i){let{manifest:t,routeModules:r}=Bm(),[o,a]=z.useState([]);return z.useEffect(()=>{let c=!1;return P_(i,t,r).then(p=>{c||a(p)}),()=>{c=!0}},[i,t,r]),o}function F_({page:i,matches:t,...r}){let o=Li(),{manifest:a,routeModules:c}=Bm(),{basename:p}=Um(),{loaderData:g,matches:y}=V_(),_=z.useMemo(()=>Cp(i,t,y,a,o,"data"),[i,t,y,a,o]),S=z.useMemo(()=>Cp(i,t,y,a,o,"assets"),[i,t,y,a,o]),A=z.useMemo(()=>{if(i===o.pathname+o.search+o.hash)return[];let b=new Set,Q=!1;if(t.forEach(K=>{let oe=a.routes[K.route.id];!oe||!oe.hasLoader||(!_.some(ie=>ie.route.id===K.route.id)&&K.route.id in g&&c[K.route.id]?.shouldRevalidate||oe.hasClientLoader?Q=!0:b.add(K.route.id))}),b.size===0)return[];let B=C_(i,p,"data");return Q&&b.size>0&&B.searchParams.set("_routes",t.filter(K=>b.has(K.route.id)).map(K=>K.route.id).join(",")),[B.pathname+B.search]},[p,g,o,a,_,t,i,c]),k=z.useMemo(()=>k_(S,a),[S,a]),W=M_(S);return z.createElement(z.Fragment,null,A.map(b=>z.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),k.map(b=>z.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),W.map(({key:b,link:Q})=>z.createElement("link",{key:b,nonce:r.nonce,...Q})))}function j_(...i){return t=>{i.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var zm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zm&&(window.__reactRouterVersion="7.8.1")}catch{}function U_({basename:i,children:t,window:r}){let o=z.useRef();o.current==null&&(o.current=Av({window:r,v5Compat:!0}));let a=o.current,[c,p]=z.useState({action:a.action,location:a.location}),g=z.useCallback(y=>{z.startTransition(()=>p(y))},[p]);return z.useLayoutEffect(()=>a.listen(g),[a,g]),z.createElement(m_,{basename:i,children:t,location:c.location,navigationType:c.action,navigator:a})}var bm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nh=z.forwardRef(function({onClick:t,discover:r="render",prefetch:o="none",relative:a,reloadDocument:c,replace:p,state:g,target:y,to:_,preventScrollReset:S,viewTransition:A,...k},W){let{basename:b}=z.useContext(Xn),Q=typeof _=="string"&&bm.test(_),B,K=!1;if(typeof _=="string"&&Q&&(B=_,zm))try{let I=new URL(window.location.href),P=_.startsWith("//")?new URL(I.protocol+_):new URL(_),D=vr(P.pathname,b);P.origin===I.origin&&D!=null?_=D+P.search+P.hash:K=!0}catch{qn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let oe=Zv(_,{relative:a}),[ie,ye,xe]=O_(o,k),Ie=$_(_,{replace:p,state:g,target:y,preventScrollReset:S,relative:a,viewTransition:A});function N(I){t&&t(I),I.defaultPrevented||Ie(I)}let T=z.createElement("a",{...k,...xe,href:B||oe,onClick:K||c?t:N,ref:j_(W,ye),target:y,"data-discover":!Q&&r==="render"?"true":void 0});return ie&&!Q?z.createElement(z.Fragment,null,T,z.createElement(L_,{page:oe})):T});Nh.displayName="Link";var B_=z.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:o="",end:a=!1,style:c,to:p,viewTransition:g,children:y,..._},S){let A=ol(p,{relative:_.relative}),k=Li(),W=z.useContext(lu),{navigator:b,basename:Q}=z.useContext(Xn),B=W!=null&&K_(A)&&g===!0,K=b.encodeLocation?b.encodeLocation(A).pathname:A.pathname,oe=k.pathname,ie=W&&W.navigation&&W.navigation.location?W.navigation.location.pathname:null;r||(oe=oe.toLowerCase(),ie=ie?ie.toLowerCase():null,K=K.toLowerCase()),ie&&Q&&(ie=vr(ie,Q)||ie);const ye=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let xe=oe===K||!a&&oe.startsWith(K)&&oe.charAt(ye)==="/",Ie=ie!=null&&(ie===K||!a&&ie.startsWith(K)&&ie.charAt(K.length)==="/"),N={isActive:xe,isPending:Ie,isTransitioning:B},T=xe?t:void 0,I;typeof o=="function"?I=o(N):I=[o,xe?"active":null,Ie?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let P=typeof c=="function"?c(N):c;return z.createElement(Nh,{..._,"aria-current":T,className:I,ref:S,style:P,to:p,viewTransition:g},typeof y=="function"?y(N):y)});B_.displayName="NavLink";var z_=z.forwardRef(({discover:i="render",fetcherKey:t,navigate:r,reloadDocument:o,replace:a,state:c,method:p=Ma,action:g,onSubmit:y,relative:_,preventScrollReset:S,viewTransition:A,...k},W)=>{let b=Q_(),Q=q_(g,{relative:_}),B=p.toLowerCase()==="get"?"get":"post",K=typeof g=="string"&&bm.test(g),oe=ie=>{if(y&&y(ie),ie.defaultPrevented)return;ie.preventDefault();let ye=ie.nativeEvent.submitter,xe=ye?.getAttribute("formmethod")||p;b(ye||ie.currentTarget,{fetcherKey:t,method:xe,navigate:r,replace:a,state:c,relative:_,preventScrollReset:S,viewTransition:A})};return z.createElement("form",{ref:W,method:B,action:Q,onSubmit:o?y:oe,...k,"data-discover":!K&&i==="render"?"true":void 0})});z_.displayName="Form";function b_(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $m(i){let t=z.useContext(zs);return Ye(t,b_(i)),t}function $_(i,{target:t,replace:r,state:o,preventScrollReset:a,relative:c,viewTransition:p}={}){let g=e_(),y=Li(),_=ol(i,{relative:c});return z.useCallback(S=>{if(w_(S,t)){S.preventDefault();let A=r!==void 0?r:Xo(y)===Xo(_);g(i,{replace:A,state:o,preventScrollReset:a,relative:c,viewTransition:p})}},[y,g,_,r,o,t,i,a,c,p])}var H_=0,W_=()=>`__${String(++H_)}__`;function Q_(){let{router:i}=$m("useSubmit"),{basename:t}=z.useContext(Xn),r=h_();return z.useCallback(async(o,a={})=>{let{action:c,method:p,encType:g,formData:y,body:_}=I_(o,t);if(a.navigate===!1){let S=a.fetcherKey||W_();await i.fetch(S,r,a.action||c,{preventScrollReset:a.preventScrollReset,formData:y,body:_,formMethod:a.method||p,formEncType:a.encType||g,flushSync:a.flushSync})}else await i.navigate(a.action||c,{preventScrollReset:a.preventScrollReset,formData:y,body:_,formMethod:a.method||p,formEncType:a.encType||g,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,t,r])}function q_(i,{relative:t}={}){let{basename:r}=z.useContext(Xn),o=z.useContext(Er);Ye(o,"useFormAction must be used inside a RouteContext");let[a]=o.matches.slice(-1),c={...ol(i||".",{relative:t})},p=Li();if(i==null){c.search=p.search;let g=new URLSearchParams(c.search),y=g.getAll("index");if(y.some(S=>S==="")){g.delete("index"),y.filter(A=>A).forEach(A=>g.append("index",A));let S=g.toString();c.search=S?`?${S}`:""}}return(!i||i===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:mr([r,c.pathname])),Xo(c)}function K_(i,{relative:t}={}){let r=z.useContext(Om);Ye(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=$m("useViewTransitionState"),a=ol(i,{relative:t});if(!r.isTransitioning)return!1;let c=vr(r.currentLocation.pathname,o)||r.currentLocation.pathname,p=vr(r.nextLocation.pathname,o)||r.nextLocation.pathname;return $a(a.pathname,p)!=null||$a(a.pathname,c)!=null}function G_(){return G.jsxs("nav",{className:"bg-gray-800 p-4 flex justify-between",children:[G.jsx("span",{className:"font-bold text-xl",children:"Midnight UI"}),G.jsxs("div",{className:"space-x-4",children:[G.jsx("a",{href:"/",className:"hover:text-blue-400",children:"Home"}),G.jsx("a",{href:"/profile",className:"hover:text-blue-400",children:"Profile"})]})]})}function X_({children:i}){const[t,r]=z.useState(null),[o,a]=z.useState({x:0,y:0}),c=z.useRef(null),p=(g,y)=>{if(t===g)r(null);else{const _=y.clientX,S=y.clientY;a({x:_,y:S}),r(g)}};return z.useEffect(()=>{const g=y=>{c.current&&!c.current.contains(y.target)&&r(null)};return t&&document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[t]),z.useEffect(()=>{if(t&&c.current){const g=c.current.getBoundingClientRect(),y=window.innerWidth;g.right>y&&a(_=>({..._,x:_.x-g.width}))}},[t]),G.jsxs("div",{className:"min-h-screen flex flex-col",children:[G.jsx(G_,{}),G.jsx("div",{className:"background"}),G.jsx("div",{className:"circle-button profile-button",onClick:g=>p("profile",g)}),G.jsx("div",{className:"circle-button menu-button",onClick:g=>p("menu",g)}),t&&G.jsxs("div",{ref:c,className:"popup",style:{top:`${o.y}px`,left:`${o.x}px`,position:"absolute"},children:[t==="profile"&&G.jsxs(G.Fragment,{children:[G.jsx(Nh,{to:"/new-user",children:"New User/Login"}),G.jsx("a",{href:"#",children:"Bio"}),G.jsx("a",{href:"#",children:"Creator Page"})]}),t==="menu"&&G.jsxs(G.Fragment,{children:[G.jsx("a",{href:"#",children:"Watch"}),G.jsx("a",{href:"#",children:"Read"}),G.jsx("a",{href:"#",children:"Listen"}),G.jsx("a",{href:"#",children:"Play"}),G.jsx("a",{href:"#",children:"Events"}),G.jsx("a",{href:"#",children:"Search"}),G.jsx("a",{href:"#",children:"Home"})]})]}),G.jsx("div",{className:"title2",children:"Faction Seven"}),G.jsx("div",{className:"slogan",children:"Your one-stop media source"}),G.jsx("main",{className:"flex-grow container mx-auto p-4",children:i})]})}function Y_(){return G.jsxs("div",{className:"main-container",children:[G.jsxs("div",{className:"sidebar left",children:[G.jsxs("div",{className:"suggested",children:[G.jsx("img",{src:"media1.jpg",alt:"Media 1"}),G.jsx("a",{href:"#",children:"Urban Echoes"})]}),G.jsxs("div",{className:"suggested",children:[G.jsx("img",{src:"media2.jpg",alt:"Media 2"}),G.jsx("a",{href:"#",children:"Moonlit Strands"})]})]}),G.jsxs("div",{className:"featured",children:[G.jsxs("h2",{children:['Featured Content: "Just for Kicks" by'," ",G.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),G.jsx("div",{className:"youtube-embed-container",children:G.jsx("iframe",{className:"youtube-embed",src:"https://www.youtube.com/embed/P0h0rO7eods?si=MMQiYKH9NEHZJ61p",title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),G.jsx("div",{className:"sidebar right",children:G.jsxs("div",{className:"news",children:[G.jsx("h3",{children:"Site News"}),G.jsx("p",{children:"Faction Seven content platform up and running! Main page features and modules fully (mostly) functional."})]})}),G.jsxs("div",{className:"showcases",children:[G.jsxs("div",{className:"showcase-2",children:[G.jsxs("h4",{children:['"R E L A X" by'," ",G.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),G.jsx("div",{className:"youtube-embed-container",children:G.jsx("iframe",{className:"responsive-image",src:"https://drive.google.com/file/d/1PhvScbMV0aXOONmudS8SIr4F_KJiajKM/preview",title:"image",allow:"autoplay",allowFullScreen:!0})})]}),G.jsxs("div",{className:"showcase-3",children:[G.jsx("img",{src:"showcase3.jpg",alt:"Showcase 3"}),G.jsxs("h4",{children:["Nevereign: Shadow Rising by"," ",G.jsx("a",{href:"https://Raszyra.github.io/Site/about.html",target:"_blank",rel:"noopener noreferrer",children:"F7E"})]}),G.jsx("div",{className:"text-embed-container",children:G.jsx("iframe",{src:"https://docs.google.com/document/d/1yEb24TJz9DchfmO80x89cFe9qKe9uPGzHoAASy4KsNk/preview",title:"Nevereign: Shadow Rising",width:"640",height:"480",allow:"autoplay"})}),"Read the whole story"," ",G.jsx("a",{href:"https://Patreon.com/FactionSevenEntertainment",style:{color:"red"},children:"here"}),"."]})]}),G.jsx("div",{className:"spotlight-list",children:G.jsxs("ul",{children:[G.jsx("li",{children:G.jsx("a",{href:"#",children:"[4] Iris.exe – Short horror game"})}),G.jsx("li",{children:G.jsx("a",{href:"#",children:"[5] Selene’s Vault – Digital comic"})}),G.jsx("li",{children:G.jsx("a",{href:"#",children:"[6] Synth Sketches – Concept art"})}),G.jsx("li",{children:G.jsx("a",{href:"#",children:"[7] Rooftop Hymns – Poetry"})}),G.jsx("li",{children:G.jsx("a",{href:"#",children:"[8] Last Light – Animated short"})}),G.jsx("li",{children:G.jsx("a",{href:"#",children:"[9] Outskirts – Creator podcast"})}),G.jsx("li",{children:G.jsx("a",{href:"#",children:"[10] F7 Monthly Jam Results"})})]})})]})}const J_=()=>{};var Ap={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},Z_=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const a=i[r++];if(a<128)t[o++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[r++];t[o++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[r++],p=i[r++],g=i[r++],y=((a&7)<<18|(c&63)<<12|(p&63)<<6|g&63)-65536;t[o++]=String.fromCharCode(55296+(y>>10)),t[o++]=String.fromCharCode(56320+(y&1023))}else{const c=i[r++],p=i[r++];t[o++]=String.fromCharCode((a&15)<<12|(c&63)<<6|p&63)}}return t.join("")},Wm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<i.length;a+=3){const c=i[a],p=a+1<i.length,g=p?i[a+1]:0,y=a+2<i.length,_=y?i[a+2]:0,S=c>>2,A=(c&3)<<4|g>>4;let k=(g&15)<<2|_>>6,W=_&63;y||(W=64,p||(k=64)),o.push(r[S],r[A],r[k],r[W])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Hm(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):Z_(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<i.length;){const c=r[i.charAt(a++)],g=a<i.length?r[i.charAt(a)]:0;++a;const _=a<i.length?r[i.charAt(a)]:64;++a;const A=a<i.length?r[i.charAt(a)]:64;if(++a,c==null||g==null||_==null||A==null)throw new eE;const k=c<<2|g>>4;if(o.push(k),_!==64){const W=g<<4&240|_>>2;if(o.push(W),A!==64){const b=_<<6&192|A;o.push(b)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class eE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tE=function(i){const t=Hm(i);return Wm.encodeByteArray(t,!0)},Ha=function(i){return tE(i).replace(/\./g,"")},nE=function(i){try{return Wm.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=()=>rE().__FIREBASE_DEFAULTS__,sE=()=>{if(typeof process>"u"||typeof Ap>"u")return;const i=Ap.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},oE=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&nE(i[1]);return t&&JSON.parse(t)},Dh=()=>{try{return J_()||iE()||sE()||oE()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},lE=i=>Dh()?.emulatorHosts?.[i],aE=i=>{const t=lE(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},Qm=()=>Dh()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Ha(JSON.stringify(r)),Ha(JSON.stringify(p)),""].join(".")}const Ho={};function fE(){const i={prod:[],emulator:[]};for(const t of Object.keys(Ho))Ho[t]?i.emulator.push(t):i.prod.push(t);return i}function dE(i){let t=document.getElementById(i),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),r=!0),{created:r,element:t}}let Rp=!1;function pE(i,t){if(typeof window>"u"||typeof document>"u"||!Vh(window.location.host)||Ho[i]===t||Ho[i]||Rp)return;Ho[i]=t;function r(k){return`__firebase__banner__${k}`}const o="__firebase__banner",c=fE().prod.length>0;function p(){const k=document.getElementById(o);k&&k.remove()}function g(k){k.style.display="flex",k.style.background="#7faaf0",k.style.position="fixed",k.style.bottom="5px",k.style.left="5px",k.style.padding=".5em",k.style.borderRadius="5px",k.style.alignItems="center"}function y(k,W){k.setAttribute("width","24"),k.setAttribute("id",W),k.setAttribute("height","24"),k.setAttribute("viewBox","0 0 24 24"),k.setAttribute("fill","none"),k.style.marginLeft="-6px"}function _(){const k=document.createElement("span");return k.style.cursor="pointer",k.style.marginLeft="16px",k.style.fontSize="24px",k.innerHTML=" &times;",k.onclick=()=>{Rp=!0,p()},k}function S(k,W){k.setAttribute("id",W),k.innerText="Learn more",k.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",k.setAttribute("target","__blank"),k.style.paddingLeft="5px",k.style.textDecoration="underline"}function A(){const k=dE(o),W=r("text"),b=document.getElementById(W)||document.createElement("span"),Q=r("learnmore"),B=document.getElementById(Q)||document.createElement("a"),K=r("preprendIcon"),oe=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(k.created){const ie=k.element;g(ie),S(B,Q);const ye=_();y(oe,K),ie.append(oe,b,B,ye),document.body.appendChild(ie)}c?(b.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",W)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gE(){const i=Dh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yE(){return!gE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vE(){try{return typeof indexedDB=="object"}catch{return!1}}function _E(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="FirebaseError";class bs extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=EE,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qm.prototype.create)}}class qm{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},a=`${this.service}/${t}`,c=this.errors[t],p=c?wE(c,o):"Error",g=`${this.serviceName}: ${p} (${a}).`;return new bs(a,g,o)}}function wE(i,t){return i.replace(TE,(r,o)=>{const a=t[o];return a!=null?String(a):`<${o}?>`})}const TE=/\{\$([^}]+)}/g;function Wa(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const a of r){if(!o.includes(a))return!1;const c=i[a],p=t[a];if(Pp(c)&&Pp(p)){if(!Wa(c,p))return!1}else if(c!==p)return!1}for(const a of o)if(!r.includes(a))return!1;return!0}function Pp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(i){return i&&i._delegate?i._delegate:i}class Jo{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new uE;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t?.identifier),o=t?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(CE(t))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:a});o.resolve(c)}catch{}}}}clearInstance(t=Ri){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ri){return this.instances.has(t)}getOptions(t=Ri){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,p]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);o===g&&p.resolve(a)}return a}onInit(t,r){const o=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(o)??new Set;a.add(t),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&t(c,o),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const a of o)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:IE(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=Ri){return this.component?this.component.multipleInstances?t:Ri:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IE(i){return i===Ri?void 0:i}function CE(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new SE(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const RE={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},PE=Pe.INFO,kE={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},xE=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),a=kE[t];if(a)console[a](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Km{constructor(t){this.name=t,this._logLevel=PE,this._logHandler=xE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?RE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...t),this._logHandler(this,Pe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...t),this._logHandler(this,Pe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...t),this._logHandler(this,Pe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...t),this._logHandler(this,Pe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...t),this._logHandler(this,Pe.ERROR,...t)}}const NE=(i,t)=>t.some(r=>i instanceof r);let kp,xp;function DE(){return kp||(kp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VE(){return xp||(xp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gm=new WeakMap,ah=new WeakMap,Xm=new WeakMap,Yc=new WeakMap,Oh=new WeakMap;function OE(i){const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",p)},c=()=>{r(Qr(i.result)),a()},p=()=>{o(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",p)});return t.then(r=>{r instanceof IDBCursor&&Gm.set(r,i)}).catch(()=>{}),Oh.set(t,i),t}function LE(i){if(ah.has(i))return;const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",p),i.removeEventListener("abort",p)},c=()=>{r(),a()},p=()=>{o(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",p),i.addEventListener("abort",p)});ah.set(i,t)}let uh={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return ah.get(i);if(t==="objectStoreNames")return i.objectStoreNames||Xm.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Qr(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function ME(i){uh=i(uh)}function FE(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call(Jc(this),t,...r);return Xm.set(o,t.sort?t.sort():[t]),Qr(o)}:VE().includes(i)?function(...t){return i.apply(Jc(this),t),Qr(Gm.get(this))}:function(...t){return Qr(i.apply(Jc(this),t))}}function jE(i){return typeof i=="function"?FE(i):(i instanceof IDBTransaction&&LE(i),NE(i,DE())?new Proxy(i,uh):i)}function Qr(i){if(i instanceof IDBRequest)return OE(i);if(Yc.has(i))return Yc.get(i);const t=jE(i);return t!==i&&(Yc.set(i,t),Oh.set(t,i)),t}const Jc=i=>Oh.get(i);function UE(i,t,{blocked:r,upgrade:o,blocking:a,terminated:c}={}){const p=indexedDB.open(i,t),g=Qr(p);return o&&p.addEventListener("upgradeneeded",y=>{o(Qr(p.result),y.oldVersion,y.newVersion,Qr(p.transaction),y)}),r&&p.addEventListener("blocked",y=>r(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const BE=["get","getKey","getAll","getAllKeys","count"],zE=["put","add","delete","clear"],Zc=new Map;function Np(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Zc.get(t))return Zc.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,a=zE.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(a||BE.includes(r)))return;const c=async function(p,...g){const y=this.transaction(p,a?"readwrite":"readonly");let _=y.store;return o&&(_=_.index(g.shift())),(await Promise.all([_[r](...g),a&&y.done]))[0]};return Zc.set(t,c),c}ME(i=>({...i,get:(t,r,o)=>Np(t,r)||i.get(t,r,o),has:(t,r)=>!!Np(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if($E(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function $E(i){return i.getComponent()?.type==="VERSION"}const ch="@firebase/app",Dp="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new Km("@firebase/app"),HE="@firebase/app-compat",WE="@firebase/analytics-compat",QE="@firebase/analytics",qE="@firebase/app-check-compat",KE="@firebase/app-check",GE="@firebase/auth",XE="@firebase/auth-compat",YE="@firebase/database",JE="@firebase/data-connect",ZE="@firebase/database-compat",e0="@firebase/functions",t0="@firebase/functions-compat",n0="@firebase/installations",r0="@firebase/installations-compat",i0="@firebase/messaging",s0="@firebase/messaging-compat",o0="@firebase/performance",l0="@firebase/performance-compat",a0="@firebase/remote-config",u0="@firebase/remote-config-compat",c0="@firebase/storage",h0="@firebase/storage-compat",f0="@firebase/firestore",d0="@firebase/ai",p0="@firebase/firestore-compat",m0="firebase",g0="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh="[DEFAULT]",y0={[ch]:"fire-core",[HE]:"fire-core-compat",[QE]:"fire-analytics",[WE]:"fire-analytics-compat",[KE]:"fire-app-check",[qE]:"fire-app-check-compat",[GE]:"fire-auth",[XE]:"fire-auth-compat",[YE]:"fire-rtdb",[JE]:"fire-data-connect",[ZE]:"fire-rtdb-compat",[e0]:"fire-fn",[t0]:"fire-fn-compat",[n0]:"fire-iid",[r0]:"fire-iid-compat",[i0]:"fire-fcm",[s0]:"fire-fcm-compat",[o0]:"fire-perf",[l0]:"fire-perf-compat",[a0]:"fire-rc",[u0]:"fire-rc-compat",[c0]:"fire-gcs",[h0]:"fire-gcs-compat",[f0]:"fire-fst",[p0]:"fire-fst-compat",[d0]:"fire-vertex","fire-js":"fire-js",[m0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new Map,v0=new Map,fh=new Map;function Vp(i,t){try{i.container.addComponent(t)}catch(r){_r.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function qa(i){const t=i.name;if(fh.has(t))return _r.debug(`There were multiple attempts to register component ${t}.`),!1;fh.set(t,i);for(const r of Qa.values())Vp(r,i);for(const r of v0.values())Vp(r,i);return!0}function _0(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}function E0(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new qm("app","Firebase",w0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(t,r,o){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=g0;function Ym(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o={name:hh,automaticDataCollectionEnabled:!0,...t},a=o.name;if(typeof a!="string"||!a)throw qr.create("bad-app-name",{appName:String(a)});if(r||(r=Qm()),!r)throw qr.create("no-options");const c=Qa.get(a);if(c){if(Wa(r,c.options)&&Wa(o,c.config))return c;throw qr.create("duplicate-app",{appName:a})}const p=new AE(a);for(const y of fh.values())p.addComponent(y);const g=new T0(r,o,p);return Qa.set(a,g),g}function I0(i=hh){const t=Qa.get(i);if(!t&&i===hh&&Qm())return Ym();if(!t)throw qr.create("no-app",{appName:i});return t}function Ds(i,t,r){let o=y0[i]??i;r&&(o+=`-${r}`);const a=o.match(/\s|\//),c=t.match(/\s|\//);if(a||c){const p=[`Unable to register library "${o}" with version "${t}":`];a&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&p.push("and"),c&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_r.warn(p.join(" "));return}qa(new Jo(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="firebase-heartbeat-database",A0=1,Zo="firebase-heartbeat-store";let eh=null;function Jm(){return eh||(eh=UE(C0,A0,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Zo)}catch(r){console.warn(r)}}}}).catch(i=>{throw qr.create("idb-open",{originalErrorMessage:i.message})})),eh}async function R0(i){try{const r=(await Jm()).transaction(Zo),o=await r.objectStore(Zo).get(Zm(i));return await r.done,o}catch(t){if(t instanceof bs)_r.warn(t.message);else{const r=qr.create("idb-get",{originalErrorMessage:t?.message});_r.warn(r.message)}}}async function Op(i,t){try{const o=(await Jm()).transaction(Zo,"readwrite");await o.objectStore(Zo).put(t,Zm(i)),await o.done}catch(r){if(r instanceof bs)_r.warn(r.message);else{const o=qr.create("idb-set",{originalErrorMessage:r?.message});_r.warn(o.message)}}}function Zm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=1024,k0=30;class x0{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new D0(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Lp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>k0){const a=V0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){_r.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Lp(),{heartbeatsToSend:r,unsentEntries:o}=N0(this._heartbeatsCache.heartbeats),a=Ha(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return _r.warn(t),""}}}function Lp(){return new Date().toISOString().substring(0,10)}function N0(i,t=P0){const r=[];let o=i.slice();for(const a of i){const c=r.find(p=>p.agent===a.agent);if(c){if(c.dates.push(a.date),Mp(r)>t){c.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),Mp(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class D0{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vE()?_E().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await R0(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const o=await this.read();return Op(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const o=await this.read();return Op(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Mp(i){return Ha(JSON.stringify({version:2,heartbeats:i})).length}function V0(i){if(i.length===0)return-1;let t=0,r=i[0].date;for(let o=1;o<i.length;o++)i[o].date<r&&(r=i[o].date,t=o);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(i){qa(new Jo("platform-logger",t=>new bE(t),"PRIVATE")),qa(new Jo("heartbeat",t=>new x0(t),"PRIVATE")),Ds(ch,Dp,i),Ds(ch,Dp,"esm2020"),Ds("fire-js","")}O0("");var Fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lh;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,T){function I(){}I.prototype=T.prototype,N.D=T.prototype,N.prototype=new I,N.prototype.constructor=N,N.C=function(P,D,O){for(var C=Array(arguments.length-2),et=2;et<arguments.length;et++)C[et-2]=arguments[et];return T.prototype[D].apply(P,C)}}function r(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(o,r),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,T,I){I||(I=0);var P=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)P[D]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(D=0;16>D;++D)P[D]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=N.g[0],I=N.g[1],D=N.g[2];var O=N.g[3],C=T+(O^I&(D^O))+P[0]+3614090360&4294967295;T=I+(C<<7&4294967295|C>>>25),C=O+(D^T&(I^D))+P[1]+3905402710&4294967295,O=T+(C<<12&4294967295|C>>>20),C=D+(I^O&(T^I))+P[2]+606105819&4294967295,D=O+(C<<17&4294967295|C>>>15),C=I+(T^D&(O^T))+P[3]+3250441966&4294967295,I=D+(C<<22&4294967295|C>>>10),C=T+(O^I&(D^O))+P[4]+4118548399&4294967295,T=I+(C<<7&4294967295|C>>>25),C=O+(D^T&(I^D))+P[5]+1200080426&4294967295,O=T+(C<<12&4294967295|C>>>20),C=D+(I^O&(T^I))+P[6]+2821735955&4294967295,D=O+(C<<17&4294967295|C>>>15),C=I+(T^D&(O^T))+P[7]+4249261313&4294967295,I=D+(C<<22&4294967295|C>>>10),C=T+(O^I&(D^O))+P[8]+1770035416&4294967295,T=I+(C<<7&4294967295|C>>>25),C=O+(D^T&(I^D))+P[9]+2336552879&4294967295,O=T+(C<<12&4294967295|C>>>20),C=D+(I^O&(T^I))+P[10]+4294925233&4294967295,D=O+(C<<17&4294967295|C>>>15),C=I+(T^D&(O^T))+P[11]+2304563134&4294967295,I=D+(C<<22&4294967295|C>>>10),C=T+(O^I&(D^O))+P[12]+1804603682&4294967295,T=I+(C<<7&4294967295|C>>>25),C=O+(D^T&(I^D))+P[13]+4254626195&4294967295,O=T+(C<<12&4294967295|C>>>20),C=D+(I^O&(T^I))+P[14]+2792965006&4294967295,D=O+(C<<17&4294967295|C>>>15),C=I+(T^D&(O^T))+P[15]+1236535329&4294967295,I=D+(C<<22&4294967295|C>>>10),C=T+(D^O&(I^D))+P[1]+4129170786&4294967295,T=I+(C<<5&4294967295|C>>>27),C=O+(I^D&(T^I))+P[6]+3225465664&4294967295,O=T+(C<<9&4294967295|C>>>23),C=D+(T^I&(O^T))+P[11]+643717713&4294967295,D=O+(C<<14&4294967295|C>>>18),C=I+(O^T&(D^O))+P[0]+3921069994&4294967295,I=D+(C<<20&4294967295|C>>>12),C=T+(D^O&(I^D))+P[5]+3593408605&4294967295,T=I+(C<<5&4294967295|C>>>27),C=O+(I^D&(T^I))+P[10]+38016083&4294967295,O=T+(C<<9&4294967295|C>>>23),C=D+(T^I&(O^T))+P[15]+3634488961&4294967295,D=O+(C<<14&4294967295|C>>>18),C=I+(O^T&(D^O))+P[4]+3889429448&4294967295,I=D+(C<<20&4294967295|C>>>12),C=T+(D^O&(I^D))+P[9]+568446438&4294967295,T=I+(C<<5&4294967295|C>>>27),C=O+(I^D&(T^I))+P[14]+3275163606&4294967295,O=T+(C<<9&4294967295|C>>>23),C=D+(T^I&(O^T))+P[3]+4107603335&4294967295,D=O+(C<<14&4294967295|C>>>18),C=I+(O^T&(D^O))+P[8]+1163531501&4294967295,I=D+(C<<20&4294967295|C>>>12),C=T+(D^O&(I^D))+P[13]+2850285829&4294967295,T=I+(C<<5&4294967295|C>>>27),C=O+(I^D&(T^I))+P[2]+4243563512&4294967295,O=T+(C<<9&4294967295|C>>>23),C=D+(T^I&(O^T))+P[7]+1735328473&4294967295,D=O+(C<<14&4294967295|C>>>18),C=I+(O^T&(D^O))+P[12]+2368359562&4294967295,I=D+(C<<20&4294967295|C>>>12),C=T+(I^D^O)+P[5]+4294588738&4294967295,T=I+(C<<4&4294967295|C>>>28),C=O+(T^I^D)+P[8]+2272392833&4294967295,O=T+(C<<11&4294967295|C>>>21),C=D+(O^T^I)+P[11]+1839030562&4294967295,D=O+(C<<16&4294967295|C>>>16),C=I+(D^O^T)+P[14]+4259657740&4294967295,I=D+(C<<23&4294967295|C>>>9),C=T+(I^D^O)+P[1]+2763975236&4294967295,T=I+(C<<4&4294967295|C>>>28),C=O+(T^I^D)+P[4]+1272893353&4294967295,O=T+(C<<11&4294967295|C>>>21),C=D+(O^T^I)+P[7]+4139469664&4294967295,D=O+(C<<16&4294967295|C>>>16),C=I+(D^O^T)+P[10]+3200236656&4294967295,I=D+(C<<23&4294967295|C>>>9),C=T+(I^D^O)+P[13]+681279174&4294967295,T=I+(C<<4&4294967295|C>>>28),C=O+(T^I^D)+P[0]+3936430074&4294967295,O=T+(C<<11&4294967295|C>>>21),C=D+(O^T^I)+P[3]+3572445317&4294967295,D=O+(C<<16&4294967295|C>>>16),C=I+(D^O^T)+P[6]+76029189&4294967295,I=D+(C<<23&4294967295|C>>>9),C=T+(I^D^O)+P[9]+3654602809&4294967295,T=I+(C<<4&4294967295|C>>>28),C=O+(T^I^D)+P[12]+3873151461&4294967295,O=T+(C<<11&4294967295|C>>>21),C=D+(O^T^I)+P[15]+530742520&4294967295,D=O+(C<<16&4294967295|C>>>16),C=I+(D^O^T)+P[2]+3299628645&4294967295,I=D+(C<<23&4294967295|C>>>9),C=T+(D^(I|~O))+P[0]+4096336452&4294967295,T=I+(C<<6&4294967295|C>>>26),C=O+(I^(T|~D))+P[7]+1126891415&4294967295,O=T+(C<<10&4294967295|C>>>22),C=D+(T^(O|~I))+P[14]+2878612391&4294967295,D=O+(C<<15&4294967295|C>>>17),C=I+(O^(D|~T))+P[5]+4237533241&4294967295,I=D+(C<<21&4294967295|C>>>11),C=T+(D^(I|~O))+P[12]+1700485571&4294967295,T=I+(C<<6&4294967295|C>>>26),C=O+(I^(T|~D))+P[3]+2399980690&4294967295,O=T+(C<<10&4294967295|C>>>22),C=D+(T^(O|~I))+P[10]+4293915773&4294967295,D=O+(C<<15&4294967295|C>>>17),C=I+(O^(D|~T))+P[1]+2240044497&4294967295,I=D+(C<<21&4294967295|C>>>11),C=T+(D^(I|~O))+P[8]+1873313359&4294967295,T=I+(C<<6&4294967295|C>>>26),C=O+(I^(T|~D))+P[15]+4264355552&4294967295,O=T+(C<<10&4294967295|C>>>22),C=D+(T^(O|~I))+P[6]+2734768916&4294967295,D=O+(C<<15&4294967295|C>>>17),C=I+(O^(D|~T))+P[13]+1309151649&4294967295,I=D+(C<<21&4294967295|C>>>11),C=T+(D^(I|~O))+P[4]+4149444226&4294967295,T=I+(C<<6&4294967295|C>>>26),C=O+(I^(T|~D))+P[11]+3174756917&4294967295,O=T+(C<<10&4294967295|C>>>22),C=D+(T^(O|~I))+P[2]+718787259&4294967295,D=O+(C<<15&4294967295|C>>>17),C=I+(O^(D|~T))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+T&4294967295,N.g[1]=N.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+O&4294967295}o.prototype.u=function(N,T){T===void 0&&(T=N.length);for(var I=T-this.blockSize,P=this.B,D=this.h,O=0;O<T;){if(D==0)for(;O<=I;)a(this,N,O),O+=this.blockSize;if(typeof N=="string"){for(;O<T;)if(P[D++]=N.charCodeAt(O++),D==this.blockSize){a(this,P),D=0;break}}else for(;O<T;)if(P[D++]=N[O++],D==this.blockSize){a(this,P),D=0;break}}this.h=D,this.o+=T},o.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var T=1;T<N.length-8;++T)N[T]=0;var I=8*this.o;for(T=N.length-8;T<N.length;++T)N[T]=I&255,I/=256;for(this.u(N),N=Array(16),T=I=0;4>T;++T)for(var P=0;32>P;P+=8)N[I++]=this.g[T]>>>P&255;return N};function c(N,T){var I=g;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=T(N)}function p(N,T){this.h=T;for(var I=[],P=!0,D=N.length-1;0<=D;D--){var O=N[D]|0;P&&O==T||(I[D]=O,P=!1)}this.g=I}var g={};function y(N){return-128<=N&&128>N?c(N,function(T){return new p([T|0],0>T?-1:0)}):new p([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return A;if(0>N)return B(_(-N));for(var T=[],I=1,P=0;N>=I;P++)T[P]=N/I|0,I*=4294967296;return new p(T,0)}function S(N,T){if(N.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(N.charAt(0)=="-")return B(S(N.substring(1),T));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=_(Math.pow(T,8)),P=A,D=0;D<N.length;D+=8){var O=Math.min(8,N.length-D),C=parseInt(N.substring(D,D+O),T);8>O?(O=_(Math.pow(T,O)),P=P.j(O).add(_(C))):(P=P.j(I),P=P.add(_(C)))}return P}var A=y(0),k=y(1),W=y(16777216);i=p.prototype,i.m=function(){if(Q(this))return-B(this).m();for(var N=0,T=1,I=0;I<this.g.length;I++){var P=this.i(I);N+=(0<=P?P:4294967296+P)*T,T*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(b(this))return"0";if(Q(this))return"-"+B(this).toString(N);for(var T=_(Math.pow(N,6)),I=this,P="";;){var D=ye(I,T).g;I=K(I,D.j(T));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(N);if(I=D,b(I))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function b(N){if(N.h!=0)return!1;for(var T=0;T<N.g.length;T++)if(N.g[T]!=0)return!1;return!0}function Q(N){return N.h==-1}i.l=function(N){return N=K(this,N),Q(N)?-1:b(N)?0:1};function B(N){for(var T=N.g.length,I=[],P=0;P<T;P++)I[P]=~N.g[P];return new p(I,~N.h).add(k)}i.abs=function(){return Q(this)?B(this):this},i.add=function(N){for(var T=Math.max(this.g.length,N.g.length),I=[],P=0,D=0;D<=T;D++){var O=P+(this.i(D)&65535)+(N.i(D)&65535),C=(O>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);P=C>>>16,O&=65535,C&=65535,I[D]=C<<16|O}return new p(I,I[I.length-1]&-2147483648?-1:0)};function K(N,T){return N.add(B(T))}i.j=function(N){if(b(this)||b(N))return A;if(Q(this))return Q(N)?B(this).j(B(N)):B(B(this).j(N));if(Q(N))return B(this.j(B(N)));if(0>this.l(W)&&0>N.l(W))return _(this.m()*N.m());for(var T=this.g.length+N.g.length,I=[],P=0;P<2*T;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<N.g.length;D++){var O=this.i(P)>>>16,C=this.i(P)&65535,et=N.i(D)>>>16,Pt=N.i(D)&65535;I[2*P+2*D]+=C*Pt,oe(I,2*P+2*D),I[2*P+2*D+1]+=O*Pt,oe(I,2*P+2*D+1),I[2*P+2*D+1]+=C*et,oe(I,2*P+2*D+1),I[2*P+2*D+2]+=O*et,oe(I,2*P+2*D+2)}for(P=0;P<T;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=T;P<2*T;P++)I[P]=0;return new p(I,0)};function oe(N,T){for(;(N[T]&65535)!=N[T];)N[T+1]+=N[T]>>>16,N[T]&=65535,T++}function ie(N,T){this.g=N,this.h=T}function ye(N,T){if(b(T))throw Error("division by zero");if(b(N))return new ie(A,A);if(Q(N))return T=ye(B(N),T),new ie(B(T.g),B(T.h));if(Q(T))return T=ye(N,B(T)),new ie(B(T.g),T.h);if(30<N.g.length){if(Q(N)||Q(T))throw Error("slowDivide_ only works with positive integers.");for(var I=k,P=T;0>=P.l(N);)I=xe(I),P=xe(P);var D=Ie(I,1),O=Ie(P,1);for(P=Ie(P,2),I=Ie(I,2);!b(P);){var C=O.add(P);0>=C.l(N)&&(D=D.add(I),O=C),P=Ie(P,1),I=Ie(I,1)}return T=K(N,D.j(T)),new ie(D,T)}for(D=A;0<=N.l(T);){for(I=Math.max(1,Math.floor(N.m()/T.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=_(I),C=O.j(T);Q(C)||0<C.l(N);)I-=P,O=_(I),C=O.j(T);b(O)&&(O=k),D=D.add(O),N=K(N,C)}return new ie(D,N)}i.A=function(N){return ye(this,N).h},i.and=function(N){for(var T=Math.max(this.g.length,N.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)&N.i(P);return new p(I,this.h&N.h)},i.or=function(N){for(var T=Math.max(this.g.length,N.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)|N.i(P);return new p(I,this.h|N.h)},i.xor=function(N){for(var T=Math.max(this.g.length,N.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)^N.i(P);return new p(I,this.h^N.h)};function xe(N){for(var T=N.g.length+1,I=[],P=0;P<T;P++)I[P]=N.i(P)<<1|N.i(P-1)>>>31;return new p(I,N.h)}function Ie(N,T){var I=T>>5;T%=32;for(var P=N.g.length-I,D=[],O=0;O<P;O++)D[O]=0<T?N.i(O+I)>>>T|N.i(O+I+1)<<32-T:N.i(O+I);return new p(D,N.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.A,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=_,p.fromString=S,Lh=p}).apply(typeof Fp<"u"?Fp:typeof self<"u"?self:typeof window<"u"?window:{});var xa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eg,$o,tg,ja,dh,ng,rg,ig;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,m){return l==Array.prototype||l==Object.prototype||(l[f]=m.value),l};function r(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof xa=="object"&&xa];for(var f=0;f<l.length;++f){var m=l[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var o=r(this);function a(l,f){if(f)e:{var m=o;l=l.split(".");for(var E=0;E<l.length-1;E++){var L=l[E];if(!(L in m))break e;m=m[L]}l=l[l.length-1],E=m[l],f=f(E),f!=E&&f!=null&&t(m,l,{configurable:!0,writable:!0,value:f})}}function c(l,f){l instanceof String&&(l+="");var m=0,E=!1,L={next:function(){if(!E&&m<l.length){var U=m++;return{value:f(U,l[U]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}a("Array.prototype.values",function(l){return l||function(){return c(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var p=p||{},g=this||self;function y(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function _(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function S(l,f,m){return l.call.apply(l.bind,arguments)}function A(l,f,m){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),l.apply(f,L)}}return function(){return l.apply(f,arguments)}}function k(l,f,m){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:A,k.apply(null,arguments)}function W(l,f){var m=Array.prototype.slice.call(arguments,1);return function(){var E=m.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function b(l,f){function m(){}m.prototype=f.prototype,l.aa=f.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(E,L,U){for(var ee=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ee[Le-2]=arguments[Le];return f.prototype[L].apply(E,ee)}}function Q(l){const f=l.length;if(0<f){const m=Array(f);for(let E=0;E<f;E++)m[E]=l[E];return m}return[]}function B(l,f){for(let m=1;m<arguments.length;m++){const E=arguments[m];if(y(E)){const L=l.length||0,U=E.length||0;l.length=L+U;for(let ee=0;ee<U;ee++)l[L+ee]=E[ee]}else l.push(E)}}class K{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function oe(l){return/^[\s\xa0]*$/.test(l)}function ie(){var l=g.navigator;return l&&(l=l.userAgent)?l:""}function ye(l){return ye[" "](l),l}ye[" "]=function(){};var xe=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function Ie(l,f,m){for(const E in l)f.call(m,l[E],E,l)}function N(l,f){for(const m in l)f.call(void 0,l[m],m,l)}function T(l){const f={};for(const m in l)f[m]=l[m];return f}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,f){let m,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(m in E)l[m]=E[m];for(let U=0;U<I.length;U++)m=I[U],Object.prototype.hasOwnProperty.call(E,m)&&(l[m]=E[m])}}function D(l){var f=1;l=l.split(":");const m=[];for(;0<f&&l.length;)m.push(l.shift()),f--;return l.length&&m.push(l.join(":")),m}function O(l){g.setTimeout(()=>{throw l},0)}function C(){var l=de;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class et{constructor(){this.h=this.g=null}add(f,m){const E=Pt.get();E.set(f,m),this.h?this.h.next=E:this.g=E,this.h=E}}var Pt=new K(()=>new kt,l=>l.reset());class kt{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Me,te=!1,de=new et,re=()=>{const l=g.Promise.resolve(void 0);Me=()=>{l.then(V)}};var V=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(m){O(m)}var f=Pt;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}te=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};g.addEventListener("test",m,f),g.removeEventListener("test",m,f)}catch{}return l}();function we(l,f){if(he.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(xe){e:{try{ye(f.nodeName);var L=!0;break e}catch{}L=!1}L||(f=null)}}else m=="mouseover"?f=l.fromElement:m=="mouseout"&&(f=l.toElement);this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ce[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&we.aa.h.call(this)}}b(we,he);var Ce={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function je(l,f,m,E,L){this.listener=l,this.proxy=null,this.src=f,this.type=m,this.capture=!!E,this.ha=L,this.key=++Ve,this.da=this.fa=!1}function ft(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Yn(l){this.src=l,this.g={},this.h=0}Yn.prototype.add=function(l,f,m,E,L){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var ee=wr(l,f,E,L);return-1<ee?(f=l[ee],m||(f.fa=!1)):(f=new je(f,this.src,U,!!E,L),f.fa=m,l.push(f)),f};function ji(l,f){var m=f.type;if(m in l.g){var E=l.g[m],L=Array.prototype.indexOf.call(E,f,void 0),U;(U=0<=L)&&Array.prototype.splice.call(E,L,1),U&&(ft(f),l.g[m].length==0&&(delete l.g[m],l.h--))}}function wr(l,f,m,E){for(var L=0;L<l.length;++L){var U=l[L];if(!U.da&&U.listener==f&&U.capture==!!m&&U.ha==E)return L}return-1}var Zr="closure_lm_"+(1e6*Math.random()|0),Ui={};function Ws(l,f,m,E,L){if(Array.isArray(f)){for(var U=0;U<f.length;U++)Ws(l,f[U],m,E,L);return null}return m=Ks(m),l&&l[De]?l.K(f,m,_(E)?!!E.capture:!1,L):Qs(l,f,m,!1,E,L)}function Qs(l,f,m,E,L,U){if(!f)throw Error("Invalid event type");var ee=_(L)?!!L.capture:!!L,Le=zi(l);if(Le||(l[Zr]=Le=new Yn(l)),m=Le.add(f,m,E,ee,U),m.proxy)return m;if(E=dl(),m.proxy=E,E.src=l,E.listener=m,l.addEventListener)_e||(L=ee),L===void 0&&(L=!1),l.addEventListener(f.toString(),E,L);else if(l.attachEvent)l.attachEvent(Zn(f.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return m}function dl(){function l(m){return f.call(l.src,l.listener,m)}const f=qs;return l}function Bi(l,f,m,E,L){if(Array.isArray(f))for(var U=0;U<f.length;U++)Bi(l,f[U],m,E,L);else E=_(E)?!!E.capture:!!E,m=Ks(m),l&&l[De]?(l=l.i,f=String(f).toString(),f in l.g&&(U=l.g[f],m=wr(U,m,E,L),-1<m&&(ft(U[m]),Array.prototype.splice.call(U,m,1),U.length==0&&(delete l.g[f],l.h--)))):l&&(l=zi(l))&&(f=l.g[f.toString()],l=-1,f&&(l=wr(f,m,E,L)),(m=-1<l?f[l]:null)&&Jn(m))}function Jn(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[De])ji(f.i,l);else{var m=l.type,E=l.proxy;f.removeEventListener?f.removeEventListener(m,E,l.capture):f.detachEvent?f.detachEvent(Zn(m),E):f.addListener&&f.removeListener&&f.removeListener(E),(m=zi(f))?(ji(m,l),m.h==0&&(m.src=null,f[Zr]=null)):ft(l)}}}function Zn(l){return l in Ui?Ui[l]:Ui[l]="on"+l}function qs(l,f){if(l.da)l=!0;else{f=new we(f,this);var m=l.listener,E=l.ha||l.src;l.fa&&Jn(l),l=m.call(E,f)}return l}function zi(l){return l=l[Zr],l instanceof Yn?l:null}var bi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ks(l){return typeof l=="function"?l:(l[bi]||(l[bi]=function(f){return l.handleEvent(f)}),l[bi])}function lt(){$.call(this),this.i=new Yn(this),this.M=this,this.F=null}b(lt,$),lt.prototype[De]=!0,lt.prototype.removeEventListener=function(l,f,m,E){Bi(this,l,f,m,E)};function at(l,f){var m,E=l.F;if(E)for(m=[];E;E=E.F)m.push(E);if(l=l.M,E=f.type||f,typeof f=="string")f=new he(f,l);else if(f instanceof he)f.target=f.target||l;else{var L=f;f=new he(E,l),P(f,L)}if(L=!0,m)for(var U=m.length-1;0<=U;U--){var ee=f.g=m[U];L=er(ee,E,!0,f)&&L}if(ee=f.g=l,L=er(ee,E,!0,f)&&L,L=er(ee,E,!1,f)&&L,m)for(U=0;U<m.length;U++)ee=f.g=m[U],L=er(ee,E,!1,f)&&L}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var m=l.g[f],E=0;E<m.length;E++)ft(m[E]);delete l.g[f],l.h--}}this.F=null},lt.prototype.K=function(l,f,m,E){return this.i.add(String(l),f,!1,m,E)},lt.prototype.L=function(l,f,m,E){return this.i.add(String(l),f,!0,m,E)};function er(l,f,m,E){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var L=!0,U=0;U<f.length;++U){var ee=f[U];if(ee&&!ee.da&&ee.capture==m){var Le=ee.listener,ut=ee.ha||ee.src;ee.fa&&ji(l.i,ee),L=Le.call(ut,E)!==!1&&L}}return L&&!E.defaultPrevented}function Gs(l,f,m){if(typeof l=="function")m&&(l=k(l,m));else if(l&&typeof l.handleEvent=="function")l=k(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:g.setTimeout(l,f||0)}function Tr(l){l.g=Gs(()=>{l.g=null,l.i&&(l.i=!1,Tr(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class ei extends ${constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Tr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ti(l){$.call(this),this.h=l,this.g={}}b(ti,$);var Xs=[];function Ys(l){Ie(l.g,function(f,m){this.g.hasOwnProperty(m)&&Jn(f)},l),l.g={}}ti.prototype.N=function(){ti.aa.N.call(this),Ys(this)},ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Js=g.JSON.stringify,Zs=g.JSON.parse,eo=class{stringify(l){return g.JSON.stringify(l,void 0)}parse(l){return g.JSON.parse(l,void 0)}};function ni(){}ni.prototype.h=null;function $i(l){return l.h||(l.h=l.i())}function Hi(){}var sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function On(){he.call(this,"d")}b(On,he);function Wi(){he.call(this,"c")}b(Wi,he);var Ln={},to=null;function ri(){return to=to||new lt}Ln.La="serverreachability";function no(l){he.call(this,Ln.La,l)}b(no,he);function tr(l){const f=ri();at(f,new no(f))}Ln.STAT_EVENT="statevent";function ro(l,f){he.call(this,Ln.STAT_EVENT,l),this.stat=f}b(ro,he);function tt(l){const f=ri();at(f,new ro(f,l))}Ln.Ma="timingevent";function Qi(l,f){he.call(this,Ln.Ma,l),this.size=f}b(Qi,he);function mn(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){l()},f)}function ii(){this.g=!0}ii.prototype.xa=function(){this.g=!1};function si(l,f,m,E,L,U){l.info(function(){if(l.g)if(U)for(var ee="",Le=U.split("&"),ut=0;ut<Le.length;ut++){var Ae=Le[ut].split("=");if(1<Ae.length){var dt=Ae[0];Ae=Ae[1];var rt=dt.split("_");ee=2<=rt.length&&rt[1]=="type"?ee+(dt+"="+Ae+"&"):ee+(dt+"=redacted&")}}else ee=null;else ee=U;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+f+`
`+m+`
`+ee})}function qi(l,f,m,E,L,U,ee){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+f+`
`+m+`
`+U+" "+ee})}function gn(l,f,m,E){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+vu(l,m)+(E?" "+E:"")})}function io(l,f){l.info(function(){return"TIMEOUT: "+f})}ii.prototype.info=function(){};function vu(l,f){if(!l.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var E=m[l];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var U=L[0];if(U!="noop"&&U!="stop"&&U!="close")for(var ee=1;ee<L.length;ee++)L[ee]=""}}}}return Js(m)}catch{return f}}var Ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yn;function oi(){}b(oi,ni),oi.prototype.g=function(){return new XMLHttpRequest},oi.prototype.i=function(){return{}},yn=new oi;function vn(l,f,m,E){this.j=l,this.i=f,this.l=m,this.R=E||1,this.U=new ti(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ml}function ml(){this.i=null,this.g="",this.h=!1}var so={},Gi={};function Xi(l,f,m){l.L=1,l.v=Rr(Jt(f)),l.m=m,l.P=!0,oo(l,null)}function oo(l,f){l.F=Date.now(),Ue(l),l.A=Jt(l.v);var m=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),kr(m.i,"t",E),l.C=0,m=l.j.J,l.h=new ml,l.g=Vl(l.j,m?f:null,!l.m),0<l.O&&(l.M=new ei(k(l.Y,l,l.g),l.O)),f=l.U,m=l.g,E=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(Xs[0]=L.toString()),L=Xs);for(var U=0;U<L.length;U++){var ee=Ws(m,L[U],E||f.handleEvent,!1,f.h||f);if(!ee)break;f.g[ee.key]=ee}f=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),tr(),si(l.i,l.u,l.A,l.l,l.R,l.m)}vn.prototype.ca=function(l){l=l.target;const f=this.M;f&&bt(l)==3?f.j():this.Y(l)},vn.prototype.Y=function(l){try{if(l==this.g)e:{const rt=bt(this.g);var f=this.g.Ba();const an=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||fo(this.g)))){this.J||rt!=4||f==7||(f==8||0>=an?tr(3):tr(2)),li(this);var m=this.g.Z();this.X=m;t:if(gl(this)){var E=fo(this.g);l="";var L=E.length,U=bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),Sr(this);var ee="";break t}this.h.i=new g.TextDecoder}for(f=0;f<L;f++)this.h.h=!0,l+=this.h.i.decode(E[f],{stream:!(U&&f==L-1)});E.length=0,this.h.g+=l,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=m==200,qi(this.i,this.u,this.A,this.l,this.R,rt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,ut=this.g;if((Le=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!oe(Le)){var Ae=Le;break t}}Ae=null}if(m=Ae)gn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lo(this,m);else{this.o=!1,this.s=3,tt(12),on(this),Sr(this);break e}}if(this.P){m=!0;let en;for(;!this.J&&this.C<ee.length;)if(en=_u(this,ee),en==Gi){rt==4&&(this.s=4,tt(14),m=!1),gn(this.i,this.l,null,"[Incomplete Response]");break}else if(en==so){this.s=4,tt(15),gn(this.i,this.l,ee,"[Invalid Chunk]"),m=!1;break}else gn(this.i,this.l,en,null),lo(this,en);if(gl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||ee.length!=0||this.h.h||(this.s=1,tt(16),m=!1),this.o=this.o&&m,!m)gn(this.i,this.l,ee,"[Invalid Chunked Response]"),on(this),Sr(this);else if(0<ee.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),mo(dt),dt.M=!0,tt(11))}}else gn(this.i,this.l,ee,null),lo(this,ee);rt==4&&on(this),this.o&&!this.J&&(rt==4?ls(this.j,this):(this.o=!1,Ue(this)))}else ns(this.g),m==400&&0<ee.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),on(this),Sr(this)}}}catch{}finally{}};function gl(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function _u(l,f){var m=l.C,E=f.indexOf(`
`,m);return E==-1?Gi:(m=Number(f.substring(m,E)),isNaN(m)?so:(E+=1,E+m>f.length?Gi:(f=f.slice(E,E+m),l.C=E+m,f)))}vn.prototype.cancel=function(){this.J=!0,on(this)};function Ue(l){l.S=Date.now()+l.I,yl(l,l.I)}function yl(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=mn(k(l.ba,l),f)}function li(l){l.B&&(g.clearTimeout(l.B),l.B=null)}vn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(io(this.i,this.A),this.L!=2&&(tr(),tt(17)),on(this),this.s=2,Sr(this)):yl(this,this.S-l)};function Sr(l){l.j.G==0||l.J||ls(l.j,l)}function on(l){li(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,Ys(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function lo(l,f){try{var m=l.j;if(m.G!=0&&(m.g==l||Ft(m.h,l))){if(!l.K&&Ft(m.h,l)&&m.G==3){try{var E=m.Da.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)os(m),Sn(m);else break e;ss(m),tt(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=mn(k(m.Za,m),6e3));if(1>=_l(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else or(m,11)}else if((l.K||m.g==l)&&os(m),!oe(f))for(L=m.Da.g.parse(f),f=0;f<L.length;f++){let Ae=L[f];if(m.T=Ae[0],Ae=Ae[1],m.G==2)if(Ae[0]=="c"){m.K=Ae[1],m.ia=Ae[2];const dt=Ae[3];dt!=null&&(m.la=dt,m.j.info("VER="+m.la));const rt=Ae[4];rt!=null&&(m.Aa=rt,m.j.info("SVER="+m.Aa));const an=Ae[5];an!=null&&typeof an=="number"&&0<an&&(E=1.5*an,m.L=E,m.j.info("backChannelRequestTimeoutMs_="+E)),E=m;const en=l.g;if(en){const pi=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var U=E.h;U.g||pi.indexOf("spdy")==-1&&pi.indexOf("quic")==-1&&pi.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(ao(U,U.h),U.h=null))}if(E.D){const us=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;us&&(E.ya=us,Fe(E.I,E.D,us))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),E=m;var ee=l;if(E.qa=Dl(E,E.J?E.ia:null,E.W),ee.K){El(E.h,ee);var Le=ee,ut=E.L;ut&&(Le.I=ut),Le.B&&(li(Le),Ue(Le)),E.g=ee}else di(E);0<m.i.length&&Un(m)}else Ae[0]!="stop"&&Ae[0]!="close"||or(m,7);else m.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?or(m,7):Et(m):Ae[0]!="noop"&&m.l&&m.l.ta(Ae),m.v=0)}}tr(4)}catch{}}var vl=class{constructor(l,f){this.g=l,this.map=f}};function ai(l){this.l=l||10,g.PerformanceNavigationTiming?(l=g.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function _l(l){return l.h?1:l.g?l.g.size:0}function Ft(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function ao(l,f){l.g?l.g.add(f):l.h=f}function El(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}ai.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function wl(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const m of l.g.values())f=f.concat(m.D);return f}return Q(l.i)}function Yi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var f=[],m=l.length,E=0;E<m;E++)f.push(l[E]);return f}f=[],m=0;for(E in l)f[m++]=l[E];return f}function Ji(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var f=[];l=l.length;for(var m=0;m<l;m++)f.push(m);return f}f=[],m=0;for(const E in l)f[m++]=E;return f}}}function Ir(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var m=Ji(l),E=Yi(l),L=E.length,U=0;U<L;U++)f.call(void 0,E[U],m&&m[U],l)}var ui=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Eu(l,f){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var E=l[m].indexOf("="),L=null;if(0<=E){var U=l[m].substring(0,E);L=l[m].substring(E+1)}else U=l[m];f(U,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function nr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof nr){this.h=l.h,ci(this,l.j),this.o=l.o,this.g=l.g,Cr(this,l.s),this.l=l.l;var f=l.i,m=new Mn;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),Ar(this,m),this.m=l.m}else l&&(f=String(l).match(ui))?(this.h=!1,ci(this,f[1]||"",!0),this.o=Se(f[2]||""),this.g=Se(f[3]||"",!0),Cr(this,f[4]),this.l=Se(f[5]||"",!0),Ar(this,f[6]||"",!0),this.m=Se(f[7]||"")):(this.h=!1,this.i=new Mn(null,this.h))}nr.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Pr(f,Zi,!0),":");var m=this.g;return(m||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Pr(f,Zi,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Pr(m,m.charAt(0)=="/"?Il:Sl,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Pr(m,uo)),l.join("")};function Jt(l){return new nr(l)}function ci(l,f,m){l.j=m?Se(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Cr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Ar(l,f,m){f instanceof Mn?(l.i=f,Fn(l.i,l.h)):(m||(f=Pr(f,Cl)),l.i=new Mn(f,l.h))}function Fe(l,f,m){l.i.set(f,m)}function Rr(l){return Fe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Se(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Pr(l,f,m){return typeof l=="string"?(l=encodeURI(l).replace(f,Tl),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Tl(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Zi=/[#\/\?@]/g,Sl=/[#\?:]/g,Il=/[#\?]/g,Cl=/[#\?@]/g,uo=/#/g;function Mn(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function _t(l){l.g||(l.g=new Map,l.h=0,l.i&&Eu(l.i,function(f,m){l.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}i=Mn.prototype,i.add=function(l,f){_t(this),this.i=null,l=ln(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(f),this.h+=1,this};function _n(l,f){_t(l),f=ln(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function En(l,f){return _t(l),f=ln(l,f),l.g.has(f)}i.forEach=function(l,f){_t(this),this.g.forEach(function(m,E){m.forEach(function(L){l.call(f,L,E,this)},this)},this)},i.na=function(){_t(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let E=0;E<f.length;E++){const L=l[E];for(let U=0;U<L.length;U++)m.push(f[E])}return m},i.V=function(l){_t(this);let f=[];if(typeof l=="string")En(this,l)&&(f=f.concat(this.g.get(ln(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)f=f.concat(l[m])}return f},i.set=function(l,f){return _t(this),this.i=null,l=ln(this,l),En(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},i.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function kr(l,f,m){_n(l,f),0<m.length&&(l.i=null,l.g.set(ln(l,f),Q(m)),l.h+=m.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var E=f[m];const U=encodeURIComponent(String(E)),ee=this.V(E);for(E=0;E<ee.length;E++){var L=U;ee[E]!==""&&(L+="="+encodeURIComponent(String(ee[E]))),l.push(L)}}return this.i=l.join("&")};function ln(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Fn(l,f){f&&!l.j&&(_t(l),l.i=null,l.g.forEach(function(m,E){var L=E.toLowerCase();E!=L&&(_n(this,E),kr(this,L,m))},l)),l.j=f}function wu(l,f){const m=new ii;if(g.Image){const E=new Image;E.onload=W(zt,m,"TestLoadImage: loaded",!0,f,E),E.onerror=W(zt,m,"TestLoadImage: error",!1,f,E),E.onabort=W(zt,m,"TestLoadImage: abort",!1,f,E),E.ontimeout=W(zt,m,"TestLoadImage: timeout",!1,f,E),g.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else f(!1)}function Al(l,f){const m=new ii,E=new AbortController,L=setTimeout(()=>{E.abort(),zt(m,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:E.signal}).then(U=>{clearTimeout(L),U.ok?zt(m,"TestPingServer: ok",!0,f):zt(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),zt(m,"TestPingServer: error",!1,f)})}function zt(l,f,m,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(m)}catch{}}function Tu(){this.g=new eo}function Rl(l,f,m){const E=m||"";try{Ir(l,function(L,U){let ee=L;_(L)&&(ee=Js(L)),f.push(E+U+"="+encodeURIComponent(ee))})}catch(L){throw f.push(E+"type="+encodeURIComponent("_badmap")),L}}function rr(l){this.l=l.Ub||null,this.j=l.eb||!1}b(rr,ni),rr.prototype.g=function(){return new hi(this.l,this.j)},rr.prototype.i=function(l){return function(){return l}}({});function hi(l,f){lt.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(hi,lt),i=hi.prototype,i.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Tn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||g).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Tn(this)),this.g&&(this.readyState=3,Tn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?wn(this):Tn(this),this.readyState==3&&Pl(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,wn(this))},i.Qa=function(l){this.g&&(this.response=l,wn(this))},i.ga=function(){this.g&&wn(this)};function wn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Tn(l)}i.setRequestHeader=function(l,f){this.u.append(l,f)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=f.next();return l.join(`\r
`)};function Tn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ir(l){let f="";return Ie(l,function(m,E){f+=E,f+=":",f+=m,f+=`\r
`}),f}function xr(l,f,m){e:{for(E in m){var E=!1;break e}E=!0}E||(m=ir(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):Fe(l,f,m))}function He(l){lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(He,lt);var Su=/^https?$/i,co=["POST","PUT"];i=He.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,f,m,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yn.g(),this.v=this.o?$i(this.o):$i(yn),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(U){fi(this,U);return}if(l=m||"",m=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)m.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const U of E.keys())m.set(U,E.get(U));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(m.keys()).find(U=>U.toLowerCase()=="content-type"),L=g.FormData&&l instanceof g.FormData,!(0<=Array.prototype.indexOf.call(co,f,void 0))||E||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,ee]of m)this.g.setRequestHeader(U,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ts(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){fi(this,U)}};function fi(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,es(l),Zt(l)}function es(l){l.A||(l.A=!0,at(l,"complete"),at(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,at(this,"complete"),at(this,"abort"),Zt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),He.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ho(this):this.bb())},i.bb=function(){ho(this)};function ho(l){if(l.h&&typeof p<"u"&&(!l.v[1]||bt(l)!=4||l.Z()!=2)){if(l.u&&bt(l)==4)Gs(l.Ea,0,l);else if(at(l,"readystatechange"),bt(l)==4){l.h=!1;try{const ee=l.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var E;if(E=ee===0){var L=String(l.D).match(ui)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),E=!Su.test(L?L.toLowerCase():"")}m=E}if(m)at(l,"complete"),at(l,"success");else{l.m=6;try{var U=2<bt(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",es(l)}}finally{Zt(l)}}}}function Zt(l,f){if(l.g){ts(l);const m=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||at(l,"ready");try{m.onreadystatechange=E}catch{}}}function ts(l){l.I&&(g.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function bt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<bt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Zs(f)}};function fo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ns(l){const f={};l=(l.g&&2<=bt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(oe(l[E]))continue;var m=D(l[E]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const U=f[L]||[];f[L]=U,U.push(m)}N(f,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jn(l,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||f}function po(l){this.Aa=0,this.i=[],this.j=new ii,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jn("baseRetryDelayMs",5e3,l),this.cb=jn("retryDelaySeedMs",1e4,l),this.Wa=jn("forwardChannelMaxRetries",2,l),this.wa=jn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new ai(l&&l.concurrentRequestLimit),this.Da=new Tu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=po.prototype,i.la=8,i.G=1,i.connect=function(l,f,m,E){tt(0),this.W=l,this.H=f||{},m&&E!==void 0&&(this.H.OSID=m,this.H.OAID=E),this.F=this.X,this.I=Dl(this,null,this.W),Un(this)};function Et(l){if(rs(l),l.G==3){var f=l.U++,m=Jt(l.I);if(Fe(m,"SID",l.K),Fe(m,"RID",f),Fe(m,"TYPE","terminate"),sr(l,m),f=new vn(l,l.j,f),f.L=2,f.v=Rr(Jt(m)),m=!1,g.navigator&&g.navigator.sendBeacon)try{m=g.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&g.Image&&(new Image().src=f.v,m=!0),m||(f.g=Vl(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Ue(f)}Nl(l)}function Sn(l){l.g&&(mo(l),l.g.cancel(),l.g=null)}function rs(l){Sn(l),l.u&&(g.clearTimeout(l.u),l.u=null),os(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&g.clearTimeout(l.s),l.s=null)}function Un(l){if(!Yt(l.h)&&!l.s){l.s=!0;var f=l.Ga;Me||re(),te||(Me(),te=!0),de.add(f,l),l.B=0}}function Iu(l,f){return _l(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=mn(k(l.Ga,l,f),xl(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new vn(this,this.j,l);let U=this.o;if(this.S&&(U?(U=T(U),P(U,this.S)):U=this.S),this.m!==null||this.O||(L.H=U,U=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var E=this.i[m];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Nr(this,L,f),m=Jt(this.I),Fe(m,"RID",l),Fe(m,"CVER",22),this.D&&Fe(m,"X-HTTP-Session-Id",this.D),sr(this,m),U&&(this.O?f="headers="+encodeURIComponent(String(ir(U)))+"&"+f:this.m&&xr(m,this.m,U)),ao(this.h,L),this.Ua&&Fe(m,"TYPE","init"),this.P?(Fe(m,"$req",f),Fe(m,"SID","null"),L.T=!0,Xi(L,m,null)):Xi(L,m,f),this.G=2}}else this.G==3&&(l?is(this,l):this.i.length==0||Yt(this.h)||is(this))};function is(l,f){var m;f?m=f.l:m=l.U++;const E=Jt(l.I);Fe(E,"SID",l.K),Fe(E,"RID",m),Fe(E,"AID",l.T),sr(l,E),l.m&&l.o&&xr(E,l.m,l.o),m=new vn(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Nr(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ao(l.h,m),Xi(m,E,f)}function sr(l,f){l.H&&Ie(l.H,function(m,E){Fe(f,E,m)}),l.l&&Ir({},function(m,E){Fe(f,E,m)})}function Nr(l,f,m){m=Math.min(l.i.length,m);var E=l.l?k(l.l.Na,l.l,l):null;e:{var L=l.i;let U=-1;for(;;){const ee=["count="+m];U==-1?0<m?(U=L[0].g,ee.push("ofs="+U)):U=0:ee.push("ofs="+U);let Le=!0;for(let ut=0;ut<m;ut++){let Ae=L[ut].g;const dt=L[ut].map;if(Ae-=U,0>Ae)U=Math.max(0,L[ut].g-100),Le=!1;else try{Rl(dt,ee,"req"+Ae+"_")}catch{E&&E(dt)}}if(Le){E=ee.join("&");break e}}}return l=l.i.splice(0,m),f.D=l,E}function di(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Me||re(),te||(Me(),te=!0),de.add(f,l),l.v=0}}function ss(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=mn(k(l.Fa,l),xl(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,kl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=mn(k(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),Sn(this),kl(this))};function mo(l){l.A!=null&&(g.clearTimeout(l.A),l.A=null)}function kl(l){l.g=new vn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Jt(l.qa);Fe(f,"RID","rpc"),Fe(f,"SID",l.K),Fe(f,"AID",l.T),Fe(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Fe(f,"TO",l.ja),Fe(f,"TYPE","xmlhttp"),sr(l,f),l.m&&l.o&&xr(f,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Rr(Jt(f)),m.m=null,m.P=!0,oo(m,l)}i.Za=function(){this.C!=null&&(this.C=null,Sn(this),ss(this),tt(19))};function os(l){l.C!=null&&(g.clearTimeout(l.C),l.C=null)}function ls(l,f){var m=null;if(l.g==f){os(l),mo(l),l.g=null;var E=2}else if(Ft(l.h,f))m=f.D,El(l.h,f),E=1;else return;if(l.G!=0){if(f.o)if(E==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var L=l.B;E=ri(),at(E,new Qi(E,m)),Un(l)}else di(l);else if(L=f.s,L==3||L==0&&0<f.X||!(E==1&&Iu(l,f)||E==2&&ss(l)))switch(m&&0<m.length&&(f=l.h,f.i=f.i.concat(m)),L){case 1:or(l,5);break;case 4:or(l,10);break;case 3:or(l,6);break;default:or(l,2)}}}function xl(l,f){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*f}function or(l,f){if(l.j.info("Error code "+f),f==2){var m=k(l.fb,l),E=l.Xa;const L=!E;E=new nr(E||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ci(E,"https"),Rr(E),L?wu(E.toString(),m):Al(E.toString(),m)}else tt(2);l.G=0,l.l&&l.l.sa(f),Nl(l),rs(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Nl(l){if(l.G=0,l.ka=[],l.l){const f=wl(l.h);(f.length!=0||l.i.length!=0)&&(B(l.ka,f),B(l.ka,l.i),l.h.i.length=0,Q(l.i),l.i.length=0),l.l.ra()}}function Dl(l,f,m){var E=m instanceof nr?Jt(m):new nr(m);if(E.g!="")f&&(E.g=f+"."+E.g),Cr(E,E.s);else{var L=g.location;E=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;var U=new nr(null);E&&ci(U,E),f&&(U.g=f),L&&Cr(U,L),m&&(U.l=m),E=U}return m=l.D,f=l.ya,m&&f&&Fe(E,m,f),Fe(E,"VER",l.la),sr(l,E),E}function Vl(l,f,m){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new He(new rr({eb:m})):new He(l.pa),f.Ha(l.J),f}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function go(){}i=go.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function as(){}as.prototype.g=function(l,f){return new jt(l,f)};function jt(l,f){lt.call(this),this.g=new po(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!oe(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!oe(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Bn(this)}b(jt,lt),jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){Et(this.g)},jt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=Js(l),l=m);f.i.push(new vl(f.Ya++,l)),f.G==3&&Un(f)},jt.prototype.N=function(){this.g.l=null,delete this.j,Et(this.g),delete this.g,jt.aa.N.call(this)};function Ol(l){On.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const m in f){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}b(Ol,On);function Ll(){Wi.call(this),this.status=1}b(Ll,Wi);function Bn(l){this.g=l}b(Bn,go),Bn.prototype.ua=function(){at(this.g,"a")},Bn.prototype.ta=function(l){at(this.g,new Ol(l))},Bn.prototype.sa=function(l){at(this.g,new Ll)},Bn.prototype.ra=function(){at(this.g,"b")},as.prototype.createWebChannel=as.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,ig=function(){return new as},rg=function(){return ri()},ng=Ln,dh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ki.NO_ERROR=0,Ki.TIMEOUT=8,Ki.HTTP_ERROR=6,ja=Ki,pl.COMPLETE="complete",tg=pl,Hi.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,$o=Hi,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,eg=He}).apply(typeof xa<"u"?xa:typeof self<"u"?self:typeof window<"u"?window:{});const jp="@firebase/firestore",Up="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $s="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new Km("@firebase/firestore");function xs(){return Ni.logLevel}function ue(i,...t){if(Ni.logLevel<=Pe.DEBUG){const r=t.map(Mh);Ni.debug(`Firestore (${$s}): ${i}`,...r)}}function Di(i,...t){if(Ni.logLevel<=Pe.ERROR){const r=t.map(Mh);Ni.error(`Firestore (${$s}): ${i}`,...r)}}function uu(i,...t){if(Ni.logLevel<=Pe.WARN){const r=t.map(Mh);Ni.warn(`Firestore (${$s}): ${i}`,...r)}}function Mh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,sg(i,o,r)}function sg(i,t,r){let o=`FIRESTORE (${$s}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(r!==void 0)try{o+=" CONTEXT: "+JSON.stringify(r)}catch{o+=" CONTEXT: "+r}throw Di(o),new Error(o)}function Ze(i,t,r,o){let a="Unexpected state";typeof r=="string"?a=r:o=r,i||sg(t,a,o)}function ze(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends bs{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class L0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Lt.UNAUTHENTICATED))}shutdown(){}}class M0{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class F0{constructor(t){this.t=t,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Ze(this.o===void 0,42304);let o=this.i;const a=y=>this.i!==o?(o=this.i,r(y)):Promise.resolve();let c=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ki,t.enqueueRetryable(()=>a(this.currentUser))};const p=()=>{const y=c;t.enqueueRetryable(async()=>{await y.promise,await a(this.currentUser)})},g=y=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ki)}},0),p()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==t?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ze(typeof o.accessToken=="string",31837,{l:o}),new og(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ze(t===null||typeof t=="string",2055,{h:t}),new Lt(t)}}class j0{constructor(t,r,o){this.P=t,this.T=r,this.I=o,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class U0{constructor(t,r,o){this.P=t,this.T=r,this.I=o}getToken(){return Promise.resolve(new j0(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bp{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B0{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,E0(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Ze(this.o===void 0,3512);const o=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>o(c))};const a=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Bp(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Ze(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Bp(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let o=0;o<i;o++)r[o]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const a=z0(40);for(let c=0;c<a.length;++c)o.length<20&&a[c]<r&&(o+=t.charAt(a[c]%62))}return o}}function Oe(i,t){return i<t?-1:i>t?1:0}function ph(i,t){const r=Math.min(i.length,t.length);for(let o=0;o<r;o++){const a=i.charAt(o),c=t.charAt(o);if(a!==c)return th(a)===th(c)?Oe(a,c):th(a)?1:-1}return Oe(i.length,t.length)}const b0=55296,$0=57343;function th(i){const t=i.charCodeAt(0);return t>=b0&&t<=$0}function Ls(i,t,r){return i.length===t.length&&i.every((o,a)=>r(o,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="__name__";class Wn{constructor(t,r,o){r===void 0?r=0:r>t.length&&Ee(637,{offset:r,range:t.length}),o===void 0?o=t.length-r:o>t.length-r&&Ee(1746,{length:o,range:t.length-r}),this.segments=t,this.offset=r,this.len=o}get length(){return this.len}isEqual(t){return Wn.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Wn?t.forEach(o=>{r.push(o)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,o=this.limit();r<o;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const o=Math.min(t.length,r.length);for(let a=0;a<o;a++){const c=Wn.compareSegments(t.get(a),r.get(a));if(c!==0)return c}return Oe(t.length,r.length)}static compareSegments(t,r){const o=Wn.isNumericId(t),a=Wn.isNumericId(r);return o&&!a?-1:!o&&a?1:o&&a?Wn.extractNumericId(t).compare(Wn.extractNumericId(r)):ph(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Lh.fromString(t.substring(4,t.length-2))}}class Xe extends Wn{construct(t,r,o){return new Xe(t,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const o of t){if(o.indexOf("//")>=0)throw new fe(Y.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(a=>a.length>0))}return new Xe(r)}static emptyPath(){return new Xe([])}}const H0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Wn{construct(t,r,o){return new Ct(t,r,o)}static isValidIdentifier(t){return H0.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zp}static keyField(){return new Ct([zp])}static fromServerFormat(t){const r=[];let o="",a=0;const c=()=>{if(o.length===0)throw new fe(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let p=!1;for(;a<t.length;){const g=t[a];if(g==="\\"){if(a+1===t.length)throw new fe(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new fe(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);o+=y,a+=2}else g==="`"?(p=!p,a++):g!=="."||p?(o+=g,a++):(c(),a++)}if(c(),p)throw new fe(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ct(r)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t){this.path=t}static fromPath(t){return new ve(Xe.fromString(t))}static fromName(t){return new ve(Xe.fromString(t).popFirst(5))}static empty(){return new ve(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Xe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Xe.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ve(new Xe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(i,t,r){if(!r)throw new fe(Y.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function W0(i,t,r,o){if(t===!0&&o===!0)throw new fe(Y.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function bp(i){if(!ve.isDocumentKey(i))throw new fe(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function $p(i){if(ve.isDocumentKey(i))throw new fe(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ag(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function jh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(o){return o.constructor?o.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function Ka(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new fe(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=jh(i);throw new fe(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(i,t){const r={typeString:i};return t&&(r.value=t),r}function ll(i,t){if(!ag(i))throw new fe(Y.INVALID_ARGUMENT,"JSON must be an object");let r;for(const o in t)if(t[o]){const a=t[o].typeString,c="value"in t[o]?{value:t[o].value}:void 0;if(!(o in i)){r=`JSON missing required field: '${o}'`;break}const p=i[o];if(a&&typeof p!==a){r=`JSON field '${o}' must be a ${a}.`;break}if(c!==void 0&&p!==c.value){r=`Expected '${o}' field to equal '${c.value}'`;break}}if(r)throw new fe(Y.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=-62135596800,Wp=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(t){return qe.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),o=Math.floor((t-1e3*r)*Wp);return new qe(r,o)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new fe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new fe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<Hp)throw new fe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new fe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wp}_compareTo(t){return this.seconds===t.seconds?Oe(this.nanoseconds,t.nanoseconds):Oe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ll(t,qe._jsonSchema))return new qe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Hp;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qe._jsonSchemaVersion="firestore/timestamp/1.0",qe._jsonSchema={type:ot("string",qe._jsonSchemaVersion),seconds:ot("number"),nanoseconds:ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{static fromTimestamp(t){return new Qe(t)}static min(){return new Qe(new qe(0,0))}static max(){return new Qe(new qe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=-1;function Q0(i,t){const r=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,a=Qe.fromTimestamp(o===1e9?new qe(r+1,0):new qe(r,o));return new Gr(a,ve.empty(),t)}function q0(i){return new Gr(i.readTime,i.key,el)}class Gr{constructor(t,r,o){this.readTime=t,this.documentKey=r,this.largestBatchId=o}static min(){return new Gr(Qe.min(),ve.empty(),el)}static max(){return new Gr(Qe.max(),ve.empty(),el)}}function K0(i,t){let r=i.readTime.compareTo(t.readTime);return r!==0?r:(r=ve.comparator(i.documentKey,t.documentKey),r!==0?r:Oe(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uh(i){if(i.code!==Y.FAILED_PRECONDITION||i.message!==G0)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new H((o,a)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(o,a)},this.catchCallback=c=>{this.wrapFailure(r,c).next(o,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof H?r:H.resolve(r)}catch(r){return H.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):H.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):H.reject(r)}static resolve(t){return new H((r,o)=>{r(t)})}static reject(t){return new H((r,o)=>{o(t)})}static waitFor(t){return new H((r,o)=>{let a=0,c=0,p=!1;t.forEach(g=>{++a,g.next(()=>{++c,p&&c===a&&r()},y=>o(y))}),p=!0,c===a&&r()})}static or(t){let r=H.resolve(!1);for(const o of t)r=r.next(a=>a?H.resolve(a):o());return r}static forEach(t,r){const o=[];return t.forEach((a,c)=>{o.push(r.call(this,a,c))}),this.waitFor(o)}static mapArray(t,r){return new H((o,a)=>{const c=t.length,p=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;r(t[_]).next(S=>{p[_]=S,++g,g===c&&o(p)},S=>a(S))}})}static doWhile(t,r){return new H((o,a)=>{const c=()=>{t()===!0?r().next(()=>{c()},a):o()};c()})}}function Y0(i){const t=i.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function al(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ae(o),this.ue=o=>r.writeSequenceNumber(o))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Bh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=-1;function bh(i){return i==null}function Ga(i){return i===0&&1/i==-1/0}function J0(i){return typeof i=="number"&&Number.isInteger(i)&&!Ga(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="";function Z0(i){let t="";for(let r=0;r<i.length;r++)t.length>0&&(t=Qp(t)),t=ew(i.get(r),t);return Qp(t)}function ew(i,t){let r=t;const o=i.length;for(let a=0;a<o;a++){const c=i.charAt(a);switch(c){case"\0":r+="";break;case ug:r+="";break;default:r+=c}}return r}function Qp(i){return i+ug+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(i){let t=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t++;return t}function Hs(i,t){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t(r,i[r])}function cg(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t,r){this.comparator=t,this.root=r||St.EMPTY}insert(t,r){return new Xt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,St.BLACK,null,null))}remove(t){return new Xt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,St.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(t){let r=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(t,o.key);if(a===0)return r+o.left.size;a<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,o)=>(t(r,o),!1))}toString(){const t=[];return this.inorderTraversal((r,o)=>(t.push(`${r}:${o}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Na(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Na(this.root,t,this.comparator,!1)}getReverseIterator(){return new Na(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Na(this.root,t,this.comparator,!0)}}class Na{constructor(t,r,o,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=r?o(t.key,r):1,r&&a&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class St{constructor(t,r,o,a,c){this.key=t,this.value=r,this.color=o??St.RED,this.left=a??St.EMPTY,this.right=c??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,o,a,c){return new St(t??this.key,r??this.value,o??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let a=this;const c=o(t,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(t,r,o),null):c===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let o,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return St.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ee(27949);return t+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(t,r,o,a,c){return this}insert(t,r,o){return new St(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t){this.comparator=t,this.data=new Xt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,o)=>(t(r),!1))}forEachInRange(t,r){const o=this.data.getIteratorFrom(t[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let o;for(o=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new Kp(this.data.getIterator())}getIteratorFrom(t){return new Kp(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(o=>{r=r.add(o)}),r}isEqual(t){if(!(t instanceof Rt)||this.size!==t.size)return!1;const r=this.data.getIterator(),o=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,c=o.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Rt(this.comparator);return r.data=t,r}}class Kp{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this.fields=t,t.sort(Ct.comparator)}static empty(){return new Vn([])}unionWith(t){let r=new Rt(Ct.comparator);for(const o of this.fields)r=r.add(o);for(const o of t)r=r.add(o);return new Vn(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Ls(this.fields,t.fields,(r,o)=>r.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new tw("Invalid base64 string: "+c):c}}(t);return new Kn(r)}static fromUint8Array(t){const r=function(a){let c="";for(let p=0;p<a.length;++p)c+=String.fromCharCode(a[p]);return c}(t);return new Kn(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let a=0;a<r.length;a++)o[a]=r.charCodeAt(a);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Oe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Kn.EMPTY_BYTE_STRING=new Kn("");const nw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vi(i){if(Ze(!!i,39018),typeof i=="string"){let t=0;const r=nw.exec(i);if(Ze(!!r,46558,{timestamp:i}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:It(i.seconds),nanos:It(i.nanos)}}function It(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ms(i){return typeof i=="string"?Kn.fromBase64String(i):Kn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="server_timestamp",fg="__type__",dg="__previous_value__",pg="__local_write_time__";function $h(i){return(i?.mapValue?.fields||{})[fg]?.stringValue===hg}function Hh(i){const t=i.mapValue.fields[dg];return $h(t)?Hh(t):t}function Xa(i){const t=Vi(i.mapValue.fields[pg].timestampValue);return new qe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,r,o,a,c,p,g,y,_,S){this.databaseId=t,this.appId=r,this.persistenceKey=o,this.host=a,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=S}}const Ya="(default)";class Ja{constructor(t,r){this.projectId=t,this.database=r||Ya}static empty(){return new Ja("","")}get isDefaultDatabase(){return this.database===Ya}isEqual(t){return t instanceof Ja&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="__type__",iw="__max__",Da={mapValue:{}},gg="__vector__",mh="value";function Oi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?$h(i)?4:ow(i)?9007199254740991:sw(i)?10:11:Ee(28295,{value:i})}function Gn(i,t){if(i===t)return!0;const r=Oi(i);if(r!==Oi(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Xa(i).isEqual(Xa(t));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const p=Vi(a.timestampValue),g=Vi(c.timestampValue);return p.seconds===g.seconds&&p.nanos===g.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(a,c){return Ms(a.bytesValue).isEqual(Ms(c.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(a,c){return It(a.geoPointValue.latitude)===It(c.geoPointValue.latitude)&&It(a.geoPointValue.longitude)===It(c.geoPointValue.longitude)}(i,t);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return It(a.integerValue)===It(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const p=It(a.doubleValue),g=It(c.doubleValue);return p===g?Ga(p)===Ga(g):isNaN(p)&&isNaN(g)}return!1}(i,t);case 9:return Ls(i.arrayValue.values||[],t.arrayValue.values||[],Gn);case 10:case 11:return function(a,c){const p=a.mapValue.fields||{},g=c.mapValue.fields||{};if(qp(p)!==qp(g))return!1;for(const y in p)if(p.hasOwnProperty(y)&&(g[y]===void 0||!Gn(p[y],g[y])))return!1;return!0}(i,t);default:return Ee(52216,{left:i})}}function tl(i,t){return(i.values||[]).find(r=>Gn(r,t))!==void 0}function Fs(i,t){if(i===t)return 0;const r=Oi(i),o=Oi(t);if(r!==o)return Oe(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Oe(i.booleanValue,t.booleanValue);case 2:return function(c,p){const g=It(c.integerValue||c.doubleValue),y=It(p.integerValue||p.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(i,t);case 3:return Gp(i.timestampValue,t.timestampValue);case 4:return Gp(Xa(i),Xa(t));case 5:return ph(i.stringValue,t.stringValue);case 6:return function(c,p){const g=Ms(c),y=Ms(p);return g.compareTo(y)}(i.bytesValue,t.bytesValue);case 7:return function(c,p){const g=c.split("/"),y=p.split("/");for(let _=0;_<g.length&&_<y.length;_++){const S=Oe(g[_],y[_]);if(S!==0)return S}return Oe(g.length,y.length)}(i.referenceValue,t.referenceValue);case 8:return function(c,p){const g=Oe(It(c.latitude),It(p.latitude));return g!==0?g:Oe(It(c.longitude),It(p.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return Xp(i.arrayValue,t.arrayValue);case 10:return function(c,p){const g=c.fields||{},y=p.fields||{},_=g[mh]?.arrayValue,S=y[mh]?.arrayValue,A=Oe(_?.values?.length||0,S?.values?.length||0);return A!==0?A:Xp(_,S)}(i.mapValue,t.mapValue);case 11:return function(c,p){if(c===Da.mapValue&&p===Da.mapValue)return 0;if(c===Da.mapValue)return 1;if(p===Da.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=p.fields||{},S=Object.keys(_);y.sort(),S.sort();for(let A=0;A<y.length&&A<S.length;++A){const k=ph(y[A],S[A]);if(k!==0)return k;const W=Fs(g[y[A]],_[S[A]]);if(W!==0)return W}return Oe(y.length,S.length)}(i.mapValue,t.mapValue);default:throw Ee(23264,{he:r})}}function Gp(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Oe(i,t);const r=Vi(i),o=Vi(t),a=Oe(r.seconds,o.seconds);return a!==0?a:Oe(r.nanos,o.nanos)}function Xp(i,t){const r=i.values||[],o=t.values||[];for(let a=0;a<r.length&&a<o.length;++a){const c=Fs(r[a],o[a]);if(c)return c}return Oe(r.length,o.length)}function js(i){return gh(i)}function gh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const o=Vi(r);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(r){return Ms(r).toBase64()}(i.bytesValue):"referenceValue"in i?function(r){return ve.fromName(r).toString()}(i.referenceValue):"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let o="[",a=!0;for(const c of r.values||[])a?a=!1:o+=",",o+=gh(c);return o+"]"}(i.arrayValue):"mapValue"in i?function(r){const o=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const p of o)c?c=!1:a+=",",a+=`${p}:${gh(r.fields[p])}`;return a+"}"}(i.mapValue):Ee(61005,{value:i})}function Ua(i){switch(Oi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Hh(i);return t?16+Ua(t):16;case 5:return 2*i.stringValue.length;case 6:return Ms(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((a,c)=>a+Ua(c),0)}(i.arrayValue);case 10:case 11:return function(o){let a=0;return Hs(o.fields,(c,p)=>{a+=c.length+Ua(p)}),a}(i.mapValue);default:throw Ee(13486,{value:i})}}function yh(i){return!!i&&"integerValue"in i}function Wh(i){return!!i&&"arrayValue"in i}function Ba(i){return!!i&&"mapValue"in i}function sw(i){return(i?.mapValue?.fields||{})[mg]?.stringValue===gg}function Wo(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return Hs(i.mapValue.fields,(r,o)=>t.mapValue.fields[r]=Wo(o)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Wo(i.arrayValue.values[r]);return t}return{...i}}function ow(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===iw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.value=t}static empty(){return new Nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let o=0;o<t.length-1;++o)if(r=(r.mapValue.fields||{})[t.get(o)],!Ba(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Wo(r)}setAll(t){let r=Ct.emptyPath(),o={},a=[];t.forEach((p,g)=>{if(!r.isImmediateParentOf(g)){const y=this.getFieldsMap(r);this.applyChanges(y,o,a),o={},a=[],r=g.popLast()}p?o[g.lastSegment()]=Wo(p):a.push(g.lastSegment())});const c=this.getFieldsMap(r);this.applyChanges(c,o,a)}delete(t){const r=this.field(t.popLast());Ba(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Gn(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<t.length;++o){let a=r.mapValue.fields[t.get(o)];Ba(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(o)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,o){Hs(r,(a,c)=>t[a]=c);for(const a of o)delete t[a]}clone(){return new Nn(Wo(this.value))}}function yg(i){const t=[];return Hs(i.fields,(r,o)=>{const a=new Ct([r]);if(Ba(o)){const c=yg(o.mapValue).fields;if(c.length===0)t.push(a);else for(const p of c)t.push(a.child(p))}else t.push(a)}),new Vn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t,r,o,a,c,p,g){this.key=t,this.documentType=r,this.version=o,this.readTime=a,this.createTime=c,this.data=p,this.documentState=g}static newInvalidDocument(t){return new xn(t,0,Qe.min(),Qe.min(),Qe.min(),Nn.empty(),0)}static newFoundDocument(t,r,o,a){return new xn(t,1,r,Qe.min(),o,a,0)}static newNoDocument(t,r){return new xn(t,2,r,Qe.min(),Qe.min(),Nn.empty(),0)}static newUnknownDocument(t,r){return new xn(t,3,r,Qe.min(),Qe.min(),Nn.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof xn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t,r){this.position=t,this.inclusive=r}}function Yp(i,t,r){let o=0;for(let a=0;a<i.position.length;a++){const c=t[a],p=i.position[a];if(c.field.isKeyField()?o=ve.comparator(ve.fromName(p.referenceValue),r.key):o=Fs(p,r.data.field(c.field)),c.dir==="desc"&&(o*=-1),o!==0)break}return o}function Jp(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Gn(i.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(t,r="asc"){this.field=t,this.dir=r}}function lw(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{}class vt extends vg{constructor(t,r,o){super(),this.field=t,this.op=r,this.value=o}static create(t,r,o){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,o):new uw(t,r,o):r==="array-contains"?new fw(t,o):r==="in"?new dw(t,o):r==="not-in"?new pw(t,o):r==="array-contains-any"?new mw(t,o):new vt(t,r,o)}static createKeyFieldInFilter(t,r,o){return r==="in"?new cw(t,o):new hw(t,o)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Fs(r,this.value)):r!==null&&Oi(this.value)===Oi(r)&&this.matchesComparison(Fs(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xr extends vg{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new Xr(t,r)}matches(t){return _g(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _g(i){return i.op==="and"}function Eg(i){return aw(i)&&_g(i)}function aw(i){for(const t of i.filters)if(t instanceof Xr)return!1;return!0}function vh(i){if(i instanceof vt)return i.field.canonicalString()+i.op.toString()+js(i.value);if(Eg(i))return i.filters.map(t=>vh(t)).join(",");{const t=i.filters.map(r=>vh(r)).join(",");return`${i.op}(${t})`}}function wg(i,t){return i instanceof vt?function(o,a){return a instanceof vt&&o.op===a.op&&o.field.isEqual(a.field)&&Gn(o.value,a.value)}(i,t):i instanceof Xr?function(o,a){return a instanceof Xr&&o.op===a.op&&o.filters.length===a.filters.length?o.filters.reduce((c,p,g)=>c&&wg(p,a.filters[g]),!0):!1}(i,t):void Ee(19439)}function Tg(i){return i instanceof vt?function(r){return`${r.field.canonicalString()} ${r.op} ${js(r.value)}`}(i):i instanceof Xr?function(r){return r.op.toString()+" {"+r.getFilters().map(Tg).join(" ,")+"}"}(i):"Filter"}class uw extends vt{constructor(t,r,o){super(t,r,o),this.key=ve.fromName(o.referenceValue)}matches(t){const r=ve.comparator(t.key,this.key);return this.matchesComparison(r)}}class cw extends vt{constructor(t,r){super(t,"in",r),this.keys=Sg("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class hw extends vt{constructor(t,r){super(t,"not-in",r),this.keys=Sg("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function Sg(i,t){return(t.arrayValue?.values||[]).map(r=>ve.fromName(r.referenceValue))}class fw extends vt{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return Wh(r)&&tl(r.arrayValue,this.value)}}class dw extends vt{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&tl(this.value.arrayValue,r)}}class pw extends vt{constructor(t,r){super(t,"not-in",r)}matches(t){if(tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!tl(this.value.arrayValue,r)}}class mw extends vt{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!Wh(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>tl(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t,r=null,o=[],a=[],c=null,p=null,g=null){this.path=t,this.collectionGroup=r,this.orderBy=o,this.filters=a,this.limit=c,this.startAt=p,this.endAt=g,this.Te=null}}function Zp(i,t=null,r=[],o=[],a=null,c=null,p=null){return new gw(i,t,r,o,a,c,p)}function Qh(i){const t=ze(i);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(o=>vh(o)).join(","),r+="|ob:",r+=t.orderBy.map(o=>function(c){return c.field.canonicalString()+c.dir}(o)).join(","),bh(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>js(o)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>js(o)).join(",")),t.Te=r}return t.Te}function qh(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!lw(i.orderBy[r],t.orderBy[r]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!wg(i.filters[r],t.filters[r]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!Jp(i.startAt,t.startAt)&&Jp(i.endAt,t.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(t,r=null,o=[],a=[],c=null,p="F",g=null,y=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=a,this.limit=c,this.limitType=p,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yw(i,t,r,o,a,c,p,g){return new cu(i,t,r,o,a,c,p,g)}function vw(i){return new cu(i)}function em(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function _w(i){return i.collectionGroup!==null}function Qo(i){const t=ze(i);if(t.Ie===null){t.Ie=[];const r=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),r.add(c.field.canonicalString());const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(p){let g=new Rt(Ct.comparator);return p.filters.forEach(y=>{y.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(t).forEach(c=>{r.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new eu(c,o))}),r.has(Ct.keyField().canonicalString())||t.Ie.push(new eu(Ct.keyField(),o))}return t.Ie}function xi(i){const t=ze(i);return t.Ee||(t.Ee=Ew(t,Qo(i))),t.Ee}function Ew(i,t){if(i.limitType==="F")return Zp(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new eu(a.field,c)});const r=i.endAt?new Za(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new Za(i.startAt.position,i.startAt.inclusive):null;return Zp(i.path,i.collectionGroup,t,i.filters,i.limit,r,o)}}function _h(i,t,r){return new cu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,r,i.startAt,i.endAt)}function Ig(i,t){return qh(xi(i),xi(t))&&i.limitType===t.limitType}function Cg(i){return`${Qh(xi(i))}|lt:${i.limitType}`}function bo(i){return`Query(target=${function(r){let o=r.path.canonicalString();return r.collectionGroup!==null&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(a=>Tg(a)).join(", ")}]`),bh(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(a=>function(p){return`${p.field.canonicalString()} (${p.dir})`}(a)).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(a=>js(a)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(a=>js(a)).join(",")),`Target(${o})`}(xi(i))}; limitType=${i.limitType})`}function Kh(i,t){return t.isFoundDocument()&&function(o,a){const c=a.key.path;return o.collectionGroup!==null?a.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(c):ve.isDocumentKey(o.path)?o.path.isEqual(c):o.path.isImmediateParentOf(c)}(i,t)&&function(o,a){for(const c of Qo(o))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,t)&&function(o,a){for(const c of o.filters)if(!c.matches(a))return!1;return!0}(i,t)&&function(o,a){return!(o.startAt&&!function(p,g,y){const _=Yp(p,g,y);return p.inclusive?_<=0:_<0}(o.startAt,Qo(o),a)||o.endAt&&!function(p,g,y){const _=Yp(p,g,y);return p.inclusive?_>=0:_>0}(o.endAt,Qo(o),a))}(i,t)}function ww(i){return(t,r)=>{let o=!1;for(const a of Qo(i)){const c=Tw(a,t,r);if(c!==0)return c;o=o||a.field.isKeyField()}return 0}}function Tw(i,t,r){const o=i.field.isKeyField()?ve.comparator(t.key,r.key):function(c,p,g){const y=p.data.field(c),_=g.data.field(c);return y!==null&&_!==null?Fs(y,_):Ee(42886)}(i.field,t,r);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Ee(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(const[a,c]of o)if(this.equalsFn(a,t))return c}}has(t){return this.get(t)!==void 0}set(t,r){const o=this.mapKeyFn(t),a=this.inner[o];if(a===void 0)return this.inner[o]=[[t,r]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],t))return void(a[c]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],t))return o.length===1?delete this.inner[r]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Hs(this.inner,(r,o)=>{for(const[a,c]of o)t(a,c)})}isEmpty(){return cg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=new Xt(ve.comparator);function tu(){return Sw}const Ag=new Xt(ve.comparator);function Va(...i){let t=Ag;for(const r of i)t=t.insert(r.key,r);return t}function Rg(i){let t=Ag;return i.forEach((r,o)=>t=t.insert(r,o.overlayedDocument)),t}function Pi(){return qo()}function Pg(){return qo()}function qo(){return new Mi(i=>i.toString(),(i,t)=>i.isEqual(t))}const Iw=new Xt(ve.comparator),Cw=new Rt(ve.comparator);function Mt(...i){let t=Cw;for(const r of i)t=t.add(r);return t}const Aw=new Rt(Oe);function Rw(){return Aw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ga(t)?"-0":t}}function kg(i){return{integerValue:""+i}}function Pw(i,t){return J0(t)?kg(t):Gh(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this._=void 0}}function kw(i,t,r){return i instanceof nu?function(a,c){const p={fields:{[fg]:{stringValue:hg},[pg]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&$h(c)&&(c=Hh(c)),c&&(p.fields[dg]=c),{mapValue:p}}(r,t):i instanceof nl?Ng(i,t):i instanceof rl?Dg(i,t):function(a,c){const p=xg(a,c),g=tm(p)+tm(a.Ae);return yh(p)&&yh(a.Ae)?kg(g):Gh(a.serializer,g)}(i,t)}function xw(i,t,r){return i instanceof nl?Ng(i,t):i instanceof rl?Dg(i,t):r}function xg(i,t){return i instanceof ru?function(o){return yh(o)||function(c){return!!c&&"doubleValue"in c}(o)}(t)?t:{integerValue:0}:null}class nu extends hu{}class nl extends hu{constructor(t){super(),this.elements=t}}function Ng(i,t){const r=Vg(t);for(const o of i.elements)r.some(a=>Gn(a,o))||r.push(o);return{arrayValue:{values:r}}}class rl extends hu{constructor(t){super(),this.elements=t}}function Dg(i,t){let r=Vg(t);for(const o of i.elements)r=r.filter(a=>!Gn(a,o));return{arrayValue:{values:r}}}class ru extends hu{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function tm(i){return It(i.integerValue||i.doubleValue)}function Vg(i){return Wh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function Nw(i,t){return i.field.isEqual(t.field)&&function(o,a){return o instanceof nl&&a instanceof nl||o instanceof rl&&a instanceof rl?Ls(o.elements,a.elements,Gn):o instanceof ru&&a instanceof ru?Gn(o.Ae,a.Ae):o instanceof nu&&a instanceof nu}(i.transform,t.transform)}class Dw{constructor(t,r){this.version=t,this.transformResults=r}}class Qn{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Qn}static exists(t){return new Qn(void 0,t)}static updateTime(t){return new Qn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function za(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class fu{}function Og(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new Mg(i.key,Qn.none()):new ul(i.key,i.data,Qn.none());{const r=i.data,o=Nn.empty();let a=new Rt(Ct.comparator);for(let c of t.fields)if(!a.has(c)){let p=r.field(c);p===null&&c.length>1&&(c=c.popLast(),p=r.field(c)),p===null?o.delete(c):o.set(c,p),a=a.add(c)}return new Fi(i.key,o,new Vn(a.toArray()),Qn.none())}}function Vw(i,t,r){i instanceof ul?function(a,c,p){const g=a.value.clone(),y=rm(a.fieldTransforms,c,p.transformResults);g.setAll(y),c.convertToFoundDocument(p.version,g).setHasCommittedMutations()}(i,t,r):i instanceof Fi?function(a,c,p){if(!za(a.precondition,c))return void c.convertToUnknownDocument(p.version);const g=rm(a.fieldTransforms,c,p.transformResults),y=c.data;y.setAll(Lg(a)),y.setAll(g),c.convertToFoundDocument(p.version,y).setHasCommittedMutations()}(i,t,r):function(a,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()}(0,t,r)}function Ko(i,t,r,o){return i instanceof ul?function(c,p,g,y){if(!za(c.precondition,p))return g;const _=c.value.clone(),S=im(c.fieldTransforms,y,p);return _.setAll(S),p.convertToFoundDocument(p.version,_).setHasLocalMutations(),null}(i,t,r,o):i instanceof Fi?function(c,p,g,y){if(!za(c.precondition,p))return g;const _=im(c.fieldTransforms,y,p),S=p.data;return S.setAll(Lg(c)),S.setAll(_),p.convertToFoundDocument(p.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(A=>A.field))}(i,t,r,o):function(c,p,g){return za(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):g}(i,t,r)}function Ow(i,t){let r=null;for(const o of i.fieldTransforms){const a=t.data.field(o.field),c=xg(o.transform,a||null);c!=null&&(r===null&&(r=Nn.empty()),r.set(o.field,c))}return r||null}function nm(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(o,a){return o===void 0&&a===void 0||!(!o||!a)&&Ls(o,a,(c,p)=>Nw(c,p))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class ul extends fu{constructor(t,r,o,a=[]){super(),this.key=t,this.value=r,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Fi extends fu{constructor(t,r,o,a,c=[]){super(),this.key=t,this.data=r,this.fieldMask=o,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Lg(i){const t=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=i.data.field(r);t.set(r,o)}}),t}function rm(i,t,r){const o=new Map;Ze(i.length===r.length,32656,{Re:r.length,Ve:i.length});for(let a=0;a<r.length;a++){const c=i[a],p=c.transform,g=t.data.field(c.field);o.set(c.field,xw(p,g,r[a]))}return o}function im(i,t,r){const o=new Map;for(const a of i){const c=a.transform,p=r.data.field(a.field);o.set(a.field,kw(c,p,t))}return o}class Mg extends fu{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lw extends fu{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t,r,o,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(t,r){const o=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(t.key)&&Vw(c,t,o[a])}}applyToLocalView(t,r){for(const o of this.baseMutations)o.key.isEqual(t.key)&&(r=Ko(o,t,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(t.key)&&(r=Ko(o,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const o=Pg();return this.mutations.forEach(a=>{const c=t.get(a.key),p=c.overlayedDocument;let g=this.applyToLocalView(p,c.mutatedFields);g=r.has(a.key)?null:g;const y=Og(p,g);y!==null&&o.set(a.key,y),p.isValidDocument()||p.convertToNoDocument(Qe.min())}),o}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Mt())}isEqual(t){return this.batchId===t.batchId&&Ls(this.mutations,t.mutations,(r,o)=>nm(r,o))&&Ls(this.baseMutations,t.baseMutations,(r,o)=>nm(r,o))}}class Xh{constructor(t,r,o,a){this.batch=t,this.commitVersion=r,this.mutationResults=o,this.docVersions=a}static from(t,r,o){Ze(t.mutations.length===o.length,58842,{me:t.mutations.length,fe:o.length});let a=function(){return Iw}();const c=t.mutations;for(let p=0;p<c.length;p++)a=a.insert(c[p].key,o[p].version);return new Xh(t,r,o,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,Re;function jw(i){switch(i){case Y.OK:return Ee(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function Uw(i){if(i===void 0)return Di("GRPC error has no .code"),Y.UNKNOWN;switch(i){case st.OK:return Y.OK;case st.CANCELLED:return Y.CANCELLED;case st.UNKNOWN:return Y.UNKNOWN;case st.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case st.INTERNAL:return Y.INTERNAL;case st.UNAVAILABLE:return Y.UNAVAILABLE;case st.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case st.NOT_FOUND:return Y.NOT_FOUND;case st.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case st.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case st.ABORTED:return Y.ABORTED;case st.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case st.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case st.DATA_LOSS:return Y.DATA_LOSS;default:return Ee(39323,{code:i})}}(Re=st||(st={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Lh([4294967295,4294967295],0);class Bw{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Eh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function zw(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function bw(i,t){return Eh(i,t.toTimestamp())}function Vs(i){return Ze(!!i,49232),Qe.fromTimestamp(function(r){const o=Vi(r);return new qe(o.seconds,o.nanos)}(i))}function Fg(i,t){return wh(i,t).canonicalString()}function wh(i,t){const r=function(a){return new Xe(["projects",a.projectId,"databases",a.database])}(i).child("documents");return t===void 0?r:r.child(t)}function $w(i){const t=Xe.fromString(i);return Ze(Yw(t),10190,{key:t.toString()}),t}function Th(i,t){return Fg(i.databaseId,t.path)}function Hw(i){const t=$w(i);return t.length===4?Xe.emptyPath():Qw(t)}function Ww(i){return new Xe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Qw(i){return Ze(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function sm(i,t,r){return{name:Th(i,t),fields:r.value.mapValue.fields}}function qw(i,t){let r;if(t instanceof ul)r={update:sm(i,t.key,t.value)};else if(t instanceof Mg)r={delete:Th(i,t.key)};else if(t instanceof Fi)r={update:sm(i,t.key,t.data),updateMask:Xw(t.fieldMask)};else{if(!(t instanceof Lw))return Ee(16599,{Vt:t.type});r={verify:Th(i,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(o=>function(c,p){const g=p.transform;if(g instanceof nu)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof nl)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof rl)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ru)return{fieldPath:p.field.canonicalString(),increment:g.Ae};throw Ee(20930,{transform:p.transform})}(0,o))),t.precondition.isNone||(r.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:bw(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)}(i,t.precondition)),r}function Kw(i,t){return i&&i.length>0?(Ze(t!==void 0,14353),i.map(r=>function(a,c){let p=a.updateTime?Vs(a.updateTime):Vs(c);return p.isEqual(Qe.min())&&(p=Vs(c)),new Dw(p,a.transformResults||[])}(r,t))):[]}function Gw(i){let t=Hw(i.parent);const r=i.structuredQuery,o=r.from?r.from.length:0;let a=null;if(o>0){Ze(o===1,65062);const S=r.from[0];S.allDescendants?a=S.collectionId:t=t.child(S.collectionId)}let c=[];r.where&&(c=function(A){const k=jg(A);return k instanceof Xr&&Eg(k)?k.getFilters():[k]}(r.where));let p=[];r.orderBy&&(p=function(A){return A.map(k=>function(b){return new eu(Ns(b.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(k))}(r.orderBy));let g=null;r.limit&&(g=function(A){let k;return k=typeof A=="object"?A.value:A,bh(k)?null:k}(r.limit));let y=null;r.startAt&&(y=function(A){const k=!!A.before,W=A.values||[];return new Za(W,k)}(r.startAt));let _=null;return r.endAt&&(_=function(A){const k=!A.before,W=A.values||[];return new Za(W,k)}(r.endAt)),yw(t,a,p,c,g,"F",y,_)}function jg(i){return i.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=Ns(r.unaryFilter.field);return vt.create(o,"==",{doubleValue:NaN});case"IS_NULL":const a=Ns(r.unaryFilter.field);return vt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ns(r.unaryFilter.field);return vt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Ns(r.unaryFilter.field);return vt.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(i):i.fieldFilter!==void 0?function(r){return vt.create(Ns(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(r){return Xr.create(r.compositeFilter.filters.map(o=>jg(o)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(r.compositeFilter.op))}(i):Ee(30097,{filter:i})}function Ns(i){return Ct.fromServerFormat(i.fieldPath)}function Xw(i){const t=[];return i.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function Yw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t){this.yt=t}}function Zw(i){const t=Gw({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?_h(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.Cn=new t1}addToCollectionParentIndex(t,r){return this.Cn.add(r),H.resolve()}getCollectionParents(t,r){return H.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return H.resolve()}deleteFieldIndex(t,r){return H.resolve()}deleteAllFieldIndexes(t){return H.resolve()}createTargetIndexes(t,r){return H.resolve()}getDocumentsMatchingTarget(t,r){return H.resolve(null)}getIndexType(t,r){return H.resolve(0)}getFieldIndexes(t,r){return H.resolve([])}getNextCollectionGroupToUpdate(t){return H.resolve(null)}getMinOffset(t,r){return H.resolve(Gr.min())}getMinOffsetFromCollectionGroup(t,r){return H.resolve(Gr.min())}updateCollectionGroup(t,r,o){return H.resolve()}updateIndexEntries(t,r){return H.resolve()}}class t1{constructor(){this.index={}}add(t){const r=t.lastSegment(),o=t.popLast(),a=this.index[r]||new Rt(Xe.comparator),c=!a.has(o);return this.index[r]=a.add(o),c}has(t){const r=t.lastSegment(),o=t.popLast(),a=this.index[r];return a&&a.has(o)}getEntries(t){return(this.index[t]||new Rt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ug=41943040;class Gt{static withCacheSize(t){return new Gt(t,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,o){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(Ug,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Us(0)}static cr(){return new Us(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="LruGarbageCollector",n1=1048576;function am([i,t],[r,o]){const a=Oe(i,r);return a===0?Oe(t,o):a}class r1{constructor(t){this.Ir=t,this.buffer=new Rt(am),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();am(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class i1{constructor(t,r,o){this.garbageCollector=t,this.asyncQueue=r,this.localStore=o,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ue(lm,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){al(r)?ue(lm,"Ignoring IndexedDB error during garbage collection: ",r):await Uh(r)}await this.Vr(3e5)})}}class s1{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next(o=>Math.floor(r/100*o))}nthSequenceNumber(t,r){if(r===0)return H.resolve(Bh.ce);const o=new r1(r);return this.mr.forEachTarget(t,a=>o.Ar(a.sequenceNumber)).next(()=>this.mr.pr(t,a=>o.Ar(a))).next(()=>o.maxValue)}removeTargets(t,r,o){return this.mr.removeTargets(t,r,o)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(om)):this.getCacheSize(t).next(o=>o<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),om):this.yr(t,r))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let o,a,c,p,g,y,_;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),a=this.params.maximumSequenceNumbersToCollect):a=A,p=Date.now(),this.nthSequenceNumber(t,a))).next(A=>(o=A,g=Date.now(),this.removeTargets(t,o,r))).next(A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(t,o))).next(A=>(_=Date.now(),xs()<=Pe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-S}ms
	Determined least recently used ${a} in `+(g-p)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-S}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:A})))}}function o1(i,t){return new s1(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.changes=new Mi(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,xn.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const o=this.changes.get(r);return o!==void 0?H.resolve(o):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t,r,o,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=a}getDocument(t,r){let o=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(o=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(o!==null&&Ko(o.mutation,a,Vn.empty(),qe.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.getLocalViewOfDocuments(t,o,Mt()).next(()=>o))}getLocalViewOfDocuments(t,r,o=Mt()){const a=Pi();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,o).next(c=>{let p=Va();return c.forEach((g,y)=>{p=p.insert(g,y.overlayedDocument)}),p}))}getOverlayedDocuments(t,r){const o=Pi();return this.populateOverlays(t,o,r).next(()=>this.computeViews(t,r,o,Mt()))}populateOverlays(t,r,o){const a=[];return o.forEach(c=>{r.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(t,a).next(c=>{c.forEach((p,g)=>{r.set(p,g)})})}computeViews(t,r,o,a){let c=tu();const p=qo(),g=function(){return qo()}();return r.forEach((y,_)=>{const S=o.get(_.key);a.has(_.key)&&(S===void 0||S.mutation instanceof Fi)?c=c.insert(_.key,_):S!==void 0?(p.set(_.key,S.mutation.getFieldMask()),Ko(S.mutation,_,S.mutation.getFieldMask(),qe.now())):p.set(_.key,Vn.empty())}),this.recalculateAndSaveOverlays(t,c).next(y=>(y.forEach((_,S)=>p.set(_,S)),r.forEach((_,S)=>g.set(_,new a1(S,p.get(_)??null))),g))}recalculateAndSaveOverlays(t,r){const o=qo();let a=new Xt((p,g)=>p-g),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(p=>{for(const g of p)g.keys().forEach(y=>{const _=r.get(y);if(_===null)return;let S=o.get(y)||Vn.empty();S=g.applyToLocalView(_,S),o.set(y,S);const A=(a.get(g.batchId)||Mt()).add(y);a=a.insert(g.batchId,A)})}).next(()=>{const p=[],g=a.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,S=y.value,A=Pg();S.forEach(k=>{if(!c.has(k)){const W=Og(r.get(k),o.get(k));W!==null&&A.set(k,W),c=c.add(k)}}),p.push(this.documentOverlayCache.saveOverlays(t,_,A))}return H.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.recalculateAndSaveOverlays(t,o))}getDocumentsMatchingQuery(t,r,o,a){return function(p){return ve.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):_w(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,o,a):this.getDocumentsMatchingCollectionQuery(t,r,o,a)}getNextDocuments(t,r,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,o,a).next(c=>{const p=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,o.largestBatchId,a-c.size):H.resolve(Pi());let g=el,y=c;return p.next(_=>H.forEach(_,(S,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(S)?H.resolve():this.remoteDocumentCache.getEntry(t,S).next(k=>{y=y.insert(S,k)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,y,_,Mt())).next(S=>({batchId:g,changes:Rg(S)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new ve(r)).next(o=>{let a=Va();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,o,a){const c=r.collectionGroup;let p=Va();return this.indexManager.getCollectionParents(t,c).next(g=>H.forEach(g,y=>{const _=function(A,k){return new cu(k,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(r,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,o,a).next(S=>{S.forEach((A,k)=>{p=p.insert(A,k)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(t,r,o,a){let c;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,o.largestBatchId).next(p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,o,c,a))).next(p=>{c.forEach((y,_)=>{const S=_.getKey();p.get(S)===null&&(p=p.insert(S,xn.newInvalidDocument(S)))});let g=Va();return p.forEach((y,_)=>{const S=c.get(y);S!==void 0&&Ko(S.mutation,_,Vn.empty(),qe.now()),Kh(r,_)&&(g=g.insert(y,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return H.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:Vs(a.createTime)}}(r)),H.resolve()}getNamedQuery(t,r){return H.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,function(a){return{name:a.name,query:Zw(a.bundledQuery),readTime:Vs(a.readTime)}}(r)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.overlays=new Xt(ve.comparator),this.qr=new Map}getOverlay(t,r){return H.resolve(this.overlays.get(r))}getOverlays(t,r){const o=Pi();return H.forEach(r,a=>this.getOverlay(t,a).next(c=>{c!==null&&o.set(a,c)})).next(()=>o)}saveOverlays(t,r,o){return o.forEach((a,c)=>{this.St(t,r,c)}),H.resolve()}removeOverlaysForBatchId(t,r,o){const a=this.qr.get(o);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(o)),H.resolve()}getOverlaysForCollection(t,r,o){const a=Pi(),c=r.length+1,p=new ve(r.child("")),g=this.overlays.getIteratorFrom(p);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!r.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>o&&a.set(y.getKey(),y)}return H.resolve(a)}getOverlaysForCollectionGroup(t,r,o,a){let c=new Xt((_,S)=>_-S);const p=this.overlays.getIterator();for(;p.hasNext();){const _=p.getNext().value;if(_.getKey().getCollectionGroup()===r&&_.largestBatchId>o){let S=c.get(_.largestBatchId);S===null&&(S=Pi(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const g=Pi(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,S)=>g.set(_,S)),!(g.size()>=a)););return H.resolve(g)}St(t,r,o){const a=this.overlays.get(o.key);if(a!==null){const p=this.qr.get(a.largestBatchId).delete(o.key);this.qr.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new Fw(r,o));let c=this.qr.get(r);c===void 0&&(c=Mt(),this.qr.set(r,c)),this.qr.set(r,c.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.sessionToken=Kn.EMPTY_BYTE_STRING}getSessionToken(t){return H.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(){this.Qr=new Rt(yt.$r),this.Ur=new Rt(yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const o=new yt(t,r);this.Qr=this.Qr.add(o),this.Ur=this.Ur.add(o)}Wr(t,r){t.forEach(o=>this.addReference(o,r))}removeReference(t,r){this.Gr(new yt(t,r))}zr(t,r){t.forEach(o=>this.removeReference(o,r))}jr(t){const r=new ve(new Xe([])),o=new yt(r,t),a=new yt(r,t+1),c=[];return this.Ur.forEachInRange([o,a],p=>{this.Gr(p),c.push(p.key)}),c}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new ve(new Xe([])),o=new yt(r,t),a=new yt(r,t+1);let c=Mt();return this.Ur.forEachInRange([o,a],p=>{c=c.add(p.key)}),c}containsKey(t){const r=new yt(t,0),o=this.Qr.firstAfterOrEqual(r);return o!==null&&t.isEqual(o.key)}}class yt{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return ve.comparator(t.key,r.key)||Oe(t.Yr,r.Yr)}static Kr(t,r){return Oe(t.Yr,r.Yr)||ve.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Rt(yt.$r)}checkEmpty(t){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,o,a){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new Mw(c,r,o,a);this.mutationQueue.push(p);for(const g of a)this.Zr=this.Zr.add(new yt(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return H.resolve(p)}lookupMutationBatch(t,r){return H.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const o=r+1,a=this.ei(o),c=a<0?0:a;return H.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?zh:this.tr-1)}getAllMutationBatches(t){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const o=new yt(r,0),a=new yt(r,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([o,a],p=>{const g=this.Xr(p.Yr);c.push(g)}),H.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,r){let o=new Rt(Oe);return r.forEach(a=>{const c=new yt(a,0),p=new yt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],g=>{o=o.add(g.Yr)})}),H.resolve(this.ti(o))}getAllMutationBatchesAffectingQuery(t,r){const o=r.path,a=o.length+1;let c=o;ve.isDocumentKey(c)||(c=c.child(""));const p=new yt(new ve(c),0);let g=new Rt(Oe);return this.Zr.forEachWhile(y=>{const _=y.key.path;return!!o.isPrefixOf(_)&&(_.length===a&&(g=g.add(y.Yr)),!0)},p),H.resolve(this.ti(g))}ti(t){const r=[];return t.forEach(o=>{const a=this.Xr(o);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){Ze(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let o=this.Zr;return H.forEach(r.mutations,a=>{const c=new yt(a.key,r.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Zr=o})}ir(t){}containsKey(t,r){const o=new yt(r,0),a=this.Zr.firstAfterOrEqual(o);return H.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,H.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t){this.ri=t,this.docs=function(){return new Xt(ve.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const o=r.key,a=this.docs.get(o),c=a?a.size:0,p=this.ri(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(t,o.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const o=this.docs.get(r);return H.resolve(o?o.document.mutableCopy():xn.newInvalidDocument(r))}getEntries(t,r){let o=tu();return r.forEach(a=>{const c=this.docs.get(a);o=o.insert(a,c?c.document.mutableCopy():xn.newInvalidDocument(a))}),H.resolve(o)}getDocumentsMatchingQuery(t,r,o,a){let c=tu();const p=r.path,g=new ve(p.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:S}}=y.getNext();if(!p.isPrefixOf(_.path))break;_.path.length>p.length+1||K0(q0(S),o)<=0||(a.has(S.key)||Kh(r,S))&&(c=c.insert(S.key,S.mutableCopy()))}return H.resolve(c)}getAllFromCollectionGroup(t,r,o,a){Ee(9500)}ii(t,r){return H.forEach(this.docs,o=>r(o))}newChangeBuffer(t){return new m1(this)}getSize(t){return H.resolve(this.size)}}class m1 extends l1{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?r.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(o)}),H.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(t){this.persistence=t,this.si=new Mi(r=>Qh(r),qh),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.oi=0,this._i=new Yh,this.targetCount=0,this.ai=Us.ur()}forEachTarget(t,r){return this.si.forEach((o,a)=>r(a)),H.resolve()}getLastRemoteSnapshotVersion(t){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return H.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(t,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.oi&&(this.oi=r),H.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new Us(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,H.resolve()}updateTargetData(t,r){return this.Pr(r),H.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,H.resolve()}removeTargets(t,r,o){let a=0;const c=[];return this.si.forEach((p,g)=>{g.sequenceNumber<=r&&o.get(g.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),a++)}),H.waitFor(c).next(()=>a)}getTargetCount(t){return H.resolve(this.targetCount)}getTargetData(t,r){const o=this.si.get(r)||null;return H.resolve(o)}addMatchingKeys(t,r,o){return this._i.Wr(r,o),H.resolve()}removeMatchingKeys(t,r,o){this._i.zr(r,o);const a=this.persistence.referenceDelegate,c=[];return a&&r.forEach(p=>{c.push(a.markPotentiallyOrphaned(t,p))}),H.waitFor(c)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),H.resolve()}getMatchingKeysForTargetId(t,r){const o=this._i.Hr(r);return H.resolve(o)}containsKey(t,r){return H.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(t,r){this.ui={},this.overlays={},this.ci=new Bh(0),this.li=!1,this.li=!0,this.hi=new f1,this.referenceDelegate=t(this),this.Pi=new g1(this),this.indexManager=new e1,this.remoteDocumentCache=function(a){return new p1(a)}(o=>this.referenceDelegate.Ti(o)),this.serializer=new Jw(r),this.Ii=new c1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new h1,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let o=this.ui[t.toKey()];return o||(o=new d1(r,this.referenceDelegate),this.ui[t.toKey()]=o),o}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,o){ue("MemoryPersistence","Starting transaction:",t);const a=new y1(this.ci.next());return this.referenceDelegate.Ei(),o(a).next(c=>this.referenceDelegate.di(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ai(t,r){return H.or(Object.values(this.ui).map(o=>()=>o.containsKey(t,r)))}}class y1 extends X0{constructor(t){super(),this.currentSequenceNumber=t}}class Jh{constructor(t){this.persistence=t,this.Ri=new Yh,this.Vi=null}static mi(t){return new Jh(t)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(t,r,o){return this.Ri.addReference(o,r),this.fi.delete(o.toString()),H.resolve()}removeReference(t,r,o){return this.Ri.removeReference(o,r),this.fi.add(o.toString()),H.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),H.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach(a=>this.fi.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(c=>this.fi.add(c.toString()))}).next(()=>o.removeTargetData(t,r))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.fi,o=>{const a=ve.fromPath(o);return this.gi(t,a).next(c=>{c||r.removeEntry(a,Qe.min())})}).next(()=>(this.Vi=null,r.apply(t)))}updateLimboDocument(t,r){return this.gi(t,r).next(o=>{o?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(t){return 0}gi(t,r){return H.or([()=>H.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class iu{constructor(t,r){this.persistence=t,this.pi=new Mi(o=>Z0(o.path),(o,a)=>o.isEqual(a)),this.garbageCollector=o1(this,r)}static mi(t,r){return new iu(t,r)}Ei(){}di(t){return H.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(o=>r.next(a=>o+a))}wr(t){let r=0;return this.pr(t,o=>{r++}).next(()=>r)}pr(t,r){return H.forEach(this.pi,(o,a)=>this.br(t,o,a).next(c=>c?H.resolve():r(a)))}removeTargets(t,r,o){return this.persistence.getTargetCache().removeTargets(t,r,o)}removeOrphanedDocuments(t,r){let o=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ii(t,p=>this.br(t,p,r).next(g=>{g||(o++,c.removeEntry(p,Qe.min()))})).next(()=>c.apply(t)).next(()=>o)}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),H.resolve()}removeTarget(t,r){const o=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,o)}addReference(t,r,o){return this.pi.set(o,t.currentSequenceNumber),H.resolve()}removeReference(t,r,o){return this.pi.set(o,t.currentSequenceNumber),H.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),H.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Ua(t.data.value)),r}br(t,r,o){return H.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.pi.get(r);return H.resolve(a!==void 0&&a>o)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t,r,o,a){this.targetId=t,this.fromCache=r,this.Es=o,this.ds=a}static As(t,r){let o=Mt(),a=Mt();for(const c of r.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Zh(t,r.fromCache,o,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return yE()?8:Y0(mE())>0?6:4}()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,o,a){const c={result:null};return this.ys(t,r).next(p=>{c.result=p}).next(()=>{if(!c.result)return this.ws(t,r,a,o).next(p=>{c.result=p})}).next(()=>{if(c.result)return;const p=new v1;return this.Ss(t,r,p).next(g=>{if(c.result=g,this.Vs)return this.bs(t,r,p,g.size)})}).next(()=>c.result)}bs(t,r,o,a){return o.documentReadCount<this.fs?(xs()<=Pe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",bo(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),H.resolve()):(xs()<=Pe.DEBUG&&ue("QueryEngine","Query:",bo(r),"scans",o.documentReadCount,"local documents and returns",a,"documents as results."),o.documentReadCount>this.gs*a?(xs()<=Pe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",bo(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xi(r))):H.resolve())}ys(t,r){if(em(r))return H.resolve(null);let o=xi(r);return this.indexManager.getIndexType(t,o).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=_h(r,null,"F"),o=xi(r)),this.indexManager.getDocumentsMatchingTarget(t,o).next(c=>{const p=Mt(...c);return this.ps.getDocuments(t,p).next(g=>this.indexManager.getMinOffset(t,o).next(y=>{const _=this.Ds(r,g);return this.Cs(r,_,p,y.readTime)?this.ys(t,_h(r,null,"F")):this.vs(t,_,r,y)}))})))}ws(t,r,o,a){return em(r)||a.isEqual(Qe.min())?H.resolve(null):this.ps.getDocuments(t,o).next(c=>{const p=this.Ds(r,c);return this.Cs(r,p,o,a)?H.resolve(null):(xs()<=Pe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),bo(r)),this.vs(t,p,r,Q0(a,el)).next(g=>g))})}Ds(t,r){let o=new Rt(ww(t));return r.forEach((a,c)=>{Kh(t,c)&&(o=o.add(c))}),o}Cs(t,r,o,a){if(t.limit===null)return!1;if(o.size!==r.size)return!0;const c=t.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Ss(t,r,o){return xs()<=Pe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",bo(r)),this.ps.getDocumentsMatchingQuery(t,r,Gr.min(),o)}vs(t,r,o,a){return this.ps.getDocumentsMatchingQuery(t,o,a).next(c=>(r.forEach(p=>{c=c.insert(p.key,p)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="LocalStore";class w1{constructor(t,r,o,a){this.persistence=t,this.Fs=r,this.serializer=a,this.Ms=new Xt(Oe),this.xs=new Mi(c=>Qh(c),qh),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(o)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new u1(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ms))}}function T1(i,t,r,o){return new w1(i,t,r,o)}async function zg(i,t){const r=ze(i);return await r.persistence.runTransaction("Handle user change","readonly",o=>{let a;return r.mutationQueue.getAllMutationBatches(o).next(c=>(a=c,r.Bs(t),r.mutationQueue.getAllMutationBatches(o))).next(c=>{const p=[],g=[];let y=Mt();for(const _ of a){p.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}for(const _ of c){g.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}return r.localDocuments.getDocuments(o,y).next(_=>({Ls:_,removedBatchIds:p,addedBatchIds:g}))})})}function S1(i,t){const r=ze(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const a=t.batch.keys(),c=r.Ns.newChangeBuffer({trackRemovals:!0});return function(g,y,_,S){const A=_.batch,k=A.keys();let W=H.resolve();return k.forEach(b=>{W=W.next(()=>S.getEntry(y,b)).next(Q=>{const B=_.docVersions.get(b);Ze(B!==null,48541),Q.version.compareTo(B)<0&&(A.applyToRemoteDocument(Q,_),Q.isValidDocument()&&(Q.setReadTime(_.commitVersion),S.addEntry(Q)))})}),W.next(()=>g.mutationQueue.removeMutationBatch(y,A))}(r,o,t,c).next(()=>c.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(g){let y=Mt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y}(t))).next(()=>r.localDocuments.getDocuments(o,a))})}function I1(i){const t=ze(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Pi.getLastRemoteSnapshotVersion(r))}function C1(i,t){const r=ze(i);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(t===void 0&&(t=zh),r.mutationQueue.getNextMutationBatchAfterBatchId(o,t)))}class um{constructor(){this.activeTargetIds=Rw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class A1{constructor(){this.Mo=new um,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,o){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,o){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new um,Promise.resolve()}handleUserChange(t,r,o){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="ConnectivityMonitor";class hm{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(cm,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ue(cm,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oa=null;function Sh(){return Oa===null?Oa=function(){return 268435456+Math.round(2147483648*Math.random())}():Oa++,"0x"+Oa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh="RestConnection",P1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class k1{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${o}/databases/${a}`,this.Wo=this.databaseId.database===Ya?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Go(t,r,o,a,c){const p=Sh(),g=this.zo(t,r.toUriEncodedString());ue(nh,`Sending RPC '${t}' ${p}:`,g,o);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,a,c);const{host:_}=new URL(g),S=Vh(_);return this.Jo(t,g,y,o,S).then(A=>(ue(nh,`Received RPC '${t}' ${p}: `,A),A),A=>{throw uu(nh,`RPC '${t}' ${p} failed with error: `,A,"url: ",g,"request:",o),A})}Ho(t,r,o,a,c,p){return this.Go(t,r,o,a,c)}jo(t,r,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$s}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,c)=>t[c]=a),o&&o.headers.forEach((a,c)=>t[c]=a)}zo(t,r){const o=P1[t];return`${this.Uo}/v1/${r}:${o}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class N1 extends k1{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,o,a,c){const p=Sh();return new Promise((g,y)=>{const _=new eg;_.setWithCredentials(!0),_.listenOnce(tg.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case ja.NO_ERROR:const A=_.getResponseJson();ue(Ot,`XHR for RPC '${t}' ${p} received:`,JSON.stringify(A)),g(A);break;case ja.TIMEOUT:ue(Ot,`RPC '${t}' ${p} timed out`),y(new fe(Y.DEADLINE_EXCEEDED,"Request time out"));break;case ja.HTTP_ERROR:const k=_.getStatus();if(ue(Ot,`RPC '${t}' ${p} failed with status:`,k,"response text:",_.getResponseText()),k>0){let W=_.getResponseJson();Array.isArray(W)&&(W=W[0]);const b=W?.error;if(b&&b.status&&b.message){const Q=function(K){const oe=K.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(oe)>=0?oe:Y.UNKNOWN}(b.status);y(new fe(Q,b.message))}else y(new fe(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new fe(Y.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:t,streamId:p,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ue(Ot,`RPC '${t}' ${p} completed.`)}});const S=JSON.stringify(a);ue(Ot,`RPC '${t}' ${p} sending request:`,a),_.send(r,"POST",S,o,15)})}T_(t,r,o){const a=Sh(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=ig(),g=rg(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,r,o),y.encodeInitMessageHeaders=!0;const S=c.join("");ue(Ot,`Creating RPC '${t}' stream ${a}: ${S}`,y);const A=p.createWebChannel(S,y);this.I_(A);let k=!1,W=!1;const b=new x1({Yo:B=>{W?ue(Ot,`Not sending because RPC '${t}' stream ${a} is closed:`,B):(k||(ue(Ot,`Opening RPC '${t}' stream ${a} transport.`),A.open(),k=!0),ue(Ot,`RPC '${t}' stream ${a} sending:`,B),A.send(B))},Zo:()=>A.close()}),Q=(B,K,oe)=>{B.listen(K,ie=>{try{oe(ie)}catch(ye){setTimeout(()=>{throw ye},0)}})};return Q(A,$o.EventType.OPEN,()=>{W||(ue(Ot,`RPC '${t}' stream ${a} transport opened.`),b.o_())}),Q(A,$o.EventType.CLOSE,()=>{W||(W=!0,ue(Ot,`RPC '${t}' stream ${a} transport closed`),b.a_(),this.E_(A))}),Q(A,$o.EventType.ERROR,B=>{W||(W=!0,uu(Ot,`RPC '${t}' stream ${a} transport errored. Name:`,B.name,"Message:",B.message),b.a_(new fe(Y.UNAVAILABLE,"The operation could not be completed")))}),Q(A,$o.EventType.MESSAGE,B=>{if(!W){const K=B.data[0];Ze(!!K,16349);const oe=K,ie=oe?.error||oe[0]?.error;if(ie){ue(Ot,`RPC '${t}' stream ${a} received error:`,ie);const ye=ie.status;let xe=function(T){const I=st[T];if(I!==void 0)return Uw(I)}(ye),Ie=ie.message;xe===void 0&&(xe=Y.INTERNAL,Ie="Unknown error status: "+ye+" with message "+ie.message),W=!0,b.a_(new fe(xe,Ie)),A.close()}else ue(Ot,`RPC '${t}' stream ${a} received:`,K),b.u_(K)}}),Q(g,ng.STAT_EVENT,B=>{B.stat===dh.PROXY?ue(Ot,`RPC '${t}' stream ${a} detected buffering proxy`):B.stat===dh.NOPROXY&&ue(Ot,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(r=>r===t)}}function rh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(i){return new Bw(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(t,r,o=1e3,a=1.5,c=6e4){this.Mi=t,this.timerId=r,this.d_=o,this.A_=a,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),o=Math.max(0,Date.now()-this.f_),a=Math.max(0,r-o);a>0&&ue("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="PersistentStream";class D1{constructor(t,r,o,a,c,p,g,y){this.Mi=t,this.S_=o,this.b_=a,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bg(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===Y.RESOURCE_EXHAUSTED?(Di(r.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.D_===r&&this.G_(o,a)},o=>{t(()=>{const a=new fe(Y.UNKNOWN,"Fetching auth token failed: "+o.message);return this.z_(a)})})}G_(t,r){const o=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo(()=>{o(()=>this.listener.Xo())}),this.stream.t_(()=>{o(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{o(()=>this.z_(a))}),this.stream.onMessage(a=>{o(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return ue(fm,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget(()=>this.D_===t?r():(ue(fm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class V1 extends D1{constructor(t,r,o,a,c,p){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,a,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return Ze(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ze(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ze(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=Kw(t.writeResults,t.commitTime),o=Vs(t.commitTime);return this.listener.na(o,r)}ra(){const t={};t.database=Ww(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map(o=>qw(this.serializer,o))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{}class L1 extends O1{constructor(t,r,o,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=o,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.Go(t,wh(r,o),a,c,p)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(Y.UNKNOWN,c.toString())})}Ho(t,r,o,a,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,g])=>this.connection.Ho(t,wh(r,o),a,p,g,c)).catch(p=>{throw p.name==="FirebaseError"?(p.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new fe(Y.UNKNOWN,p.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class M1{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Di(r),this.aa=!1):ue("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl="RemoteStore";class F1{constructor(t,r,o,a,c){this.localStore=t,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(p=>{o.enqueueAndForget(async()=>{fl(this)&&(ue(cl,"Restarting streams for network reachability change."),await async function(y){const _=ze(y);_.Ea.add(4),await hl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await pu(_)}(this))})}),this.Ra=new M1(o,a)}}async function pu(i){if(fl(i))for(const t of i.da)await t(!0)}async function hl(i){for(const t of i.da)await t(!1)}function fl(i){return ze(i).Ea.size===0}async function $g(i,t,r){if(!al(t))throw t;i.Ea.add(1),await hl(i),i.Ra.set("Offline"),r||(r=()=>I1(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ue(cl,"Retrying IndexedDB access"),await r(),i.Ea.delete(1),await pu(i)})}function Hg(i,t){return t().catch(r=>$g(i,r,t))}async function mu(i){const t=ze(i),r=Yr(t);let o=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:zh;for(;j1(t);)try{const a=await C1(t.localStore,o);if(a===null){t.Ta.length===0&&r.L_();break}o=a.batchId,U1(t,a)}catch(a){await $g(t,a)}Wg(t)&&Qg(t)}function j1(i){return fl(i)&&i.Ta.length<10}function U1(i,t){i.Ta.push(t);const r=Yr(i);r.O_()&&r.X_&&r.ea(t.mutations)}function Wg(i){return fl(i)&&!Yr(i).x_()&&i.Ta.length>0}function Qg(i){Yr(i).start()}async function B1(i){Yr(i).ra()}async function z1(i){const t=Yr(i);for(const r of i.Ta)t.ea(r.mutations)}async function b1(i,t,r){const o=i.Ta.shift(),a=Xh.from(o,t,r);await Hg(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await mu(i)}async function $1(i,t){t&&Yr(i).X_&&await async function(o,a){if(function(p){return jw(p)&&p!==Y.ABORTED}(a.code)){const c=o.Ta.shift();Yr(o).B_(),await Hg(o,()=>o.remoteSyncer.rejectFailedWrite(c.batchId,a)),await mu(o)}}(i,t),Wg(i)&&Qg(i)}async function dm(i,t){const r=ze(i);r.asyncQueue.verifyOperationInProgress(),ue(cl,"RemoteStore received new credentials");const o=fl(r);r.Ea.add(3),await hl(r),o&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await pu(r)}async function H1(i,t){const r=ze(i);t?(r.Ea.delete(2),await pu(r)):t||(r.Ea.add(2),await hl(r),r.Ra.set("Unknown"))}function Yr(i){return i.fa||(i.fa=function(r,o,a){const c=ze(r);return c.sa(),new V1(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:B1.bind(null,i),r_:$1.bind(null,i),ta:z1.bind(null,i),na:b1.bind(null,i)}),i.da.push(async t=>{t?(i.fa.B_(),await mu(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(cl,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t,r,o,a,c){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=o,this.op=a,this.removalCallback=c,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,o,a,c){const p=Date.now()+o,g=new ef(t,r,p,a,c);return g.start(o),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qg(i,t){if(Di("AsyncQueue",`${t}: ${i}`),al(i))return new fe(Y.UNAVAILABLE,`${t}: ${i}`);throw i}class W1{constructor(){this.queries=pm(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,o){const a=ze(r),c=a.queries;a.queries=pm(),c.forEach((p,g)=>{for(const y of g.Sa)y.onError(o)})})(this,new fe(Y.ABORTED,"Firestore shutting down"))}}function pm(){return new Mi(i=>Cg(i),Ig)}function Q1(i){i.Ca.forEach(t=>{t.next()})}var mm,gm;(gm=mm||(mm={})).Ma="default",gm.Cache="cache";const q1="SyncEngine";class K1{constructor(t,r,o,a,c,p){this.localStore=t,this.remoteStore=r,this.eventManager=o,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Mi(g=>Cg(g),Ig),this.Iu=new Map,this.Eu=new Set,this.du=new Xt(ve.comparator),this.Au=new Map,this.Ru=new Yh,this.Vu={},this.mu=new Map,this.fu=Us.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function G1(i,t,r){const o=Z1(i);try{const a=await function(p,g){const y=ze(p),_=qe.now(),S=g.reduce((W,b)=>W.add(b.key),Mt());let A,k;return y.persistence.runTransaction("Locally write mutations","readwrite",W=>{let b=tu(),Q=Mt();return y.Ns.getEntries(W,S).next(B=>{b=B,b.forEach((K,oe)=>{oe.isValidDocument()||(Q=Q.add(K))})}).next(()=>y.localDocuments.getOverlayedDocuments(W,b)).next(B=>{A=B;const K=[];for(const oe of g){const ie=Ow(oe,A.get(oe.key).overlayedDocument);ie!=null&&K.push(new Fi(oe.key,ie,yg(ie.value.mapValue),Qn.exists(!0)))}return y.mutationQueue.addMutationBatch(W,_,K,g)}).next(B=>{k=B;const K=B.applyToLocalDocumentSet(A,Q);return y.documentOverlayCache.saveOverlays(W,B.batchId,K)})}).then(()=>({batchId:k.batchId,changes:Rg(A)}))}(o.localStore,t);o.sharedClientState.addPendingMutation(a.batchId),function(p,g,y){let _=p.Vu[p.currentUser.toKey()];_||(_=new Xt(Oe)),_=_.insert(g,y),p.Vu[p.currentUser.toKey()]=_}(o,a.batchId,r),await gu(o,a.changes),await mu(o.remoteStore)}catch(a){const c=qg(a,"Failed to persist write");r.reject(c)}}function ym(i,t,r){const o=ze(i);if(o.isPrimaryClient&&r===0||!o.isPrimaryClient&&r===1){const a=[];o.Tu.forEach((c,p)=>{const g=p.view.va(t);g.snapshot&&a.push(g.snapshot)}),function(p,g){const y=ze(p);y.onlineState=g;let _=!1;y.queries.forEach((S,A)=>{for(const k of A.Sa)k.va(g)&&(_=!0)}),_&&Q1(y)}(o.eventManager,t),a.length&&o.Pu.H_(a),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}async function X1(i,t){const r=ze(i),o=t.batch.batchId;try{const a=await S1(r.localStore,t);Gg(r,o,null),Kg(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),await gu(r,a)}catch(a){await Uh(a)}}async function Y1(i,t,r){const o=ze(i);try{const a=await function(p,g){const y=ze(p);return y.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let S;return y.mutationQueue.lookupMutationBatch(_,g).next(A=>(Ze(A!==null,37113),S=A.keys(),y.mutationQueue.removeMutationBatch(_,A))).next(()=>y.mutationQueue.performConsistencyCheck(_)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(_,S,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S)).next(()=>y.localDocuments.getDocuments(_,S))})}(o.localStore,t);Gg(o,t,r),Kg(o,t),o.sharedClientState.updateMutationState(t,"rejected",r),await gu(o,a)}catch(a){await Uh(a)}}function Kg(i,t){(i.mu.get(t)||[]).forEach(r=>{r.resolve()}),i.mu.delete(t)}function Gg(i,t,r){const o=ze(i);let a=o.Vu[o.currentUser.toKey()];if(a){const c=a.get(t);c&&(r?c.reject(r):c.resolve(),a=a.remove(t)),o.Vu[o.currentUser.toKey()]=a}}async function gu(i,t,r){const o=ze(i),a=[],c=[],p=[];o.Tu.isEmpty()||(o.Tu.forEach((g,y)=>{p.push(o.pu(y,t,r).then(_=>{if((_||r)&&o.isPrimaryClient){const S=_?!_.fromCache:r?.targetChanges.get(y.targetId)?.current;o.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(_){a.push(_);const S=Zh.As(y.targetId,_);c.push(S)}}))}),await Promise.all(p),o.Pu.H_(a),await async function(y,_){const S=ze(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>H.forEach(_,k=>H.forEach(k.Es,W=>S.persistence.referenceDelegate.addReference(A,k.targetId,W)).next(()=>H.forEach(k.ds,W=>S.persistence.referenceDelegate.removeReference(A,k.targetId,W)))))}catch(A){if(!al(A))throw A;ue(E1,"Failed to update sequence numbers: "+A)}for(const A of _){const k=A.targetId;if(!A.fromCache){const W=S.Ms.get(k),b=W.snapshotVersion,Q=W.withLastLimboFreeSnapshotVersion(b);S.Ms=S.Ms.insert(k,Q)}}}(o.localStore,c))}async function J1(i,t){const r=ze(i);if(!r.currentUser.isEqual(t)){ue(q1,"User change. New user:",t.toKey());const o=await zg(r.localStore,t);r.currentUser=t,function(c,p){c.mu.forEach(g=>{g.forEach(y=>{y.reject(new fe(Y.CANCELLED,p))})}),c.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),await gu(r,o.Ls)}}function Z1(i){const t=ze(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=X1.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Y1.bind(null,t),t}class su{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=du(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return T1(this.persistence,new _1,t.initialUser,this.serializer)}Cu(t){return new Bg(Jh.mi,this.serializer)}Du(t){return new A1}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}su.provider={build:()=>new su};class eT extends su{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){Ze(this.persistence.referenceDelegate instanceof iu,46915);const o=this.persistence.referenceDelegate.garbageCollector;return new i1(o,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new Bg(o=>iu.mi(o,r),this.serializer)}}class Ih{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>ym(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=J1.bind(null,this.syncEngine),await H1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new W1}()}createDatastore(t){const r=du(t.databaseInfo.databaseId),o=function(c){return new N1(c)}(t.databaseInfo);return function(c,p,g,y){return new L1(c,p,g,y)}(t.authCredentials,t.appCheckCredentials,o,r)}createRemoteStore(t){return function(o,a,c,p,g){return new F1(o,a,c,p,g)}(this.localStore,this.datastore,t.asyncQueue,r=>ym(this.syncEngine,r,0),function(){return hm.v()?new hm:new R1}())}createSyncEngine(t,r){return function(a,c,p,g,y,_,S){const A=new K1(a,c,p,g,y,_);return S&&(A.gu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await async function(r){const o=ze(r);ue(cl,"RemoteStore shutting down."),o.Ea.add(5),await hl(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ih.provider={build:()=>new Ih};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="FirestoreClient";class tT{constructor(t,r,o,a,c){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=a,this.user=Lt.UNAUTHENTICATED,this.clientId=Fh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(o,async p=>{ue(Jr,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p}),this.appCheckCredentials.start(o,p=>(ue(Jr,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=qg(r,"Failed to shutdown persistence");t.reject(o)}}),t.promise}}async function ih(i,t){i.asyncQueue.verifyOperationInProgress(),ue(Jr,"Initializing OfflineComponentProvider");const r=i.configuration;await t.initialize(r);let o=r.initialUser;i.setCredentialChangeListener(async a=>{o.isEqual(a)||(await zg(t.localStore,a),o=a)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function vm(i,t){i.asyncQueue.verifyOperationInProgress();const r=await nT(i);ue(Jr,"Initializing OnlineComponentProvider"),await t.initialize(r,i.configuration),i.setCredentialChangeListener(o=>dm(t.remoteStore,o)),i.setAppCheckTokenChangeListener((o,a)=>dm(t.remoteStore,a)),i._onlineComponents=t}async function nT(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(Jr,"Using user provided OfflineComponentProvider");try{await ih(i,i._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===Y.FAILED_PRECONDITION||a.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;uu("Error using user provided cache. Falling back to memory cache: "+r),await ih(i,new su)}}else ue(Jr,"Using default OfflineComponentProvider"),await ih(i,new eT(void 0));return i._offlineComponents}async function rT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(Jr,"Using user provided OnlineComponentProvider"),await vm(i,i._uninitializedComponentsProvider._online)):(ue(Jr,"Using default OnlineComponentProvider"),await vm(i,new Ih))),i._onlineComponents}function iT(i){return rT(i).then(t=>t.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="firestore.googleapis.com",Em=!0;class wm{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new fe(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Yg,this.ssl=Em}else this.host=t.host,this.ssl=t.ssl??Em;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Ug;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<n1)throw new fe(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}W0("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xg(t.experimentalLongPollingOptions??{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(o,a){return o.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class yu{constructor(t,r,o,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new fe(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wm(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new L0;switch(o.type){case"firstParty":return new U0(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new fe(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=_m.get(r);o&&(ue("ComponentProvider","Removing Datastore"),_m.delete(r),o.terminate())}(this),Promise.resolve()}}function sT(i,t,r,o={}){i=Ka(i,yu);const a=Vh(t),c=i._getSettings(),p={...c,emulatorOptions:i._getEmulatorOptions()},g=`${t}:${r}`;a&&(cE(`https://${g}`),pE("Firestore",!0)),c.host!==Yg&&c.host!==g&&uu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:a,emulatorOptions:o};if(!Wa(y,p)&&(i._setSettings(y),o.mockUserToken)){let _,S;if(typeof o.mockUserToken=="string")_=o.mockUserToken,S=Lt.MOCK_USER;else{_=hE(o.mockUserToken,i._app?.options.projectId);const A=o.mockUserToken.sub||o.mockUserToken.user_id;if(!A)throw new fe(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Lt(A)}i._authCredentials=new M0(new og(_,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=t}withConverter(t){return new tf(this.firestore,t,this._query)}}class At{constructor(t,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new At(this.firestore,t,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,o){if(ll(r,At._jsonSchema))return new At(t,o||null,new ve(Xe.fromString(r.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:ot("string",At._jsonSchemaVersion),referencePath:ot("string")};class Kr extends tf{constructor(t,r,o){super(t,r,vw(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new At(this.firestore,null,new ve(t))}withConverter(t){return new Kr(this.firestore,t,this._path)}}function oT(i,t,...r){if(i=Yo(i),lg("collection","path",t),i instanceof yu){const o=Xe.fromString(t,...r);return $p(o),new Kr(i,null,o)}{if(!(i instanceof At||i instanceof Kr))throw new fe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Xe.fromString(t,...r));return $p(o),new Kr(i.firestore,null,o)}}function Jg(i,t,...r){if(i=Yo(i),arguments.length===1&&(t=Fh.newId()),lg("doc","path",t),i instanceof yu){const o=Xe.fromString(t,...r);return bp(o),new At(i,null,new ve(o))}{if(!(i instanceof At||i instanceof Kr))throw new fe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Xe.fromString(t,...r));return bp(o),new At(i.firestore,i instanceof Kr?i.converter:null,new ve(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="AsyncQueue";class Sm{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bg(this,"async_queue_retry"),this._c=()=>{const o=rh();o&&ue(Tm,"Visibility state changed to "+o.visibilityState),this.M_.w_()},this.ac=t;const r=rh();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=rh();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const r=new ki;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!al(t))throw t;ue(Tm,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const r=this.ac.then(()=>(this.rc=!0,t().catch(o=>{throw this.nc=o,this.rc=!1,Di("INTERNAL UNHANDLED ERROR: ",Im(o)),o}).then(o=>(this.rc=!1,o))));return this.ac=r,r}enqueueAfterDelay(t,r,o){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const a=ef.createAndSchedule(this,t,r,o,c=>this.hc(c));return this.tc.push(a),a}uc(){this.nc&&Ee(47125,{Pc:Im(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function Im(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class nf extends yu{constructor(t,r,o,a){super(t,r,o,a),this.type="firestore",this._queue=new Sm,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Sm(t),this._firestoreClient=void 0,await t}}}function lT(i,t){const r=typeof i=="object"?i:I0(),o=typeof i=="string"?i:Ya,a=_0(r,"firestore").getImmediate({identifier:o});if(!a._initialized){const c=aE("firestore");c&&sT(a,...c)}return a}function aT(i){if(i._terminated)throw new fe(Y.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||uT(i),i._firestoreClient}function uT(i){const t=i._freezeSettings(),r=function(a,c,p,g){return new rw(a,c,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Xg(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new tT(i._authCredentials,i._appCheckCredentials,i._queue,r,i._componentsProvider&&function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Dn(Kn.fromBase64String(t))}catch(r){throw new fe(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Dn(Kn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ll(t,Dn._jsonSchema))return Dn.fromBase64String(t.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:ot("string",Dn._jsonSchemaVersion),bytes:ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new fe(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new fe(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new fe(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Oe(this._lat,t._lat)||Oe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gr._jsonSchemaVersion}}static fromJSON(t){if(ll(t,gr._jsonSchema))return new gr(t.latitude,t.longitude)}}gr._jsonSchemaVersion="firestore/geoPoint/1.0",gr._jsonSchema={type:ot("string",gr._jsonSchemaVersion),latitude:ot("number"),longitude:ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(o,a){if(o.length!==a.length)return!1;for(let c=0;c<o.length;++c)if(o[c]!==a[c])return!1;return!0}(this._values,t._values)}toJSON(){return{type:yr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ll(t,yr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(r=>typeof r=="number"))return new yr(t.vectorValues);throw new fe(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yr._jsonSchemaVersion="firestore/vectorValue/1.0",yr._jsonSchema={type:ot("string",yr._jsonSchemaVersion),vectorValues:ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=/^__.*__$/;class hT{constructor(t,r,o){this.data=t,this.fieldMask=r,this.fieldTransforms=o}toMutation(t,r){return this.fieldMask!==null?new Fi(t,this.data,this.fieldMask,r,this.fieldTransforms):new ul(t,this.data,r,this.fieldTransforms)}}function ey(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class sf{constructor(t,r,o,a,c,p){this.settings=t,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=a,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new sf({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const r=this.path?.child(t),o=this.Vc({path:r,fc:!1});return o.gc(t),o}yc(t){const r=this.path?.child(t),o=this.Vc({path:r,fc:!1});return o.Rc(),o}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ou(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(ey(this.Ac)&&cT.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class fT{constructor(t,r,o){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=o||du(t)}Cc(t,r,o,a=!1){return new sf({Ac:t,methodName:r,Dc:o,path:Ct.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ty(i){const t=i._freezeSettings(),r=du(i._databaseId);return new fT(i._databaseId,!!t.ignoreUndefinedProperties,r)}function ny(i,t,r,o,a,c={}){const p=i.Cc(c.merge||c.mergeFields?2:0,t,r,a);oy("Data must be an object, but it was:",p,o);const g=iy(o,p);let y,_;if(c.merge)y=new Vn(p.fieldMask),_=p.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const k=dT(t,A,r);if(!p.contains(k))throw new fe(Y.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);mT(S,k)||S.push(k)}y=new Vn(S),_=p.fieldTransforms.filter(A=>y.covers(A.field))}else y=null,_=p.fieldTransforms;return new hT(new Nn(g),y,_)}function ry(i,t){if(sy(i=Yo(i)))return oy("Unsupported field value:",t,i),iy(i,t);if(i instanceof Zg)return function(o,a){if(!ey(a.Ac))throw a.Sc(`${o._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${o._methodName}() is not currently supported inside arrays`);const c=o._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(o,a){const c=[];let p=0;for(const g of o){let y=ry(g,a.wc(p));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),p++}return{arrayValue:{values:c}}}(i,t)}return function(o,a){if((o=Yo(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return Pw(a.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const c=qe.fromDate(o);return{timestampValue:Eh(a.serializer,c)}}if(o instanceof qe){const c=new qe(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Eh(a.serializer,c)}}if(o instanceof gr)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Dn)return{bytesValue:zw(a.serializer,o._byteString)};if(o instanceof At){const c=a.databaseId,p=o.firestore._databaseId;if(!p.isEqual(c))throw a.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Fg(o.firestore._databaseId||a.databaseId,o._key.path)}}if(o instanceof yr)return function(p,g){return{mapValue:{fields:{[mg]:{stringValue:gg},[mh]:{arrayValue:{values:p.toArray().map(_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Gh(g.serializer,_)})}}}}}}(o,a);throw a.Sc(`Unsupported field value: ${jh(o)}`)}(i,t)}function iy(i,t){const r={};return cg(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hs(i,(o,a)=>{const c=ry(a,t.mc(o));c!=null&&(r[o]=c)}),{mapValue:{fields:r}}}function sy(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof qe||i instanceof gr||i instanceof Dn||i instanceof At||i instanceof Zg||i instanceof yr)}function oy(i,t,r){if(!sy(r)||!ag(r)){const o=jh(r);throw o==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+o)}}function dT(i,t,r){if((t=Yo(t))instanceof rf)return t._internalPath;if(typeof t=="string")return ly(i,t);throw ou("Field path arguments must be of type string or ",i,!1,void 0,r)}const pT=new RegExp("[~\\*/\\[\\]]");function ly(i,t,r){if(t.search(pT)>=0)throw ou(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new rf(...t.split("."))._internalPath}catch{throw ou(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function ou(i,t,r,o,a){const c=o&&!o.isEmpty(),p=a!==void 0;let g=`Function ${t}() called with invalid data`;r&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||p)&&(y+=" (found",c&&(y+=` in field ${o}`),p&&(y+=` in document ${a}`),y+=")"),new fe(Y.INVALID_ARGUMENT,g+i+y)}function mT(i,t){return i.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(t,r,o,a,c){this._firestore=t,this._userDataWriter=r,this._key=o,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new gT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(uy("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class gT extends ay{data(){return super.data()}}function uy(i,t){return typeof t=="string"?ly(i,t):t instanceof rf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(i,t,r){let o;return o=i?i.toFirestore(t):t,o}class La{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Os extends ay{constructor(t,r,o,a,c,p){super(t,r,o,a,p),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new ba(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const o=this._document.data.field(uy("DocumentSnapshot.get",t));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=Os._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Os._jsonSchemaVersion="firestore/documentSnapshot/1.0",Os._jsonSchema={type:ot("string",Os._jsonSchemaVersion),bundleSource:ot("string","DocumentSnapshot"),bundleName:ot("string"),bundle:ot("string")};class ba extends Os{data(t={}){return super.data(t)}}class Go{constructor(t,r,o,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new La(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(o=>{t.call(r,new ba(this._firestore,this._userDataWriter,o.key,o,new La(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new fe(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let p=0;return a._snapshot.docChanges.map(g=>{const y=new ba(a._firestore,a._userDataWriter,g.doc.key,g.doc,new La(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:p++}})}{let p=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const y=new ba(a._firestore,a._userDataWriter,g.doc.key,g.doc,new La(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);let _=-1,S=-1;return g.type!==0&&(_=p.indexOf(g.doc.key),p=p.delete(g.doc.key)),g.type!==1&&(p=p.add(g.doc),S=p.indexOf(g.doc.key)),{type:yT(g.type),doc:y,oldIndex:_,newIndex:S}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Go._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Fh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],o=[],a=[];return this.docs.forEach(c=>{c._document!==null&&(r.push(c._document),o.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function yT(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}Go._jsonSchemaVersion="firestore/querySnapshot/1.0",Go._jsonSchema={type:ot("string",Go._jsonSchemaVersion),bundleSource:ot("string","QuerySnapshot"),bundleName:ot("string"),bundle:ot("string")};function vT(i,t,r){i=Ka(i,At);const o=Ka(i.firestore,nf),a=cy(i.converter,t);return hy(o,[ny(ty(o),"setDoc",i._key,a,i.converter!==null,r).toMutation(i._key,Qn.none())])}function _T(i,t){const r=Ka(i.firestore,nf),o=Jg(i),a=cy(i.converter,t);return hy(r,[ny(ty(i.firestore),"addDoc",o._key,a,i.converter!==null,{}).toMutation(o._key,Qn.exists(!1))]).then(()=>o)}function hy(i,t){return function(o,a){const c=new ki;return o.asyncQueue.enqueueAndForget(async()=>G1(await iT(o),a,c)),c.promise}(aT(i),t)}(function(t,r=!0){(function(a){$s=a})(S0),qa(new Jo("firestore",(o,{instanceIdentifier:a,options:c})=>{const p=o.getProvider("app").getImmediate(),g=new nf(new F0(o.getProvider("auth-internal")),new B0(p,o.getProvider("app-check-internal")),function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new fe(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ja(_.options.projectId,S)}(p,a),p);return c={useFetchStreams:r,...c},g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Ds(jp,Up,t),Ds(jp,Up,"esm2020")})();var ET="firebase",wT="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds(ET,wT,"app");const TT={apiKey:"AIzaSyAInviShyIYmFRuifWhgHLBb78hi95uN_Q",authDomain:"f7e-database.firebaseapp.com",projectId:"f7e-database",storageBucket:"f7e-database.firebasestorage.app",messagingSenderId:"642686760461",appId:"1:642686760461:web:2549e76e002e3091340744",measurementId:"G-SVZZGFVLP0"},ST=Ym(TT),Cm=lT(ST),Am={Government:0,Infrastructure:0,Security:0,Commerce:0,Industry:0,Research:0,Background:0};function IT(){const[i,t]=z.useState(""),[r,o]=z.useState("Government"),[a,c]=z.useState(""),[p,g]=z.useState(""),y=async()=>{if(!i)return g("Please enter a name.");try{const S=await _T(oT(Cm,"users"),{name:i,faction:r,kudos:Am});g(`User created with auto-ID: ${S.id}`)}catch(S){console.error(S),g("Error creating user.")}},_=async()=>{if(!i||!a)return g("Enter both name and custom ID.");try{await vT(Jg(Cm,"users",a),{name:i,faction:r,kudos:Am}),g(`User created with custom ID: ${a}`)}catch(S){console.error(S),g("Error creating user.")}};return G.jsxs("div",{style:{maxWidth:"400px",margin:"auto",padding:"1rem"},children:[G.jsx("h2",{children:"Create New User"}),G.jsx("label",{children:"Name:"}),G.jsx("input",{type:"text",value:i,onChange:S=>t(S.target.value),placeholder:"Enter your name"}),G.jsx("label",{children:"Faction:"}),G.jsxs("select",{value:r,onChange:S=>o(S.target.value),children:[G.jsx("option",{value:"Government",children:"Government"}),G.jsx("option",{value:"Infrastructure",children:"Infrastructure"}),G.jsx("option",{value:"Security",children:"Security"}),G.jsx("option",{value:"Commerce",children:"Commerce"}),G.jsx("option",{value:"Industry",children:"Industry"}),G.jsx("option",{value:"Research",children:"Research"}),G.jsx("option",{value:"Background",children:"Background"})]}),G.jsx("label",{children:"Custom ID (optional):"}),G.jsx("input",{type:"text",value:a,onChange:S=>c(S.target.value),placeholder:"Optional custom ID"}),G.jsxs("div",{style:{marginTop:"1rem"},children:[G.jsx("button",{onClick:y,children:"Create User (Auto-ID)"}),G.jsx("button",{onClick:_,style:{marginLeft:"1rem"},children:"Create User (Custom ID)"})]}),p&&G.jsx("p",{style:{marginTop:"1rem"},children:p})]})}function CT(){return G.jsx(U_,{children:G.jsx(X_,{children:G.jsxs(g_,{children:[G.jsx(oh,{path:"/",element:G.jsx(Y_,{})}),G.jsx(oh,{path:"/new-user",element:G.jsx(IT,{})})]})})})}Cv.createRoot(document.getElementById("root")).render(G.jsx(vv.StrictMode,{children:G.jsx(CT,{})}));
